(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function $A(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var bp={exports:{}},Ic={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cx;function XA(){if(Cx)return Ic;Cx=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:c,ref:r!==void 0?r:null,props:o}}return Ic.Fragment=t,Ic.jsx=e,Ic.jsxs=e,Ic}var Ax;function QA(){return Ax||(Ax=1,bp.exports=XA()),bp.exports}var _=QA(),xp={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nx;function KA(){if(Nx)return Ct;Nx=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.iterator;function x(U){return U===null||typeof U!="object"?null:(U=b&&U[b]||U["@@iterator"],typeof U=="function"?U:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,k={};function M(U,it,ct){this.props=U,this.context=it,this.refs=k,this.updater=ct||E}M.prototype.isReactComponent={},M.prototype.setState=function(U,it){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,it,"setState")},M.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function P(){}P.prototype=M.prototype;function G(U,it,ct){this.props=U,this.context=it,this.refs=k,this.updater=ct||E}var K=G.prototype=new P;K.constructor=G,N(K,M.prototype),K.isPureReactComponent=!0;var nt=Array.isArray,Z={H:null,A:null,T:null,S:null,V:null},lt=Object.prototype.hasOwnProperty;function O(U,it,ct,rt,dt,yt){return ct=yt.ref,{$$typeof:n,type:U,key:it,ref:ct!==void 0?ct:null,props:yt}}function C(U,it){return O(U.type,it,void 0,void 0,void 0,U.props)}function R(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function I(U){var it={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ct){return it[ct]})}var L=/\/+/g;function z(U,it){return typeof U=="object"&&U!==null&&U.key!=null?I(""+U.key):it.toString(36)}function D(){}function Tt(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(D,D):(U.status="pending",U.then(function(it){U.status==="pending"&&(U.status="fulfilled",U.value=it)},function(it){U.status==="pending"&&(U.status="rejected",U.reason=it)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function mt(U,it,ct,rt,dt){var yt=typeof U;(yt==="undefined"||yt==="boolean")&&(U=null);var tt=!1;if(U===null)tt=!0;else switch(yt){case"bigint":case"string":case"number":tt=!0;break;case"object":switch(U.$$typeof){case n:case t:tt=!0;break;case y:return tt=U._init,mt(tt(U._payload),it,ct,rt,dt)}}if(tt)return dt=dt(U),tt=rt===""?"."+z(U,0):rt,nt(dt)?(ct="",tt!=null&&(ct=tt.replace(L,"$&/")+"/"),mt(dt,it,ct,"",function(Te){return Te})):dt!=null&&(R(dt)&&(dt=C(dt,ct+(dt.key==null||U&&U.key===dt.key?"":(""+dt.key).replace(L,"$&/")+"/")+tt)),it.push(dt)),1;tt=0;var St=rt===""?".":rt+":";if(nt(U))for(var Et=0;Et<U.length;Et++)rt=U[Et],yt=St+z(rt,Et),tt+=mt(rt,it,ct,yt,dt);else if(Et=x(U),typeof Et=="function")for(U=Et.call(U),Et=0;!(rt=U.next()).done;)rt=rt.value,yt=St+z(rt,Et++),tt+=mt(rt,it,ct,yt,dt);else if(yt==="object"){if(typeof U.then=="function")return mt(Tt(U),it,ct,rt,dt);throw it=String(U),Error("Objects are not valid as a React child (found: "+(it==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":it)+"). If you meant to render a collection of children, use an array instead.")}return tt}function $(U,it,ct){if(U==null)return U;var rt=[],dt=0;return mt(U,rt,"","",function(yt){return it.call(ct,yt,dt++)}),rt}function F(U){if(U._status===-1){var it=U._result;it=it(),it.then(function(ct){(U._status===0||U._status===-1)&&(U._status=1,U._result=ct)},function(ct){(U._status===0||U._status===-1)&&(U._status=2,U._result=ct)}),U._status===-1&&(U._status=0,U._result=it)}if(U._status===1)return U._result.default;throw U._result}var ot=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var it=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(it))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function gt(){}return Ct.Children={map:$,forEach:function(U,it,ct){$(U,function(){it.apply(this,arguments)},ct)},count:function(U){var it=0;return $(U,function(){it++}),it},toArray:function(U){return $(U,function(it){return it})||[]},only:function(U){if(!R(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Ct.Component=M,Ct.Fragment=e,Ct.Profiler=r,Ct.PureComponent=G,Ct.StrictMode=i,Ct.Suspense=d,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(U){return Z.H.useMemoCache(U)}},Ct.cache=function(U){return function(){return U.apply(null,arguments)}},Ct.cloneElement=function(U,it,ct){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var rt=N({},U.props),dt=U.key,yt=void 0;if(it!=null)for(tt in it.ref!==void 0&&(yt=void 0),it.key!==void 0&&(dt=""+it.key),it)!lt.call(it,tt)||tt==="key"||tt==="__self"||tt==="__source"||tt==="ref"&&it.ref===void 0||(rt[tt]=it[tt]);var tt=arguments.length-2;if(tt===1)rt.children=ct;else if(1<tt){for(var St=Array(tt),Et=0;Et<tt;Et++)St[Et]=arguments[Et+2];rt.children=St}return O(U.type,dt,void 0,void 0,yt,rt)},Ct.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:o,_context:U},U},Ct.createElement=function(U,it,ct){var rt,dt={},yt=null;if(it!=null)for(rt in it.key!==void 0&&(yt=""+it.key),it)lt.call(it,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(dt[rt]=it[rt]);var tt=arguments.length-2;if(tt===1)dt.children=ct;else if(1<tt){for(var St=Array(tt),Et=0;Et<tt;Et++)St[Et]=arguments[Et+2];dt.children=St}if(U&&U.defaultProps)for(rt in tt=U.defaultProps,tt)dt[rt]===void 0&&(dt[rt]=tt[rt]);return O(U,yt,void 0,void 0,null,dt)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(U){return{$$typeof:h,render:U}},Ct.isValidElement=R,Ct.lazy=function(U){return{$$typeof:y,_payload:{_status:-1,_result:U},_init:F}},Ct.memo=function(U,it){return{$$typeof:g,type:U,compare:it===void 0?null:it}},Ct.startTransition=function(U){var it=Z.T,ct={};Z.T=ct;try{var rt=U(),dt=Z.S;dt!==null&&dt(ct,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(gt,ot)}catch(yt){ot(yt)}finally{Z.T=it}},Ct.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},Ct.use=function(U){return Z.H.use(U)},Ct.useActionState=function(U,it,ct){return Z.H.useActionState(U,it,ct)},Ct.useCallback=function(U,it){return Z.H.useCallback(U,it)},Ct.useContext=function(U){return Z.H.useContext(U)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(U,it){return Z.H.useDeferredValue(U,it)},Ct.useEffect=function(U,it,ct){var rt=Z.H;if(typeof ct=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return rt.useEffect(U,it)},Ct.useId=function(){return Z.H.useId()},Ct.useImperativeHandle=function(U,it,ct){return Z.H.useImperativeHandle(U,it,ct)},Ct.useInsertionEffect=function(U,it){return Z.H.useInsertionEffect(U,it)},Ct.useLayoutEffect=function(U,it){return Z.H.useLayoutEffect(U,it)},Ct.useMemo=function(U,it){return Z.H.useMemo(U,it)},Ct.useOptimistic=function(U,it){return Z.H.useOptimistic(U,it)},Ct.useReducer=function(U,it,ct){return Z.H.useReducer(U,it,ct)},Ct.useRef=function(U){return Z.H.useRef(U)},Ct.useState=function(U){return Z.H.useState(U)},Ct.useSyncExternalStore=function(U,it,ct){return Z.H.useSyncExternalStore(U,it,ct)},Ct.useTransition=function(){return Z.H.useTransition()},Ct.version="19.1.0",Ct}var Rx;function Ly(){return Rx||(Rx=1,xp.exports=KA()),xp.exports}var B=Ly();const js=$A(B);var wp={exports:{}},jc={},Sp={exports:{}},Ep={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kx;function ZA(){return kx||(kx=1,function(n){function t($,F){var ot=$.length;$.push(F);t:for(;0<ot;){var gt=ot-1>>>1,U=$[gt];if(0<r(U,F))$[gt]=F,$[ot]=U,ot=gt;else break t}}function e($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var F=$[0],ot=$.pop();if(ot!==F){$[0]=ot;t:for(var gt=0,U=$.length,it=U>>>1;gt<it;){var ct=2*(gt+1)-1,rt=$[ct],dt=ct+1,yt=$[dt];if(0>r(rt,ot))dt<U&&0>r(yt,rt)?($[gt]=yt,$[dt]=ot,gt=dt):($[gt]=rt,$[ct]=ot,gt=ct);else if(dt<U&&0>r(yt,ot))$[gt]=yt,$[dt]=ot,gt=dt;else break t}}return F}function r($,F){var ot=$.sortIndex-F.sortIndex;return ot!==0?ot:$.id-F.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var d=[],g=[],y=1,b=null,x=3,E=!1,N=!1,k=!1,M=!1,P=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function nt($){for(var F=e(g);F!==null;){if(F.callback===null)i(g);else if(F.startTime<=$)i(g),F.sortIndex=F.expirationTime,t(d,F);else break;F=e(g)}}function Z($){if(k=!1,nt($),!N)if(e(d)!==null)N=!0,lt||(lt=!0,z());else{var F=e(g);F!==null&&mt(Z,F.startTime-$)}}var lt=!1,O=-1,C=5,R=-1;function I(){return M?!0:!(n.unstable_now()-R<C)}function L(){if(M=!1,lt){var $=n.unstable_now();R=$;var F=!0;try{t:{N=!1,k&&(k=!1,G(O),O=-1),E=!0;var ot=x;try{e:{for(nt($),b=e(d);b!==null&&!(b.expirationTime>$&&I());){var gt=b.callback;if(typeof gt=="function"){b.callback=null,x=b.priorityLevel;var U=gt(b.expirationTime<=$);if($=n.unstable_now(),typeof U=="function"){b.callback=U,nt($),F=!0;break e}b===e(d)&&i(d),nt($)}else i(d);b=e(d)}if(b!==null)F=!0;else{var it=e(g);it!==null&&mt(Z,it.startTime-$),F=!1}}break t}finally{b=null,x=ot,E=!1}F=void 0}}finally{F?z():lt=!1}}}var z;if(typeof K=="function")z=function(){K(L)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Tt=D.port2;D.port1.onmessage=L,z=function(){Tt.postMessage(null)}}else z=function(){P(L,0)};function mt($,F){O=P(function(){$(n.unstable_now())},F)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function($){switch(x){case 1:case 2:case 3:var F=3;break;default:F=x}var ot=x;x=F;try{return $()}finally{x=ot}},n.unstable_requestPaint=function(){M=!0},n.unstable_runWithPriority=function($,F){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ot=x;x=$;try{return F()}finally{x=ot}},n.unstable_scheduleCallback=function($,F,ot){var gt=n.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?gt+ot:gt):ot=gt,$){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=ot+U,$={id:y++,callback:F,priorityLevel:$,startTime:ot,expirationTime:U,sortIndex:-1},ot>gt?($.sortIndex=ot,t(g,$),e(d)===null&&$===e(g)&&(k?(G(O),O=-1):k=!0,mt(Z,ot-gt))):($.sortIndex=U,t(d,$),N||E||(N=!0,lt||(lt=!0,z()))),$},n.unstable_shouldYield=I,n.unstable_wrapCallback=function($){var F=x;return function(){var ot=x;x=F;try{return $.apply(this,arguments)}finally{x=ot}}}}(Ep)),Ep}var Mx;function JA(){return Mx||(Mx=1,Sp.exports=ZA()),Sp.exports}var Tp={exports:{}},dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ox;function tN(){if(Ox)return dn;Ox=1;var n=Ly();function t(d){var g="https://react.dev/errors/"+d;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(d,g,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:b==null?null:""+b,children:d,containerInfo:g,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,g){if(d==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,dn.createPortal=function(d,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return o(d,g,null,y)},dn.flushSync=function(d){var g=c.T,y=i.p;try{if(c.T=null,i.p=2,d)return d()}finally{c.T=g,i.p=y,i.d.f()}},dn.preconnect=function(d,g){typeof d=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(d,g))},dn.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},dn.preinit=function(d,g){if(typeof d=="string"&&g&&typeof g.as=="string"){var y=g.as,b=h(y,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,E=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?i.d.S(d,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:E}):y==="script"&&i.d.X(d,{crossOrigin:b,integrity:x,fetchPriority:E,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},dn.preinitModule=function(d,g){if(typeof d=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=h(g.as,g.crossOrigin);i.d.M(d,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(d)},dn.preload=function(d,g){if(typeof d=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,b=h(y,g.crossOrigin);i.d.L(d,y,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},dn.preloadModule=function(d,g){if(typeof d=="string")if(g){var y=h(g.as,g.crossOrigin);i.d.m(d,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(d)},dn.requestFormReset=function(d){i.d.r(d)},dn.unstable_batchedUpdates=function(d,g){return d(g)},dn.useFormState=function(d,g,y){return c.H.useFormState(d,g,y)},dn.useFormStatus=function(){return c.H.useHostTransitionStatus()},dn.version="19.1.0",dn}var Dx;function eN(){if(Dx)return Tp.exports;Dx=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Tp.exports=tN(),Tp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ix;function nN(){if(Ix)return jc;Ix=1;var n=JA(),t=Ly(),e=eN();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function c(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(o(s)!==s)throw Error(i(188))}function d(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var l=s,u=a;;){var m=l.return;if(m===null)break;var p=m.alternate;if(p===null){if(u=m.return,u!==null){l=u;continue}break}if(m.child===p.child){for(p=m.child;p;){if(p===l)return h(m),s;if(p===u)return h(m),a;p=p.sibling}throw Error(i(188))}if(l.return!==u.return)l=m,u=p;else{for(var S=!1,T=m.child;T;){if(T===l){S=!0,l=m,u=p;break}if(T===u){S=!0,u=m,l=p;break}T=T.sibling}if(!S){for(T=p.child;T;){if(T===l){S=!0,l=p,u=m;break}if(T===u){S=!0,u=p,l=m;break}T=T.sibling}if(!S)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:a}function g(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=g(s),a!==null)return a;s=s.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),G=Symbol.for("react.consumer"),K=Symbol.for("react.context"),nt=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),lt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function z(s){return s===null||typeof s!="object"?null:(s=L&&s[L]||s["@@iterator"],typeof s=="function"?s:null)}var D=Symbol.for("react.client.reference");function Tt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===D?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case N:return"Fragment";case M:return"Profiler";case k:return"StrictMode";case Z:return"Suspense";case lt:return"SuspenseList";case R:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case E:return"Portal";case K:return(s.displayName||"Context")+".Provider";case G:return(s._context.displayName||"Context")+".Consumer";case nt:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case O:return a=s.displayName||null,a!==null?a:Tt(s.type)||"Memo";case C:a=s._payload,s=s._init;try{return Tt(s(a))}catch{}}return null}var mt=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},gt=[],U=-1;function it(s){return{current:s}}function ct(s){0>U||(s.current=gt[U],gt[U]=null,U--)}function rt(s,a){U++,gt[U]=s.current,s.current=a}var dt=it(null),yt=it(null),tt=it(null),St=it(null);function Et(s,a){switch(rt(tt,a),rt(yt,s),rt(dt,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?tx(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=tx(a),s=ex(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ct(dt),rt(dt,s)}function Te(){ct(dt),ct(yt),ct(tt)}function Wt(s){s.memoizedState!==null&&rt(St,s);var a=dt.current,l=ex(a,s.type);a!==l&&(rt(yt,s),rt(dt,l))}function me(s){yt.current===s&&(ct(dt),ct(yt)),St.current===s&&(ct(St),Rc._currentValue=ot)}var Be=Object.prototype.hasOwnProperty,ie=n.unstable_scheduleCallback,$t=n.unstable_cancelCallback,Vr=n.unstable_shouldYield,Ju=n.unstable_requestPaint,Fn=n.unstable_now,bg=n.unstable_getCurrentPriorityLevel,Rl=n.unstable_ImmediatePriority,no=n.unstable_UserBlockingPriority,qr=n.unstable_NormalPriority,xg=n.unstable_LowPriority,io=n.unstable_IdlePriority,kl=n.log,th=n.unstable_setDisableYieldValue,Ce=null,Xt=null;function On(s){if(typeof kl=="function"&&th(s),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(Ce,s)}catch{}}var un=Math.clz32?Math.clz32:Wr,eh=Math.log,wg=Math.LN2;function Wr(s){return s>>>=0,s===0?32:31-(eh(s)/wg|0)|0}var Yr=256,Gr=4194304;function oi(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function so(s,a,l){var u=s.pendingLanes;if(u===0)return 0;var m=0,p=s.suspendedLanes,S=s.pingedLanes;s=s.warmLanes;var T=u&134217727;return T!==0?(u=T&~p,u!==0?m=oi(u):(S&=T,S!==0?m=oi(S):l||(l=T&~s,l!==0&&(m=oi(l))))):(T=u&~p,T!==0?m=oi(T):S!==0?m=oi(S):l||(l=u&~s,l!==0&&(m=oi(l)))),m===0?0:a!==0&&a!==m&&(a&p)===0&&(p=m&-m,l=a&-a,p>=l||p===32&&(l&4194048)!==0)?a:m}function $r(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function Ml(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ol(){var s=Yr;return Yr<<=1,(Yr&4194048)===0&&(Yr=256),s}function nh(){var s=Gr;return Gr<<=1,(Gr&62914560)===0&&(Gr=4194304),s}function Ji(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function ts(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Dl(s,a,l,u,m,p){var S=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var T=s.entanglements,j=s.expirationTimes,Y=s.hiddenUpdates;for(l=S&~l;0<l;){var et=31-un(l),at=1<<et;T[et]=0,j[et]=-1;var X=Y[et];if(X!==null)for(Y[et]=null,et=0;et<X.length;et++){var Q=X[et];Q!==null&&(Q.lane&=-536870913)}l&=~at}u!==0&&es(s,u,0),p!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=p&~(S&~a))}function es(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var u=31-un(a);s.entangledLanes|=a,s.entanglements[u]=s.entanglements[u]|1073741824|l&4194090}function Il(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var u=31-un(l),m=1<<u;m&a|s[u]&a&&(s[u]|=a),l&=~m}}function Xr(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function ro(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Ws(){var s=F.p;return s!==0?s:(s=window.event,s===void 0?32:bx(s.type))}function ih(s,a){var l=F.p;try{return F.p=s,a()}finally{F.p=l}}var pe=Math.random().toString(36).slice(2),He="__reactFiber$"+pe,Ie="__reactProps$"+pe,Vn="__reactContainer$"+pe,jl="__reactEvents$"+pe,Sg="__reactListeners$"+pe,Ys="__reactHandles$"+pe,sh="__reactResources$"+pe,Qr="__reactMarker$"+pe;function Kr(s){delete s[He],delete s[Ie],delete s[jl],delete s[Sg],delete s[Ys]}function Gs(s){var a=s[He];if(a)return a;for(var l=s.parentNode;l;){if(a=l[Vn]||l[He]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=rx(s);s!==null;){if(l=s[He])return l;s=rx(s)}return a}s=l,l=s.parentNode}return null}function Ni(s){if(s=s[He]||s[Vn]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function Ri(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function mn(s){var a=s[sh];return a||(a=s[sh]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function ke(s){s[Qr]=!0}var Ll=new Set,ao={};function li(s,a){ns(s,a),ns(s+"Capture",a)}function ns(s,a){for(ao[s]=a,s=0;s<a.length;s++)Ll.add(a[s])}var rh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ah={},Zr={};function oh(s){return Be.call(Zr,s)?!0:Be.call(ah,s)?!1:rh.test(s)?Zr[s]=!0:(ah[s]=!0,!1)}function $s(s,a,l){if(oh(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function ki(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function nn(s,a,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+u)}}var Jr,lh;function is(s){if(Jr===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Jr=a&&a[1]||"",lh=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Jr+s+lh}var oo=!1;function lo(s,a){if(!s||oo)return"";oo=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var at=function(){throw Error()};if(Object.defineProperty(at.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(at,[])}catch(Q){var X=Q}Reflect.construct(s,[],at)}else{try{at.call()}catch(Q){X=Q}s.call(at.prototype)}}else{try{throw Error()}catch(Q){X=Q}(at=s())&&typeof at.catch=="function"&&at.catch(function(){})}}catch(Q){if(Q&&X&&typeof Q.stack=="string")return[Q.stack,X.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),S=p[0],T=p[1];if(S&&T){var j=S.split(`
`),Y=T.split(`
`);for(m=u=0;u<j.length&&!j[u].includes("DetermineComponentFrameRoot");)u++;for(;m<Y.length&&!Y[m].includes("DetermineComponentFrameRoot");)m++;if(u===j.length||m===Y.length)for(u=j.length-1,m=Y.length-1;1<=u&&0<=m&&j[u]!==Y[m];)m--;for(;1<=u&&0<=m;u--,m--)if(j[u]!==Y[m]){if(u!==1||m!==1)do if(u--,m--,0>m||j[u]!==Y[m]){var et=`
`+j[u].replace(" at new "," at ");return s.displayName&&et.includes("<anonymous>")&&(et=et.replace("<anonymous>",s.displayName)),et}while(1<=u&&0<=m);break}}}finally{oo=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?is(l):""}function Pl(s){switch(s.tag){case 26:case 27:case 5:return is(s.type);case 16:return is("Lazy");case 13:return is("Suspense");case 19:return is("SuspenseList");case 0:case 15:return lo(s.type,!1);case 11:return lo(s.type.render,!1);case 1:return lo(s.type,!0);case 31:return is("Activity");default:return""}}function co(s){try{var a="";do a+=Pl(s),s=s.return;while(s);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function pn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ul(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Eg(s){var a=Ul(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),u=""+s[a];if(!s.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,p=l.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return m.call(this)},set:function(S){u=""+S,p.call(this,S)}}),Object.defineProperty(s,a,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(S){u=""+S},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function uo(s){s._valueTracker||(s._valueTracker=Eg(s))}function zl(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return s&&(u=Ul(s)?s.checked?"true":"false":s.value),s=u,s!==l?(a.setValue(s),!0):!1}function ta(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Tg=/[\n"\\]/g;function je(s){return s.replace(Tg,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Dn(s,a,l,u,m,p,S,T){s.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.type=S:s.removeAttribute("type"),a!=null?S==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+pn(a)):s.value!==""+pn(a)&&(s.value=""+pn(a)):S!=="submit"&&S!=="reset"||s.removeAttribute("value"),a!=null?Xs(s,S,pn(a)):l!=null?Xs(s,S,pn(l)):u!=null&&s.removeAttribute("value"),m==null&&p!=null&&(s.defaultChecked=!!p),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?s.name=""+pn(T):s.removeAttribute("name")}function ea(s,a,l,u,m,p,S,T){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(s.type=p),a!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||a!=null))return;l=l!=null?""+pn(l):"",a=a!=null?""+pn(a):l,T||a===s.value||(s.value=a),s.defaultValue=a}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=T?s.checked:!!u,s.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(s.name=S)}function Xs(s,a,l){a==="number"&&ta(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function ss(s,a,l,u){if(s=s.options,a){a={};for(var m=0;m<l.length;m++)a["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=a.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&u&&(s[l].defaultSelected=!0)}else{for(l=""+pn(l),a=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,u&&(s[m].defaultSelected=!0);return}a!==null||s[m].disabled||(a=s[m])}a!==null&&(a.selected=!0)}}function se(s,a,l){if(a!=null&&(a=""+pn(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+pn(l):""}function na(s,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(i(92));if(mt(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=pn(a),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u)}function qn(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var ia=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ch(s,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":u?s.setProperty(a,l):typeof l!="number"||l===0||ia.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function Bl(s,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var m in a)u=a[m],a.hasOwnProperty(m)&&l[m]!==u&&ch(s,m,u)}else for(var p in a)a.hasOwnProperty(p)&&ch(s,p,a[p])}function Hl(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ag=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ho(s){return Ag.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var rs=null;function Wn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var as=null,os=null;function Fl(s){var a=Ni(s);if(a&&(s=a.stateNode)){var l=s[Ie]||null;t:switch(s=a.stateNode,a.type){case"input":if(Dn(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+je(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==s&&u.form===s.form){var m=u[Ie]||null;if(!m)throw Error(i(90));Dn(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===s.form&&zl(u)}break t;case"textarea":se(s,l.value,l.defaultValue);break t;case"select":a=l.value,a!=null&&ss(s,!!l.multiple,a,!1)}}}var Mi=!1;function uh(s,a,l){if(Mi)return s(a,l);Mi=!0;try{var u=s(a);return u}finally{if(Mi=!1,(as!==null||os!==null)&&(id(),as&&(a=as,s=os,os=as=null,Fl(a),s)))for(a=0;a<s.length;a++)Fl(s[a])}}function sa(s,a){var l=s.stateNode;if(l===null)return null;var u=l[Ie]||null;if(u===null)return null;l=u[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break t;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yn=!1;if(ci)try{var ra={};Object.defineProperty(ra,"passive",{get:function(){Yn=!0}}),window.addEventListener("test",ra,ra),window.removeEventListener("test",ra,ra)}catch{Yn=!1}var Oi=null,Qs=null,ls=null;function Vl(){if(ls)return ls;var s,a=Qs,l=a.length,u,m="value"in Oi?Oi.value:Oi.textContent,p=m.length;for(s=0;s<l&&a[s]===m[s];s++);var S=l-s;for(u=1;u<=S&&a[l-u]===m[p-u];u++);return ls=m.slice(s,1<u?1-u:void 0)}function Di(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Ii(){return!0}function ql(){return!1}function We(s){function a(l,u,m,p,S){this._reactName=l,this._targetInst=m,this.type=u,this.nativeEvent=p,this.target=S,this.currentTarget=null;for(var T in s)s.hasOwnProperty(T)&&(l=s[T],this[T]=l?l(p):p[T]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ii:ql,this.isPropagationStopped=ql,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ii)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ii)},persist:function(){},isPersistent:Ii}),a}var Qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fo=We(Qt),aa=y({},Qt,{view:0,detail:0}),hh=We(aa),go,mo,ji,oa=y({},aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ua,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ji&&(ji&&s.type==="mousemove"?(go=s.screenX-ji.screenX,mo=s.screenY-ji.screenY):mo=go=0,ji=s),go)},movementY:function(s){return"movementY"in s?s.movementY:mo}}),Gn=We(oa),dh=y({},oa,{dataTransfer:0}),Ng=We(dh),la=y({},aa,{relatedTarget:0}),po=We(la),Wl=y({},Qt,{animationName:0,elapsedTime:0,pseudoElement:0}),yo=We(Wl),fh=y({},Qt,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),_o=We(fh),Rg=y({},Qt,{data:0}),Yl=We(Rg),ca={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gl(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=mh[s])?!!a[s]:!1}function ua(){return Gl}var ph=y({},aa,{key:function(s){if(s.key){var a=ca[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Di(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?gh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ua,charCode:function(s){return s.type==="keypress"?Di(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Di(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),vo=We(ph),yh=y({},oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$l=We(yh),cs=y({},aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ua}),_h=We(cs),vh=y({},Qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),bh=We(vh),xh=y({},oa,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),xn=We(xh),wh=y({},Qt,{newState:0,oldState:0}),Sh=We(wh),Ks=[9,13,27,32],f=ci&&"CompositionEvent"in window,v=null;ci&&"documentMode"in document&&(v=document.documentMode);var w=ci&&"TextEvent"in window&&!v,A=ci&&(!f||v&&8<v&&11>=v),q=" ",J=!1;function ht(s,a){switch(s){case"keyup":return Ks.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yt(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ye=!1;function jt(s,a){switch(s){case"compositionend":return Yt(a);case"keypress":return a.which!==32?null:(J=!0,q);case"textInput":return s=a.data,s===q&&J?null:s;default:return null}}function Ye(s,a){if(ye)return s==="compositionend"||!f&&ht(s,a)?(s=Vl(),ls=Qs=Oi=null,ye=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return A&&a.locale!=="ko"?null:a.data;default:return null}}var Ge={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function us(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!Ge[s.type]:a==="textarea"}function wn(s,a,l,u){as?os?os.push(u):os=[u]:as=u,a=cd(a,"onChange"),0<a.length&&(l=new fo("onChange","change",null,l,u),s.push({event:l,listeners:a}))}var Li=null,hs=null;function SC(s){Xb(s,0)}function Eh(s){var a=Ri(s);if(zl(a))return s}function m0(s,a){if(s==="change")return a}var p0=!1;if(ci){var kg;if(ci){var Mg="oninput"in document;if(!Mg){var y0=document.createElement("div");y0.setAttribute("oninput","return;"),Mg=typeof y0.oninput=="function"}kg=Mg}else kg=!1;p0=kg&&(!document.documentMode||9<document.documentMode)}function _0(){Li&&(Li.detachEvent("onpropertychange",v0),hs=Li=null)}function v0(s){if(s.propertyName==="value"&&Eh(hs)){var a=[];wn(a,hs,s,Wn(s)),uh(SC,a)}}function EC(s,a,l){s==="focusin"?(_0(),Li=a,hs=l,Li.attachEvent("onpropertychange",v0)):s==="focusout"&&_0()}function TC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Eh(hs)}function CC(s,a){if(s==="click")return Eh(a)}function AC(s,a){if(s==="input"||s==="change")return Eh(a)}function NC(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var In=typeof Object.is=="function"?Object.is:NC;function Xl(s,a){if(In(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var m=l[u];if(!Be.call(a,m)||!In(s[m],a[m]))return!1}return!0}function b0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function x0(s,a){var l=b0(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=a&&u>=a)return{node:l,offset:a-s};s=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=b0(l)}}function w0(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?w0(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function S0(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=ta(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=ta(s.document)}return a}function Og(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var RC=ci&&"documentMode"in document&&11>=document.documentMode,bo=null,Dg=null,Ql=null,Ig=!1;function E0(s,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ig||bo==null||bo!==ta(u)||(u=bo,"selectionStart"in u&&Og(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ql&&Xl(Ql,u)||(Ql=u,u=cd(Dg,"onSelect"),0<u.length&&(a=new fo("onSelect","select",null,a,l),s.push({event:a,listeners:u}),a.target=bo)))}function ha(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var xo={animationend:ha("Animation","AnimationEnd"),animationiteration:ha("Animation","AnimationIteration"),animationstart:ha("Animation","AnimationStart"),transitionrun:ha("Transition","TransitionRun"),transitionstart:ha("Transition","TransitionStart"),transitioncancel:ha("Transition","TransitionCancel"),transitionend:ha("Transition","TransitionEnd")},jg={},T0={};ci&&(T0=document.createElement("div").style,"AnimationEvent"in window||(delete xo.animationend.animation,delete xo.animationiteration.animation,delete xo.animationstart.animation),"TransitionEvent"in window||delete xo.transitionend.transition);function da(s){if(jg[s])return jg[s];if(!xo[s])return s;var a=xo[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in T0)return jg[s]=a[l];return s}var C0=da("animationend"),A0=da("animationiteration"),N0=da("animationstart"),kC=da("transitionrun"),MC=da("transitionstart"),OC=da("transitioncancel"),R0=da("transitionend"),k0=new Map,Lg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lg.push("scrollEnd");function ui(s,a){k0.set(s,a),li(a,[s])}var M0=new WeakMap;function $n(s,a){if(typeof s=="object"&&s!==null){var l=M0.get(s);return l!==void 0?l:(a={value:s,source:a,stack:co(a)},M0.set(s,a),a)}return{value:s,source:a,stack:co(a)}}var Xn=[],wo=0,Pg=0;function Th(){for(var s=wo,a=Pg=wo=0;a<s;){var l=Xn[a];Xn[a++]=null;var u=Xn[a];Xn[a++]=null;var m=Xn[a];Xn[a++]=null;var p=Xn[a];if(Xn[a++]=null,u!==null&&m!==null){var S=u.pending;S===null?m.next=m:(m.next=S.next,S.next=m),u.pending=m}p!==0&&O0(l,m,p)}}function Ch(s,a,l,u){Xn[wo++]=s,Xn[wo++]=a,Xn[wo++]=l,Xn[wo++]=u,Pg|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function Ug(s,a,l,u){return Ch(s,a,l,u),Ah(s)}function So(s,a){return Ch(s,null,null,a),Ah(s)}function O0(s,a,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var m=!1,p=s.return;p!==null;)p.childLanes|=l,u=p.alternate,u!==null&&(u.childLanes|=l),p.tag===22&&(s=p.stateNode,s===null||s._visibility&1||(m=!0)),s=p,p=p.return;return s.tag===3?(p=s.stateNode,m&&a!==null&&(m=31-un(l),s=p.hiddenUpdates,u=s[m],u===null?s[m]=[a]:u.push(a),a.lane=l|536870912),p):null}function Ah(s){if(50<xc)throw xc=0,qm=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var Eo={};function DC(s,a,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(s,a,l,u){return new DC(s,a,l,u)}function zg(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ds(s,a){var l=s.alternate;return l===null?(l=jn(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function D0(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function Nh(s,a,l,u,m,p){var S=0;if(u=s,typeof s=="function")zg(s)&&(S=1);else if(typeof s=="string")S=jA(s,l,dt.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case R:return s=jn(31,l,a,m),s.elementType=R,s.lanes=p,s;case N:return fa(l.children,m,p,a);case k:S=8,m|=24;break;case M:return s=jn(12,l,a,m|2),s.elementType=M,s.lanes=p,s;case Z:return s=jn(13,l,a,m),s.elementType=Z,s.lanes=p,s;case lt:return s=jn(19,l,a,m),s.elementType=lt,s.lanes=p,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case P:case K:S=10;break t;case G:S=9;break t;case nt:S=11;break t;case O:S=14;break t;case C:S=16,u=null;break t}S=29,l=Error(i(130,s===null?"null":typeof s,"")),u=null}return a=jn(S,l,a,m),a.elementType=s,a.type=u,a.lanes=p,a}function fa(s,a,l,u){return s=jn(7,s,u,a),s.lanes=l,s}function Bg(s,a,l){return s=jn(6,s,null,a),s.lanes=l,s}function Hg(s,a,l){return a=jn(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var To=[],Co=0,Rh=null,kh=0,Qn=[],Kn=0,ga=null,fs=1,gs="";function ma(s,a){To[Co++]=kh,To[Co++]=Rh,Rh=s,kh=a}function I0(s,a,l){Qn[Kn++]=fs,Qn[Kn++]=gs,Qn[Kn++]=ga,ga=s;var u=fs;s=gs;var m=32-un(u)-1;u&=~(1<<m),l+=1;var p=32-un(a)+m;if(30<p){var S=m-m%5;p=(u&(1<<S)-1).toString(32),u>>=S,m-=S,fs=1<<32-un(a)+m|l<<m|u,gs=p+s}else fs=1<<p|l<<m|u,gs=s}function Fg(s){s.return!==null&&(ma(s,1),I0(s,1,0))}function Vg(s){for(;s===Rh;)Rh=To[--Co],To[Co]=null,kh=To[--Co],To[Co]=null;for(;s===ga;)ga=Qn[--Kn],Qn[Kn]=null,gs=Qn[--Kn],Qn[Kn]=null,fs=Qn[--Kn],Qn[Kn]=null}var yn=null,Ae=null,Ft=!1,pa=null,Pi=!1,qg=Error(i(519));function ya(s){var a=Error(i(418,""));throw Jl($n(a,s)),qg}function j0(s){var a=s.stateNode,l=s.type,u=s.memoizedProps;switch(a[He]=s,a[Ie]=u,l){case"dialog":Dt("cancel",a),Dt("close",a);break;case"iframe":case"object":case"embed":Dt("load",a);break;case"video":case"audio":for(l=0;l<Sc.length;l++)Dt(Sc[l],a);break;case"source":Dt("error",a);break;case"img":case"image":case"link":Dt("error",a),Dt("load",a);break;case"details":Dt("toggle",a);break;case"input":Dt("invalid",a),ea(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),uo(a);break;case"select":Dt("invalid",a);break;case"textarea":Dt("invalid",a),na(a,u.value,u.defaultValue,u.children),uo(a)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||Jb(a.textContent,l)?(u.popover!=null&&(Dt("beforetoggle",a),Dt("toggle",a)),u.onScroll!=null&&Dt("scroll",a),u.onScrollEnd!=null&&Dt("scrollend",a),u.onClick!=null&&(a.onclick=ud),a=!0):a=!1,a||ya(s)}function L0(s){for(yn=s.return;yn;)switch(yn.tag){case 5:case 13:Pi=!1;return;case 27:case 3:Pi=!0;return;default:yn=yn.return}}function Kl(s){if(s!==yn)return!1;if(!Ft)return L0(s),Ft=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||ap(s.type,s.memoizedProps)),l=!l),l&&Ae&&ya(s),L0(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));t:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(a===0){Ae=di(s.nextSibling);break t}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;s=s.nextSibling}Ae=null}}else a===27?(a=Ae,fr(s.type)?(s=up,up=null,Ae=s):Ae=a):Ae=yn?di(s.stateNode.nextSibling):null;return!0}function Zl(){Ae=yn=null,Ft=!1}function P0(){var s=pa;return s!==null&&(Tn===null?Tn=s:Tn.push.apply(Tn,s),pa=null),s}function Jl(s){pa===null?pa=[s]:pa.push(s)}var Wg=it(null),_a=null,ms=null;function Zs(s,a,l){rt(Wg,a._currentValue),a._currentValue=l}function ps(s){s._currentValue=Wg.current,ct(Wg)}function Yg(s,a,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),s===l)break;s=s.return}}function Gg(s,a,l,u){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var p=m.dependencies;if(p!==null){var S=m.child;p=p.firstContext;t:for(;p!==null;){var T=p;p=m;for(var j=0;j<a.length;j++)if(T.context===a[j]){p.lanes|=l,T=p.alternate,T!==null&&(T.lanes|=l),Yg(p.return,l,s),u||(S=null);break t}p=T.next}}else if(m.tag===18){if(S=m.return,S===null)throw Error(i(341));S.lanes|=l,p=S.alternate,p!==null&&(p.lanes|=l),Yg(S,l,s),S=null}else S=m.child;if(S!==null)S.return=m;else for(S=m;S!==null;){if(S===s){S=null;break}if(m=S.sibling,m!==null){m.return=S.return,S=m;break}S=S.return}m=S}}function tc(s,a,l,u){s=null;for(var m=a,p=!1;m!==null;){if(!p){if((m.flags&524288)!==0)p=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var S=m.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var T=m.type;In(m.pendingProps.value,S.value)||(s!==null?s.push(T):s=[T])}}else if(m===St.current){if(S=m.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(Rc):s=[Rc])}m=m.return}s!==null&&Gg(a,s,l,u),a.flags|=262144}function Mh(s){for(s=s.firstContext;s!==null;){if(!In(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function va(s){_a=s,ms=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function hn(s){return U0(_a,s)}function Oh(s,a){return _a===null&&va(s),U0(s,a)}function U0(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},ms===null){if(s===null)throw Error(i(308));ms=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else ms=ms.next=a;return l}var IC=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},jC=n.unstable_scheduleCallback,LC=n.unstable_NormalPriority,Fe={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $g(){return{controller:new IC,data:new Map,refCount:0}}function ec(s){s.refCount--,s.refCount===0&&jC(LC,function(){s.controller.abort()})}var nc=null,Xg=0,Ao=0,No=null;function PC(s,a){if(nc===null){var l=nc=[];Xg=0,Ao=Km(),No={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Xg++,a.then(z0,z0),a}function z0(){if(--Xg===0&&nc!==null){No!==null&&(No.status="fulfilled");var s=nc;nc=null,Ao=0,No=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function UC(s,a){var l=[],u={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return s.then(function(){u.status="fulfilled",u.value=a;for(var m=0;m<l.length;m++)(0,l[m])(a)},function(m){for(u.status="rejected",u.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),u}var B0=$.S;$.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&PC(s,a),B0!==null&&B0(s,a)};var ba=it(null);function Qg(){var s=ba.current;return s!==null?s:he.pooledCache}function Dh(s,a){a===null?rt(ba,ba.current):rt(ba,a.pool)}function H0(){var s=Qg();return s===null?null:{parent:Fe._currentValue,pool:s}}var ic=Error(i(460)),F0=Error(i(474)),Ih=Error(i(542)),Kg={then:function(){}};function V0(s){return s=s.status,s==="fulfilled"||s==="rejected"}function jh(){}function q0(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(jh,jh),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Y0(s),s;default:if(typeof a.status=="string")a.then(jh,jh);else{if(s=he,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(u){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=u}},function(u){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Y0(s),s}throw sc=a,ic}}var sc=null;function W0(){if(sc===null)throw Error(i(459));var s=sc;return sc=null,s}function Y0(s){if(s===ic||s===Ih)throw Error(i(483))}var Js=!1;function Zg(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jg(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function tr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function er(s,a,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(Kt&2)!==0){var m=u.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),u.pending=a,a=Ah(s),O0(s,null,l),a}return Ch(s,u,a,l),Ah(s)}function rc(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,Il(s,l)}}function tm(s,a){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var m=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?m=p=S:p=p.next=S,l=l.next}while(l!==null);p===null?m=p=a:p=p.next=a}else m=p=a;l={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var em=!1;function ac(){if(em){var s=No;if(s!==null)throw s}}function oc(s,a,l,u){em=!1;var m=s.updateQueue;Js=!1;var p=m.firstBaseUpdate,S=m.lastBaseUpdate,T=m.shared.pending;if(T!==null){m.shared.pending=null;var j=T,Y=j.next;j.next=null,S===null?p=Y:S.next=Y,S=j;var et=s.alternate;et!==null&&(et=et.updateQueue,T=et.lastBaseUpdate,T!==S&&(T===null?et.firstBaseUpdate=Y:T.next=Y,et.lastBaseUpdate=j))}if(p!==null){var at=m.baseState;S=0,et=Y=j=null,T=p;do{var X=T.lane&-536870913,Q=X!==T.lane;if(Q?(Lt&X)===X:(u&X)===X){X!==0&&X===Ao&&(em=!0),et!==null&&(et=et.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var xt=s,_t=T;X=a;var oe=l;switch(_t.tag){case 1:if(xt=_t.payload,typeof xt=="function"){at=xt.call(oe,at,X);break t}at=xt;break t;case 3:xt.flags=xt.flags&-65537|128;case 0:if(xt=_t.payload,X=typeof xt=="function"?xt.call(oe,at,X):xt,X==null)break t;at=y({},at,X);break t;case 2:Js=!0}}X=T.callback,X!==null&&(s.flags|=64,Q&&(s.flags|=8192),Q=m.callbacks,Q===null?m.callbacks=[X]:Q.push(X))}else Q={lane:X,tag:T.tag,payload:T.payload,callback:T.callback,next:null},et===null?(Y=et=Q,j=at):et=et.next=Q,S|=X;if(T=T.next,T===null){if(T=m.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,m.lastBaseUpdate=Q,m.shared.pending=null}}while(!0);et===null&&(j=at),m.baseState=j,m.firstBaseUpdate=Y,m.lastBaseUpdate=et,p===null&&(m.shared.lanes=0),cr|=S,s.lanes=S,s.memoizedState=at}}function G0(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function $0(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)G0(l[s],a)}var Ro=it(null),Lh=it(0);function X0(s,a){s=Ss,rt(Lh,s),rt(Ro,a),Ss=s|a.baseLanes}function nm(){rt(Lh,Ss),rt(Ro,Ro.current)}function im(){Ss=Lh.current,ct(Ro),ct(Lh)}var nr=0,At=null,re=null,Le=null,Ph=!1,ko=!1,xa=!1,Uh=0,lc=0,Mo=null,zC=0;function Me(){throw Error(i(321))}function sm(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!In(s[l],a[l]))return!1;return!0}function rm(s,a,l,u,m,p){return nr=p,At=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,$.H=s===null||s.memoizedState===null?Ov:Dv,xa=!1,p=l(u,m),xa=!1,ko&&(p=K0(a,l,u,m)),Q0(s),p}function Q0(s){$.H=qh;var a=re!==null&&re.next!==null;if(nr=0,Le=re=At=null,Ph=!1,lc=0,Mo=null,a)throw Error(i(300));s===null||$e||(s=s.dependencies,s!==null&&Mh(s)&&($e=!0))}function K0(s,a,l,u){At=s;var m=0;do{if(ko&&(Mo=null),lc=0,ko=!1,25<=m)throw Error(i(301));if(m+=1,Le=re=null,s.updateQueue!=null){var p=s.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}$.H=YC,p=a(l,u)}while(ko);return p}function BC(){var s=$.H,a=s.useState()[0];return a=typeof a.then=="function"?cc(a):a,s=s.useState()[0],(re!==null?re.memoizedState:null)!==s&&(At.flags|=1024),a}function am(){var s=Uh!==0;return Uh=0,s}function om(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function lm(s){if(Ph){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Ph=!1}nr=0,Le=re=At=null,ko=!1,lc=Uh=0,Mo=null}function Sn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?At.memoizedState=Le=s:Le=Le.next=s,Le}function Pe(){if(re===null){var s=At.alternate;s=s!==null?s.memoizedState:null}else s=re.next;var a=Le===null?At.memoizedState:Le.next;if(a!==null)Le=a,re=s;else{if(s===null)throw At.alternate===null?Error(i(467)):Error(i(310));re=s,s={memoizedState:re.memoizedState,baseState:re.baseState,baseQueue:re.baseQueue,queue:re.queue,next:null},Le===null?At.memoizedState=Le=s:Le=Le.next=s}return Le}function cm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cc(s){var a=lc;return lc+=1,Mo===null&&(Mo=[]),s=q0(Mo,s,a),a=At,(Le===null?a.memoizedState:Le.next)===null&&(a=a.alternate,$.H=a===null||a.memoizedState===null?Ov:Dv),s}function zh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return cc(s);if(s.$$typeof===K)return hn(s)}throw Error(i(438,String(s)))}function um(s){var a=null,l=At.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=At.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=cm(),At.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),u=0;u<s;u++)l[u]=I;return a.index++,l}function ys(s,a){return typeof a=="function"?a(s):a}function Bh(s){var a=Pe();return hm(a,re,s)}function hm(s,a,l){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var m=s.baseQueue,p=u.pending;if(p!==null){if(m!==null){var S=m.next;m.next=p.next,p.next=S}a.baseQueue=m=p,u.pending=null}if(p=s.baseState,m===null)s.memoizedState=p;else{a=m.next;var T=S=null,j=null,Y=a,et=!1;do{var at=Y.lane&-536870913;if(at!==Y.lane?(Lt&at)===at:(nr&at)===at){var X=Y.revertLane;if(X===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),at===Ao&&(et=!0);else if((nr&X)===X){Y=Y.next,X===Ao&&(et=!0);continue}else at={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},j===null?(T=j=at,S=p):j=j.next=at,At.lanes|=X,cr|=X;at=Y.action,xa&&l(p,at),p=Y.hasEagerState?Y.eagerState:l(p,at)}else X={lane:at,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},j===null?(T=j=X,S=p):j=j.next=X,At.lanes|=at,cr|=at;Y=Y.next}while(Y!==null&&Y!==a);if(j===null?S=p:j.next=T,!In(p,s.memoizedState)&&($e=!0,et&&(l=No,l!==null)))throw l;s.memoizedState=p,s.baseState=S,s.baseQueue=j,u.lastRenderedState=p}return m===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function dm(s){var a=Pe(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var u=l.dispatch,m=l.pending,p=a.memoizedState;if(m!==null){l.pending=null;var S=m=m.next;do p=s(p,S.action),S=S.next;while(S!==m);In(p,a.memoizedState)||($e=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),l.lastRenderedState=p}return[p,u]}function Z0(s,a,l){var u=At,m=Pe(),p=Ft;if(p){if(l===void 0)throw Error(i(407));l=l()}else l=a();var S=!In((re||m).memoizedState,l);S&&(m.memoizedState=l,$e=!0),m=m.queue;var T=ev.bind(null,u,m,s);if(uc(2048,8,T,[s]),m.getSnapshot!==a||S||Le!==null&&Le.memoizedState.tag&1){if(u.flags|=2048,Oo(9,Hh(),tv.bind(null,u,m,l,a),null),he===null)throw Error(i(349));p||(nr&124)!==0||J0(u,a,l)}return l}function J0(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=At.updateQueue,a===null?(a=cm(),At.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function tv(s,a,l,u){a.value=l,a.getSnapshot=u,nv(a)&&iv(s)}function ev(s,a,l){return l(function(){nv(a)&&iv(s)})}function nv(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!In(s,l)}catch{return!0}}function iv(s){var a=So(s,2);a!==null&&Bn(a,s,2)}function fm(s){var a=Sn();if(typeof s=="function"){var l=s;if(s=l(),xa){On(!0);try{l()}finally{On(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:s},a}function sv(s,a,l,u){return s.baseState=l,hm(s,re,typeof u=="function"?u:ys)}function HC(s,a,l,u,m){if(Vh(s))throw Error(i(485));if(s=a.action,s!==null){var p={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){p.listeners.push(S)}};$.T!==null?l(!0):p.isTransition=!1,u(p),l=a.pending,l===null?(p.next=a.pending=p,rv(a,p)):(p.next=l.next,a.pending=l.next=p)}}function rv(s,a){var l=a.action,u=a.payload,m=s.state;if(a.isTransition){var p=$.T,S={};$.T=S;try{var T=l(m,u),j=$.S;j!==null&&j(S,T),av(s,a,T)}catch(Y){gm(s,a,Y)}finally{$.T=p}}else try{p=l(m,u),av(s,a,p)}catch(Y){gm(s,a,Y)}}function av(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){ov(s,a,u)},function(u){return gm(s,a,u)}):ov(s,a,l)}function ov(s,a,l){a.status="fulfilled",a.value=l,lv(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,rv(s,l)))}function gm(s,a,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,lv(a),a=a.next;while(a!==u)}s.action=null}function lv(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function cv(s,a){return a}function uv(s,a){if(Ft){var l=he.formState;if(l!==null){t:{var u=At;if(Ft){if(Ae){e:{for(var m=Ae,p=Pi;m.nodeType!==8;){if(!p){m=null;break e}if(m=di(m.nextSibling),m===null){m=null;break e}}p=m.data,m=p==="F!"||p==="F"?m:null}if(m){Ae=di(m.nextSibling),u=m.data==="F!";break t}}ya(u)}u=!1}u&&(a=l[0])}}return l=Sn(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cv,lastRenderedState:a},l.queue=u,l=Rv.bind(null,At,u),u.dispatch=l,u=fm(!1),p=vm.bind(null,At,!1,u.queue),u=Sn(),m={state:a,dispatch:null,action:s,pending:null},u.queue=m,l=HC.bind(null,At,m,p,l),m.dispatch=l,u.memoizedState=s,[a,l,!1]}function hv(s){var a=Pe();return dv(a,re,s)}function dv(s,a,l){if(a=hm(s,a,cv)[0],s=Bh(ys)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=cc(a)}catch(S){throw S===ic?Ih:S}else u=a;a=Pe();var m=a.queue,p=m.dispatch;return l!==a.memoizedState&&(At.flags|=2048,Oo(9,Hh(),FC.bind(null,m,l),null)),[u,p,s]}function FC(s,a){s.action=a}function fv(s){var a=Pe(),l=re;if(l!==null)return dv(a,l,s);Pe(),a=a.memoizedState,l=Pe();var u=l.queue.dispatch;return l.memoizedState=s,[a,u,!1]}function Oo(s,a,l,u){return s={tag:s,create:l,deps:u,inst:a,next:null},a=At.updateQueue,a===null&&(a=cm(),At.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,a.lastEffect=s),s}function Hh(){return{destroy:void 0,resource:void 0}}function gv(){return Pe().memoizedState}function Fh(s,a,l,u){var m=Sn();u=u===void 0?null:u,At.flags|=s,m.memoizedState=Oo(1|a,Hh(),l,u)}function uc(s,a,l,u){var m=Pe();u=u===void 0?null:u;var p=m.memoizedState.inst;re!==null&&u!==null&&sm(u,re.memoizedState.deps)?m.memoizedState=Oo(a,p,l,u):(At.flags|=s,m.memoizedState=Oo(1|a,p,l,u))}function mv(s,a){Fh(8390656,8,s,a)}function pv(s,a){uc(2048,8,s,a)}function yv(s,a){return uc(4,2,s,a)}function _v(s,a){return uc(4,4,s,a)}function vv(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function bv(s,a,l){l=l!=null?l.concat([s]):null,uc(4,4,vv.bind(null,a,s),l)}function mm(){}function xv(s,a){var l=Pe();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&sm(a,u[1])?u[0]:(l.memoizedState=[s,a],s)}function wv(s,a){var l=Pe();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&sm(a,u[1]))return u[0];if(u=s(),xa){On(!0);try{s()}finally{On(!1)}}return l.memoizedState=[u,a],u}function pm(s,a,l){return l===void 0||(nr&1073741824)!==0?s.memoizedState=a:(s.memoizedState=l,s=Cb(),At.lanes|=s,cr|=s,l)}function Sv(s,a,l,u){return In(l,a)?l:Ro.current!==null?(s=pm(s,l,u),In(s,a)||($e=!0),s):(nr&42)===0?($e=!0,s.memoizedState=l):(s=Cb(),At.lanes|=s,cr|=s,a)}function Ev(s,a,l,u,m){var p=F.p;F.p=p!==0&&8>p?p:8;var S=$.T,T={};$.T=T,vm(s,!1,a,l);try{var j=m(),Y=$.S;if(Y!==null&&Y(T,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var et=UC(j,u);hc(s,a,et,zn(s))}else hc(s,a,u,zn(s))}catch(at){hc(s,a,{then:function(){},status:"rejected",reason:at},zn())}finally{F.p=p,$.T=S}}function VC(){}function ym(s,a,l,u){if(s.tag!==5)throw Error(i(476));var m=Tv(s).queue;Ev(s,m,a,ot,l===null?VC:function(){return Cv(s),l(u)})}function Tv(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:ot},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function Cv(s){var a=Tv(s).next.queue;hc(s,a,{},zn())}function _m(){return hn(Rc)}function Av(){return Pe().memoizedState}function Nv(){return Pe().memoizedState}function qC(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=zn();s=tr(l);var u=er(a,s,l);u!==null&&(Bn(u,a,l),rc(u,a,l)),a={cache:$g()},s.payload=a;return}a=a.return}}function WC(s,a,l){var u=zn();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Vh(s)?kv(a,l):(l=Ug(s,a,l,u),l!==null&&(Bn(l,s,u),Mv(l,a,u)))}function Rv(s,a,l){var u=zn();hc(s,a,l,u)}function hc(s,a,l,u){var m={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Vh(s))kv(a,m);else{var p=s.alternate;if(s.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var S=a.lastRenderedState,T=p(S,l);if(m.hasEagerState=!0,m.eagerState=T,In(T,S))return Ch(s,a,m,0),he===null&&Th(),!1}catch{}finally{}if(l=Ug(s,a,m,u),l!==null)return Bn(l,s,u),Mv(l,a,u),!0}return!1}function vm(s,a,l,u){if(u={lane:2,revertLane:Km(),action:u,hasEagerState:!1,eagerState:null,next:null},Vh(s)){if(a)throw Error(i(479))}else a=Ug(s,l,u,2),a!==null&&Bn(a,s,2)}function Vh(s){var a=s.alternate;return s===At||a!==null&&a===At}function kv(s,a){ko=Ph=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function Mv(s,a,l){if((l&4194048)!==0){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,Il(s,l)}}var qh={readContext:hn,use:zh,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useLayoutEffect:Me,useInsertionEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useSyncExternalStore:Me,useId:Me,useHostTransitionStatus:Me,useFormState:Me,useActionState:Me,useOptimistic:Me,useMemoCache:Me,useCacheRefresh:Me},Ov={readContext:hn,use:zh,useCallback:function(s,a){return Sn().memoizedState=[s,a===void 0?null:a],s},useContext:hn,useEffect:mv,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,Fh(4194308,4,vv.bind(null,a,s),l)},useLayoutEffect:function(s,a){return Fh(4194308,4,s,a)},useInsertionEffect:function(s,a){Fh(4,2,s,a)},useMemo:function(s,a){var l=Sn();a=a===void 0?null:a;var u=s();if(xa){On(!0);try{s()}finally{On(!1)}}return l.memoizedState=[u,a],u},useReducer:function(s,a,l){var u=Sn();if(l!==void 0){var m=l(a);if(xa){On(!0);try{l(a)}finally{On(!1)}}}else m=a;return u.memoizedState=u.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},u.queue=s,s=s.dispatch=WC.bind(null,At,s),[u.memoizedState,s]},useRef:function(s){var a=Sn();return s={current:s},a.memoizedState=s},useState:function(s){s=fm(s);var a=s.queue,l=Rv.bind(null,At,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:mm,useDeferredValue:function(s,a){var l=Sn();return pm(l,s,a)},useTransition:function(){var s=fm(!1);return s=Ev.bind(null,At,s.queue,!0,!1),Sn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var u=At,m=Sn();if(Ft){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),he===null)throw Error(i(349));(Lt&124)!==0||J0(u,a,l)}m.memoizedState=l;var p={value:l,getSnapshot:a};return m.queue=p,mv(ev.bind(null,u,p,s),[s]),u.flags|=2048,Oo(9,Hh(),tv.bind(null,u,p,l,a),null),l},useId:function(){var s=Sn(),a=he.identifierPrefix;if(Ft){var l=gs,u=fs;l=(u&~(1<<32-un(u)-1)).toString(32)+l,a="«"+a+"R"+l,l=Uh++,0<l&&(a+="H"+l.toString(32)),a+="»"}else l=zC++,a="«"+a+"r"+l.toString(32)+"»";return s.memoizedState=a},useHostTransitionStatus:_m,useFormState:uv,useActionState:uv,useOptimistic:function(s){var a=Sn();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=vm.bind(null,At,!0,l),l.dispatch=a,[s,a]},useMemoCache:um,useCacheRefresh:function(){return Sn().memoizedState=qC.bind(null,At)}},Dv={readContext:hn,use:zh,useCallback:xv,useContext:hn,useEffect:pv,useImperativeHandle:bv,useInsertionEffect:yv,useLayoutEffect:_v,useMemo:wv,useReducer:Bh,useRef:gv,useState:function(){return Bh(ys)},useDebugValue:mm,useDeferredValue:function(s,a){var l=Pe();return Sv(l,re.memoizedState,s,a)},useTransition:function(){var s=Bh(ys)[0],a=Pe().memoizedState;return[typeof s=="boolean"?s:cc(s),a]},useSyncExternalStore:Z0,useId:Av,useHostTransitionStatus:_m,useFormState:hv,useActionState:hv,useOptimistic:function(s,a){var l=Pe();return sv(l,re,s,a)},useMemoCache:um,useCacheRefresh:Nv},YC={readContext:hn,use:zh,useCallback:xv,useContext:hn,useEffect:pv,useImperativeHandle:bv,useInsertionEffect:yv,useLayoutEffect:_v,useMemo:wv,useReducer:dm,useRef:gv,useState:function(){return dm(ys)},useDebugValue:mm,useDeferredValue:function(s,a){var l=Pe();return re===null?pm(l,s,a):Sv(l,re.memoizedState,s,a)},useTransition:function(){var s=dm(ys)[0],a=Pe().memoizedState;return[typeof s=="boolean"?s:cc(s),a]},useSyncExternalStore:Z0,useId:Av,useHostTransitionStatus:_m,useFormState:fv,useActionState:fv,useOptimistic:function(s,a){var l=Pe();return re!==null?sv(l,re,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:um,useCacheRefresh:Nv},Do=null,dc=0;function Wh(s){var a=dc;return dc+=1,Do===null&&(Do=[]),q0(Do,s,a)}function fc(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function Yh(s,a){throw a.$$typeof===b?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function Iv(s){var a=s._init;return a(s._payload)}function jv(s){function a(V,H){if(s){var W=V.deletions;W===null?(V.deletions=[H],V.flags|=16):W.push(H)}}function l(V,H){if(!s)return null;for(;H!==null;)a(V,H),H=H.sibling;return null}function u(V){for(var H=new Map;V!==null;)V.key!==null?H.set(V.key,V):H.set(V.index,V),V=V.sibling;return H}function m(V,H){return V=ds(V,H),V.index=0,V.sibling=null,V}function p(V,H,W){return V.index=W,s?(W=V.alternate,W!==null?(W=W.index,W<H?(V.flags|=67108866,H):W):(V.flags|=67108866,H)):(V.flags|=1048576,H)}function S(V){return s&&V.alternate===null&&(V.flags|=67108866),V}function T(V,H,W,st){return H===null||H.tag!==6?(H=Bg(W,V.mode,st),H.return=V,H):(H=m(H,W),H.return=V,H)}function j(V,H,W,st){var ft=W.type;return ft===N?et(V,H,W.props.children,st,W.key):H!==null&&(H.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===C&&Iv(ft)===H.type)?(H=m(H,W.props),fc(H,W),H.return=V,H):(H=Nh(W.type,W.key,W.props,null,V.mode,st),fc(H,W),H.return=V,H)}function Y(V,H,W,st){return H===null||H.tag!==4||H.stateNode.containerInfo!==W.containerInfo||H.stateNode.implementation!==W.implementation?(H=Hg(W,V.mode,st),H.return=V,H):(H=m(H,W.children||[]),H.return=V,H)}function et(V,H,W,st,ft){return H===null||H.tag!==7?(H=fa(W,V.mode,st,ft),H.return=V,H):(H=m(H,W),H.return=V,H)}function at(V,H,W){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Bg(""+H,V.mode,W),H.return=V,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case x:return W=Nh(H.type,H.key,H.props,null,V.mode,W),fc(W,H),W.return=V,W;case E:return H=Hg(H,V.mode,W),H.return=V,H;case C:var st=H._init;return H=st(H._payload),at(V,H,W)}if(mt(H)||z(H))return H=fa(H,V.mode,W,null),H.return=V,H;if(typeof H.then=="function")return at(V,Wh(H),W);if(H.$$typeof===K)return at(V,Oh(V,H),W);Yh(V,H)}return null}function X(V,H,W,st){var ft=H!==null?H.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return ft!==null?null:T(V,H,""+W,st);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case x:return W.key===ft?j(V,H,W,st):null;case E:return W.key===ft?Y(V,H,W,st):null;case C:return ft=W._init,W=ft(W._payload),X(V,H,W,st)}if(mt(W)||z(W))return ft!==null?null:et(V,H,W,st,null);if(typeof W.then=="function")return X(V,H,Wh(W),st);if(W.$$typeof===K)return X(V,H,Oh(V,W),st);Yh(V,W)}return null}function Q(V,H,W,st,ft){if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return V=V.get(W)||null,T(H,V,""+st,ft);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case x:return V=V.get(st.key===null?W:st.key)||null,j(H,V,st,ft);case E:return V=V.get(st.key===null?W:st.key)||null,Y(H,V,st,ft);case C:var Nt=st._init;return st=Nt(st._payload),Q(V,H,W,st,ft)}if(mt(st)||z(st))return V=V.get(W)||null,et(H,V,st,ft,null);if(typeof st.then=="function")return Q(V,H,W,Wh(st),ft);if(st.$$typeof===K)return Q(V,H,W,Oh(H,st),ft);Yh(H,st)}return null}function xt(V,H,W,st){for(var ft=null,Nt=null,pt=H,vt=H=0,Qe=null;pt!==null&&vt<W.length;vt++){pt.index>vt?(Qe=pt,pt=null):Qe=pt.sibling;var Ht=X(V,pt,W[vt],st);if(Ht===null){pt===null&&(pt=Qe);break}s&&pt&&Ht.alternate===null&&a(V,pt),H=p(Ht,H,vt),Nt===null?ft=Ht:Nt.sibling=Ht,Nt=Ht,pt=Qe}if(vt===W.length)return l(V,pt),Ft&&ma(V,vt),ft;if(pt===null){for(;vt<W.length;vt++)pt=at(V,W[vt],st),pt!==null&&(H=p(pt,H,vt),Nt===null?ft=pt:Nt.sibling=pt,Nt=pt);return Ft&&ma(V,vt),ft}for(pt=u(pt);vt<W.length;vt++)Qe=Q(pt,V,vt,W[vt],st),Qe!==null&&(s&&Qe.alternate!==null&&pt.delete(Qe.key===null?vt:Qe.key),H=p(Qe,H,vt),Nt===null?ft=Qe:Nt.sibling=Qe,Nt=Qe);return s&&pt.forEach(function(_r){return a(V,_r)}),Ft&&ma(V,vt),ft}function _t(V,H,W,st){if(W==null)throw Error(i(151));for(var ft=null,Nt=null,pt=H,vt=H=0,Qe=null,Ht=W.next();pt!==null&&!Ht.done;vt++,Ht=W.next()){pt.index>vt?(Qe=pt,pt=null):Qe=pt.sibling;var _r=X(V,pt,Ht.value,st);if(_r===null){pt===null&&(pt=Qe);break}s&&pt&&_r.alternate===null&&a(V,pt),H=p(_r,H,vt),Nt===null?ft=_r:Nt.sibling=_r,Nt=_r,pt=Qe}if(Ht.done)return l(V,pt),Ft&&ma(V,vt),ft;if(pt===null){for(;!Ht.done;vt++,Ht=W.next())Ht=at(V,Ht.value,st),Ht!==null&&(H=p(Ht,H,vt),Nt===null?ft=Ht:Nt.sibling=Ht,Nt=Ht);return Ft&&ma(V,vt),ft}for(pt=u(pt);!Ht.done;vt++,Ht=W.next())Ht=Q(pt,V,vt,Ht.value,st),Ht!==null&&(s&&Ht.alternate!==null&&pt.delete(Ht.key===null?vt:Ht.key),H=p(Ht,H,vt),Nt===null?ft=Ht:Nt.sibling=Ht,Nt=Ht);return s&&pt.forEach(function(GA){return a(V,GA)}),Ft&&ma(V,vt),ft}function oe(V,H,W,st){if(typeof W=="object"&&W!==null&&W.type===N&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case x:t:{for(var ft=W.key;H!==null;){if(H.key===ft){if(ft=W.type,ft===N){if(H.tag===7){l(V,H.sibling),st=m(H,W.props.children),st.return=V,V=st;break t}}else if(H.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===C&&Iv(ft)===H.type){l(V,H.sibling),st=m(H,W.props),fc(st,W),st.return=V,V=st;break t}l(V,H);break}else a(V,H);H=H.sibling}W.type===N?(st=fa(W.props.children,V.mode,st,W.key),st.return=V,V=st):(st=Nh(W.type,W.key,W.props,null,V.mode,st),fc(st,W),st.return=V,V=st)}return S(V);case E:t:{for(ft=W.key;H!==null;){if(H.key===ft)if(H.tag===4&&H.stateNode.containerInfo===W.containerInfo&&H.stateNode.implementation===W.implementation){l(V,H.sibling),st=m(H,W.children||[]),st.return=V,V=st;break t}else{l(V,H);break}else a(V,H);H=H.sibling}st=Hg(W,V.mode,st),st.return=V,V=st}return S(V);case C:return ft=W._init,W=ft(W._payload),oe(V,H,W,st)}if(mt(W))return xt(V,H,W,st);if(z(W)){if(ft=z(W),typeof ft!="function")throw Error(i(150));return W=ft.call(W),_t(V,H,W,st)}if(typeof W.then=="function")return oe(V,H,Wh(W),st);if(W.$$typeof===K)return oe(V,H,Oh(V,W),st);Yh(V,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,H!==null&&H.tag===6?(l(V,H.sibling),st=m(H,W),st.return=V,V=st):(l(V,H),st=Bg(W,V.mode,st),st.return=V,V=st),S(V)):l(V,H)}return function(V,H,W,st){try{dc=0;var ft=oe(V,H,W,st);return Do=null,ft}catch(pt){if(pt===ic||pt===Ih)throw pt;var Nt=jn(29,pt,null,V.mode);return Nt.lanes=st,Nt.return=V,Nt}finally{}}}var Io=jv(!0),Lv=jv(!1),Zn=it(null),Ui=null;function ir(s){var a=s.alternate;rt(Ve,Ve.current&1),rt(Zn,s),Ui===null&&(a===null||Ro.current!==null||a.memoizedState!==null)&&(Ui=s)}function Pv(s){if(s.tag===22){if(rt(Ve,Ve.current),rt(Zn,s),Ui===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(Ui=s)}}else sr()}function sr(){rt(Ve,Ve.current),rt(Zn,Zn.current)}function _s(s){ct(Zn),Ui===s&&(Ui=null),ct(Ve)}var Ve=it(0);function Gh(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||cp(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function bm(s,a,l,u){a=s.memoizedState,l=l(u,a),l=l==null?a:y({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var xm={enqueueSetState:function(s,a,l){s=s._reactInternals;var u=zn(),m=tr(u);m.payload=a,l!=null&&(m.callback=l),a=er(s,m,u),a!==null&&(Bn(a,s,u),rc(a,s,u))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var u=zn(),m=tr(u);m.tag=1,m.payload=a,l!=null&&(m.callback=l),a=er(s,m,u),a!==null&&(Bn(a,s,u),rc(a,s,u))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=zn(),u=tr(l);u.tag=2,a!=null&&(u.callback=a),a=er(s,u,l),a!==null&&(Bn(a,s,l),rc(a,s,l))}};function Uv(s,a,l,u,m,p,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,p,S):a.prototype&&a.prototype.isPureReactComponent?!Xl(l,u)||!Xl(m,p):!0}function zv(s,a,l,u){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==s&&xm.enqueueReplaceState(a,a.state,null)}function wa(s,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(s=s.defaultProps){l===a&&(l=y({},l));for(var m in s)l[m]===void 0&&(l[m]=s[m])}return l}var $h=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function Bv(s){$h(s)}function Hv(s){console.error(s)}function Fv(s){$h(s)}function Xh(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function Vv(s,a,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function wm(s,a,l){return l=tr(l),l.tag=3,l.payload={element:null},l.callback=function(){Xh(s,a)},l}function qv(s){return s=tr(s),s.tag=3,s}function Wv(s,a,l,u){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var p=u.value;s.payload=function(){return m(p)},s.callback=function(){Vv(a,l,u)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(s.callback=function(){Vv(a,l,u),typeof m!="function"&&(ur===null?ur=new Set([this]):ur.add(this));var T=u.stack;this.componentDidCatch(u.value,{componentStack:T!==null?T:""})})}function GC(s,a,l,u,m){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&tc(a,l,m,!0),l=Zn.current,l!==null){switch(l.tag){case 13:return Ui===null?Ym():l.alternate===null&&Ne===0&&(Ne=3),l.flags&=-257,l.flags|=65536,l.lanes=m,u===Kg?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),$m(s,u,m)),!1;case 22:return l.flags|=65536,u===Kg?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),$m(s,u,m)),!1}throw Error(i(435,l.tag))}return $m(s,u,m),Ym(),!1}if(Ft)return a=Zn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,u!==qg&&(s=Error(i(422),{cause:u}),Jl($n(s,l)))):(u!==qg&&(a=Error(i(423),{cause:u}),Jl($n(a,l))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,u=$n(u,l),m=wm(s.stateNode,u,m),tm(s,m),Ne!==4&&(Ne=2)),!1;var p=Error(i(520),{cause:u});if(p=$n(p,l),bc===null?bc=[p]:bc.push(p),Ne!==4&&(Ne=2),a===null)return!0;u=$n(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=m&-m,l.lanes|=s,s=wm(l.stateNode,u,s),tm(l,s),!1;case 1:if(a=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ur===null||!ur.has(p))))return l.flags|=65536,m&=-m,l.lanes|=m,m=qv(m),Wv(m,s,l,u),tm(l,m),!1}l=l.return}while(l!==null);return!1}var Yv=Error(i(461)),$e=!1;function sn(s,a,l,u){a.child=s===null?Lv(a,null,l,u):Io(a,s.child,l,u)}function Gv(s,a,l,u,m){l=l.render;var p=a.ref;if("ref"in u){var S={};for(var T in u)T!=="ref"&&(S[T]=u[T])}else S=u;return va(a),u=rm(s,a,l,S,p,m),T=am(),s!==null&&!$e?(om(s,a,m),vs(s,a,m)):(Ft&&T&&Fg(a),a.flags|=1,sn(s,a,u,m),a.child)}function $v(s,a,l,u,m){if(s===null){var p=l.type;return typeof p=="function"&&!zg(p)&&p.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=p,Xv(s,a,p,u,m)):(s=Nh(l.type,null,u,a,a.mode,m),s.ref=a.ref,s.return=a,a.child=s)}if(p=s.child,!km(s,m)){var S=p.memoizedProps;if(l=l.compare,l=l!==null?l:Xl,l(S,u)&&s.ref===a.ref)return vs(s,a,m)}return a.flags|=1,s=ds(p,u),s.ref=a.ref,s.return=a,a.child=s}function Xv(s,a,l,u,m){if(s!==null){var p=s.memoizedProps;if(Xl(p,u)&&s.ref===a.ref)if($e=!1,a.pendingProps=u=p,km(s,m))(s.flags&131072)!==0&&($e=!0);else return a.lanes=s.lanes,vs(s,a,m)}return Sm(s,a,l,u,m)}function Qv(s,a,l){var u=a.pendingProps,m=u.children,p=s!==null?s.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=p!==null?p.baseLanes|l:l,s!==null){for(m=a.child=s.child,p=0;m!==null;)p=p|m.lanes|m.childLanes,m=m.sibling;a.childLanes=p&~u}else a.childLanes=0,a.child=null;return Kv(s,a,u,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Dh(a,p!==null?p.cachePool:null),p!==null?X0(a,p):nm(),Pv(a);else return a.lanes=a.childLanes=536870912,Kv(s,a,p!==null?p.baseLanes|l:l,l)}else p!==null?(Dh(a,p.cachePool),X0(a,p),sr(),a.memoizedState=null):(s!==null&&Dh(a,null),nm(),sr());return sn(s,a,m,l),a.child}function Kv(s,a,l,u){var m=Qg();return m=m===null?null:{parent:Fe._currentValue,pool:m},a.memoizedState={baseLanes:l,cachePool:m},s!==null&&Dh(a,null),nm(),Pv(a),s!==null&&tc(s,a,u,!0),null}function Qh(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function Sm(s,a,l,u,m){return va(a),l=rm(s,a,l,u,void 0,m),u=am(),s!==null&&!$e?(om(s,a,m),vs(s,a,m)):(Ft&&u&&Fg(a),a.flags|=1,sn(s,a,l,m),a.child)}function Zv(s,a,l,u,m,p){return va(a),a.updateQueue=null,l=K0(a,u,l,m),Q0(s),u=am(),s!==null&&!$e?(om(s,a,p),vs(s,a,p)):(Ft&&u&&Fg(a),a.flags|=1,sn(s,a,l,p),a.child)}function Jv(s,a,l,u,m){if(va(a),a.stateNode===null){var p=Eo,S=l.contextType;typeof S=="object"&&S!==null&&(p=hn(S)),p=new l(u,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=xm,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=u,p.state=a.memoizedState,p.refs={},Zg(a),S=l.contextType,p.context=typeof S=="object"&&S!==null?hn(S):Eo,p.state=a.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(bm(a,l,S,u),p.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(S=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),S!==p.state&&xm.enqueueReplaceState(p,p.state,null),oc(a,u,p,m),ac(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(s===null){p=a.stateNode;var T=a.memoizedProps,j=wa(l,T);p.props=j;var Y=p.context,et=l.contextType;S=Eo,typeof et=="object"&&et!==null&&(S=hn(et));var at=l.getDerivedStateFromProps;et=typeof at=="function"||typeof p.getSnapshotBeforeUpdate=="function",T=a.pendingProps!==T,et||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T||Y!==S)&&zv(a,p,u,S),Js=!1;var X=a.memoizedState;p.state=X,oc(a,u,p,m),ac(),Y=a.memoizedState,T||X!==Y||Js?(typeof at=="function"&&(bm(a,l,at,u),Y=a.memoizedState),(j=Js||Uv(a,l,j,u,X,Y,S))?(et||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=Y),p.props=u,p.state=Y,p.context=S,u=j):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{p=a.stateNode,Jg(s,a),S=a.memoizedProps,et=wa(l,S),p.props=et,at=a.pendingProps,X=p.context,Y=l.contextType,j=Eo,typeof Y=="object"&&Y!==null&&(j=hn(Y)),T=l.getDerivedStateFromProps,(Y=typeof T=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S!==at||X!==j)&&zv(a,p,u,j),Js=!1,X=a.memoizedState,p.state=X,oc(a,u,p,m),ac();var Q=a.memoizedState;S!==at||X!==Q||Js||s!==null&&s.dependencies!==null&&Mh(s.dependencies)?(typeof T=="function"&&(bm(a,l,T,u),Q=a.memoizedState),(et=Js||Uv(a,l,et,u,X,Q,j)||s!==null&&s.dependencies!==null&&Mh(s.dependencies))?(Y||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,Q,j),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,Q,j)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||S===s.memoizedProps&&X===s.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===s.memoizedProps&&X===s.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=Q),p.props=u,p.state=Q,p.context=j,u=et):(typeof p.componentDidUpdate!="function"||S===s.memoizedProps&&X===s.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===s.memoizedProps&&X===s.memoizedState||(a.flags|=1024),u=!1)}return p=u,Qh(s,a),u=(a.flags&128)!==0,p||u?(p=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,s!==null&&u?(a.child=Io(a,s.child,null,m),a.child=Io(a,null,l,m)):sn(s,a,l,m),a.memoizedState=p.state,s=a.child):s=vs(s,a,m),s}function tb(s,a,l,u){return Zl(),a.flags|=256,sn(s,a,l,u),a.child}var Em={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tm(s){return{baseLanes:s,cachePool:H0()}}function Cm(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=Jn),s}function eb(s,a,l){var u=a.pendingProps,m=!1,p=(a.flags&128)!==0,S;if((S=p)||(S=s!==null&&s.memoizedState===null?!1:(Ve.current&2)!==0),S&&(m=!0,a.flags&=-129),S=(a.flags&32)!==0,a.flags&=-33,s===null){if(Ft){if(m?ir(a):sr(),Ft){var T=Ae,j;if(j=T){t:{for(j=T,T=Pi;j.nodeType!==8;){if(!T){T=null;break t}if(j=di(j.nextSibling),j===null){T=null;break t}}T=j}T!==null?(a.memoizedState={dehydrated:T,treeContext:ga!==null?{id:fs,overflow:gs}:null,retryLane:536870912,hydrationErrors:null},j=jn(18,null,null,0),j.stateNode=T,j.return=a,a.child=j,yn=a,Ae=null,j=!0):j=!1}j||ya(a)}if(T=a.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return cp(T)?a.lanes=32:a.lanes=536870912,null;_s(a)}return T=u.children,u=u.fallback,m?(sr(),m=a.mode,T=Kh({mode:"hidden",children:T},m),u=fa(u,m,l,null),T.return=a,u.return=a,T.sibling=u,a.child=T,m=a.child,m.memoizedState=Tm(l),m.childLanes=Cm(s,S,l),a.memoizedState=Em,u):(ir(a),Am(a,T))}if(j=s.memoizedState,j!==null&&(T=j.dehydrated,T!==null)){if(p)a.flags&256?(ir(a),a.flags&=-257,a=Nm(s,a,l)):a.memoizedState!==null?(sr(),a.child=s.child,a.flags|=128,a=null):(sr(),m=u.fallback,T=a.mode,u=Kh({mode:"visible",children:u.children},T),m=fa(m,T,l,null),m.flags|=2,u.return=a,m.return=a,u.sibling=m,a.child=u,Io(a,s.child,null,l),u=a.child,u.memoizedState=Tm(l),u.childLanes=Cm(s,S,l),a.memoizedState=Em,a=m);else if(ir(a),cp(T)){if(S=T.nextSibling&&T.nextSibling.dataset,S)var Y=S.dgst;S=Y,u=Error(i(419)),u.stack="",u.digest=S,Jl({value:u,source:null,stack:null}),a=Nm(s,a,l)}else if($e||tc(s,a,l,!1),S=(l&s.childLanes)!==0,$e||S){if(S=he,S!==null&&(u=l&-l,u=(u&42)!==0?1:Xr(u),u=(u&(S.suspendedLanes|l))!==0?0:u,u!==0&&u!==j.retryLane))throw j.retryLane=u,So(s,u),Bn(S,s,u),Yv;T.data==="$?"||Ym(),a=Nm(s,a,l)}else T.data==="$?"?(a.flags|=192,a.child=s.child,a=null):(s=j.treeContext,Ae=di(T.nextSibling),yn=a,Ft=!0,pa=null,Pi=!1,s!==null&&(Qn[Kn++]=fs,Qn[Kn++]=gs,Qn[Kn++]=ga,fs=s.id,gs=s.overflow,ga=a),a=Am(a,u.children),a.flags|=4096);return a}return m?(sr(),m=u.fallback,T=a.mode,j=s.child,Y=j.sibling,u=ds(j,{mode:"hidden",children:u.children}),u.subtreeFlags=j.subtreeFlags&65011712,Y!==null?m=ds(Y,m):(m=fa(m,T,l,null),m.flags|=2),m.return=a,u.return=a,u.sibling=m,a.child=u,u=m,m=a.child,T=s.child.memoizedState,T===null?T=Tm(l):(j=T.cachePool,j!==null?(Y=Fe._currentValue,j=j.parent!==Y?{parent:Y,pool:Y}:j):j=H0(),T={baseLanes:T.baseLanes|l,cachePool:j}),m.memoizedState=T,m.childLanes=Cm(s,S,l),a.memoizedState=Em,u):(ir(a),l=s.child,s=l.sibling,l=ds(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,s!==null&&(S=a.deletions,S===null?(a.deletions=[s],a.flags|=16):S.push(s)),a.child=l,a.memoizedState=null,l)}function Am(s,a){return a=Kh({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function Kh(s,a){return s=jn(22,s,null,a),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Nm(s,a,l){return Io(a,s.child,null,l),s=Am(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function nb(s,a,l){s.lanes|=a;var u=s.alternate;u!==null&&(u.lanes|=a),Yg(s.return,a,l)}function Rm(s,a,l,u,m){var p=s.memoizedState;p===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:m}:(p.isBackwards=a,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=l,p.tailMode=m)}function ib(s,a,l){var u=a.pendingProps,m=u.revealOrder,p=u.tail;if(sn(s,a,u.children,l),u=Ve.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&nb(s,l,a);else if(s.tag===19)nb(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}u&=1}switch(rt(Ve,u),m){case"forwards":for(l=a.child,m=null;l!==null;)s=l.alternate,s!==null&&Gh(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=a.child,a.child=null):(m=l.sibling,l.sibling=null),Rm(a,!1,m,l,p);break;case"backwards":for(l=null,m=a.child,a.child=null;m!==null;){if(s=m.alternate,s!==null&&Gh(s)===null){a.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}Rm(a,!0,l,null,p);break;case"together":Rm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function vs(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),cr|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(tc(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,l=ds(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=ds(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function km(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&Mh(s)))}function $C(s,a,l){switch(a.tag){case 3:Et(a,a.stateNode.containerInfo),Zs(a,Fe,s.memoizedState.cache),Zl();break;case 27:case 5:Wt(a);break;case 4:Et(a,a.stateNode.containerInfo);break;case 10:Zs(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(ir(a),a.flags|=128,null):(l&a.child.childLanes)!==0?eb(s,a,l):(ir(a),s=vs(s,a,l),s!==null?s.sibling:null);ir(a);break;case 19:var m=(s.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(tc(s,a,l,!1),u=(l&a.childLanes)!==0),m){if(u)return ib(s,a,l);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),rt(Ve,Ve.current),u)break;return null;case 22:case 23:return a.lanes=0,Qv(s,a,l);case 24:Zs(a,Fe,s.memoizedState.cache)}return vs(s,a,l)}function sb(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)$e=!0;else{if(!km(s,l)&&(a.flags&128)===0)return $e=!1,$C(s,a,l);$e=(s.flags&131072)!==0}else $e=!1,Ft&&(a.flags&1048576)!==0&&I0(a,kh,a.index);switch(a.lanes=0,a.tag){case 16:t:{s=a.pendingProps;var u=a.elementType,m=u._init;if(u=m(u._payload),a.type=u,typeof u=="function")zg(u)?(s=wa(u,s),a.tag=1,a=Jv(null,a,u,s,l)):(a.tag=0,a=Sm(null,a,u,s,l));else{if(u!=null){if(m=u.$$typeof,m===nt){a.tag=11,a=Gv(null,a,u,s,l);break t}else if(m===O){a.tag=14,a=$v(null,a,u,s,l);break t}}throw a=Tt(u)||u,Error(i(306,a,""))}}return a;case 0:return Sm(s,a,a.type,a.pendingProps,l);case 1:return u=a.type,m=wa(u,a.pendingProps),Jv(s,a,u,m,l);case 3:t:{if(Et(a,a.stateNode.containerInfo),s===null)throw Error(i(387));u=a.pendingProps;var p=a.memoizedState;m=p.element,Jg(s,a),oc(a,u,null,l);var S=a.memoizedState;if(u=S.cache,Zs(a,Fe,u),u!==p.cache&&Gg(a,[Fe],l,!0),ac(),u=S.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:S.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=tb(s,a,u,l);break t}else if(u!==m){m=$n(Error(i(424)),a),Jl(m),a=tb(s,a,u,l);break t}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Ae=di(s.firstChild),yn=a,Ft=!0,pa=null,Pi=!0,l=Lv(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Zl(),u===m){a=vs(s,a,l);break t}sn(s,a,u,l)}a=a.child}return a;case 26:return Qh(s,a),s===null?(l=cx(a.type,null,a.pendingProps,null))?a.memoizedState=l:Ft||(l=a.type,s=a.pendingProps,u=hd(tt.current).createElement(l),u[He]=a,u[Ie]=s,an(u,l,s),ke(u),a.stateNode=u):a.memoizedState=cx(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Wt(a),s===null&&Ft&&(u=a.stateNode=ax(a.type,a.pendingProps,tt.current),yn=a,Pi=!0,m=Ae,fr(a.type)?(up=m,Ae=di(u.firstChild)):Ae=m),sn(s,a,a.pendingProps.children,l),Qh(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Ft&&((m=u=Ae)&&(u=wA(u,a.type,a.pendingProps,Pi),u!==null?(a.stateNode=u,yn=a,Ae=di(u.firstChild),Pi=!1,m=!0):m=!1),m||ya(a)),Wt(a),m=a.type,p=a.pendingProps,S=s!==null?s.memoizedProps:null,u=p.children,ap(m,p)?u=null:S!==null&&ap(m,S)&&(a.flags|=32),a.memoizedState!==null&&(m=rm(s,a,BC,null,null,l),Rc._currentValue=m),Qh(s,a),sn(s,a,u,l),a.child;case 6:return s===null&&Ft&&((s=l=Ae)&&(l=SA(l,a.pendingProps,Pi),l!==null?(a.stateNode=l,yn=a,Ae=null,s=!0):s=!1),s||ya(a)),null;case 13:return eb(s,a,l);case 4:return Et(a,a.stateNode.containerInfo),u=a.pendingProps,s===null?a.child=Io(a,null,u,l):sn(s,a,u,l),a.child;case 11:return Gv(s,a,a.type,a.pendingProps,l);case 7:return sn(s,a,a.pendingProps,l),a.child;case 8:return sn(s,a,a.pendingProps.children,l),a.child;case 12:return sn(s,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,Zs(a,a.type,u.value),sn(s,a,u.children,l),a.child;case 9:return m=a.type._context,u=a.pendingProps.children,va(a),m=hn(m),u=u(m),a.flags|=1,sn(s,a,u,l),a.child;case 14:return $v(s,a,a.type,a.pendingProps,l);case 15:return Xv(s,a,a.type,a.pendingProps,l);case 19:return ib(s,a,l);case 31:return u=a.pendingProps,l=a.mode,u={mode:u.mode,children:u.children},s===null?(l=Kh(u,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=ds(s.child,u),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return Qv(s,a,l);case 24:return va(a),u=hn(Fe),s===null?(m=Qg(),m===null&&(m=he,p=$g(),m.pooledCache=p,p.refCount++,p!==null&&(m.pooledCacheLanes|=l),m=p),a.memoizedState={parent:u,cache:m},Zg(a),Zs(a,Fe,m)):((s.lanes&l)!==0&&(Jg(s,a),oc(a,null,null,l),ac()),m=s.memoizedState,p=a.memoizedState,m.parent!==u?(m={parent:u,cache:u},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),Zs(a,Fe,u)):(u=p.cache,Zs(a,Fe,u),u!==m.cache&&Gg(a,[Fe],l,!0))),sn(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function bs(s){s.flags|=4}function rb(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!gx(a)){if(a=Zn.current,a!==null&&((Lt&4194048)===Lt?Ui!==null:(Lt&62914560)!==Lt&&(Lt&536870912)===0||a!==Ui))throw sc=Kg,F0;s.flags|=8192}}function Zh(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?nh():536870912,s.lanes|=a,Uo|=a)}function gc(s,a){if(!Ft)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function be(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(a)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=u,s.childLanes=l,a}function XC(s,a,l){var u=a.pendingProps;switch(Vg(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return be(a),null;case 1:return be(a),null;case 3:return l=a.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),ps(Fe),Te(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Kl(a)?bs(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,P0())),be(a),null;case 26:return l=a.memoizedState,s===null?(bs(a),l!==null?(be(a),rb(a,l)):(be(a),a.flags&=-16777217)):l?l!==s.memoizedState?(bs(a),be(a),rb(a,l)):(be(a),a.flags&=-16777217):(s.memoizedProps!==u&&bs(a),be(a),a.flags&=-16777217),null;case 27:me(a),l=tt.current;var m=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==u&&bs(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return be(a),null}s=dt.current,Kl(a)?j0(a):(s=ax(m,u,l),a.stateNode=s,bs(a))}return be(a),null;case 5:if(me(a),l=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&bs(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return be(a),null}if(s=dt.current,Kl(a))j0(a);else{switch(m=hd(tt.current),s){case 1:s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=m.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof u.is=="string"?m.createElement("select",{is:u.is}):m.createElement("select"),u.multiple?s.multiple=!0:u.size&&(s.size=u.size);break;default:s=typeof u.is=="string"?m.createElement(l,{is:u.is}):m.createElement(l)}}s[He]=a,s[Ie]=u;t:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)s.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break t;for(;m.sibling===null;){if(m.return===null||m.return===a)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=s;t:switch(an(s,l,u),l){case"button":case"input":case"select":case"textarea":s=!!u.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&bs(a)}}return be(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==u&&bs(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(s=tt.current,Kl(a)){if(s=a.stateNode,l=a.memoizedProps,u=null,m=yn,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}s[He]=a,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||Jb(s.nodeValue,l)),s||ya(a)}else s=hd(s).createTextNode(u),s[He]=a,a.stateNode=s}return be(a),null;case 13:if(u=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=Kl(a),u!==null&&u.dehydrated!==null){if(s===null){if(!m)throw Error(i(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[He]=a}else Zl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;be(a),m=!1}else m=P0(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(_s(a),a):(_s(a),null)}if(_s(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=u!==null,s=s!==null&&s.memoizedState!==null,l){u=a.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==m&&(u.flags|=2048)}return l!==s&&l&&(a.child.flags|=8192),Zh(a,a.updateQueue),be(a),null;case 4:return Te(),s===null&&ep(a.stateNode.containerInfo),be(a),null;case 10:return ps(a.type),be(a),null;case 19:if(ct(Ve),m=a.memoizedState,m===null)return be(a),null;if(u=(a.flags&128)!==0,p=m.rendering,p===null)if(u)gc(m,!1);else{if(Ne!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(p=Gh(s),p!==null){for(a.flags|=128,gc(m,!1),s=p.updateQueue,a.updateQueue=s,Zh(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)D0(l,s),l=l.sibling;return rt(Ve,Ve.current&1|2),a.child}s=s.sibling}m.tail!==null&&Fn()>ed&&(a.flags|=128,u=!0,gc(m,!1),a.lanes=4194304)}else{if(!u)if(s=Gh(p),s!==null){if(a.flags|=128,u=!0,s=s.updateQueue,a.updateQueue=s,Zh(a,s),gc(m,!0),m.tail===null&&m.tailMode==="hidden"&&!p.alternate&&!Ft)return be(a),null}else 2*Fn()-m.renderingStartTime>ed&&l!==536870912&&(a.flags|=128,u=!0,gc(m,!1),a.lanes=4194304);m.isBackwards?(p.sibling=a.child,a.child=p):(s=m.last,s!==null?s.sibling=p:a.child=p,m.last=p)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=Fn(),a.sibling=null,s=Ve.current,rt(Ve,u?s&1|2:s&1),a):(be(a),null);case 22:case 23:return _s(a),im(),u=a.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(be(a),a.subtreeFlags&6&&(a.flags|=8192)):be(a),l=a.updateQueue,l!==null&&Zh(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),s!==null&&ct(ba),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),ps(Fe),be(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function QC(s,a){switch(Vg(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return ps(Fe),Te(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return me(a),null;case 13:if(_s(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Zl()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return ct(Ve),null;case 4:return Te(),null;case 10:return ps(a.type),null;case 22:case 23:return _s(a),im(),s!==null&&ct(ba),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return ps(Fe),null;case 25:return null;default:return null}}function ab(s,a){switch(Vg(a),a.tag){case 3:ps(Fe),Te();break;case 26:case 27:case 5:me(a);break;case 4:Te();break;case 13:_s(a);break;case 19:ct(Ve);break;case 10:ps(a.type);break;case 22:case 23:_s(a),im(),s!==null&&ct(ba);break;case 24:ps(Fe)}}function mc(s,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var m=u.next;l=m;do{if((l.tag&s)===s){u=void 0;var p=l.create,S=l.inst;u=p(),S.destroy=u}l=l.next}while(l!==m)}}catch(T){le(a,a.return,T)}}function rr(s,a,l){try{var u=a.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var p=m.next;u=p;do{if((u.tag&s)===s){var S=u.inst,T=S.destroy;if(T!==void 0){S.destroy=void 0,m=a;var j=l,Y=T;try{Y()}catch(et){le(m,j,et)}}}u=u.next}while(u!==p)}}catch(et){le(a,a.return,et)}}function ob(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{$0(a,l)}catch(u){le(s,s.return,u)}}}function lb(s,a,l){l.props=wa(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){le(s,a,u)}}function pc(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(m){le(s,a,m)}}function zi(s,a){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(m){le(s,a,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){le(s,a,m)}else l.current=null}function cb(s){var a=s.type,l=s.memoizedProps,u=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(m){le(s,s.return,m)}}function Mm(s,a,l){try{var u=s.stateNode;yA(u,s.type,l,a),u[Ie]=a}catch(m){le(s,s.return,m)}}function ub(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&fr(s.type)||s.tag===4}function Om(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||ub(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&fr(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Dm(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=ud));else if(u!==4&&(u===27&&fr(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for(Dm(s,a,l),s=s.sibling;s!==null;)Dm(s,a,l),s=s.sibling}function Jh(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(u!==4&&(u===27&&fr(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Jh(s,a,l),s=s.sibling;s!==null;)Jh(s,a,l),s=s.sibling}function hb(s){var a=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);an(a,u,l),a[He]=s,a[Ie]=l}catch(p){le(s,s.return,p)}}var xs=!1,Oe=!1,Im=!1,fb=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function KC(s,a){if(s=s.containerInfo,sp=yd,s=S0(s),Og(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var m=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break t}var S=0,T=-1,j=-1,Y=0,et=0,at=s,X=null;e:for(;;){for(var Q;at!==l||m!==0&&at.nodeType!==3||(T=S+m),at!==p||u!==0&&at.nodeType!==3||(j=S+u),at.nodeType===3&&(S+=at.nodeValue.length),(Q=at.firstChild)!==null;)X=at,at=Q;for(;;){if(at===s)break e;if(X===l&&++Y===m&&(T=S),X===p&&++et===u&&(j=S),(Q=at.nextSibling)!==null)break;at=X,X=at.parentNode}at=Q}l=T===-1||j===-1?null:{start:T,end:j}}else l=null}l=l||{start:0,end:0}}else l=null;for(rp={focusedElem:s,selectionRange:l},yd=!1,Xe=a;Xe!==null;)if(a=Xe,s=a.child,(a.subtreeFlags&1024)!==0&&s!==null)s.return=a,Xe=s;else for(;Xe!==null;){switch(a=Xe,p=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&p!==null){s=void 0,l=a,m=p.memoizedProps,p=p.memoizedState,u=l.stateNode;try{var xt=wa(l.type,m,l.elementType===l.type);s=u.getSnapshotBeforeUpdate(xt,p),u.__reactInternalSnapshotBeforeUpdate=s}catch(_t){le(l,l.return,_t)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)lp(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":lp(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,Xe=s;break}Xe=a.return}}function gb(s,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:ar(s,l),u&4&&mc(5,l);break;case 1:if(ar(s,l),u&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(S){le(l,l.return,S)}else{var m=wa(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(m,a,s.__reactInternalSnapshotBeforeUpdate)}catch(S){le(l,l.return,S)}}u&64&&ob(l),u&512&&pc(l,l.return);break;case 3:if(ar(s,l),u&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{$0(s,a)}catch(S){le(l,l.return,S)}}break;case 27:a===null&&u&4&&hb(l);case 26:case 5:ar(s,l),a===null&&u&4&&cb(l),u&512&&pc(l,l.return);break;case 12:ar(s,l);break;case 13:ar(s,l),u&4&&yb(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=aA.bind(null,l),EA(s,l))));break;case 22:if(u=l.memoizedState!==null||xs,!u){a=a!==null&&a.memoizedState!==null||Oe,m=xs;var p=Oe;xs=u,(Oe=a)&&!p?or(s,l,(l.subtreeFlags&8772)!==0):ar(s,l),xs=m,Oe=p}break;case 30:break;default:ar(s,l)}}function mb(s){var a=s.alternate;a!==null&&(s.alternate=null,mb(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Kr(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var _e=null,En=!1;function ws(s,a,l){for(l=l.child;l!==null;)pb(s,a,l),l=l.sibling}function pb(s,a,l){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(Ce,l)}catch{}switch(l.tag){case 26:Oe||zi(l,a),ws(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Oe||zi(l,a);var u=_e,m=En;fr(l.type)&&(_e=l.stateNode,En=!1),ws(s,a,l),Tc(l.stateNode),_e=u,En=m;break;case 5:Oe||zi(l,a);case 6:if(u=_e,m=En,_e=null,ws(s,a,l),_e=u,En=m,_e!==null)if(En)try{(_e.nodeType===9?_e.body:_e.nodeName==="HTML"?_e.ownerDocument.body:_e).removeChild(l.stateNode)}catch(p){le(l,a,p)}else try{_e.removeChild(l.stateNode)}catch(p){le(l,a,p)}break;case 18:_e!==null&&(En?(s=_e,sx(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),Dc(s)):sx(_e,l.stateNode));break;case 4:u=_e,m=En,_e=l.stateNode.containerInfo,En=!0,ws(s,a,l),_e=u,En=m;break;case 0:case 11:case 14:case 15:Oe||rr(2,l,a),Oe||rr(4,l,a),ws(s,a,l);break;case 1:Oe||(zi(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&lb(l,a,u)),ws(s,a,l);break;case 21:ws(s,a,l);break;case 22:Oe=(u=Oe)||l.memoizedState!==null,ws(s,a,l),Oe=u;break;default:ws(s,a,l)}}function yb(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Dc(s)}catch(l){le(a,a.return,l)}}function ZC(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new fb),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new fb),a;default:throw Error(i(435,s.tag))}}function jm(s,a){var l=ZC(s);a.forEach(function(u){var m=oA.bind(null,s,u);l.has(u)||(l.add(u),u.then(m,m))})}function Ln(s,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var m=l[u],p=s,S=a,T=S;t:for(;T!==null;){switch(T.tag){case 27:if(fr(T.type)){_e=T.stateNode,En=!1;break t}break;case 5:_e=T.stateNode,En=!1;break t;case 3:case 4:_e=T.stateNode.containerInfo,En=!0;break t}T=T.return}if(_e===null)throw Error(i(160));pb(p,S,m),_e=null,En=!1,p=m.alternate,p!==null&&(p.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)_b(a,s),a=a.sibling}var hi=null;function _b(s,a){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Ln(a,s),Pn(s),u&4&&(rr(3,s,s.return),mc(3,s),rr(5,s,s.return));break;case 1:Ln(a,s),Pn(s),u&512&&(Oe||l===null||zi(l,l.return)),u&64&&xs&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var m=hi;if(Ln(a,s),Pn(s),u&512&&(Oe||l===null||zi(l,l.return)),u&4){var p=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){t:{u=s.type,l=s.memoizedProps,m=m.ownerDocument||m;e:switch(u){case"title":p=m.getElementsByTagName("title")[0],(!p||p[Qr]||p[He]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=m.createElement(u),m.head.insertBefore(p,m.querySelector("head > title"))),an(p,u,l),p[He]=s,ke(p),u=p;break t;case"link":var S=dx("link","href",m).get(u+(l.href||""));if(S){for(var T=0;T<S.length;T++)if(p=S[T],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(T,1);break e}}p=m.createElement(u),an(p,u,l),m.head.appendChild(p);break;case"meta":if(S=dx("meta","content",m).get(u+(l.content||""))){for(T=0;T<S.length;T++)if(p=S[T],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(T,1);break e}}p=m.createElement(u),an(p,u,l),m.head.appendChild(p);break;default:throw Error(i(468,u))}p[He]=s,ke(p),u=p}s.stateNode=u}else fx(m,s.type,s.stateNode);else s.stateNode=hx(m,u,s.memoizedProps);else p!==u?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,u===null?fx(m,s.type,s.stateNode):hx(m,u,s.memoizedProps)):u===null&&s.stateNode!==null&&Mm(s,s.memoizedProps,l.memoizedProps)}break;case 27:Ln(a,s),Pn(s),u&512&&(Oe||l===null||zi(l,l.return)),l!==null&&u&4&&Mm(s,s.memoizedProps,l.memoizedProps);break;case 5:if(Ln(a,s),Pn(s),u&512&&(Oe||l===null||zi(l,l.return)),s.flags&32){m=s.stateNode;try{qn(m,"")}catch(Q){le(s,s.return,Q)}}u&4&&s.stateNode!=null&&(m=s.memoizedProps,Mm(s,m,l!==null?l.memoizedProps:m)),u&1024&&(Im=!0);break;case 6:if(Ln(a,s),Pn(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(Q){le(s,s.return,Q)}}break;case 3:if(gd=null,m=hi,hi=dd(a.containerInfo),Ln(a,s),hi=m,Pn(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Dc(a.containerInfo)}catch(Q){le(s,s.return,Q)}Im&&(Im=!1,vb(s));break;case 4:u=hi,hi=dd(s.stateNode.containerInfo),Ln(a,s),Pn(s),hi=u;break;case 12:Ln(a,s),Pn(s);break;case 13:Ln(a,s),Pn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Hm=Fn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,jm(s,u)));break;case 22:m=s.memoizedState!==null;var j=l!==null&&l.memoizedState!==null,Y=xs,et=Oe;if(xs=Y||m,Oe=et||j,Ln(a,s),Oe=et,xs=Y,Pn(s),u&8192)t:for(a=s.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(l===null||j||xs||Oe||Sa(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){j=l=a;try{if(p=j.stateNode,m)S=p.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{T=j.stateNode;var at=j.memoizedProps.style,X=at!=null&&at.hasOwnProperty("display")?at.display:null;T.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(Q){le(j,j.return,Q)}}}else if(a.tag===6){if(l===null){j=a;try{j.stateNode.nodeValue=m?"":j.memoizedProps}catch(Q){le(j,j.return,Q)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,jm(s,l))));break;case 19:Ln(a,s),Pn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,jm(s,u)));break;case 30:break;case 21:break;default:Ln(a,s),Pn(s)}}function Pn(s){var a=s.flags;if(a&2){try{for(var l,u=s.return;u!==null;){if(ub(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var m=l.stateNode,p=Om(s);Jh(s,p,m);break;case 5:var S=l.stateNode;l.flags&32&&(qn(S,""),l.flags&=-33);var T=Om(s);Jh(s,T,S);break;case 3:case 4:var j=l.stateNode.containerInfo,Y=Om(s);Dm(s,Y,j);break;default:throw Error(i(161))}}catch(et){le(s,s.return,et)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function vb(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;vb(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function ar(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)gb(s,a.alternate,a),a=a.sibling}function Sa(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:rr(4,a,a.return),Sa(a);break;case 1:zi(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&lb(a,a.return,l),Sa(a);break;case 27:Tc(a.stateNode);case 26:case 5:zi(a,a.return),Sa(a);break;case 22:a.memoizedState===null&&Sa(a);break;case 30:Sa(a);break;default:Sa(a)}s=s.sibling}}function or(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,m=s,p=a,S=p.flags;switch(p.tag){case 0:case 11:case 15:or(m,p,l),mc(4,p);break;case 1:if(or(m,p,l),u=p,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Y){le(u,u.return,Y)}if(u=p,m=u.updateQueue,m!==null){var T=u.stateNode;try{var j=m.shared.hiddenCallbacks;if(j!==null)for(m.shared.hiddenCallbacks=null,m=0;m<j.length;m++)G0(j[m],T)}catch(Y){le(u,u.return,Y)}}l&&S&64&&ob(p),pc(p,p.return);break;case 27:hb(p);case 26:case 5:or(m,p,l),l&&u===null&&S&4&&cb(p),pc(p,p.return);break;case 12:or(m,p,l);break;case 13:or(m,p,l),l&&S&4&&yb(m,p);break;case 22:p.memoizedState===null&&or(m,p,l),pc(p,p.return);break;case 30:break;default:or(m,p,l)}a=a.sibling}}function Lm(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&ec(l))}function Pm(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&ec(s))}function Bi(s,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)bb(s,a,l,u),a=a.sibling}function bb(s,a,l,u){var m=a.flags;switch(a.tag){case 0:case 11:case 15:Bi(s,a,l,u),m&2048&&mc(9,a);break;case 1:Bi(s,a,l,u);break;case 3:Bi(s,a,l,u),m&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&ec(s)));break;case 12:if(m&2048){Bi(s,a,l,u),s=a.stateNode;try{var p=a.memoizedProps,S=p.id,T=p.onPostCommit;typeof T=="function"&&T(S,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(j){le(a,a.return,j)}}else Bi(s,a,l,u);break;case 13:Bi(s,a,l,u);break;case 23:break;case 22:p=a.stateNode,S=a.alternate,a.memoizedState!==null?p._visibility&2?Bi(s,a,l,u):yc(s,a):p._visibility&2?Bi(s,a,l,u):(p._visibility|=2,jo(s,a,l,u,(a.subtreeFlags&10256)!==0)),m&2048&&Lm(S,a);break;case 24:Bi(s,a,l,u),m&2048&&Pm(a.alternate,a);break;default:Bi(s,a,l,u)}}function jo(s,a,l,u,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var p=s,S=a,T=l,j=u,Y=S.flags;switch(S.tag){case 0:case 11:case 15:jo(p,S,T,j,m),mc(8,S);break;case 23:break;case 22:var et=S.stateNode;S.memoizedState!==null?et._visibility&2?jo(p,S,T,j,m):yc(p,S):(et._visibility|=2,jo(p,S,T,j,m)),m&&Y&2048&&Lm(S.alternate,S);break;case 24:jo(p,S,T,j,m),m&&Y&2048&&Pm(S.alternate,S);break;default:jo(p,S,T,j,m)}a=a.sibling}}function yc(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,u=a,m=u.flags;switch(u.tag){case 22:yc(l,u),m&2048&&Lm(u.alternate,u);break;case 24:yc(l,u),m&2048&&Pm(u.alternate,u);break;default:yc(l,u)}a=a.sibling}}var _c=8192;function Lo(s){if(s.subtreeFlags&_c)for(s=s.child;s!==null;)xb(s),s=s.sibling}function xb(s){switch(s.tag){case 26:Lo(s),s.flags&_c&&s.memoizedState!==null&&PA(hi,s.memoizedState,s.memoizedProps);break;case 5:Lo(s);break;case 3:case 4:var a=hi;hi=dd(s.stateNode.containerInfo),Lo(s),hi=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=_c,_c=16777216,Lo(s),_c=a):Lo(s));break;default:Lo(s)}}function wb(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function vc(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Xe=u,Eb(u,s)}wb(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Sb(s),s=s.sibling}function Sb(s){switch(s.tag){case 0:case 11:case 15:vc(s),s.flags&2048&&rr(9,s,s.return);break;case 3:vc(s);break;case 12:vc(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,td(s)):vc(s);break;default:vc(s)}}function td(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Xe=u,Eb(u,s)}wb(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:rr(8,a,a.return),td(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,td(a));break;default:td(a)}s=s.sibling}}function Eb(s,a){for(;Xe!==null;){var l=Xe;switch(l.tag){case 0:case 11:case 15:rr(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:ec(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Xe=u;else t:for(l=s;Xe!==null;){u=Xe;var m=u.sibling,p=u.return;if(mb(u),u===l){Xe=null;break t}if(m!==null){m.return=p,Xe=m;break t}Xe=p}}}var JC={getCacheForType:function(s){var a=hn(Fe),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l}},tA=typeof WeakMap=="function"?WeakMap:Map,Kt=0,he=null,Ot=null,Lt=0,Zt=0,Un=null,lr=!1,Po=!1,Um=!1,Ss=0,Ne=0,cr=0,Ea=0,zm=0,Jn=0,Uo=0,bc=null,Tn=null,Bm=!1,Hm=0,ed=1/0,nd=null,ur=null,rn=0,hr=null,zo=null,Bo=0,Fm=0,Vm=null,Tb=null,xc=0,qm=null;function zn(){if((Kt&2)!==0&&Lt!==0)return Lt&-Lt;if($.T!==null){var s=Ao;return s!==0?s:Km()}return Ws()}function Cb(){Jn===0&&(Jn=(Lt&536870912)===0||Ft?Ol():536870912);var s=Zn.current;return s!==null&&(s.flags|=32),Jn}function Bn(s,a,l){(s===he&&(Zt===2||Zt===9)||s.cancelPendingCommit!==null)&&(Ho(s,0),dr(s,Lt,Jn,!1)),ts(s,l),((Kt&2)===0||s!==he)&&(s===he&&((Kt&2)===0&&(Ea|=l),Ne===4&&dr(s,Lt,Jn,!1)),Hi(s))}function Ab(s,a,l){if((Kt&6)!==0)throw Error(i(327));var u=!l&&(a&124)===0&&(a&s.expiredLanes)===0||$r(s,a),m=u?iA(s,a):Gm(s,a,!0),p=u;do{if(m===0){Po&&!u&&dr(s,a,0,!1);break}else{if(l=s.current.alternate,p&&!eA(l)){m=Gm(s,a,!1),p=!1;continue}if(m===2){if(p=a,s.errorRecoveryDisabledLanes&p)var S=0;else S=s.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){a=S;t:{var T=s;m=bc;var j=T.current.memoizedState.isDehydrated;if(j&&(Ho(T,S).flags|=256),S=Gm(T,S,!1),S!==2){if(Um&&!j){T.errorRecoveryDisabledLanes|=p,Ea|=p,m=4;break t}p=Tn,Tn=m,p!==null&&(Tn===null?Tn=p:Tn.push.apply(Tn,p))}m=S}if(p=!1,m!==2)continue}}if(m===1){Ho(s,0),dr(s,a,0,!0);break}t:{switch(u=s,p=m,p){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:dr(u,a,Jn,!lr);break t;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(m=Hm+300-Fn(),10<m)){if(dr(u,a,Jn,!lr),so(u,0,!0)!==0)break t;u.timeoutHandle=nx(Nb.bind(null,u,l,Tn,nd,Bm,a,Jn,Ea,Uo,lr,p,2,-0,0),m);break t}Nb(u,l,Tn,nd,Bm,a,Jn,Ea,Uo,lr,p,0,-0,0)}}break}while(!0);Hi(s)}function Nb(s,a,l,u,m,p,S,T,j,Y,et,at,X,Q){if(s.timeoutHandle=-1,at=a.subtreeFlags,(at&8192||(at&16785408)===16785408)&&(Nc={stylesheets:null,count:0,unsuspend:LA},xb(a),at=UA(),at!==null)){s.cancelPendingCommit=at(jb.bind(null,s,a,p,l,u,m,S,T,j,et,1,X,Q)),dr(s,p,S,!Y);return}jb(s,a,p,l,u,m,S,T,j)}function eA(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var m=l[u],p=m.getSnapshot;m=m.value;try{if(!In(p(),m))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function dr(s,a,l,u){a&=~zm,a&=~Ea,s.suspendedLanes|=a,s.pingedLanes&=~a,u&&(s.warmLanes|=a),u=s.expirationTimes;for(var m=a;0<m;){var p=31-un(m),S=1<<p;u[p]=-1,m&=~S}l!==0&&es(s,l,a)}function id(){return(Kt&6)===0?(wc(0),!1):!0}function Wm(){if(Ot!==null){if(Zt===0)var s=Ot.return;else s=Ot,ms=_a=null,lm(s),Do=null,dc=0,s=Ot;for(;s!==null;)ab(s.alternate,s),s=s.return;Ot=null}}function Ho(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,vA(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Wm(),he=s,Ot=l=ds(s.current,null),Lt=a,Zt=0,Un=null,lr=!1,Po=$r(s,a),Um=!1,Uo=Jn=zm=Ea=cr=Ne=0,Tn=bc=null,Bm=!1,(a&8)!==0&&(a|=a&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=a;0<u;){var m=31-un(u),p=1<<m;a|=s[m],u&=~p}return Ss=a,Th(),l}function Rb(s,a){At=null,$.H=qh,a===ic||a===Ih?(a=W0(),Zt=3):a===F0?(a=W0(),Zt=4):Zt=a===Yv?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Un=a,Ot===null&&(Ne=1,Xh(s,$n(a,s.current)))}function kb(){var s=$.H;return $.H=qh,s===null?qh:s}function Mb(){var s=$.A;return $.A=JC,s}function Ym(){Ne=4,lr||(Lt&4194048)!==Lt&&Zn.current!==null||(Po=!0),(cr&134217727)===0&&(Ea&134217727)===0||he===null||dr(he,Lt,Jn,!1)}function Gm(s,a,l){var u=Kt;Kt|=2;var m=kb(),p=Mb();(he!==s||Lt!==a)&&(nd=null,Ho(s,a)),a=!1;var S=Ne;t:do try{if(Zt!==0&&Ot!==null){var T=Ot,j=Un;switch(Zt){case 8:Wm(),S=6;break t;case 3:case 2:case 9:case 6:Zn.current===null&&(a=!0);var Y=Zt;if(Zt=0,Un=null,Fo(s,T,j,Y),l&&Po){S=0;break t}break;default:Y=Zt,Zt=0,Un=null,Fo(s,T,j,Y)}}nA(),S=Ne;break}catch(et){Rb(s,et)}while(!0);return a&&s.shellSuspendCounter++,ms=_a=null,Kt=u,$.H=m,$.A=p,Ot===null&&(he=null,Lt=0,Th()),S}function nA(){for(;Ot!==null;)Ob(Ot)}function iA(s,a){var l=Kt;Kt|=2;var u=kb(),m=Mb();he!==s||Lt!==a?(nd=null,ed=Fn()+500,Ho(s,a)):Po=$r(s,a);t:do try{if(Zt!==0&&Ot!==null){a=Ot;var p=Un;e:switch(Zt){case 1:Zt=0,Un=null,Fo(s,a,p,1);break;case 2:case 9:if(V0(p)){Zt=0,Un=null,Db(a);break}a=function(){Zt!==2&&Zt!==9||he!==s||(Zt=7),Hi(s)},p.then(a,a);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:V0(p)?(Zt=0,Un=null,Db(a)):(Zt=0,Un=null,Fo(s,a,p,7));break;case 5:var S=null;switch(Ot.tag){case 26:S=Ot.memoizedState;case 5:case 27:var T=Ot;if(!S||gx(S)){Zt=0,Un=null;var j=T.sibling;if(j!==null)Ot=j;else{var Y=T.return;Y!==null?(Ot=Y,sd(Y)):Ot=null}break e}}Zt=0,Un=null,Fo(s,a,p,5);break;case 6:Zt=0,Un=null,Fo(s,a,p,6);break;case 8:Wm(),Ne=6;break t;default:throw Error(i(462))}}sA();break}catch(et){Rb(s,et)}while(!0);return ms=_a=null,$.H=u,$.A=m,Kt=l,Ot!==null?0:(he=null,Lt=0,Th(),Ne)}function sA(){for(;Ot!==null&&!Vr();)Ob(Ot)}function Ob(s){var a=sb(s.alternate,s,Ss);s.memoizedProps=s.pendingProps,a===null?sd(s):Ot=a}function Db(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=Zv(l,a,a.pendingProps,a.type,void 0,Lt);break;case 11:a=Zv(l,a,a.pendingProps,a.type.render,a.ref,Lt);break;case 5:lm(a);default:ab(l,a),a=Ot=D0(a,Ss),a=sb(l,a,Ss)}s.memoizedProps=s.pendingProps,a===null?sd(s):Ot=a}function Fo(s,a,l,u){ms=_a=null,lm(a),Do=null,dc=0;var m=a.return;try{if(GC(s,m,a,l,Lt)){Ne=1,Xh(s,$n(l,s.current)),Ot=null;return}}catch(p){if(m!==null)throw Ot=m,p;Ne=1,Xh(s,$n(l,s.current)),Ot=null;return}a.flags&32768?(Ft||u===1?s=!0:Po||(Lt&536870912)!==0?s=!1:(lr=s=!0,(u===2||u===9||u===3||u===6)&&(u=Zn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Ib(a,s)):sd(a)}function sd(s){var a=s;do{if((a.flags&32768)!==0){Ib(a,lr);return}s=a.return;var l=XC(a.alternate,a,Ss);if(l!==null){Ot=l;return}if(a=a.sibling,a!==null){Ot=a;return}Ot=a=s}while(a!==null);Ne===0&&(Ne=5)}function Ib(s,a){do{var l=QC(s.alternate,s);if(l!==null){l.flags&=32767,Ot=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){Ot=s;return}Ot=s=l}while(s!==null);Ne=6,Ot=null}function jb(s,a,l,u,m,p,S,T,j){s.cancelPendingCommit=null;do rd();while(rn!==0);if((Kt&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(p=a.lanes|a.childLanes,p|=Pg,Dl(s,l,p,S,T,j),s===he&&(Ot=he=null,Lt=0),zo=a,hr=s,Bo=l,Fm=p,Vm=m,Tb=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,lA(qr,function(){return Bb(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=$.T,$.T=null,m=F.p,F.p=2,S=Kt,Kt|=4;try{KC(s,a,l)}finally{Kt=S,F.p=m,$.T=u}}rn=1,Lb(),Pb(),Ub()}}function Lb(){if(rn===1){rn=0;var s=hr,a=zo,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=$.T,$.T=null;var u=F.p;F.p=2;var m=Kt;Kt|=4;try{_b(a,s);var p=rp,S=S0(s.containerInfo),T=p.focusedElem,j=p.selectionRange;if(S!==T&&T&&T.ownerDocument&&w0(T.ownerDocument.documentElement,T)){if(j!==null&&Og(T)){var Y=j.start,et=j.end;if(et===void 0&&(et=Y),"selectionStart"in T)T.selectionStart=Y,T.selectionEnd=Math.min(et,T.value.length);else{var at=T.ownerDocument||document,X=at&&at.defaultView||window;if(X.getSelection){var Q=X.getSelection(),xt=T.textContent.length,_t=Math.min(j.start,xt),oe=j.end===void 0?_t:Math.min(j.end,xt);!Q.extend&&_t>oe&&(S=oe,oe=_t,_t=S);var V=x0(T,_t),H=x0(T,oe);if(V&&H&&(Q.rangeCount!==1||Q.anchorNode!==V.node||Q.anchorOffset!==V.offset||Q.focusNode!==H.node||Q.focusOffset!==H.offset)){var W=at.createRange();W.setStart(V.node,V.offset),Q.removeAllRanges(),_t>oe?(Q.addRange(W),Q.extend(H.node,H.offset)):(W.setEnd(H.node,H.offset),Q.addRange(W))}}}}for(at=[],Q=T;Q=Q.parentNode;)Q.nodeType===1&&at.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<at.length;T++){var st=at[T];st.element.scrollLeft=st.left,st.element.scrollTop=st.top}}yd=!!sp,rp=sp=null}finally{Kt=m,F.p=u,$.T=l}}s.current=a,rn=2}}function Pb(){if(rn===2){rn=0;var s=hr,a=zo,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=$.T,$.T=null;var u=F.p;F.p=2;var m=Kt;Kt|=4;try{gb(s,a.alternate,a)}finally{Kt=m,F.p=u,$.T=l}}rn=3}}function Ub(){if(rn===4||rn===3){rn=0,Ju();var s=hr,a=zo,l=Bo,u=Tb;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?rn=5:(rn=0,zo=hr=null,zb(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(ur=null),ro(l),a=a.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(Ce,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=$.T,m=F.p,F.p=2,$.T=null;try{for(var p=s.onRecoverableError,S=0;S<u.length;S++){var T=u[S];p(T.value,{componentStack:T.stack})}}finally{$.T=a,F.p=m}}(Bo&3)!==0&&rd(),Hi(s),m=s.pendingLanes,(l&4194090)!==0&&(m&42)!==0?s===qm?xc++:(xc=0,qm=s):xc=0,wc(0)}}function zb(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,ec(a)))}function rd(s){return Lb(),Pb(),Ub(),Bb()}function Bb(){if(rn!==5)return!1;var s=hr,a=Fm;Fm=0;var l=ro(Bo),u=$.T,m=F.p;try{F.p=32>l?32:l,$.T=null,l=Vm,Vm=null;var p=hr,S=Bo;if(rn=0,zo=hr=null,Bo=0,(Kt&6)!==0)throw Error(i(331));var T=Kt;if(Kt|=4,Sb(p.current),bb(p,p.current,S,l),Kt=T,wc(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(Ce,p)}catch{}return!0}finally{F.p=m,$.T=u,zb(s,a)}}function Hb(s,a,l){a=$n(l,a),a=wm(s.stateNode,a,2),s=er(s,a,2),s!==null&&(ts(s,2),Hi(s))}function le(s,a,l){if(s.tag===3)Hb(s,s,l);else for(;a!==null;){if(a.tag===3){Hb(a,s,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ur===null||!ur.has(u))){s=$n(l,s),l=qv(2),u=er(a,l,2),u!==null&&(Wv(l,u,a,s),ts(u,2),Hi(u));break}}a=a.return}}function $m(s,a,l){var u=s.pingCache;if(u===null){u=s.pingCache=new tA;var m=new Set;u.set(a,m)}else m=u.get(a),m===void 0&&(m=new Set,u.set(a,m));m.has(l)||(Um=!0,m.add(l),s=rA.bind(null,s,a,l),a.then(s,s))}function rA(s,a,l){var u=s.pingCache;u!==null&&u.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,he===s&&(Lt&l)===l&&(Ne===4||Ne===3&&(Lt&62914560)===Lt&&300>Fn()-Hm?(Kt&2)===0&&Ho(s,0):zm|=l,Uo===Lt&&(Uo=0)),Hi(s)}function Fb(s,a){a===0&&(a=nh()),s=So(s,a),s!==null&&(ts(s,a),Hi(s))}function aA(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),Fb(s,l)}function oA(s,a){var l=0;switch(s.tag){case 13:var u=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),Fb(s,l)}function lA(s,a){return ie(s,a)}var ad=null,Vo=null,Xm=!1,od=!1,Qm=!1,Ta=0;function Hi(s){s!==Vo&&s.next===null&&(Vo===null?ad=Vo=s:Vo=Vo.next=s),od=!0,Xm||(Xm=!0,uA())}function wc(s,a){if(!Qm&&od){Qm=!0;do for(var l=!1,u=ad;u!==null;){if(s!==0){var m=u.pendingLanes;if(m===0)var p=0;else{var S=u.suspendedLanes,T=u.pingedLanes;p=(1<<31-un(42|s)+1)-1,p&=m&~(S&~T),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,Yb(u,p))}else p=Lt,p=so(u,u===he?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||$r(u,p)||(l=!0,Yb(u,p));u=u.next}while(l);Qm=!1}}function cA(){Vb()}function Vb(){od=Xm=!1;var s=0;Ta!==0&&(_A()&&(s=Ta),Ta=0);for(var a=Fn(),l=null,u=ad;u!==null;){var m=u.next,p=qb(u,a);p===0?(u.next=null,l===null?ad=m:l.next=m,m===null&&(Vo=l)):(l=u,(s!==0||(p&3)!==0)&&(od=!0)),u=m}wc(s)}function qb(s,a){for(var l=s.suspendedLanes,u=s.pingedLanes,m=s.expirationTimes,p=s.pendingLanes&-62914561;0<p;){var S=31-un(p),T=1<<S,j=m[S];j===-1?((T&l)===0||(T&u)!==0)&&(m[S]=Ml(T,a)):j<=a&&(s.expiredLanes|=T),p&=~T}if(a=he,l=Lt,l=so(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===a&&(Zt===2||Zt===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&$t(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||$r(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(u!==null&&$t(u),ro(l)){case 2:case 8:l=no;break;case 32:l=qr;break;case 268435456:l=io;break;default:l=qr}return u=Wb.bind(null,s),l=ie(l,u),s.callbackPriority=a,s.callbackNode=l,a}return u!==null&&u!==null&&$t(u),s.callbackPriority=2,s.callbackNode=null,2}function Wb(s,a){if(rn!==0&&rn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(rd()&&s.callbackNode!==l)return null;var u=Lt;return u=so(s,s===he?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(Ab(s,u,a),qb(s,Fn()),s.callbackNode!=null&&s.callbackNode===l?Wb.bind(null,s):null)}function Yb(s,a){if(rd())return null;Ab(s,a,!0)}function uA(){bA(function(){(Kt&6)!==0?ie(Rl,cA):Vb()})}function Km(){return Ta===0&&(Ta=Ol()),Ta}function Gb(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:ho(""+s)}function $b(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function hA(s,a,l,u,m){if(a==="submit"&&l&&l.stateNode===m){var p=Gb((m[Ie]||null).action),S=u.submitter;S&&(a=(a=S[Ie]||null)?Gb(a.formAction):S.getAttribute("formAction"),a!==null&&(p=a,S=null));var T=new fo("action","action",null,u,m);s.push({event:T,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ta!==0){var j=S?$b(m,S):new FormData(m);ym(l,{pending:!0,data:j,method:m.method,action:p},null,j)}}else typeof p=="function"&&(T.preventDefault(),j=S?$b(m,S):new FormData(m),ym(l,{pending:!0,data:j,method:m.method,action:p},p,j))},currentTarget:m}]})}}for(var Zm=0;Zm<Lg.length;Zm++){var Jm=Lg[Zm],dA=Jm.toLowerCase(),fA=Jm[0].toUpperCase()+Jm.slice(1);ui(dA,"on"+fA)}ui(C0,"onAnimationEnd"),ui(A0,"onAnimationIteration"),ui(N0,"onAnimationStart"),ui("dblclick","onDoubleClick"),ui("focusin","onFocus"),ui("focusout","onBlur"),ui(kC,"onTransitionRun"),ui(MC,"onTransitionStart"),ui(OC,"onTransitionCancel"),ui(R0,"onTransitionEnd"),ns("onMouseEnter",["mouseout","mouseover"]),ns("onMouseLeave",["mouseout","mouseover"]),ns("onPointerEnter",["pointerout","pointerover"]),ns("onPointerLeave",["pointerout","pointerover"]),li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),li("onBeforeInput",["compositionend","keypress","textInput","paste"]),li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sc));function Xb(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],m=u.event;u=u.listeners;t:{var p=void 0;if(a)for(var S=u.length-1;0<=S;S--){var T=u[S],j=T.instance,Y=T.currentTarget;if(T=T.listener,j!==p&&m.isPropagationStopped())break t;p=T,m.currentTarget=Y;try{p(m)}catch(et){$h(et)}m.currentTarget=null,p=j}else for(S=0;S<u.length;S++){if(T=u[S],j=T.instance,Y=T.currentTarget,T=T.listener,j!==p&&m.isPropagationStopped())break t;p=T,m.currentTarget=Y;try{p(m)}catch(et){$h(et)}m.currentTarget=null,p=j}}}}function Dt(s,a){var l=a[jl];l===void 0&&(l=a[jl]=new Set);var u=s+"__bubble";l.has(u)||(Qb(a,s,2,!1),l.add(u))}function tp(s,a,l){var u=0;a&&(u|=4),Qb(l,s,u,a)}var ld="_reactListening"+Math.random().toString(36).slice(2);function ep(s){if(!s[ld]){s[ld]=!0,Ll.forEach(function(l){l!=="selectionchange"&&(gA.has(l)||tp(l,!1,s),tp(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[ld]||(a[ld]=!0,tp("selectionchange",!1,a))}}function Qb(s,a,l,u){switch(bx(a)){case 2:var m=HA;break;case 8:m=FA;break;default:m=mp}l=m.bind(null,a,l,s),m=void 0,!Yn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),u?m!==void 0?s.addEventListener(a,l,{capture:!0,passive:m}):s.addEventListener(a,l,!0):m!==void 0?s.addEventListener(a,l,{passive:m}):s.addEventListener(a,l,!1)}function np(s,a,l,u,m){var p=u;if((a&1)===0&&(a&2)===0&&u!==null)t:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var T=u.stateNode.containerInfo;if(T===m)break;if(S===4)for(S=u.return;S!==null;){var j=S.tag;if((j===3||j===4)&&S.stateNode.containerInfo===m)return;S=S.return}for(;T!==null;){if(S=Gs(T),S===null)return;if(j=S.tag,j===5||j===6||j===26||j===27){u=p=S;continue t}T=T.parentNode}}u=u.return}uh(function(){var Y=p,et=Wn(l),at=[];t:{var X=k0.get(s);if(X!==void 0){var Q=fo,xt=s;switch(s){case"keypress":if(Di(l)===0)break t;case"keydown":case"keyup":Q=vo;break;case"focusin":xt="focus",Q=po;break;case"focusout":xt="blur",Q=po;break;case"beforeblur":case"afterblur":Q=po;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Ng;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=_h;break;case C0:case A0:case N0:Q=yo;break;case R0:Q=bh;break;case"scroll":case"scrollend":Q=hh;break;case"wheel":Q=xn;break;case"copy":case"cut":case"paste":Q=_o;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=$l;break;case"toggle":case"beforetoggle":Q=Sh}var _t=(a&4)!==0,oe=!_t&&(s==="scroll"||s==="scrollend"),V=_t?X!==null?X+"Capture":null:X;_t=[];for(var H=Y,W;H!==null;){var st=H;if(W=st.stateNode,st=st.tag,st!==5&&st!==26&&st!==27||W===null||V===null||(st=sa(H,V),st!=null&&_t.push(Ec(H,st,W))),oe)break;H=H.return}0<_t.length&&(X=new Q(X,xt,null,l,et),at.push({event:X,listeners:_t}))}}if((a&7)===0){t:{if(X=s==="mouseover"||s==="pointerover",Q=s==="mouseout"||s==="pointerout",X&&l!==rs&&(xt=l.relatedTarget||l.fromElement)&&(Gs(xt)||xt[Vn]))break t;if((Q||X)&&(X=et.window===et?et:(X=et.ownerDocument)?X.defaultView||X.parentWindow:window,Q?(xt=l.relatedTarget||l.toElement,Q=Y,xt=xt?Gs(xt):null,xt!==null&&(oe=o(xt),_t=xt.tag,xt!==oe||_t!==5&&_t!==27&&_t!==6)&&(xt=null)):(Q=null,xt=Y),Q!==xt)){if(_t=Gn,st="onMouseLeave",V="onMouseEnter",H="mouse",(s==="pointerout"||s==="pointerover")&&(_t=$l,st="onPointerLeave",V="onPointerEnter",H="pointer"),oe=Q==null?X:Ri(Q),W=xt==null?X:Ri(xt),X=new _t(st,H+"leave",Q,l,et),X.target=oe,X.relatedTarget=W,st=null,Gs(et)===Y&&(_t=new _t(V,H+"enter",xt,l,et),_t.target=W,_t.relatedTarget=oe,st=_t),oe=st,Q&&xt)e:{for(_t=Q,V=xt,H=0,W=_t;W;W=qo(W))H++;for(W=0,st=V;st;st=qo(st))W++;for(;0<H-W;)_t=qo(_t),H--;for(;0<W-H;)V=qo(V),W--;for(;H--;){if(_t===V||V!==null&&_t===V.alternate)break e;_t=qo(_t),V=qo(V)}_t=null}else _t=null;Q!==null&&Kb(at,X,Q,_t,!1),xt!==null&&oe!==null&&Kb(at,oe,xt,_t,!0)}}t:{if(X=Y?Ri(Y):window,Q=X.nodeName&&X.nodeName.toLowerCase(),Q==="select"||Q==="input"&&X.type==="file")var ft=m0;else if(us(X))if(p0)ft=AC;else{ft=TC;var Nt=EC}else Q=X.nodeName,!Q||Q.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Y&&Hl(Y.elementType)&&(ft=m0):ft=CC;if(ft&&(ft=ft(s,Y))){wn(at,ft,l,et);break t}Nt&&Nt(s,X,Y),s==="focusout"&&Y&&X.type==="number"&&Y.memoizedProps.value!=null&&Xs(X,"number",X.value)}switch(Nt=Y?Ri(Y):window,s){case"focusin":(us(Nt)||Nt.contentEditable==="true")&&(bo=Nt,Dg=Y,Ql=null);break;case"focusout":Ql=Dg=bo=null;break;case"mousedown":Ig=!0;break;case"contextmenu":case"mouseup":case"dragend":Ig=!1,E0(at,l,et);break;case"selectionchange":if(RC)break;case"keydown":case"keyup":E0(at,l,et)}var pt;if(f)t:{switch(s){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else ye?ht(s,l)&&(vt="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(vt="onCompositionStart");vt&&(A&&l.locale!=="ko"&&(ye||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&ye&&(pt=Vl()):(Oi=et,Qs="value"in Oi?Oi.value:Oi.textContent,ye=!0)),Nt=cd(Y,vt),0<Nt.length&&(vt=new Yl(vt,s,null,l,et),at.push({event:vt,listeners:Nt}),pt?vt.data=pt:(pt=Yt(l),pt!==null&&(vt.data=pt)))),(pt=w?jt(s,l):Ye(s,l))&&(vt=cd(Y,"onBeforeInput"),0<vt.length&&(Nt=new Yl("onBeforeInput","beforeinput",null,l,et),at.push({event:Nt,listeners:vt}),Nt.data=pt)),hA(at,s,Y,l,et)}Xb(at,a)})}function Ec(s,a,l){return{instance:s,listener:a,currentTarget:l}}function cd(s,a){for(var l=a+"Capture",u=[];s!==null;){var m=s,p=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||p===null||(m=sa(s,l),m!=null&&u.unshift(Ec(s,m,p)),m=sa(s,a),m!=null&&u.push(Ec(s,m,p))),s.tag===3)return u;s=s.return}return[]}function qo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Kb(s,a,l,u,m){for(var p=a._reactName,S=[];l!==null&&l!==u;){var T=l,j=T.alternate,Y=T.stateNode;if(T=T.tag,j!==null&&j===u)break;T!==5&&T!==26&&T!==27||Y===null||(j=Y,m?(Y=sa(l,p),Y!=null&&S.unshift(Ec(l,Y,j))):m||(Y=sa(l,p),Y!=null&&S.push(Ec(l,Y,j)))),l=l.return}S.length!==0&&s.push({event:a,listeners:S})}var mA=/\r\n?/g,pA=/\u0000|\uFFFD/g;function Zb(s){return(typeof s=="string"?s:""+s).replace(mA,`
`).replace(pA,"")}function Jb(s,a){return a=Zb(a),Zb(s)===a}function ud(){}function ae(s,a,l,u,m,p){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||qn(s,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&qn(s,""+u);break;case"className":ki(s,"class",u);break;case"tabIndex":ki(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ki(s,l,u);break;case"style":Bl(s,u,p);break;case"data":if(a!=="object"){ki(s,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=ho(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(a!=="input"&&ae(s,a,"name",m.name,m,null),ae(s,a,"formEncType",m.formEncType,m,null),ae(s,a,"formMethod",m.formMethod,m,null),ae(s,a,"formTarget",m.formTarget,m,null)):(ae(s,a,"encType",m.encType,m,null),ae(s,a,"method",m.method,m,null),ae(s,a,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=ho(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=ud);break;case"onScroll":u!=null&&Dt("scroll",s);break;case"onScrollEnd":u!=null&&Dt("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=ho(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":Dt("beforetoggle",s),Dt("toggle",s),$s(s,"popover",u);break;case"xlinkActuate":nn(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":nn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":nn(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":nn(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":nn(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":nn(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":nn(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":nn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":nn(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":$s(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Cg.get(l)||l,$s(s,l,u))}}function ip(s,a,l,u,m,p){switch(l){case"style":Bl(s,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof u=="string"?qn(s,u):(typeof u=="number"||typeof u=="bigint")&&qn(s,""+u);break;case"onScroll":u!=null&&Dt("scroll",s);break;case"onScrollEnd":u!=null&&Dt("scrollend",s);break;case"onClick":u!=null&&(s.onclick=ud);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ao.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),a=l.slice(2,m?l.length-7:void 0),p=s[Ie]||null,p=p!=null?p[l]:null,typeof p=="function"&&s.removeEventListener(a,p,m),typeof u=="function")){typeof p!="function"&&p!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,u,m);break t}l in s?s[l]=u:u===!0?s.setAttribute(l,""):$s(s,l,u)}}}function an(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",s),Dt("load",s);var u=!1,m=!1,p;for(p in l)if(l.hasOwnProperty(p)){var S=l[p];if(S!=null)switch(p){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ae(s,a,p,S,l,null)}}m&&ae(s,a,"srcSet",l.srcSet,l,null),u&&ae(s,a,"src",l.src,l,null);return;case"input":Dt("invalid",s);var T=p=S=m=null,j=null,Y=null;for(u in l)if(l.hasOwnProperty(u)){var et=l[u];if(et!=null)switch(u){case"name":m=et;break;case"type":S=et;break;case"checked":j=et;break;case"defaultChecked":Y=et;break;case"value":p=et;break;case"defaultValue":T=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(i(137,a));break;default:ae(s,a,u,et,l,null)}}ea(s,p,T,j,Y,S,m,!1),uo(s);return;case"select":Dt("invalid",s),u=S=p=null;for(m in l)if(l.hasOwnProperty(m)&&(T=l[m],T!=null))switch(m){case"value":p=T;break;case"defaultValue":S=T;break;case"multiple":u=T;default:ae(s,a,m,T,l,null)}a=p,l=S,s.multiple=!!u,a!=null?ss(s,!!u,a,!1):l!=null&&ss(s,!!u,l,!0);return;case"textarea":Dt("invalid",s),p=m=u=null;for(S in l)if(l.hasOwnProperty(S)&&(T=l[S],T!=null))switch(S){case"value":u=T;break;case"defaultValue":m=T;break;case"children":p=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(i(91));break;default:ae(s,a,S,T,l,null)}na(s,u,m,p),uo(s);return;case"option":for(j in l)if(l.hasOwnProperty(j)&&(u=l[j],u!=null))switch(j){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ae(s,a,j,u,l,null)}return;case"dialog":Dt("beforetoggle",s),Dt("toggle",s),Dt("cancel",s),Dt("close",s);break;case"iframe":case"object":Dt("load",s);break;case"video":case"audio":for(u=0;u<Sc.length;u++)Dt(Sc[u],s);break;case"image":Dt("error",s),Dt("load",s);break;case"details":Dt("toggle",s);break;case"embed":case"source":case"link":Dt("error",s),Dt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in l)if(l.hasOwnProperty(Y)&&(u=l[Y],u!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ae(s,a,Y,u,l,null)}return;default:if(Hl(a)){for(et in l)l.hasOwnProperty(et)&&(u=l[et],u!==void 0&&ip(s,a,et,u,l,void 0));return}}for(T in l)l.hasOwnProperty(T)&&(u=l[T],u!=null&&ae(s,a,T,u,l,null))}function yA(s,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,p=null,S=null,T=null,j=null,Y=null,et=null;for(Q in l){var at=l[Q];if(l.hasOwnProperty(Q)&&at!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":j=at;default:u.hasOwnProperty(Q)||ae(s,a,Q,null,u,at)}}for(var X in u){var Q=u[X];if(at=l[X],u.hasOwnProperty(X)&&(Q!=null||at!=null))switch(X){case"type":p=Q;break;case"name":m=Q;break;case"checked":Y=Q;break;case"defaultChecked":et=Q;break;case"value":S=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,a));break;default:Q!==at&&ae(s,a,X,Q,u,at)}}Dn(s,S,T,j,Y,et,p,m);return;case"select":Q=S=T=X=null;for(p in l)if(j=l[p],l.hasOwnProperty(p)&&j!=null)switch(p){case"value":break;case"multiple":Q=j;default:u.hasOwnProperty(p)||ae(s,a,p,null,u,j)}for(m in u)if(p=u[m],j=l[m],u.hasOwnProperty(m)&&(p!=null||j!=null))switch(m){case"value":X=p;break;case"defaultValue":T=p;break;case"multiple":S=p;default:p!==j&&ae(s,a,m,p,u,j)}a=T,l=S,u=Q,X!=null?ss(s,!!l,X,!1):!!u!=!!l&&(a!=null?ss(s,!!l,a,!0):ss(s,!!l,l?[]:"",!1));return;case"textarea":Q=X=null;for(T in l)if(m=l[T],l.hasOwnProperty(T)&&m!=null&&!u.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ae(s,a,T,null,u,m)}for(S in u)if(m=u[S],p=l[S],u.hasOwnProperty(S)&&(m!=null||p!=null))switch(S){case"value":X=m;break;case"defaultValue":Q=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==p&&ae(s,a,S,m,u,p)}se(s,X,Q);return;case"option":for(var xt in l)if(X=l[xt],l.hasOwnProperty(xt)&&X!=null&&!u.hasOwnProperty(xt))switch(xt){case"selected":s.selected=!1;break;default:ae(s,a,xt,null,u,X)}for(j in u)if(X=u[j],Q=l[j],u.hasOwnProperty(j)&&X!==Q&&(X!=null||Q!=null))switch(j){case"selected":s.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:ae(s,a,j,X,u,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in l)X=l[_t],l.hasOwnProperty(_t)&&X!=null&&!u.hasOwnProperty(_t)&&ae(s,a,_t,null,u,X);for(Y in u)if(X=u[Y],Q=l[Y],u.hasOwnProperty(Y)&&X!==Q&&(X!=null||Q!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,a));break;default:ae(s,a,Y,X,u,Q)}return;default:if(Hl(a)){for(var oe in l)X=l[oe],l.hasOwnProperty(oe)&&X!==void 0&&!u.hasOwnProperty(oe)&&ip(s,a,oe,void 0,u,X);for(et in u)X=u[et],Q=l[et],!u.hasOwnProperty(et)||X===Q||X===void 0&&Q===void 0||ip(s,a,et,X,u,Q);return}}for(var V in l)X=l[V],l.hasOwnProperty(V)&&X!=null&&!u.hasOwnProperty(V)&&ae(s,a,V,null,u,X);for(at in u)X=u[at],Q=l[at],!u.hasOwnProperty(at)||X===Q||X==null&&Q==null||ae(s,a,at,X,u,Q)}var sp=null,rp=null;function hd(s){return s.nodeType===9?s:s.ownerDocument}function tx(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ex(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function ap(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var op=null;function _A(){var s=window.event;return s&&s.type==="popstate"?s===op?!1:(op=s,!0):(op=null,!1)}var nx=typeof setTimeout=="function"?setTimeout:void 0,vA=typeof clearTimeout=="function"?clearTimeout:void 0,ix=typeof Promise=="function"?Promise:void 0,bA=typeof queueMicrotask=="function"?queueMicrotask:typeof ix<"u"?function(s){return ix.resolve(null).then(s).catch(xA)}:nx;function xA(s){setTimeout(function(){throw s})}function fr(s){return s==="head"}function sx(s,a){var l=a,u=0,m=0;do{var p=l.nextSibling;if(s.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(0<u&&8>u){l=u;var S=s.ownerDocument;if(l&1&&Tc(S.documentElement),l&2&&Tc(S.body),l&4)for(l=S.head,Tc(l),S=l.firstChild;S;){var T=S.nextSibling,j=S.nodeName;S[Qr]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&S.rel.toLowerCase()==="stylesheet"||l.removeChild(S),S=T}}if(m===0){s.removeChild(p),Dc(a);return}m--}else l==="$"||l==="$?"||l==="$!"?m++:u=l.charCodeAt(0)-48;else u=0;l=p}while(l);Dc(a)}function lp(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":lp(l),Kr(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function wA(s,a,l,u){for(;s.nodeType===1;){var m=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Qr])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(p=s.getAttribute("rel"),p==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(p!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(p=s.getAttribute("src"),(p!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&p&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var p=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===p)return s}else return s;if(s=di(s.nextSibling),s===null)break}return null}function SA(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=di(s.nextSibling),s===null))return null;return s}function cp(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function EA(s,a){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function di(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}var up=null;function rx(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return s;a--}else l==="/$"&&a++}s=s.previousSibling}return null}function ax(s,a,l){switch(a=hd(l),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Tc(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Kr(s)}var ti=new Map,ox=new Set;function dd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Es=F.d;F.d={f:TA,r:CA,D:AA,C:NA,L:RA,m:kA,X:OA,S:MA,M:DA};function TA(){var s=Es.f(),a=id();return s||a}function CA(s){var a=Ni(s);a!==null&&a.tag===5&&a.type==="form"?Cv(a):Es.r(s)}var Wo=typeof document>"u"?null:document;function lx(s,a,l){var u=Wo;if(u&&typeof a=="string"&&a){var m=je(a);m='link[rel="'+s+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),ox.has(m)||(ox.add(m),s={rel:s,crossOrigin:l,href:a},u.querySelector(m)===null&&(a=u.createElement("link"),an(a,"link",s),ke(a),u.head.appendChild(a)))}}function AA(s){Es.D(s),lx("dns-prefetch",s,null)}function NA(s,a){Es.C(s,a),lx("preconnect",s,a)}function RA(s,a,l){Es.L(s,a,l);var u=Wo;if(u&&s&&a){var m='link[rel="preload"][as="'+je(a)+'"]';a==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+je(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+je(l.imageSizes)+'"]')):m+='[href="'+je(s)+'"]';var p=m;switch(a){case"style":p=Yo(s);break;case"script":p=Go(s)}ti.has(p)||(s=y({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),ti.set(p,s),u.querySelector(m)!==null||a==="style"&&u.querySelector(Cc(p))||a==="script"&&u.querySelector(Ac(p))||(a=u.createElement("link"),an(a,"link",s),ke(a),u.head.appendChild(a)))}}function kA(s,a){Es.m(s,a);var l=Wo;if(l&&s){var u=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+je(u)+'"][href="'+je(s)+'"]',p=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Go(s)}if(!ti.has(p)&&(s=y({rel:"modulepreload",href:s},a),ti.set(p,s),l.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Ac(p)))return}u=l.createElement("link"),an(u,"link",s),ke(u),l.head.appendChild(u)}}}function MA(s,a,l){Es.S(s,a,l);var u=Wo;if(u&&s){var m=mn(u).hoistableStyles,p=Yo(s);a=a||"default";var S=m.get(p);if(!S){var T={loading:0,preload:null};if(S=u.querySelector(Cc(p)))T.loading=5;else{s=y({rel:"stylesheet",href:s,"data-precedence":a},l),(l=ti.get(p))&&hp(s,l);var j=S=u.createElement("link");ke(j),an(j,"link",s),j._p=new Promise(function(Y,et){j.onload=Y,j.onerror=et}),j.addEventListener("load",function(){T.loading|=1}),j.addEventListener("error",function(){T.loading|=2}),T.loading|=4,fd(S,a,u)}S={type:"stylesheet",instance:S,count:1,state:T},m.set(p,S)}}}function OA(s,a){Es.X(s,a);var l=Wo;if(l&&s){var u=mn(l).hoistableScripts,m=Go(s),p=u.get(m);p||(p=l.querySelector(Ac(m)),p||(s=y({src:s,async:!0},a),(a=ti.get(m))&&dp(s,a),p=l.createElement("script"),ke(p),an(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(m,p))}}function DA(s,a){Es.M(s,a);var l=Wo;if(l&&s){var u=mn(l).hoistableScripts,m=Go(s),p=u.get(m);p||(p=l.querySelector(Ac(m)),p||(s=y({src:s,async:!0,type:"module"},a),(a=ti.get(m))&&dp(s,a),p=l.createElement("script"),ke(p),an(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(m,p))}}function cx(s,a,l,u){var m=(m=tt.current)?dd(m):null;if(!m)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Yo(l.href),l=mn(m).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Yo(l.href);var p=mn(m).hoistableStyles,S=p.get(s);if(S||(m=m.ownerDocument||m,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(s,S),(p=m.querySelector(Cc(s)))&&!p._p&&(S.instance=p,S.state.loading=5),ti.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ti.set(s,l),p||IA(m,s,l,S.state))),a&&u===null)throw Error(i(528,""));return S}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Go(l),l=mn(m).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Yo(s){return'href="'+je(s)+'"'}function Cc(s){return'link[rel="stylesheet"]['+s+"]"}function ux(s){return y({},s,{"data-precedence":s.precedence,precedence:null})}function IA(s,a,l,u){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=s.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),an(a,"link",l),ke(a),s.head.appendChild(a))}function Go(s){return'[src="'+je(s)+'"]'}function Ac(s){return"script[async]"+s}function hx(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=s.querySelector('style[data-href~="'+je(l.href)+'"]');if(u)return a.instance=u,ke(u),u;var m=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),ke(u),an(u,"style",m),fd(u,l.precedence,s),a.instance=u;case"stylesheet":m=Yo(l.href);var p=s.querySelector(Cc(m));if(p)return a.state.loading|=4,a.instance=p,ke(p),p;u=ux(l),(m=ti.get(m))&&hp(u,m),p=(s.ownerDocument||s).createElement("link"),ke(p);var S=p;return S._p=new Promise(function(T,j){S.onload=T,S.onerror=j}),an(p,"link",u),a.state.loading|=4,fd(p,l.precedence,s),a.instance=p;case"script":return p=Go(l.src),(m=s.querySelector(Ac(p)))?(a.instance=m,ke(m),m):(u=l,(m=ti.get(p))&&(u=y({},l),dp(u,m)),s=s.ownerDocument||s,m=s.createElement("script"),ke(m),an(m,"link",u),s.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,fd(u,l.precedence,s));return a.instance}function fd(s,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,p=m,S=0;S<u.length;S++){var T=u[S];if(T.dataset.precedence===a)p=T;else if(p!==m)break}p?p.parentNode.insertBefore(s,p.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function hp(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function dp(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var gd=null;function dx(s,a,l){if(gd===null){var u=new Map,m=gd=new Map;m.set(l,u)}else m=gd,u=m.get(l),u||(u=new Map,m.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),m=0;m<l.length;m++){var p=l[m];if(!(p[Qr]||p[He]||s==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var S=p.getAttribute(a)||"";S=s+S;var T=u.get(S);T?T.push(p):u.set(S,[p])}}return u}function fx(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function jA(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function gx(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Nc=null;function LA(){}function PA(s,a,l){if(Nc===null)throw Error(i(475));var u=Nc;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=Yo(l.href),p=s.querySelector(Cc(m));if(p){s=p._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(u.count++,u=md.bind(u),s.then(u,u)),a.state.loading|=4,a.instance=p,ke(p);return}p=s.ownerDocument||s,l=ux(l),(m=ti.get(m))&&hp(l,m),p=p.createElement("link"),ke(p);var S=p;S._p=new Promise(function(T,j){S.onload=T,S.onerror=j}),an(p,"link",l),a.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=md.bind(u),s.addEventListener("load",a),s.addEventListener("error",a))}}function UA(){if(Nc===null)throw Error(i(475));var s=Nc;return s.stylesheets&&s.count===0&&fp(s,s.stylesheets),0<s.count?function(a){var l=setTimeout(function(){if(s.stylesheets&&fp(s,s.stylesheets),s.unsuspend){var u=s.unsuspend;s.unsuspend=null,u()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(l)}}:null}function md(){if(this.count--,this.count===0){if(this.stylesheets)fp(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var pd=null;function fp(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,pd=new Map,a.forEach(zA,s),pd=null,md.call(s))}function zA(s,a){if(!(a.state.loading&4)){var l=pd.get(s);if(l)var u=l.get(null);else{l=new Map,pd.set(s,l);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<m.length;p++){var S=m[p];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),u=S)}u&&l.set(null,u)}m=a.instance,S=m.getAttribute("data-precedence"),p=l.get(S)||u,p===u&&l.set(null,m),l.set(S,m),this.count++,u=md.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),p?p.parentNode.insertBefore(m,p.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),a.state.loading|=4}}var Rc={$$typeof:K,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function BA(s,a,l,u,m,p,S,T){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ji(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ji(0),this.hiddenUpdates=Ji(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=p,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function mx(s,a,l,u,m,p,S,T,j,Y,et,at){return s=new BA(s,a,l,S,T,j,Y,at),a=1,p===!0&&(a|=24),p=jn(3,null,null,a),s.current=p,p.stateNode=s,a=$g(),a.refCount++,s.pooledCache=a,a.refCount++,p.memoizedState={element:u,isDehydrated:l,cache:a},Zg(p),s}function px(s){return s?(s=Eo,s):Eo}function yx(s,a,l,u,m,p){m=px(m),u.context===null?u.context=m:u.pendingContext=m,u=tr(a),u.payload={element:l},p=p===void 0?null:p,p!==null&&(u.callback=p),l=er(s,u,a),l!==null&&(Bn(l,s,a),rc(l,s,a))}function _x(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function gp(s,a){_x(s,a),(s=s.alternate)&&_x(s,a)}function vx(s){if(s.tag===13){var a=So(s,67108864);a!==null&&Bn(a,s,67108864),gp(s,67108864)}}var yd=!0;function HA(s,a,l,u){var m=$.T;$.T=null;var p=F.p;try{F.p=2,mp(s,a,l,u)}finally{F.p=p,$.T=m}}function FA(s,a,l,u){var m=$.T;$.T=null;var p=F.p;try{F.p=8,mp(s,a,l,u)}finally{F.p=p,$.T=m}}function mp(s,a,l,u){if(yd){var m=pp(u);if(m===null)np(s,a,u,_d,l),xx(s,u);else if(qA(m,s,a,l,u))u.stopPropagation();else if(xx(s,u),a&4&&-1<VA.indexOf(s)){for(;m!==null;){var p=Ni(m);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var S=oi(p.pendingLanes);if(S!==0){var T=p;for(T.pendingLanes|=2,T.entangledLanes|=2;S;){var j=1<<31-un(S);T.entanglements[1]|=j,S&=~j}Hi(p),(Kt&6)===0&&(ed=Fn()+500,wc(0))}}break;case 13:T=So(p,2),T!==null&&Bn(T,p,2),id(),gp(p,2)}if(p=pp(u),p===null&&np(s,a,u,_d,l),p===m)break;m=p}m!==null&&u.stopPropagation()}else np(s,a,u,null,l)}}function pp(s){return s=Wn(s),yp(s)}var _d=null;function yp(s){if(_d=null,s=Gs(s),s!==null){var a=o(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=c(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return _d=s,null}function bx(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bg()){case Rl:return 2;case no:return 8;case qr:case xg:return 32;case io:return 268435456;default:return 32}default:return 32}}var _p=!1,gr=null,mr=null,pr=null,kc=new Map,Mc=new Map,yr=[],VA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xx(s,a){switch(s){case"focusin":case"focusout":gr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":kc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mc.delete(a.pointerId)}}function Oc(s,a,l,u,m,p){return s===null||s.nativeEvent!==p?(s={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:p,targetContainers:[m]},a!==null&&(a=Ni(a),a!==null&&vx(a)),s):(s.eventSystemFlags|=u,a=s.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),s)}function qA(s,a,l,u,m){switch(a){case"focusin":return gr=Oc(gr,s,a,l,u,m),!0;case"dragenter":return mr=Oc(mr,s,a,l,u,m),!0;case"mouseover":return pr=Oc(pr,s,a,l,u,m),!0;case"pointerover":var p=m.pointerId;return kc.set(p,Oc(kc.get(p)||null,s,a,l,u,m)),!0;case"gotpointercapture":return p=m.pointerId,Mc.set(p,Oc(Mc.get(p)||null,s,a,l,u,m)),!0}return!1}function wx(s){var a=Gs(s.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){s.blockedOn=a,ih(s.priority,function(){if(l.tag===13){var u=zn();u=Xr(u);var m=So(l,u);m!==null&&Bn(m,l,u),gp(l,u)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function vd(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=pp(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);rs=u,l.target.dispatchEvent(u),rs=null}else return a=Ni(l),a!==null&&vx(a),s.blockedOn=l,!1;a.shift()}return!0}function Sx(s,a,l){vd(s)&&l.delete(a)}function WA(){_p=!1,gr!==null&&vd(gr)&&(gr=null),mr!==null&&vd(mr)&&(mr=null),pr!==null&&vd(pr)&&(pr=null),kc.forEach(Sx),Mc.forEach(Sx)}function bd(s,a){s.blockedOn===a&&(s.blockedOn=null,_p||(_p=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,WA)))}var xd=null;function Ex(s){xd!==s&&(xd=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){xd===s&&(xd=null);for(var a=0;a<s.length;a+=3){var l=s[a],u=s[a+1],m=s[a+2];if(typeof u!="function"){if(yp(u||l)===null)continue;break}var p=Ni(l);p!==null&&(s.splice(a,3),a-=3,ym(p,{pending:!0,data:m,method:l.method,action:u},u,m))}}))}function Dc(s){function a(j){return bd(j,s)}gr!==null&&bd(gr,s),mr!==null&&bd(mr,s),pr!==null&&bd(pr,s),kc.forEach(a),Mc.forEach(a);for(var l=0;l<yr.length;l++){var u=yr[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<yr.length&&(l=yr[0],l.blockedOn===null);)wx(l),l.blockedOn===null&&yr.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var m=l[u],p=l[u+1],S=m[Ie]||null;if(typeof p=="function")S||Ex(l);else if(S){var T=null;if(p&&p.hasAttribute("formAction")){if(m=p,S=p[Ie]||null)T=S.formAction;else if(yp(m)!==null)continue}else T=S.action;typeof T=="function"?l[u+1]=T:(l.splice(u,3),u-=3),Ex(l)}}}function vp(s){this._internalRoot=s}wd.prototype.render=vp.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,u=zn();yx(l,u,s,a,null,null)},wd.prototype.unmount=vp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;yx(s.current,2,null,s,null,null),id(),a[Vn]=null}};function wd(s){this._internalRoot=s}wd.prototype.unstable_scheduleHydration=function(s){if(s){var a=Ws();s={blockedOn:null,target:s,priority:a};for(var l=0;l<yr.length&&a!==0&&a<yr[l].priority;l++);yr.splice(l,0,s),l===0&&wx(s)}};var Tx=t.version;if(Tx!=="19.1.0")throw Error(i(527,Tx,"19.1.0"));F.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=d(a),s=s!==null?g(s):null,s=s===null?null:s.stateNode,s};var YA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sd.isDisabled&&Sd.supportsFiber)try{Ce=Sd.inject(YA),Xt=Sd}catch{}}return jc.createRoot=function(s,a){if(!r(s))throw Error(i(299));var l=!1,u="",m=Bv,p=Hv,S=Fv,T=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(T=a.unstable_transitionCallbacks)),a=mx(s,1,!1,null,null,l,u,m,p,S,T,null),s[Vn]=a.current,ep(s),new vp(a)},jc.hydrateRoot=function(s,a,l){if(!r(s))throw Error(i(299));var u=!1,m="",p=Bv,S=Hv,T=Fv,j=null,Y=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(T=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(j=l.unstable_transitionCallbacks),l.formState!==void 0&&(Y=l.formState)),a=mx(s,1,!0,a,l??null,u,m,p,S,T,j,Y),a.context=px(null),l=a.current,u=zn(),u=Xr(u),m=tr(u),m.callback=null,er(l,m,u),l=u,a.current.lanes=l,ts(a,l),Hi(a),s[Vn]=a.current,ep(s),new wd(a)},jc.version="19.1.0",jc}var jx;function iN(){if(jx)return wp.exports;jx=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),wp.exports=nN(),wp.exports}var sN=iN();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Lx="popstate";function rN(n={}){function t(i,r){let{pathname:o,search:c,hash:h}=i.location;return ny("",{pathname:o,search:c,hash:h},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function e(i,r){return typeof r=="string"?r:yu(r)}return oN(t,e,null,n)}function ve(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function wi(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function aN(){return Math.random().toString(36).substring(2,10)}function Px(n,t){return{usr:n.state,key:n.key,idx:t}}function ny(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?yl(t):t,state:e,key:t&&t.key||i||aN()}}function yu({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function yl(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function oN(n,t,e,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,c=r.history,h="POP",d=null,g=y();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function y(){return(c.state||{idx:null}).idx}function b(){h="POP";let M=y(),P=M==null?null:M-g;g=M,d&&d({action:h,location:k.location,delta:P})}function x(M,P){h="PUSH";let G=ny(k.location,M,P);g=y()+1;let K=Px(G,g),nt=k.createHref(G);try{c.pushState(K,"",nt)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;r.location.assign(nt)}o&&d&&d({action:h,location:k.location,delta:1})}function E(M,P){h="REPLACE";let G=ny(k.location,M,P);g=y();let K=Px(G,g),nt=k.createHref(G);c.replaceState(K,"",nt),o&&d&&d({action:h,location:k.location,delta:0})}function N(M){return lN(M)}let k={get action(){return h},get location(){return n(r,c)},listen(M){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(Lx,b),d=M,()=>{r.removeEventListener(Lx,b),d=null}},createHref(M){return t(r,M)},createURL:N,encodeLocation(M){let P=N(M);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:x,replace:E,go(M){return c.go(M)}};return k}function lN(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),ve(e,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:yu(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function WS(n,t,e="/"){return cN(n,t,e,!1)}function cN(n,t,e,i){let r=typeof t=="string"?yl(t):t,o=zs(r.pathname||"/",e);if(o==null)return null;let c=YS(n);uN(c);let h=null;for(let d=0;h==null&&d<c.length;++d){let g=xN(o);h=vN(c[d],g,i)}return h}function YS(n,t=[],e=[],i=""){let r=(o,c,h)=>{let d={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};d.relativePath.startsWith("/")&&(ve(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length));let g=Ls([i,d.relativePath]),y=e.concat(d);o.children&&o.children.length>0&&(ve(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),YS(o.children,t,y,g)),!(o.path==null&&!o.index)&&t.push({path:g,score:yN(g,o.index),routesMeta:y})};return n.forEach((o,c)=>{if(o.path===""||!o.path?.includes("?"))r(o,c);else for(let h of GS(o.path))r(o,c,h)}),t}function GS(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,r=e.endsWith("?"),o=e.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let c=GS(i.join("/")),h=[];return h.push(...c.map(d=>d===""?o:[o,d].join("/"))),r&&h.push(...c),h.map(d=>n.startsWith("/")&&d===""?"/":d)}function uN(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:_N(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var hN=/^:[\w-]+$/,dN=3,fN=2,gN=1,mN=10,pN=-2,Ux=n=>n==="*";function yN(n,t){let e=n.split("/"),i=e.length;return e.some(Ux)&&(i+=pN),t&&(i+=fN),e.filter(r=>!Ux(r)).reduce((r,o)=>r+(hN.test(o)?dN:o===""?gN:mN),i)}function _N(n,t){return n.length===t.length&&n.slice(0,-1).every((i,r)=>i===t[r])?n[n.length-1]-t[t.length-1]:0}function vN(n,t,e=!1){let{routesMeta:i}=n,r={},o="/",c=[];for(let h=0;h<i.length;++h){let d=i[h],g=h===i.length-1,y=o==="/"?t:t.slice(o.length)||"/",b=nf({path:d.relativePath,caseSensitive:d.caseSensitive,end:g},y),x=d.route;if(!b&&g&&e&&!i[i.length-1].route.index&&(b=nf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!b)return null;Object.assign(r,b.params),c.push({params:r,pathname:Ls([o,b.pathname]),pathnameBase:TN(Ls([o,b.pathnameBase])),route:x}),b.pathnameBase!=="/"&&(o=Ls([o,b.pathnameBase]))}return c}function nf(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=bN(n.path,n.caseSensitive,n.end),r=t.match(e);if(!r)return null;let o=r[0],c=o.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:i.reduce((g,{paramName:y,isOptional:b},x)=>{if(y==="*"){let N=h[x]||"";c=o.slice(0,o.length-N.length).replace(/(.)\/+$/,"$1")}const E=h[x];return b&&!E?g[y]=void 0:g[y]=(E||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:c,pattern:n}}function bN(n,t=!1,e=!0){wi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,d)=>(i.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function xN(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return wi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function zs(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}function wN(n,t="/"){let{pathname:e,search:i="",hash:r=""}=typeof n=="string"?yl(n):n;return{pathname:e?e.startsWith("/")?e:SN(e,t):t,search:CN(i),hash:AN(r)}}function SN(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function Cp(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function EN(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function Py(n){let t=EN(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function Uy(n,t,e,i=!1){let r;typeof n=="string"?r=yl(n):(r={...n},ve(!r.pathname||!r.pathname.includes("?"),Cp("?","pathname","search",r)),ve(!r.pathname||!r.pathname.includes("#"),Cp("#","pathname","hash",r)),ve(!r.search||!r.search.includes("#"),Cp("#","search","hash",r)));let o=n===""||r.pathname==="",c=o?"/":r.pathname,h;if(c==null)h=e;else{let b=t.length-1;if(!i&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),b-=1;r.pathname=x.join("/")}h=b>=0?t[b]:"/"}let d=wN(r,h),g=c&&c!=="/"&&c.endsWith("/"),y=(o||c===".")&&e.endsWith("/");return!d.pathname.endsWith("/")&&(g||y)&&(d.pathname+="/"),d}var Ls=n=>n.join("/").replace(/\/\/+/g,"/"),TN=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),CN=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,AN=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function NN(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var $S=["POST","PUT","PATCH","DELETE"];new Set($S);var RN=["GET",...$S];new Set(RN);var _l=B.createContext(null);_l.displayName="DataRouter";var Wf=B.createContext(null);Wf.displayName="DataRouterState";B.createContext(!1);var XS=B.createContext({isTransitioning:!1});XS.displayName="ViewTransition";var kN=B.createContext(new Map);kN.displayName="Fetchers";var MN=B.createContext(null);MN.displayName="Await";var Ei=B.createContext(null);Ei.displayName="Navigation";var ju=B.createContext(null);ju.displayName="Location";var Ti=B.createContext({outlet:null,matches:[],isDataRoute:!1});Ti.displayName="Route";var zy=B.createContext(null);zy.displayName="RouteError";function ON(n,{relative:t}={}){ve(vl(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=B.useContext(Ei),{hash:r,pathname:o,search:c}=Lu(n,{relative:t}),h=o;return e!=="/"&&(h=o==="/"?e:Ls([e,o])),i.createHref({pathname:h,search:c,hash:r})}function vl(){return B.useContext(ju)!=null}function Ci(){return ve(vl(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(ju).location}var QS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function KS(n){B.useContext(Ei).static||B.useLayoutEffect(n)}function Ki(){let{isDataRoute:n}=B.useContext(Ti);return n?WN():DN()}function DN(){ve(vl(),"useNavigate() may be used only in the context of a <Router> component.");let n=B.useContext(_l),{basename:t,navigator:e}=B.useContext(Ei),{matches:i}=B.useContext(Ti),{pathname:r}=Ci(),o=JSON.stringify(Py(i)),c=B.useRef(!1);return KS(()=>{c.current=!0}),B.useCallback((d,g={})=>{if(wi(c.current,QS),!c.current)return;if(typeof d=="number"){e.go(d);return}let y=Uy(d,JSON.parse(o),r,g.relative==="path");n==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:Ls([t,y.pathname])),(g.replace?e.replace:e.push)(y,g.state,g)},[t,e,o,r,n])}B.createContext(null);function ZS(){let{matches:n}=B.useContext(Ti),t=n[n.length-1];return t?t.params:{}}function Lu(n,{relative:t}={}){let{matches:e}=B.useContext(Ti),{pathname:i}=Ci(),r=JSON.stringify(Py(e));return B.useMemo(()=>Uy(n,JSON.parse(r),i,t==="path"),[n,r,i,t])}function IN(n,t){return JS(n,t)}function JS(n,t,e,i){ve(vl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=B.useContext(Ei),{matches:o}=B.useContext(Ti),c=o[o.length-1],h=c?c.params:{},d=c?c.pathname:"/",g=c?c.pathnameBase:"/",y=c&&c.route;{let P=y&&y.path||"";tE(d,!y||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let b=Ci(),x;if(t){let P=typeof t=="string"?yl(t):t;ve(g==="/"||P.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${P.pathname}" was given in the \`location\` prop.`),x=P}else x=b;let E=x.pathname||"/",N=E;if(g!=="/"){let P=g.replace(/^\//,"").split("/");N="/"+E.replace(/^\//,"").split("/").slice(P.length).join("/")}let k=WS(n,{pathname:N});wi(y||k!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),wi(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=zN(k&&k.map(P=>Object.assign({},P,{params:Object.assign({},h,P.params),pathname:Ls([g,r.encodeLocation?r.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?g:Ls([g,r.encodeLocation?r.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),o,e,i);return t&&M?B.createElement(ju.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},M):M}function jN(){let n=qN(),t=NN(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=B.createElement(B.Fragment,null,B.createElement("p",null,"💿 Hey developer 👋"),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:o},"ErrorBoundary")," or"," ",B.createElement("code",{style:o},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},t),e?B.createElement("pre",{style:r},e):null,c)}var LN=B.createElement(jN,null),PN=class extends B.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?B.createElement(Ti.Provider,{value:this.props.routeContext},B.createElement(zy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function UN({routeContext:n,match:t,children:e}){let i=B.useContext(_l);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),B.createElement(Ti.Provider,{value:n},e)}function zN(n,t=[],e=null,i=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let r=n,o=e?.errors;if(o!=null){let d=r.findIndex(g=>g.route.id&&o?.[g.route.id]!==void 0);ve(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,d+1))}let c=!1,h=-1;if(e)for(let d=0;d<r.length;d++){let g=r[d];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=d),g.route.id){let{loaderData:y,errors:b}=e,x=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||x){c=!0,h>=0?r=r.slice(0,h+1):r=[r[0]];break}}}return r.reduceRight((d,g,y)=>{let b,x=!1,E=null,N=null;e&&(b=o&&g.route.id?o[g.route.id]:void 0,E=g.route.errorElement||LN,c&&(h<0&&y===0?(tE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,N=null):h===y&&(x=!0,N=g.route.hydrateFallbackElement||null)));let k=t.concat(r.slice(0,y+1)),M=()=>{let P;return b?P=E:x?P=N:g.route.Component?P=B.createElement(g.route.Component,null):g.route.element?P=g.route.element:P=d,B.createElement(UN,{match:g,routeContext:{outlet:d,matches:k,isDataRoute:e!=null},children:P})};return e&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?B.createElement(PN,{location:e.location,revalidation:e.revalidation,component:E,error:b,children:M(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):M()},null)}function By(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BN(n){let t=B.useContext(_l);return ve(t,By(n)),t}function HN(n){let t=B.useContext(Wf);return ve(t,By(n)),t}function FN(n){let t=B.useContext(Ti);return ve(t,By(n)),t}function Hy(n){let t=FN(n),e=t.matches[t.matches.length-1];return ve(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function VN(){return Hy("useRouteId")}function qN(){let n=B.useContext(zy),t=HN("useRouteError"),e=Hy("useRouteError");return n!==void 0?n:t.errors?.[e]}function WN(){let{router:n}=BN("useNavigate"),t=Hy("useNavigate"),e=B.useRef(!1);return KS(()=>{e.current=!0}),B.useCallback(async(r,o={})=>{wi(e.current,QS),e.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:t,...o}))},[n,t])}var zx={};function tE(n,t,e){!t&&!zx[n]&&(zx[n]=!0,wi(!1,e))}B.memo(YN);function YN({routes:n,future:t,state:e}){return JS(n,void 0,e,t)}function sf({to:n,replace:t,state:e,relative:i}){ve(vl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=B.useContext(Ei);wi(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=B.useContext(Ti),{pathname:c}=Ci(),h=Ki(),d=Uy(n,Py(o),c,i==="path"),g=JSON.stringify(d);return B.useEffect(()=>{h(JSON.parse(g),{replace:t,state:e,relative:i})},[h,g,i,t,e]),null}function Hn(n){ve(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function GN({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:r,static:o=!1}){ve(!vl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),h=B.useMemo(()=>({basename:c,navigator:r,static:o,future:{}}),[c,r,o]);typeof e=="string"&&(e=yl(e));let{pathname:d="/",search:g="",hash:y="",state:b=null,key:x="default"}=e,E=B.useMemo(()=>{let N=zs(d,c);return N==null?null:{location:{pathname:N,search:g,hash:y,state:b,key:x},navigationType:i}},[c,d,g,y,b,x,i]);return wi(E!=null,`<Router basename="${c}"> is not able to match the URL "${d}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:B.createElement(Ei.Provider,{value:h},B.createElement(ju.Provider,{children:t,value:E}))}function $N({children:n,location:t}){return IN(iy(n),t)}function iy(n,t=[]){let e=[];return B.Children.forEach(n,(i,r)=>{if(!B.isValidElement(i))return;let o=[...t,r];if(i.type===B.Fragment){e.push.apply(e,iy(i.props.children,o));return}ve(i.type===Hn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ve(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=iy(i.props.children,o)),e.push(c)}),e}var qd="get",Wd="application/x-www-form-urlencoded";function Yf(n){return n!=null&&typeof n.tagName=="string"}function XN(n){return Yf(n)&&n.tagName.toLowerCase()==="button"}function QN(n){return Yf(n)&&n.tagName.toLowerCase()==="form"}function KN(n){return Yf(n)&&n.tagName.toLowerCase()==="input"}function ZN(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function JN(n,t){return n.button===0&&(!t||t==="_self")&&!ZN(n)}var Ed=null;function tR(){if(Ed===null)try{new FormData(document.createElement("form"),0),Ed=!1}catch{Ed=!0}return Ed}var eR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ap(n){return n!=null&&!eR.has(n)?(wi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wd}"`),null):n}function nR(n,t){let e,i,r,o,c;if(QN(n)){let h=n.getAttribute("action");i=h?zs(h,t):null,e=n.getAttribute("method")||qd,r=Ap(n.getAttribute("enctype"))||Wd,o=new FormData(n)}else if(XN(n)||KN(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||h.getAttribute("action");if(i=d?zs(d,t):null,e=n.getAttribute("formmethod")||h.getAttribute("method")||qd,r=Ap(n.getAttribute("formenctype"))||Ap(h.getAttribute("enctype"))||Wd,o=new FormData(h,n),!tR()){let{name:g,type:y,value:b}=n;if(y==="image"){let x=g?`${g}.`:"";o.append(`${x}x`,"0"),o.append(`${x}y`,"0")}else g&&o.append(g,b)}}else{if(Yf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=qd,i=null,r=Wd,c=n}return o&&r==="text/plain"&&(c=o,o=void 0),{action:i,method:e.toLowerCase(),encType:r,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Fy(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function iR(n,t,e){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${e}`:t&&zs(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${e}`,i}async function sR(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rR(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function aR(n,t,e){let i=await Promise.all(n.map(async r=>{let o=t.routes[r.route.id];if(o){let c=await sR(o,e);return c.links?c.links():[]}return[]}));return uR(i.flat(1).filter(rR).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function Bx(n,t,e,i,r,o){let c=(d,g)=>e[g]?d.route.id!==e[g].route.id:!0,h=(d,g)=>e[g].pathname!==d.pathname||e[g].route.path?.endsWith("*")&&e[g].params["*"]!==d.params["*"];return o==="assets"?t.filter((d,g)=>c(d,g)||h(d,g)):o==="data"?t.filter((d,g)=>{let y=i.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(c(d,g)||h(d,g))return!0;if(d.route.shouldRevalidate){let b=d.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function oR(n,t,{includeHydrateFallback:e}={}){return lR(n.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function lR(n){return[...new Set(n)]}function cR(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function uR(n,t){let e=new Set;return new Set(t),n.reduce((i,r)=>{let o=JSON.stringify(cR(r));return e.has(o)||(e.add(o),i.push({key:o,link:r})),i},[])}function eE(){let n=B.useContext(_l);return Fy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function hR(){let n=B.useContext(Wf);return Fy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Vy=B.createContext(void 0);Vy.displayName="FrameworkContext";function nE(){let n=B.useContext(Vy);return Fy(n,"You must render this element inside a <HydratedRouter> element"),n}function dR(n,t){let e=B.useContext(Vy),[i,r]=B.useState(!1),[o,c]=B.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:g,onMouseLeave:y,onTouchStart:b}=t,x=B.useRef(null);B.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let k=P=>{P.forEach(G=>{c(G.isIntersecting)})},M=new IntersectionObserver(k,{threshold:.5});return x.current&&M.observe(x.current),()=>{M.disconnect()}}},[n]),B.useEffect(()=>{if(i){let k=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(k)}}},[i]);let E=()=>{r(!0)},N=()=>{r(!1),c(!1)};return e?n!=="intent"?[o,x,{}]:[o,x,{onFocus:Lc(h,E),onBlur:Lc(d,N),onMouseEnter:Lc(g,E),onMouseLeave:Lc(y,N),onTouchStart:Lc(b,E)}]:[!1,x,{}]}function Lc(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function fR({page:n,...t}){let{router:e}=eE(),i=B.useMemo(()=>WS(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?B.createElement(mR,{page:n,matches:i,...t}):null}function gR(n){let{manifest:t,routeModules:e}=nE(),[i,r]=B.useState([]);return B.useEffect(()=>{let o=!1;return aR(n,t,e).then(c=>{o||r(c)}),()=>{o=!0}},[n,t,e]),i}function mR({page:n,matches:t,...e}){let i=Ci(),{manifest:r,routeModules:o}=nE(),{basename:c}=eE(),{loaderData:h,matches:d}=hR(),g=B.useMemo(()=>Bx(n,t,d,r,i,"data"),[n,t,d,r,i]),y=B.useMemo(()=>Bx(n,t,d,r,i,"assets"),[n,t,d,r,i]),b=B.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let N=new Set,k=!1;if(t.forEach(P=>{let G=r.routes[P.route.id];!G||!G.hasLoader||(!g.some(K=>K.route.id===P.route.id)&&P.route.id in h&&o[P.route.id]?.shouldRevalidate||G.hasClientLoader?k=!0:N.add(P.route.id))}),N.size===0)return[];let M=iR(n,c,"data");return k&&N.size>0&&M.searchParams.set("_routes",t.filter(P=>N.has(P.route.id)).map(P=>P.route.id).join(",")),[M.pathname+M.search]},[c,h,i,r,g,t,n,o]),x=B.useMemo(()=>oR(y,r),[y,r]),E=gR(y);return B.createElement(B.Fragment,null,b.map(N=>B.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...e})),x.map(N=>B.createElement("link",{key:N,rel:"modulepreload",href:N,...e})),E.map(({key:N,link:k})=>B.createElement("link",{key:N,...k})))}function pR(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var iE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{iE&&(window.__reactRouterVersion="7.7.1")}catch{}function yR({basename:n,children:t,window:e}){let i=B.useRef();i.current==null&&(i.current=rN({window:e,v5Compat:!0}));let r=i.current,[o,c]=B.useState({action:r.action,location:r.location}),h=B.useCallback(d=>{B.startTransition(()=>c(d))},[c]);return B.useLayoutEffect(()=>r.listen(h),[r,h]),B.createElement(GN,{basename:n,children:t,location:o.location,navigationType:o.action,navigator:r})}var sE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,te=B.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:r,reloadDocument:o,replace:c,state:h,target:d,to:g,preventScrollReset:y,viewTransition:b,...x},E){let{basename:N}=B.useContext(Ei),k=typeof g=="string"&&sE.test(g),M,P=!1;if(typeof g=="string"&&k&&(M=g,iE))try{let R=new URL(window.location.href),I=g.startsWith("//")?new URL(R.protocol+g):new URL(g),L=zs(I.pathname,N);I.origin===R.origin&&L!=null?g=L+I.search+I.hash:P=!0}catch{wi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=ON(g,{relative:r}),[K,nt,Z]=dR(i,x),lt=xR(g,{replace:c,state:h,target:d,preventScrollReset:y,relative:r,viewTransition:b});function O(R){t&&t(R),R.defaultPrevented||lt(R)}let C=B.createElement("a",{...x,...Z,href:M||G,onClick:P||o?t:O,ref:pR(E,nt),target:d,"data-discover":!k&&e==="render"?"true":void 0});return K&&!k?B.createElement(B.Fragment,null,C,B.createElement(fR,{page:G})):C});te.displayName="Link";var _R=B.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:r=!1,style:o,to:c,viewTransition:h,children:d,...g},y){let b=Lu(c,{relative:g.relative}),x=Ci(),E=B.useContext(Wf),{navigator:N,basename:k}=B.useContext(Ei),M=E!=null&&CR(b)&&h===!0,P=N.encodeLocation?N.encodeLocation(b).pathname:b.pathname,G=x.pathname,K=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;e||(G=G.toLowerCase(),K=K?K.toLowerCase():null,P=P.toLowerCase()),K&&k&&(K=zs(K,k)||K);const nt=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let Z=G===P||!r&&G.startsWith(P)&&G.charAt(nt)==="/",lt=K!=null&&(K===P||!r&&K.startsWith(P)&&K.charAt(P.length)==="/"),O={isActive:Z,isPending:lt,isTransitioning:M},C=Z?t:void 0,R;typeof i=="function"?R=i(O):R=[i,Z?"active":null,lt?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let I=typeof o=="function"?o(O):o;return B.createElement(te,{...g,"aria-current":C,className:R,ref:y,style:I,to:c,viewTransition:h},typeof d=="function"?d(O):d)});_R.displayName="NavLink";var vR=B.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:r,state:o,method:c=qd,action:h,onSubmit:d,relative:g,preventScrollReset:y,viewTransition:b,...x},E)=>{let N=ER(),k=TR(h,{relative:g}),M=c.toLowerCase()==="get"?"get":"post",P=typeof h=="string"&&sE.test(h),G=K=>{if(d&&d(K),K.defaultPrevented)return;K.preventDefault();let nt=K.nativeEvent.submitter,Z=nt?.getAttribute("formmethod")||c;N(nt||K.currentTarget,{fetcherKey:t,method:Z,navigate:e,replace:r,state:o,relative:g,preventScrollReset:y,viewTransition:b})};return B.createElement("form",{ref:E,method:M,action:k,onSubmit:i?d:G,...x,"data-discover":!P&&n==="render"?"true":void 0})});vR.displayName="Form";function bR(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rE(n){let t=B.useContext(_l);return ve(t,bR(n)),t}function xR(n,{target:t,replace:e,state:i,preventScrollReset:r,relative:o,viewTransition:c}={}){let h=Ki(),d=Ci(),g=Lu(n,{relative:o});return B.useCallback(y=>{if(JN(y,t)){y.preventDefault();let b=e!==void 0?e:yu(d)===yu(g);h(n,{replace:b,state:i,preventScrollReset:r,relative:o,viewTransition:c})}},[d,h,g,e,i,t,n,r,o,c])}var wR=0,SR=()=>`__${String(++wR)}__`;function ER(){let{router:n}=rE("useSubmit"),{basename:t}=B.useContext(Ei),e=VN();return B.useCallback(async(i,r={})=>{let{action:o,method:c,encType:h,formData:d,body:g}=nR(i,t);if(r.navigate===!1){let y=r.fetcherKey||SR();await n.fetch(y,e,r.action||o,{preventScrollReset:r.preventScrollReset,formData:d,body:g,formMethod:r.method||c,formEncType:r.encType||h,flushSync:r.flushSync})}else await n.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:d,body:g,formMethod:r.method||c,formEncType:r.encType||h,replace:r.replace,state:r.state,fromRouteId:e,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,t,e])}function TR(n,{relative:t}={}){let{basename:e}=B.useContext(Ei),i=B.useContext(Ti);ve(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...Lu(n||".",{relative:t})},c=Ci();if(n==null){o.search=c.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(y=>y==="")){h.delete("index"),d.filter(b=>b).forEach(b=>h.append("index",b));let y=h.toString();o.search=y?`?${y}`:""}}return(!n||n===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:Ls([e,o.pathname])),yu(o)}function CR(n,{relative:t}={}){let e=B.useContext(XS);ve(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=rE("useViewTransitionState"),r=Lu(n,{relative:t});if(!e.isTransitioning)return!1;let o=zs(e.currentLocation.pathname,i)||e.currentLocation.pathname,c=zs(e.nextLocation.pathname,i)||e.nextLocation.pathname;return nf(r.pathname,c)!=null||nf(r.pathname,o)!=null}const aE=B.createContext();function oE({children:n}){const[t,e]=B.useState(()=>{const i=localStorage.getItem("darkMode");return i?JSON.parse(i):!1});return B.useEffect(()=>{document.documentElement.classList.toggle("dark",t),localStorage.setItem("darkMode",JSON.stringify(t))},[t]),_.jsx(aE.Provider,{value:{darkMode:t,setDarkMode:e},children:n})}function Gf(){return B.useContext(aE)}const AR=()=>{};var Hx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ut=function(n,t){if(!n)throw bl(t)},bl=function(n){return new Error("Firebase Database ("+lE.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},NR=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[e++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[e++],c=n[e++],h=n[e++],d=((r&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(d>>10)),t[i++]=String.fromCharCode(56320+(d&1023))}else{const o=n[e++],c=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|c&63)}}return t.join("")},qy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],c=r+1<n.length,h=c?n[r+1]:0,d=r+2<n.length,g=d?n[r+2]:0,y=o>>2,b=(o&3)<<4|h>>4;let x=(h&15)<<2|g>>6,E=g&63;d||(E=64,c||(x=64)),i.push(e[y],e[b],e[x],e[E])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(cE(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):NR(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=e[n.charAt(r++)],h=r<n.length?e[n.charAt(r)]:0;++r;const g=r<n.length?e[n.charAt(r)]:64;++r;const b=r<n.length?e[n.charAt(r)]:64;if(++r,o==null||h==null||g==null||b==null)throw new RR;const x=o<<2|h>>4;if(i.push(x),g!==64){const E=h<<4&240|g>>2;if(i.push(E),b!==64){const N=g<<6&192|b;i.push(N)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class RR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uE=function(n){const t=cE(n);return qy.encodeByteArray(t,!0)},rf=function(n){return uE(n).replace(/\./g,"")},af=function(n){try{return qy.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(n){return hE(void 0,n)}function hE(n,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const e=t;return new Date(e.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return t}for(const e in t)!t.hasOwnProperty(e)||!MR(e)||(n[e]=hE(n[e],t[e]));return n}function MR(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=()=>OR().__FIREBASE_DEFAULTS__,IR=()=>{if(typeof process>"u"||typeof Hx>"u")return;const n=Hx.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},jR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&af(n[1]);return t&&JSON.parse(t)},Wy=()=>{try{return AR()||DR()||IR()||jR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},dE=n=>Wy()?.emulatorHosts?.[n],fE=n=>{const t=dE(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},gE=()=>Wy()?.config,mE=n=>Wy()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Yy(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[rf(JSON.stringify(e)),rf(JSON.stringify(c)),""].join(".")}const nu={};function LR(){const n={prod:[],emulator:[]};for(const t of Object.keys(nu))nu[t]?n.emulator.push(t):n.prod.push(t);return n}function PR(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let Fx=!1;function Gy(n,t){if(typeof window>"u"||typeof document>"u"||!Ka(window.location.host)||nu[n]===t||nu[n]||Fx)return;nu[n]=t;function e(x){return`__firebase__banner__${x}`}const i="__firebase__banner",o=LR().prod.length>0;function c(){const x=document.getElementById(i);x&&x.remove()}function h(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function d(x,E){x.setAttribute("width","24"),x.setAttribute("id",E),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function g(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Fx=!0,c()},x}function y(x,E){x.setAttribute("id",E),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=PR(i),E=e("text"),N=document.getElementById(E)||document.createElement("span"),k=e("learnmore"),M=document.getElementById(k)||document.createElement("a"),P=e("preprendIcon"),G=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const K=x.element;h(K),y(M,k);const nt=g();d(G,P),K.append(G,N,M,nt),document.body.appendChild(K)}o?(N.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $y(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())}function UR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function yE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BR(){const n=bn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function HR(){return lE.NODE_ADMIN===!0}function FR(){try{return typeof indexedDB=="object"}catch{return!1}}function VR(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{t(r.error?.message||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR="FirebaseError";class Vs extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=qR,Object.setPrototypeOf(this,Vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uu.prototype.create)}}class Uu{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],c=o?WR(o,i):"Error",h=`${this.serviceName}: ${c} (${r}).`;return new Vs(r,h,i)}}function WR(n,t){return n.replace(YR,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const YR=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(n){return JSON.parse(n)}function tn(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=function(n){let t={},e={},i={},r="";try{const o=n.split(".");t=_u(af(o[0])||""),e=_u(af(o[1])||""),r=o[2],i=e.d||{},delete e.d}catch{}return{header:t,claims:e,data:i,signature:r}},GR=function(n){const t=_E(n),e=t.claims;return!!e&&typeof e=="object"&&e.hasOwnProperty("iat")},$R=function(n){const t=_E(n).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function cl(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]}function sy(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function of(n,t,e){const i={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=t.call(e,n[r],r,n));return i}function Mr(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const o=n[r],c=t[r];if(Vx(o)&&Vx(c)){if(!Mr(o,c))return!1}else if(o!==c)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function Vx(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Xc(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(o)}}),t}function Qc(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,e){e||(e=0);const i=this.W_;if(typeof t=="string")for(let b=0;b<16;b++)i[b]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(let b=0;b<16;b++)i[b]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(let b=16;b<80;b++){const x=i[b-3]^i[b-8]^i[b-14]^i[b-16];i[b]=(x<<1|x>>>31)&4294967295}let r=this.chain_[0],o=this.chain_[1],c=this.chain_[2],h=this.chain_[3],d=this.chain_[4],g,y;for(let b=0;b<80;b++){b<40?b<20?(g=h^o&(c^h),y=1518500249):(g=o^c^h,y=1859775393):b<60?(g=o&c|h&(o|c),y=2400959708):(g=o^c^h,y=3395469782);const x=(r<<5|r>>>27)+g+d+y+i[b]&4294967295;d=h,h=c,c=(o<<30|o>>>2)&4294967295,o=r,r=x}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(t,e){if(t==null)return;e===void 0&&(e=t.length);const i=e-this.blockSize;let r=0;const o=this.buf_;let c=this.inbuf_;for(;r<e;){if(c===0)for(;r<=i;)this.compress_(t,r),r+=this.blockSize;if(typeof t=="string"){for(;r<e;)if(o[c]=t.charCodeAt(r),++c,++r,c===this.blockSize){this.compress_(o),c=0;break}}else for(;r<e;)if(o[c]=t[r],++c,++r,c===this.blockSize){this.compress_(o),c=0;break}}this.inbuf_=c,this.total_+=e}digest(){const t=[];let e=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=e&255,e/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let o=24;o>=0;o-=8)t[i]=this.chain_[r]>>o&255,++i;return t}}function QR(n,t){const e=new KR(n,t);return e.subscribe.bind(e)}class KR{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");ZR(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=Np),r.error===void 0&&(r.error=Np),r.complete===void 0&&(r.complete=Np);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZR(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Np(){}function $f(n,t){return`${n} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);if(r>=55296&&r<=56319){const o=r-55296;i++,ut(i<n.length,"Surrogate pair missing trail surrogate.");const c=n.charCodeAt(i)-56320;r=65536+(o<<10)+c}r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):r<65536?(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},Xf=function(n){let t=0;for(let e=0;e<n.length;e++){const i=n.charCodeAt(e);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,e++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(n){return n&&n._delegate?n._delegate:n}class Or{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new Pu;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(nk(t))try{this.getOrInitializeService({instanceIdentifier:Ra})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=Ra){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ra){return this.instances.has(t)}getOptions(t=Ra){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&c.resolve(r)}return r}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),r=this.onInitCallbacks.get(i)??new Set;r.add(t),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&t(o,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:ek(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Ra){return this.component?this.component.multipleInstances?t:Ra:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ek(n){return n===Ra?void 0:n}function nk(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new tk(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Vt||(Vt={}));const sk={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},rk=Vt.INFO,ak={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},ok=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=ak[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Qf{constructor(t){this.name=t,this._logLevel=rk,this._logHandler=ok,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?sk[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const lk=(n,t)=>t.some(e=>n instanceof e);let qx,Wx;function ck(){return qx||(qx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uk(){return Wx||(Wx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vE=new WeakMap,ry=new WeakMap,bE=new WeakMap,Rp=new WeakMap,Xy=new WeakMap;function hk(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{e(Ar(n.result)),r()},c=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&vE.set(e,n)}).catch(()=>{}),Xy.set(t,n),t}function dk(n){if(ry.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{e(),r()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});ry.set(n,t)}let ay={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return ry.get(n);if(t==="objectStoreNames")return n.objectStoreNames||bE.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Ar(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function fk(n){ay=n(ay)}function gk(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(kp(this),t,...e);return bE.set(i,t.sort?t.sort():[t]),Ar(i)}:uk().includes(n)?function(...t){return n.apply(kp(this),t),Ar(vE.get(this))}:function(...t){return Ar(n.apply(kp(this),t))}}function mk(n){return typeof n=="function"?gk(n):(n instanceof IDBTransaction&&dk(n),lk(n,ck())?new Proxy(n,ay):n)}function Ar(n){if(n instanceof IDBRequest)return hk(n);if(Rp.has(n))return Rp.get(n);const t=mk(n);return t!==n&&(Rp.set(n,t),Xy.set(t,n)),t}const kp=n=>Xy.get(n);function pk(n,t,{blocked:e,upgrade:i,blocking:r,terminated:o}={}){const c=indexedDB.open(n,t),h=Ar(c);return i&&c.addEventListener("upgradeneeded",d=>{i(Ar(c.result),d.oldVersion,d.newVersion,Ar(c.transaction),d)}),e&&c.addEventListener("blocked",d=>e(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),r&&d.addEventListener("versionchange",g=>r(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const yk=["get","getKey","getAll","getAllKeys","count"],_k=["put","add","delete","clear"],Mp=new Map;function Yx(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Mp.get(t))return Mp.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=_k.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||yk.includes(e)))return;const o=async function(c,...h){const d=this.transaction(c,r?"readwrite":"readonly");let g=d.store;return i&&(g=g.index(h.shift())),(await Promise.all([g[e](...h),r&&d.done]))[0]};return Mp.set(t,o),o}fk(n=>({...n,get:(t,e,i)=>Yx(t,e)||n.get(t,e,i),has:(t,e)=>!!Yx(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(bk(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function bk(n){return n.getComponent()?.type==="VERSION"}const oy="@firebase/app",Gx="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=new Qf("@firebase/app"),xk="@firebase/app-compat",wk="@firebase/analytics-compat",Sk="@firebase/analytics",Ek="@firebase/app-check-compat",Tk="@firebase/app-check",Ck="@firebase/auth",Ak="@firebase/auth-compat",Nk="@firebase/database",Rk="@firebase/data-connect",kk="@firebase/database-compat",Mk="@firebase/functions",Ok="@firebase/functions-compat",Dk="@firebase/installations",Ik="@firebase/installations-compat",jk="@firebase/messaging",Lk="@firebase/messaging-compat",Pk="@firebase/performance",Uk="@firebase/performance-compat",zk="@firebase/remote-config",Bk="@firebase/remote-config-compat",Hk="@firebase/storage",Fk="@firebase/storage-compat",Vk="@firebase/firestore",qk="@firebase/ai",Wk="@firebase/firestore-compat",Yk="firebase",Gk="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly="[DEFAULT]",$k={[oy]:"fire-core",[xk]:"fire-core-compat",[Sk]:"fire-analytics",[wk]:"fire-analytics-compat",[Tk]:"fire-app-check",[Ek]:"fire-app-check-compat",[Ck]:"fire-auth",[Ak]:"fire-auth-compat",[Nk]:"fire-rtdb",[Rk]:"fire-data-connect",[kk]:"fire-rtdb-compat",[Mk]:"fire-fn",[Ok]:"fire-fn-compat",[Dk]:"fire-iid",[Ik]:"fire-iid-compat",[jk]:"fire-fcm",[Lk]:"fire-fcm-compat",[Pk]:"fire-perf",[Uk]:"fire-perf-compat",[zk]:"fire-rc",[Bk]:"fire-rc-compat",[Hk]:"fire-gcs",[Fk]:"fire-gcs-compat",[Vk]:"fire-fst",[Wk]:"fire-fst-compat",[qk]:"fire-vertex","fire-js":"fire-js",[Yk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf=new Map,Xk=new Map,cy=new Map;function $x(n,t){try{n.container.addComponent(t)}catch(e){Bs.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Fa(n){const t=n.name;if(cy.has(t))return Bs.debug(`There were multiple attempts to register component ${t}.`),!1;cy.set(t,n);for(const e of lf.values())$x(e,n);for(const e of Xk.values())$x(e,n);return!0}function Kf(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function An(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Nr=new Uu("app","Firebase",Qk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Or("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Nr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za=Gk;function xE(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:ly,automaticDataCollectionEnabled:!0,...t},r=i.name;if(typeof r!="string"||!r)throw Nr.create("bad-app-name",{appName:String(r)});if(e||(e=gE()),!e)throw Nr.create("no-options");const o=lf.get(r);if(o){if(Mr(e,o.options)&&Mr(i,o.config))return o;throw Nr.create("duplicate-app",{appName:r})}const c=new ik(r);for(const d of cy.values())c.addComponent(d);const h=new Kk(e,i,c);return lf.set(r,h),h}function Qy(n=ly){const t=lf.get(n);if(!t&&n===ly&&gE())return xE();if(!t)throw Nr.create("no-app",{appName:n});return t}function Xi(n,t,e){let i=$k[n]??n;e&&(i+=`-${e}`);const r=i.match(/\s|\//),o=t.match(/\s|\//);if(r||o){const c=[`Unable to register library "${i}" with version "${t}":`];r&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&c.push("and"),o&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Bs.warn(c.join(" "));return}Fa(new Or(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk="firebase-heartbeat-database",Jk=1,vu="firebase-heartbeat-store";let Op=null;function wE(){return Op||(Op=pk(Zk,Jk,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(vu)}catch(e){console.warn(e)}}}}).catch(n=>{throw Nr.create("idb-open",{originalErrorMessage:n.message})})),Op}async function tM(n){try{const e=(await wE()).transaction(vu),i=await e.objectStore(vu).get(SE(n));return await e.done,i}catch(t){if(t instanceof Vs)Bs.warn(t.message);else{const e=Nr.create("idb-get",{originalErrorMessage:t?.message});Bs.warn(e.message)}}}async function Xx(n,t){try{const i=(await wE()).transaction(vu,"readwrite");await i.objectStore(vu).put(t,SE(n)),await i.done}catch(e){if(e instanceof Vs)Bs.warn(e.message);else{const i=Nr.create("idb-set",{originalErrorMessage:e?.message});Bs.warn(i.message)}}}function SE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM=1024,nM=30;class iM{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new rM(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Qx();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>nM){const r=aM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Bs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Qx(),{heartbeatsToSend:e,unsentEntries:i}=sM(this._heartbeatsCache.heartbeats),r=rf(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return Bs.warn(t),""}}}function Qx(){return new Date().toISOString().substring(0,10)}function sM(n,t=eM){const e=[];let i=n.slice();for(const r of n){const o=e.find(c=>c.agent===r.agent);if(o){if(o.dates.push(r.date),Kx(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),Kx(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class rM{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FR()?VR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await tM(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Xx(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Xx(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Kx(n){return rf(JSON.stringify({version:2,heartbeats:n})).length}function aM(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oM(n){Fa(new Or("platform-logger",t=>new vk(t),"PRIVATE")),Fa(new Or("heartbeat",t=>new iM(t),"PRIVATE")),Xi(oy,Gx,n),Xi(oy,Gx,"esm2020"),Xi("fire-js","")}oM("");var lM="firebase",cM="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xi(lM,cM,"app");function EE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uM=EE,TE=new Uu("auth","Firebase",EE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cf=new Qf("@firebase/auth");function hM(n,...t){cf.logLevel<=Vt.WARN&&cf.warn(`Auth (${Za}): ${n}`,...t)}function Yd(n,...t){cf.logLevel<=Vt.ERROR&&cf.error(`Auth (${Za}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(n,...t){throw Zy(n,...t)}function vi(n,...t){return Zy(n,...t)}function Ky(n,t,e){const i={...uM(),[t]:e};return new Uu("auth","Firebase",i).create(t,{appName:n.name})}function Ps(n){return Ky(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dM(n,t,e){const i=e;if(!(t instanceof i))throw i.name!==t.constructor.name&&si(n,"argument-error"),Ky(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Zy(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return TE.create(n,...t)}function bt(n,t,...e){if(!n)throw Zy(t,...e)}function Ms(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Yd(t),new Error(t)}function Hs(n,t){n||Ms(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(){return typeof self<"u"&&self.location?.href||""}function fM(){return Zx()==="http:"||Zx()==="https:"}function Zx(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fM()||zR()||"connection"in navigator)?navigator.onLine:!0}function mM(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(t,e){this.shortDelay=t,this.longDelay=e,Hs(e>t,"Short delay should be less than long delay!"),this.isMobile=$y()||yE()}get(){return gM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(n,t){Hs(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_M=new zu(3e4,6e4);function Br(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function qs(n,t,e,i,r={}){return AE(n,r,async()=>{let o={},c={};i&&(t==="GET"?c=i:o={body:JSON.stringify(i)});const h=xl({key:n.config.apiKey,...c}).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const g={method:t,headers:d,...o};return UR()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Ka(n.emulatorConfig.host)&&(g.credentials="include"),CE.fetch()(await NE(n,n.config.apiHost,e,h),g)})}async function AE(n,t,e){n._canInitEmulator=!1;const i={...pM,...t};try{const r=new bM(n),o=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw Td(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[d,g]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Td(n,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw Td(n,"email-already-in-use",c);if(d==="USER_DISABLED")throw Td(n,"user-disabled",c);const y=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Ky(n,y,g);si(n,y)}}catch(r){if(r instanceof Vs)throw r;si(n,"network-request-failed",{message:String(r)})}}async function Bu(n,t,e,i,r={}){const o=await qs(n,t,e,i,r);return"mfaPendingCredential"in o&&si(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function NE(n,t,e,i){const r=`${t}${e}?${i}`,o=n,c=o.config.emulator?Jy(n.config,r):`${n.config.apiScheme}://${r}`;return yM.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function vM(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(vi(this.auth,"network-request-failed")),_M.get())})}}function Td(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=vi(n,t,i);return r.customData._tokenResponse=e,r}function Jx(n){return n!==void 0&&n.enterprise!==void 0}class xM{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return vM(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function wM(n,t){return qs(n,"GET","/v2/recaptchaConfig",Br(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SM(n,t){return qs(n,"POST","/v1/accounts:delete",t)}async function uf(n,t){return qs(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function EM(n,t=!1){const e=cn(n),i=await e.getIdToken(t),r=t_(i);bt(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,c=o?.sign_in_provider;return{claims:r,token:i,authTime:iu(Dp(r.auth_time)),issuedAtTime:iu(Dp(r.iat)),expirationTime:iu(Dp(r.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Dp(n){return Number(n)*1e3}function t_(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return Yd("JWT malformed, contained fewer than 3 sections"),null;try{const r=af(e);return r?JSON.parse(r):(Yd("Failed to decode base64 JWT payload"),null)}catch(r){return Yd("Caught error parsing JWT payload as JSON",r?.toString()),null}}function tw(n){const t=t_(n);return bt(t,"internal-error"),bt(typeof t.exp<"u","internal-error"),bt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ul(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof Vs&&TM(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function TM({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=iu(this.lastLoginAt),this.creationTime=iu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hf(n){const t=n.auth,e=await n.getIdToken(),i=await ul(n,uf(t,{idToken:e}));bt(i?.users.length,t,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const o=r.providerUserInfo?.length?RE(r.providerUserInfo):[],c=NM(n.providerData,o),h=n.isAnonymous,d=!(n.email&&r.passwordHash)&&!c?.length,g=h?d:!1,y={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:c,metadata:new hy(r.createdAt,r.lastLoginAt),isAnonymous:g};Object.assign(n,y)}async function AM(n){const t=cn(n);await hf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function NM(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function RE(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RM(n,t){const e=await AE(n,{},async()=>{const i=xl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,c=await NE(n,r,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:i};return n.emulatorConfig&&Ka(n.emulatorConfig.host)&&(d.credentials="include"),CE.fetch()(c,d)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function kM(n,t){return qs(n,"POST","/v2/accounts:revokeToken",Br(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){bt(t.idToken,"internal-error"),bt(typeof t.idToken<"u","internal-error"),bt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):tw(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){bt(t.length!==0,"internal-error");const e=tw(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:o}=await RM(t,e);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:o}=e,c=new tl;return i&&(bt(typeof i=="string","internal-error",{appName:t}),c.refreshToken=i),r&&(bt(typeof r=="string","internal-error",{appName:t}),c.accessToken=r),o&&(bt(typeof o=="number","internal-error",{appName:t}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new tl,this.toJSON())}_performRefresh(){return Ms("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(n,t){bt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class pi{constructor({uid:t,auth:e,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new CM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new hy(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const e=await ul(this,this.stsTokenManager.getToken(this.auth,t));return bt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return EM(this,t)}reload(){return AM(this)}_assign(t){this!==t&&(bt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new pi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await hf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(An(this.auth.app))return Promise.reject(Ps(this.auth));const t=await this.getIdToken();return await ul(this,SM(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,r=e.email??void 0,o=e.phoneNumber??void 0,c=e.photoURL??void 0,h=e.tenantId??void 0,d=e._redirectEventId??void 0,g=e.createdAt??void 0,y=e.lastLoginAt??void 0,{uid:b,emailVerified:x,isAnonymous:E,providerData:N,stsTokenManager:k}=e;bt(b&&k,t,"internal-error");const M=tl.fromJSON(this.name,k);bt(typeof b=="string",t,"internal-error"),vr(i,t.name),vr(r,t.name),bt(typeof x=="boolean",t,"internal-error"),bt(typeof E=="boolean",t,"internal-error"),vr(o,t.name),vr(c,t.name),vr(h,t.name),vr(d,t.name),vr(g,t.name),vr(y,t.name);const P=new pi({uid:b,auth:t,email:r,emailVerified:x,displayName:i,isAnonymous:E,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:M,createdAt:g,lastLoginAt:y});return N&&Array.isArray(N)&&(P.providerData=N.map(G=>({...G}))),d&&(P._redirectEventId=d),P}static async _fromIdTokenResponse(t,e,i=!1){const r=new tl;r.updateFromServerResponse(e);const o=new pi({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await hf(o),o}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];bt(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?RE(r.providerUserInfo):[],c=!(r.email&&r.passwordHash)&&!o?.length,h=new tl;h.updateFromIdToken(i);const d=new pi({uid:r.localId,auth:t,stsTokenManager:h,isAnonymous:c}),g={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new hy(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(d,g),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew=new Map;function Os(n){Hs(n instanceof Function,"Expected a class definition");let t=ew.get(n);return t?(Hs(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,ew.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}kE.type="NONE";const nw=kE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(n,t,e){return`firebase:${n}:${t}:${e}`}class el{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=Gd(this.userKey,r.apiKey,o),this.fullPersistenceKey=Gd("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await uf(this.auth,{idToken:t}).catch(()=>{});return e?pi._fromGetAccountInfoResponse(this.auth,e,t):null}return pi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new el(Os(nw),t,i);const r=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let o=r[0]||Os(nw);const c=Gd(i,t.config.apiKey,t.name);let h=null;for(const g of e)try{const y=await g._get(c);if(y){let b;if(typeof y=="string"){const x=await uf(t,{idToken:y}).catch(()=>{});if(!x)break;b=await pi._fromGetAccountInfoResponse(t,x,y)}else b=pi._fromJSON(t,y);g!==o&&(h=b),o=g;break}}catch{}const d=r.filter(g=>g._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new el(o,t,i):(o=d[0],h&&await o._set(c,h.toJSON()),await Promise.all(e.map(async g=>{if(g!==o)try{await g._remove(c)}catch{}})),new el(o,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(IE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ME(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(LE(t))return"Blackberry";if(PE(t))return"Webos";if(OE(t))return"Safari";if((t.includes("chrome/")||DE(t))&&!t.includes("edge/"))return"Chrome";if(jE(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function ME(n=bn()){return/firefox\//i.test(n)}function OE(n=bn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function DE(n=bn()){return/crios\//i.test(n)}function IE(n=bn()){return/iemobile/i.test(n)}function jE(n=bn()){return/android/i.test(n)}function LE(n=bn()){return/blackberry/i.test(n)}function PE(n=bn()){return/webos/i.test(n)}function e_(n=bn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function MM(n=bn()){return e_(n)&&!!window.navigator?.standalone}function OM(){return BR()&&document.documentMode===10}function UE(n=bn()){return e_(n)||jE(n)||PE(n)||LE(n)||/windows phone/i.test(n)||IE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(n,t=[]){let e;switch(n){case"Browser":e=iw(bn());break;case"Worker":e=`${iw(bn())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Za}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((c,h)=>{try{const d=t(o);c(d)}catch(d){h(d)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IM(n,t={}){return qs(n,"GET","/v2/passwordPolicy",Br(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM=6;class LM{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??jM,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sw(this),this.idTokenSubscription=new sw(this),this.beforeStateQueue=new DM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Os(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await el.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await uf(this,{idToken:t}),i=await pi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(An(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=i?._redirectEventId,h=await this.tryRedirectSignIn(t);(!o||o===c)&&h?.user&&(i=h.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await hf(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=mM()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(An(this.app))return Promise.reject(Ps(this));const e=t?cn(t):null;return e&&bt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&bt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return An(this.app)?Promise.reject(Ps(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return An(this.app)?Promise.reject(Ps(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Os(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await IM(this),e=new LM(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Uu("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await kM(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Os(t)||this._popupRedirectResolver;bt(e,this,"argument-error"),this.redirectPersistenceManager=await el.create(this,[Os(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof e=="function"){const d=t.addObserver(e,i,r);return()=>{c=!0,d()}}else{const d=t.addObserver(e);return()=>{c=!0,d()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=zE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&hM(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Hr(n){return cn(n)}class sw{constructor(t){this.auth=t,this.observer=null,this.addObserver=QR(e=>this.observer=e)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UM(n){Zf=n}function BE(n){return Zf.loadJS(n)}function zM(){return Zf.recaptchaEnterpriseScript}function BM(){return Zf.gapiScript}function HM(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class FM{constructor(){this.enterprise=new VM}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class VM{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const qM="recaptcha-enterprise",HE="NO_RECAPTCHA";class WM{constructor(t){this.type=qM,this.auth=Hr(t)}async verify(t="verify",e=!1){async function i(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,h)=>{wM(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const g=new xM(d);return o.tenantId==null?o._agentRecaptchaConfig=g:o._tenantRecaptchaConfigs[o.tenantId]=g,c(g.siteKey)}}).catch(d=>{h(d)})})}function r(o,c,h){const d=window.grecaptcha;Jx(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:t}).then(g=>{c(g)}).catch(()=>{c(HE)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new FM().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{i(this.auth).then(h=>{if(!e&&Jx(window.grecaptcha))r(h,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let d=zM();d.length!==0&&(d+=h),BE(d).then(()=>{r(h,o,c)}).catch(g=>{c(g)})}}).catch(h=>{c(h)})})}}async function rw(n,t,e,i=!1,r=!1){const o=new WM(n);let c;if(r)c=HE;else try{c=await o.verify(e)}catch{c=await o.verify(e,!0)}const h={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,g=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function dy(n,t,e,i,r){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await rw(n,t,e,e==="getOobCode");return i(n,o)}else return i(n,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await rw(n,t,e,e==="getOobCode");return i(n,c)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(n,t){const e=Kf(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),o=e.getOptions();if(Mr(o,t??{}))return r;si(r,"already-initialized")}return e.initialize({options:t})}function GM(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Os);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function $M(n,t,e){const i=Hr(n);bt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,o=FE(t),{host:c,port:h}=XM(t),d=h===null?"":`:${h}`,g={url:`${o}//${c}${d}/`},y=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){bt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),bt(Mr(g,i.config.emulator)&&Mr(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,Ka(c)?(Yy(`${o}//${c}${d}`),Gy("Auth",!0)):QM()}function FE(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function XM(n){const t=FE(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:aw(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:aw(c)}}}function aw(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function QM(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Ms("not implemented")}_getIdTokenResponse(t){return Ms("not implemented")}_linkToIdToken(t,e){return Ms("not implemented")}_getReauthenticationResolver(t){return Ms("not implemented")}}async function KM(n,t){return qs(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZM(n,t){return Bu(n,"POST","/v1/accounts:signInWithPassword",Br(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JM(n,t){return Bu(n,"POST","/v1/accounts:signInWithEmailLink",Br(n,t))}async function tO(n,t){return Bu(n,"POST","/v1/accounts:signInWithEmailLink",Br(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends n_{constructor(t,e,i,r=null){super("password",i),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new bu(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new bu(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dy(t,e,"signInWithPassword",ZM);case"emailLink":return JM(t,{email:this._email,oobCode:this._password});default:si(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dy(t,i,"signUpPassword",KM);case"emailLink":return tO(t,{idToken:e,email:this._email,oobCode:this._password});default:si(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nl(n,t){return Bu(n,"POST","/v1/accounts:signInWithIdp",Br(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO="http://localhost";class Va extends n_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Va(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):si("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r,...o}=e;if(!i||!r)return null;const c=new Va(i,r);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return nl(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,nl(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,nl(t,e)}buildRequest(){const t={requestUri:eO,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=xl(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function iO(n){const t=Xc(Qc(n)).link,e=t?Xc(Qc(t)).deep_link_id:null,i=Xc(Qc(n)).deep_link_id;return(i?Xc(Qc(i)).link:null)||i||e||t||n}class i_{constructor(t){const e=Xc(Qc(t)),i=e.apiKey??null,r=e.oobCode??null,o=nO(e.mode??null);bt(i&&r&&o,"argument-error"),this.apiKey=i,this.operation=o,this.code=r,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=iO(t);try{return new i_(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(){this.providerId=wl.PROVIDER_ID}static credential(t,e){return bu._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=i_.parseLink(e);return bt(i,"argument-error"),bu._fromEmailAndCode(t,i.code,i.tenantId)}}wl.PROVIDER_ID="password";wl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu extends s_{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends Hu{constructor(){super("facebook.com")}static credential(t){return Va._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return xr.credentialFromTaggedObject(t)}static credentialFromError(t){return xr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return xr.credential(t.oauthAccessToken)}catch{return null}}}xr.FACEBOOK_SIGN_IN_METHOD="facebook.com";xr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends Hu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Va._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Rs.credentialFromTaggedObject(t)}static credentialFromError(t){return Rs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return Rs.credential(e,i)}catch{return null}}}Rs.GOOGLE_SIGN_IN_METHOD="google.com";Rs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends Hu{constructor(){super("github.com")}static credential(t){return Va._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return wr.credentialFromTaggedObject(t)}static credentialFromError(t){return wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return wr.credential(t.oauthAccessToken)}catch{return null}}}wr.GITHUB_SIGN_IN_METHOD="github.com";wr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends Hu{constructor(){super("twitter.com")}static credential(t,e){return Va._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Sr.credentialFromTaggedObject(t)}static credentialFromError(t){return Sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return Sr.credential(e,i)}catch{return null}}}Sr.TWITTER_SIGN_IN_METHOD="twitter.com";Sr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sO(n,t){return Bu(n,"POST","/v1/accounts:signUp",Br(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const o=await pi._fromIdTokenResponse(t,i,r),c=ow(i);return new qa({user:o,providerId:c,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=ow(i);return new qa({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function ow(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df extends Vs{constructor(t,e,i,r){super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,df.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new df(t,e,i,r)}}function VE(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?df._fromErrorAndOperation(n,o,t,i):o})}async function rO(n,t,e=!1){const i=await ul(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return qa._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aO(n,t,e=!1){const{auth:i}=n;if(An(i.app))return Promise.reject(Ps(i));const r="reauthenticate";try{const o=await ul(n,VE(i,r,t,n),e);bt(o.idToken,i,"internal-error");const c=t_(o.idToken);bt(c,i,"internal-error");const{sub:h}=c;return bt(n.uid===h,i,"user-mismatch"),qa._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&si(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qE(n,t,e=!1){if(An(n.app))return Promise.reject(Ps(n));const i="signIn",r=await VE(n,i,t),o=await qa._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(o.user),o}async function oO(n,t){return qE(Hr(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WE(n){const t=Hr(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function lw(n,t,e){if(An(n.app))return Promise.reject(Ps(n));const i=Hr(n),c=await dy(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sO).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&WE(n),d}),h=await qa._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(h.user),h}function lO(n,t,e){return An(n.app)?Promise.reject(Ps(n)):oO(cn(n),wl.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&WE(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cO(n,t){return qs(n,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uO(n,{displayName:t,photoURL:e}){if(t===void 0&&e===void 0)return;const i=cn(n),o={idToken:await i.getIdToken(),displayName:t,photoUrl:e,returnSecureToken:!0},c=await ul(i,cO(i.auth,o));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const h=i.providerData.find(({providerId:d})=>d==="password");h&&(h.displayName=i.displayName,h.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function hO(n,t,e,i){return cn(n).onIdTokenChanged(t,e,i)}function dO(n,t,e){return cn(n).beforeAuthStateChanged(t,e)}function YE(n,t,e,i){return cn(n).onAuthStateChanged(t,e,i)}function GE(n){return cn(n).signOut()}const ff="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(ff,"1"),this.storage.removeItem(ff),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=1e3,gO=10;class XE extends $E{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=UE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,h,d)=>{this.notifyListeners(c,d)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const c=this.storage.getItem(i);!e&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);OM()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,gO):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},fO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}XE.type="LOCAL";const mO=XE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE extends $E{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}QE.type="SESSION";const KE=QE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new Jf(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:o}=e.data,c=this.handlersMap[r];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const h=Array.from(c).map(async g=>g(e.origin,o)),d=await pO(h);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:d})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,c;return new Promise((h,d)=>{const g=r_("",20);r.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},i);c={messageChannel:r,onMessage(b){const x=b;if(x.data.eventId===g)switch(x.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(x.data.response);break;default:clearTimeout(y),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(c),r.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[r.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(){return window}function _O(n){Qi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(){return typeof Qi().WorkerGlobalScope<"u"&&typeof Qi().importScripts=="function"}async function vO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bO(){return navigator?.serviceWorker?.controller||null}function xO(){return ZE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="firebaseLocalStorageDb",wO=1,gf="firebaseLocalStorage",t2="fbase_key";class Fu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function tg(n,t){return n.transaction([gf],t?"readwrite":"readonly").objectStore(gf)}function SO(){const n=indexedDB.deleteDatabase(JE);return new Fu(n).toPromise()}function fy(){const n=indexedDB.open(JE,wO);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(gf,{keyPath:t2})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(gf)?t(i):(i.close(),await SO(),t(await fy()))})})}async function cw(n,t,e){const i=tg(n,!0).put({[t2]:t,value:e});return new Fu(i).toPromise()}async function EO(n,t){const e=tg(n,!1).get(t),i=await new Fu(e).toPromise();return i===void 0?null:i.value}function uw(n,t){const e=tg(n,!0).delete(t);return new Fu(e).toPromise()}const TO=800,CO=3;class e2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fy(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>CO)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jf._getInstance(xO()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await vO(),!this.activeServiceWorker)return;this.sender=new yO(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||bO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await fy();return await cw(t,ff,"1"),await uw(t,ff),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>cw(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>EO(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>uw(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const o=tg(r,!1).getAll();return new Fu(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:o}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}e2.type="LOCAL";const AO=e2;new zu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(n,t){return t?Os(t):(bt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_ extends n_{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return nl(t,this._buildIdpRequest())}_linkToIdToken(t,e){return nl(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return nl(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function NO(n){return qE(n.auth,new a_(n),n.bypassAuthState)}function RO(n){const{auth:t,user:e}=n;return bt(e,t,"internal-error"),aO(e,new a_(n),n.bypassAuthState)}async function kO(n){const{auth:t,user:e}=n;return bt(e,t,"internal-error"),rO(e,new a_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(t,e,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:o,error:c,type:h}=t;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return NO;case"linkViaPopup":case"linkViaRedirect":return kO;case"reauthViaPopup":case"reauthViaRedirect":return RO;default:si(this.auth,"internal-error")}}resolve(t){Hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO=new zu(2e3,1e4);async function OO(n,t,e){if(An(n.app))return Promise.reject(vi(n,"operation-not-supported-in-this-environment"));const i=Hr(n);dM(n,t,s_);const r=n2(i,e);return new Ia(i,"signInViaPopup",t,r).executeNotNull()}class Ia extends i2{constructor(t,e,i,r,o){super(t,e,r,o),this.provider=i,this.authWindow=null,this.pollId=null,Ia.currentPopupAction&&Ia.currentPopupAction.cancel(),Ia.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return bt(t,this.auth,"internal-error"),t}async onExecution(){Hs(this.filter.length===1,"Popup operations only handle one event");const t=r_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ia.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,MO.get())};t()}}Ia.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO="pendingRedirect",$d=new Map;class IO extends i2{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=$d.get(this.auth._key());if(!t){try{const i=await jO(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}$d.set(this.auth._key(),t)}return this.bypassAuthState||$d.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jO(n,t){const e=UO(t),i=PO(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function LO(n,t){$d.set(n._key(),t)}function PO(n){return Os(n._redirectPersistence)}function UO(n){return Gd(DO,n.config.apiKey,n.name)}async function zO(n,t,e=!1){if(An(n.app))return Promise.reject(Ps(n));const i=Hr(n),r=n2(i,t),c=await new IO(i,r,e).execute();return c&&!e&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=600*1e3;class HO{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!FO(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!s2(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(vi(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=BO&&this.cachedEventUids.clear(),this.cachedEventUids.has(hw(t))}saveEventToCache(t){this.cachedEventUids.add(hw(t)),this.lastProcessedEventTime=Date.now()}}function hw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function s2({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function FO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return s2(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VO(n,t={}){return qs(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WO=/^https?/;async function YO(n){if(n.config.emulator)return;const{authorizedDomains:t}=await VO(n);for(const e of t)try{if(GO(e))return}catch{}si(n,"unauthorized-domain")}function GO(n){const t=uy(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===i}if(!WO.test(e))return!1;if(qO.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O=new zu(3e4,6e4);function dw(){const n=Qi().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function XO(n){return new Promise((t,e)=>{function i(){dw(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{dw(),e(vi(n,"network-request-failed"))},timeout:$O.get()})}if(Qi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Qi().gapi?.load)i();else{const r=HM("iframefcb");return Qi()[r]=()=>{gapi.load?i():e(vi(n,"network-request-failed"))},BE(`${BM()}?onload=${r}`).catch(o=>e(o))}}).catch(t=>{throw Xd=null,t})}let Xd=null;function QO(n){return Xd=Xd||XO(n),Xd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=new zu(5e3,15e3),ZO="__/auth/iframe",JO="emulator/auth/iframe",tD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nD(n){const t=n.config;bt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Jy(t,JO):`https://${n.config.authDomain}/${ZO}`,i={apiKey:t.apiKey,appName:n.name,v:Za},r=eD.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${xl(i).slice(1)}`}async function iD(n){const t=await QO(n),e=Qi().gapi;return bt(e,n,"internal-error"),t.open({where:document.body,url:nD(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tD,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const c=vi(n,"network-request-failed"),h=Qi().setTimeout(()=>{o(c)},KO.get());function d(){Qi().clearTimeout(h),r(i)}i.ping(d).then(d,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rD=500,aD=600,oD="_blank",lD="http://localhost";class fw{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cD(n,t,e,i=rD,r=aD){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const d={...sD,width:i.toString(),height:r.toString(),top:o,left:c},g=bn().toLowerCase();e&&(h=DE(g)?oD:e),ME(g)&&(t=t||lD,d.scrollbars="yes");const y=Object.entries(d).reduce((x,[E,N])=>`${x}${E}=${N},`,"");if(MM(g)&&h!=="_self")return uD(t||"",h),new fw(null);const b=window.open(t||"",h,y);bt(b,n,"popup-blocked");try{b.focus()}catch{}return new fw(b)}function uD(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD="__/auth/handler",dD="emulator/auth/handler",fD=encodeURIComponent("fac");async function gw(n,t,e,i,r,o){bt(n.config.authDomain,n,"auth-domain-config-required"),bt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Za,eventId:r};if(t instanceof s_){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",sy(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,b]of Object.entries({}))c[y]=b}if(t instanceof Hu){const y=t.getScopes().filter(b=>b!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const d=await n._getAppCheckToken(),g=d?`#${fD}=${encodeURIComponent(d)}`:"";return`${gD(n)}?${xl(h).slice(1)}${g}`}function gD({config:n}){return n.emulator?Jy(n,dD):`https://${n.authDomain}/${hD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip="webStorageSupport";class mD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=KE,this._completeRedirectFn=zO,this._overrideRedirectResult=LO}async _openPopup(t,e,i,r){Hs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await gw(t,e,i,uy(),r);return cD(t,o,r_())}async _openRedirect(t,e,i,r){await this._originValidation(t);const o=await gw(t,e,i,uy(),r);return _O(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:o}=this.eventManagers[e];return r?Promise.resolve(r):(Hs(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await iD(t),i=new HO(t);return e.register("authEvent",r=>(bt(r?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Ip,{type:Ip},r=>{const o=r?.[0]?.[Ip];o!==void 0&&e(!!o),si(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=YO(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return UE()||OE()||e_()}}const pD=mD;var mw="@firebase/auth",pw="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vD(n){Fa(new Or("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;bt(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zE(n)},g=new PM(i,r,o,d);return GM(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Fa(new Or("auth-internal",t=>{const e=Hr(t.getProvider("auth").getImmediate());return(i=>new yD(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xi(mw,pw,_D(n)),Xi(mw,pw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=300,xD=mE("authIdTokenMaxAge")||bD;let yw=null;const wD=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>xD)return;const r=e?.token;yw!==r&&(yw=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function SD(n=Qy()){const t=Kf(n,"auth");if(t.isInitialized())return t.getImmediate();const e=YM(n,{popupRedirectResolver:pD,persistence:[AO,mO,KE]}),i=mE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=wD(o.toString());dO(e,c,()=>c(e.currentUser)),hO(e,h=>c(h))}}const r=dE("auth");return r&&$M(e,`http://${r}`),e}function ED(){return document.getElementsByTagName("head")?.[0]??document}UM({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const o=vi("internal-error");o.customData=r,e(o)},i.type="text/javascript",i.charset="UTF-8",ED().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vD("Browser");var _w=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var o_;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,C){function R(){}R.prototype=C.prototype,O.D=C.prototype,O.prototype=new R,O.prototype.constructor=O,O.C=function(I,L,z){for(var D=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)D[Tt-2]=arguments[Tt];return C.prototype[L].apply(I,D)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(O,C,R){R||(R=0);var I=Array(16);if(typeof C=="string")for(var L=0;16>L;++L)I[L]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(L=0;16>L;++L)I[L]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=O.g[0],R=O.g[1],L=O.g[2];var z=O.g[3],D=C+(z^R&(L^z))+I[0]+3614090360&4294967295;C=R+(D<<7&4294967295|D>>>25),D=z+(L^C&(R^L))+I[1]+3905402710&4294967295,z=C+(D<<12&4294967295|D>>>20),D=L+(R^z&(C^R))+I[2]+606105819&4294967295,L=z+(D<<17&4294967295|D>>>15),D=R+(C^L&(z^C))+I[3]+3250441966&4294967295,R=L+(D<<22&4294967295|D>>>10),D=C+(z^R&(L^z))+I[4]+4118548399&4294967295,C=R+(D<<7&4294967295|D>>>25),D=z+(L^C&(R^L))+I[5]+1200080426&4294967295,z=C+(D<<12&4294967295|D>>>20),D=L+(R^z&(C^R))+I[6]+2821735955&4294967295,L=z+(D<<17&4294967295|D>>>15),D=R+(C^L&(z^C))+I[7]+4249261313&4294967295,R=L+(D<<22&4294967295|D>>>10),D=C+(z^R&(L^z))+I[8]+1770035416&4294967295,C=R+(D<<7&4294967295|D>>>25),D=z+(L^C&(R^L))+I[9]+2336552879&4294967295,z=C+(D<<12&4294967295|D>>>20),D=L+(R^z&(C^R))+I[10]+4294925233&4294967295,L=z+(D<<17&4294967295|D>>>15),D=R+(C^L&(z^C))+I[11]+2304563134&4294967295,R=L+(D<<22&4294967295|D>>>10),D=C+(z^R&(L^z))+I[12]+1804603682&4294967295,C=R+(D<<7&4294967295|D>>>25),D=z+(L^C&(R^L))+I[13]+4254626195&4294967295,z=C+(D<<12&4294967295|D>>>20),D=L+(R^z&(C^R))+I[14]+2792965006&4294967295,L=z+(D<<17&4294967295|D>>>15),D=R+(C^L&(z^C))+I[15]+1236535329&4294967295,R=L+(D<<22&4294967295|D>>>10),D=C+(L^z&(R^L))+I[1]+4129170786&4294967295,C=R+(D<<5&4294967295|D>>>27),D=z+(R^L&(C^R))+I[6]+3225465664&4294967295,z=C+(D<<9&4294967295|D>>>23),D=L+(C^R&(z^C))+I[11]+643717713&4294967295,L=z+(D<<14&4294967295|D>>>18),D=R+(z^C&(L^z))+I[0]+3921069994&4294967295,R=L+(D<<20&4294967295|D>>>12),D=C+(L^z&(R^L))+I[5]+3593408605&4294967295,C=R+(D<<5&4294967295|D>>>27),D=z+(R^L&(C^R))+I[10]+38016083&4294967295,z=C+(D<<9&4294967295|D>>>23),D=L+(C^R&(z^C))+I[15]+3634488961&4294967295,L=z+(D<<14&4294967295|D>>>18),D=R+(z^C&(L^z))+I[4]+3889429448&4294967295,R=L+(D<<20&4294967295|D>>>12),D=C+(L^z&(R^L))+I[9]+568446438&4294967295,C=R+(D<<5&4294967295|D>>>27),D=z+(R^L&(C^R))+I[14]+3275163606&4294967295,z=C+(D<<9&4294967295|D>>>23),D=L+(C^R&(z^C))+I[3]+4107603335&4294967295,L=z+(D<<14&4294967295|D>>>18),D=R+(z^C&(L^z))+I[8]+1163531501&4294967295,R=L+(D<<20&4294967295|D>>>12),D=C+(L^z&(R^L))+I[13]+2850285829&4294967295,C=R+(D<<5&4294967295|D>>>27),D=z+(R^L&(C^R))+I[2]+4243563512&4294967295,z=C+(D<<9&4294967295|D>>>23),D=L+(C^R&(z^C))+I[7]+1735328473&4294967295,L=z+(D<<14&4294967295|D>>>18),D=R+(z^C&(L^z))+I[12]+2368359562&4294967295,R=L+(D<<20&4294967295|D>>>12),D=C+(R^L^z)+I[5]+4294588738&4294967295,C=R+(D<<4&4294967295|D>>>28),D=z+(C^R^L)+I[8]+2272392833&4294967295,z=C+(D<<11&4294967295|D>>>21),D=L+(z^C^R)+I[11]+1839030562&4294967295,L=z+(D<<16&4294967295|D>>>16),D=R+(L^z^C)+I[14]+4259657740&4294967295,R=L+(D<<23&4294967295|D>>>9),D=C+(R^L^z)+I[1]+2763975236&4294967295,C=R+(D<<4&4294967295|D>>>28),D=z+(C^R^L)+I[4]+1272893353&4294967295,z=C+(D<<11&4294967295|D>>>21),D=L+(z^C^R)+I[7]+4139469664&4294967295,L=z+(D<<16&4294967295|D>>>16),D=R+(L^z^C)+I[10]+3200236656&4294967295,R=L+(D<<23&4294967295|D>>>9),D=C+(R^L^z)+I[13]+681279174&4294967295,C=R+(D<<4&4294967295|D>>>28),D=z+(C^R^L)+I[0]+3936430074&4294967295,z=C+(D<<11&4294967295|D>>>21),D=L+(z^C^R)+I[3]+3572445317&4294967295,L=z+(D<<16&4294967295|D>>>16),D=R+(L^z^C)+I[6]+76029189&4294967295,R=L+(D<<23&4294967295|D>>>9),D=C+(R^L^z)+I[9]+3654602809&4294967295,C=R+(D<<4&4294967295|D>>>28),D=z+(C^R^L)+I[12]+3873151461&4294967295,z=C+(D<<11&4294967295|D>>>21),D=L+(z^C^R)+I[15]+530742520&4294967295,L=z+(D<<16&4294967295|D>>>16),D=R+(L^z^C)+I[2]+3299628645&4294967295,R=L+(D<<23&4294967295|D>>>9),D=C+(L^(R|~z))+I[0]+4096336452&4294967295,C=R+(D<<6&4294967295|D>>>26),D=z+(R^(C|~L))+I[7]+1126891415&4294967295,z=C+(D<<10&4294967295|D>>>22),D=L+(C^(z|~R))+I[14]+2878612391&4294967295,L=z+(D<<15&4294967295|D>>>17),D=R+(z^(L|~C))+I[5]+4237533241&4294967295,R=L+(D<<21&4294967295|D>>>11),D=C+(L^(R|~z))+I[12]+1700485571&4294967295,C=R+(D<<6&4294967295|D>>>26),D=z+(R^(C|~L))+I[3]+2399980690&4294967295,z=C+(D<<10&4294967295|D>>>22),D=L+(C^(z|~R))+I[10]+4293915773&4294967295,L=z+(D<<15&4294967295|D>>>17),D=R+(z^(L|~C))+I[1]+2240044497&4294967295,R=L+(D<<21&4294967295|D>>>11),D=C+(L^(R|~z))+I[8]+1873313359&4294967295,C=R+(D<<6&4294967295|D>>>26),D=z+(R^(C|~L))+I[15]+4264355552&4294967295,z=C+(D<<10&4294967295|D>>>22),D=L+(C^(z|~R))+I[6]+2734768916&4294967295,L=z+(D<<15&4294967295|D>>>17),D=R+(z^(L|~C))+I[13]+1309151649&4294967295,R=L+(D<<21&4294967295|D>>>11),D=C+(L^(R|~z))+I[4]+4149444226&4294967295,C=R+(D<<6&4294967295|D>>>26),D=z+(R^(C|~L))+I[11]+3174756917&4294967295,z=C+(D<<10&4294967295|D>>>22),D=L+(C^(z|~R))+I[2]+718787259&4294967295,L=z+(D<<15&4294967295|D>>>17),D=R+(z^(L|~C))+I[9]+3951481745&4294967295,O.g[0]=O.g[0]+C&4294967295,O.g[1]=O.g[1]+(L+(D<<21&4294967295|D>>>11))&4294967295,O.g[2]=O.g[2]+L&4294967295,O.g[3]=O.g[3]+z&4294967295}i.prototype.u=function(O,C){C===void 0&&(C=O.length);for(var R=C-this.blockSize,I=this.B,L=this.h,z=0;z<C;){if(L==0)for(;z<=R;)r(this,O,z),z+=this.blockSize;if(typeof O=="string"){for(;z<C;)if(I[L++]=O.charCodeAt(z++),L==this.blockSize){r(this,I),L=0;break}}else for(;z<C;)if(I[L++]=O[z++],L==this.blockSize){r(this,I),L=0;break}}this.h=L,this.o+=C},i.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var C=1;C<O.length-8;++C)O[C]=0;var R=8*this.o;for(C=O.length-8;C<O.length;++C)O[C]=R&255,R/=256;for(this.u(O),O=Array(16),C=R=0;4>C;++C)for(var I=0;32>I;I+=8)O[R++]=this.g[C]>>>I&255;return O};function o(O,C){var R=h;return Object.prototype.hasOwnProperty.call(R,O)?R[O]:R[O]=C(O)}function c(O,C){this.h=C;for(var R=[],I=!0,L=O.length-1;0<=L;L--){var z=O[L]|0;I&&z==C||(R[L]=z,I=!1)}this.g=R}var h={};function d(O){return-128<=O&&128>O?o(O,function(C){return new c([C|0],0>C?-1:0)}):new c([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return b;if(0>O)return M(g(-O));for(var C=[],R=1,I=0;O>=R;I++)C[I]=O/R|0,R*=4294967296;return new c(C,0)}function y(O,C){if(O.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(O.charAt(0)=="-")return M(y(O.substring(1),C));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(C,8)),I=b,L=0;L<O.length;L+=8){var z=Math.min(8,O.length-L),D=parseInt(O.substring(L,L+z),C);8>z?(z=g(Math.pow(C,z)),I=I.j(z).add(g(D))):(I=I.j(R),I=I.add(g(D)))}return I}var b=d(0),x=d(1),E=d(16777216);n=c.prototype,n.m=function(){if(k(this))return-M(this).m();for(var O=0,C=1,R=0;R<this.g.length;R++){var I=this.i(R);O+=(0<=I?I:4294967296+I)*C,C*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(N(this))return"0";if(k(this))return"-"+M(this).toString(O);for(var C=g(Math.pow(O,6)),R=this,I="";;){var L=nt(R,C).g;R=P(R,L.j(C));var z=((0<R.g.length?R.g[0]:R.h)>>>0).toString(O);if(R=L,N(R))return z+I;for(;6>z.length;)z="0"+z;I=z+I}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function N(O){if(O.h!=0)return!1;for(var C=0;C<O.g.length;C++)if(O.g[C]!=0)return!1;return!0}function k(O){return O.h==-1}n.l=function(O){return O=P(this,O),k(O)?-1:N(O)?0:1};function M(O){for(var C=O.g.length,R=[],I=0;I<C;I++)R[I]=~O.g[I];return new c(R,~O.h).add(x)}n.abs=function(){return k(this)?M(this):this},n.add=function(O){for(var C=Math.max(this.g.length,O.g.length),R=[],I=0,L=0;L<=C;L++){var z=I+(this.i(L)&65535)+(O.i(L)&65535),D=(z>>>16)+(this.i(L)>>>16)+(O.i(L)>>>16);I=D>>>16,z&=65535,D&=65535,R[L]=D<<16|z}return new c(R,R[R.length-1]&-2147483648?-1:0)};function P(O,C){return O.add(M(C))}n.j=function(O){if(N(this)||N(O))return b;if(k(this))return k(O)?M(this).j(M(O)):M(M(this).j(O));if(k(O))return M(this.j(M(O)));if(0>this.l(E)&&0>O.l(E))return g(this.m()*O.m());for(var C=this.g.length+O.g.length,R=[],I=0;I<2*C;I++)R[I]=0;for(I=0;I<this.g.length;I++)for(var L=0;L<O.g.length;L++){var z=this.i(I)>>>16,D=this.i(I)&65535,Tt=O.i(L)>>>16,mt=O.i(L)&65535;R[2*I+2*L]+=D*mt,G(R,2*I+2*L),R[2*I+2*L+1]+=z*mt,G(R,2*I+2*L+1),R[2*I+2*L+1]+=D*Tt,G(R,2*I+2*L+1),R[2*I+2*L+2]+=z*Tt,G(R,2*I+2*L+2)}for(I=0;I<C;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=C;I<2*C;I++)R[I]=0;return new c(R,0)};function G(O,C){for(;(O[C]&65535)!=O[C];)O[C+1]+=O[C]>>>16,O[C]&=65535,C++}function K(O,C){this.g=O,this.h=C}function nt(O,C){if(N(C))throw Error("division by zero");if(N(O))return new K(b,b);if(k(O))return C=nt(M(O),C),new K(M(C.g),M(C.h));if(k(C))return C=nt(O,M(C)),new K(M(C.g),C.h);if(30<O.g.length){if(k(O)||k(C))throw Error("slowDivide_ only works with positive integers.");for(var R=x,I=C;0>=I.l(O);)R=Z(R),I=Z(I);var L=lt(R,1),z=lt(I,1);for(I=lt(I,2),R=lt(R,2);!N(I);){var D=z.add(I);0>=D.l(O)&&(L=L.add(R),z=D),I=lt(I,1),R=lt(R,1)}return C=P(O,L.j(C)),new K(L,C)}for(L=b;0<=O.l(C);){for(R=Math.max(1,Math.floor(O.m()/C.m())),I=Math.ceil(Math.log(R)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),z=g(R),D=z.j(C);k(D)||0<D.l(O);)R-=I,z=g(R),D=z.j(C);N(z)&&(z=x),L=L.add(z),O=P(O,D)}return new K(L,O)}n.A=function(O){return nt(this,O).h},n.and=function(O){for(var C=Math.max(this.g.length,O.g.length),R=[],I=0;I<C;I++)R[I]=this.i(I)&O.i(I);return new c(R,this.h&O.h)},n.or=function(O){for(var C=Math.max(this.g.length,O.g.length),R=[],I=0;I<C;I++)R[I]=this.i(I)|O.i(I);return new c(R,this.h|O.h)},n.xor=function(O){for(var C=Math.max(this.g.length,O.g.length),R=[],I=0;I<C;I++)R[I]=this.i(I)^O.i(I);return new c(R,this.h^O.h)};function Z(O){for(var C=O.g.length+1,R=[],I=0;I<C;I++)R[I]=O.i(I)<<1|O.i(I-1)>>>31;return new c(R,O.h)}function lt(O,C){var R=C>>5;C%=32;for(var I=O.g.length-R,L=[],z=0;z<I;z++)L[z]=0<C?O.i(z+R)>>>C|O.i(z+R+1)<<32-C:O.i(z+R);return new c(L,O.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=y,o_=c}).apply(typeof _w<"u"?_w:typeof self<"u"?self:typeof window<"u"?window:{});var Cd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,v,w){return f==Array.prototype||f==Object.prototype||(f[v]=w.value),f};function e(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cd=="object"&&Cd];for(var v=0;v<f.length;++v){var w=f[v];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=e(this);function r(f,v){if(v)t:{var w=i;f=f.split(".");for(var A=0;A<f.length-1;A++){var q=f[A];if(!(q in w))break t;w=w[q]}f=f[f.length-1],A=w[f],v=v(A),v!=A&&v!=null&&t(w,f,{configurable:!0,writable:!0,value:v})}}function o(f,v){f instanceof String&&(f+="");var w=0,A=!1,q={next:function(){if(!A&&w<f.length){var J=w++;return{value:v(J,f[J]),done:!1}}return A=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}r("Array.prototype.values",function(f){return f||function(){return o(this,function(v,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function d(f){var v=typeof f;return v=v!="object"?v:f?Array.isArray(f)?"array":v:"null",v=="array"||v=="object"&&typeof f.length=="number"}function g(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function y(f,v,w){return f.call.apply(f.bind,arguments)}function b(f,v,w){if(!f)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,A),f.apply(v,q)}}return function(){return f.apply(v,arguments)}}function x(f,v,w){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:b,x.apply(null,arguments)}function E(f,v){var w=Array.prototype.slice.call(arguments,1);return function(){var A=w.slice();return A.push.apply(A,arguments),f.apply(this,A)}}function N(f,v){function w(){}w.prototype=v.prototype,f.aa=v.prototype,f.prototype=new w,f.prototype.constructor=f,f.Qb=function(A,q,J){for(var ht=Array(arguments.length-2),Yt=2;Yt<arguments.length;Yt++)ht[Yt-2]=arguments[Yt];return v.prototype[q].apply(A,ht)}}function k(f){const v=f.length;if(0<v){const w=Array(v);for(let A=0;A<v;A++)w[A]=f[A];return w}return[]}function M(f,v){for(let w=1;w<arguments.length;w++){const A=arguments[w];if(d(A)){const q=f.length||0,J=A.length||0;f.length=q+J;for(let ht=0;ht<J;ht++)f[q+ht]=A[ht]}else f.push(A)}}class P{constructor(v,w){this.i=v,this.j=w,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function G(f){return/^[\s\xa0]*$/.test(f)}function K(){var f=h.navigator;return f&&(f=f.userAgent)?f:""}function nt(f){return nt[" "](f),f}nt[" "]=function(){};var Z=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function lt(f,v,w){for(const A in f)v.call(w,f[A],A,f)}function O(f,v){for(const w in f)v.call(void 0,f[w],w,f)}function C(f){const v={};for(const w in f)v[w]=f[w];return v}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(f,v){let w,A;for(let q=1;q<arguments.length;q++){A=arguments[q];for(w in A)f[w]=A[w];for(let J=0;J<R.length;J++)w=R[J],Object.prototype.hasOwnProperty.call(A,w)&&(f[w]=A[w])}}function L(f){var v=1;f=f.split(":");const w=[];for(;0<v&&f.length;)w.push(f.shift()),v--;return f.length&&w.push(f.join(":")),w}function z(f){h.setTimeout(()=>{throw f},0)}function D(){var f=gt;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class Tt{constructor(){this.h=this.g=null}add(v,w){const A=mt.get();A.set(v,w),this.h?this.h.next=A:this.g=A,this.h=A}}var mt=new P(()=>new $,f=>f.reset());class ${constructor(){this.next=this.g=this.h=null}set(v,w){this.h=v,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let F,ot=!1,gt=new Tt,U=()=>{const f=h.Promise.resolve(void 0);F=()=>{f.then(it)}};var it=()=>{for(var f;f=D();){try{f.h.call(f.g)}catch(w){z(w)}var v=mt;v.j(f),100>v.h&&(v.h++,f.next=v.g,v.g=f)}ot=!1};function ct(){this.s=this.s,this.C=this.C}ct.prototype.s=!1,ct.prototype.ma=function(){this.s||(this.s=!0,this.N())},ct.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function rt(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}rt.prototype.h=function(){this.defaultPrevented=!0};var dt=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const w=()=>{};h.addEventListener("test",w,v),h.removeEventListener("test",w,v)}catch{}return f}();function yt(f,v){if(rt.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var w=this.type=f.type,A=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget){if(Z){t:{try{nt(v.nodeName);var q=!0;break t}catch{}q=!1}q||(v=null)}}else w=="mouseover"?v=f.fromElement:w=="mouseout"&&(v=f.toElement);this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:tt[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&yt.aa.h.call(this)}}N(yt,rt);var tt={2:"touch",3:"pen",4:"mouse"};yt.prototype.h=function(){yt.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var St="closure_listenable_"+(1e6*Math.random()|0),Et=0;function Te(f,v,w,A,q){this.listener=f,this.proxy=null,this.src=v,this.type=w,this.capture=!!A,this.ha=q,this.key=++Et,this.da=this.fa=!1}function Wt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function me(f){this.src=f,this.g={},this.h=0}me.prototype.add=function(f,v,w,A,q){var J=f.toString();f=this.g[J],f||(f=this.g[J]=[],this.h++);var ht=ie(f,v,A,q);return-1<ht?(v=f[ht],w||(v.fa=!1)):(v=new Te(v,this.src,J,!!A,q),v.fa=w,f.push(v)),v};function Be(f,v){var w=v.type;if(w in f.g){var A=f.g[w],q=Array.prototype.indexOf.call(A,v,void 0),J;(J=0<=q)&&Array.prototype.splice.call(A,q,1),J&&(Wt(v),f.g[w].length==0&&(delete f.g[w],f.h--))}}function ie(f,v,w,A){for(var q=0;q<f.length;++q){var J=f[q];if(!J.da&&J.listener==v&&J.capture==!!w&&J.ha==A)return q}return-1}var $t="closure_lm_"+(1e6*Math.random()|0),Vr={};function Ju(f,v,w,A,q){if(Array.isArray(v)){for(var J=0;J<v.length;J++)Ju(f,v[J],w,A,q);return null}return w=th(w),f&&f[St]?f.K(v,w,g(A)?!!A.capture:!1,q):Fn(f,v,w,!1,A,q)}function Fn(f,v,w,A,q,J){if(!v)throw Error("Invalid event type");var ht=g(q)?!!q.capture:!!q,Yt=io(f);if(Yt||(f[$t]=Yt=new me(f)),w=Yt.add(v,w,A,ht,J),w.proxy)return w;if(A=bg(),w.proxy=A,A.src=f,A.listener=w,f.addEventListener)dt||(q=ht),q===void 0&&(q=!1),f.addEventListener(v.toString(),A,q);else if(f.attachEvent)f.attachEvent(qr(v.toString()),A);else if(f.addListener&&f.removeListener)f.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return w}function bg(){function f(w){return v.call(f.src,f.listener,w)}const v=xg;return f}function Rl(f,v,w,A,q){if(Array.isArray(v))for(var J=0;J<v.length;J++)Rl(f,v[J],w,A,q);else A=g(A)?!!A.capture:!!A,w=th(w),f&&f[St]?(f=f.i,v=String(v).toString(),v in f.g&&(J=f.g[v],w=ie(J,w,A,q),-1<w&&(Wt(J[w]),Array.prototype.splice.call(J,w,1),J.length==0&&(delete f.g[v],f.h--)))):f&&(f=io(f))&&(v=f.g[v.toString()],f=-1,v&&(f=ie(v,w,A,q)),(w=-1<f?v[f]:null)&&no(w))}function no(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[St])Be(v.i,f);else{var w=f.type,A=f.proxy;v.removeEventListener?v.removeEventListener(w,A,f.capture):v.detachEvent?v.detachEvent(qr(w),A):v.addListener&&v.removeListener&&v.removeListener(A),(w=io(v))?(Be(w,f),w.h==0&&(w.src=null,v[$t]=null)):Wt(f)}}}function qr(f){return f in Vr?Vr[f]:Vr[f]="on"+f}function xg(f,v){if(f.da)f=!0;else{v=new yt(v,this);var w=f.listener,A=f.ha||f.src;f.fa&&no(f),f=w.call(A,v)}return f}function io(f){return f=f[$t],f instanceof me?f:null}var kl="__closure_events_fn_"+(1e9*Math.random()>>>0);function th(f){return typeof f=="function"?f:(f[kl]||(f[kl]=function(v){return f.handleEvent(v)}),f[kl])}function Ce(){ct.call(this),this.i=new me(this),this.M=this,this.F=null}N(Ce,ct),Ce.prototype[St]=!0,Ce.prototype.removeEventListener=function(f,v,w,A){Rl(this,f,v,w,A)};function Xt(f,v){var w,A=f.F;if(A)for(w=[];A;A=A.F)w.push(A);if(f=f.M,A=v.type||v,typeof v=="string")v=new rt(v,f);else if(v instanceof rt)v.target=v.target||f;else{var q=v;v=new rt(A,f),I(v,q)}if(q=!0,w)for(var J=w.length-1;0<=J;J--){var ht=v.g=w[J];q=On(ht,A,!0,v)&&q}if(ht=v.g=f,q=On(ht,A,!0,v)&&q,q=On(ht,A,!1,v)&&q,w)for(J=0;J<w.length;J++)ht=v.g=w[J],q=On(ht,A,!1,v)&&q}Ce.prototype.N=function(){if(Ce.aa.N.call(this),this.i){var f=this.i,v;for(v in f.g){for(var w=f.g[v],A=0;A<w.length;A++)Wt(w[A]);delete f.g[v],f.h--}}this.F=null},Ce.prototype.K=function(f,v,w,A){return this.i.add(String(f),v,!1,w,A)},Ce.prototype.L=function(f,v,w,A){return this.i.add(String(f),v,!0,w,A)};function On(f,v,w,A){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();for(var q=!0,J=0;J<v.length;++J){var ht=v[J];if(ht&&!ht.da&&ht.capture==w){var Yt=ht.listener,ye=ht.ha||ht.src;ht.fa&&Be(f.i,ht),q=Yt.call(ye,A)!==!1&&q}}return q&&!A.defaultPrevented}function un(f,v,w){if(typeof f=="function")w&&(f=x(f,w));else if(f&&typeof f.handleEvent=="function")f=x(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:h.setTimeout(f,v||0)}function eh(f){f.g=un(()=>{f.g=null,f.i&&(f.i=!1,eh(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class wg extends ct{constructor(v,w){super(),this.m=v,this.l=w,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:eh(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wr(f){ct.call(this),this.h=f,this.g={}}N(Wr,ct);var Yr=[];function Gr(f){lt(f.g,function(v,w){this.g.hasOwnProperty(w)&&no(v)},f),f.g={}}Wr.prototype.N=function(){Wr.aa.N.call(this),Gr(this)},Wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oi=h.JSON.stringify,so=h.JSON.parse,$r=class{stringify(f){return h.JSON.stringify(f,void 0)}parse(f){return h.JSON.parse(f,void 0)}};function Ml(){}Ml.prototype.h=null;function Ol(f){return f.h||(f.h=f.i())}function nh(){}var Ji={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ts(){rt.call(this,"d")}N(ts,rt);function Dl(){rt.call(this,"c")}N(Dl,rt);var es={},Il=null;function Xr(){return Il=Il||new Ce}es.La="serverreachability";function ro(f){rt.call(this,es.La,f)}N(ro,rt);function Ws(f){const v=Xr();Xt(v,new ro(v))}es.STAT_EVENT="statevent";function ih(f,v){rt.call(this,es.STAT_EVENT,f),this.stat=v}N(ih,rt);function pe(f){const v=Xr();Xt(v,new ih(v,f))}es.Ma="timingevent";function He(f,v){rt.call(this,es.Ma,f),this.size=v}N(He,rt);function Ie(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){f()},v)}function Vn(){this.g=!0}Vn.prototype.xa=function(){this.g=!1};function jl(f,v,w,A,q,J){f.info(function(){if(f.g)if(J)for(var ht="",Yt=J.split("&"),ye=0;ye<Yt.length;ye++){var jt=Yt[ye].split("=");if(1<jt.length){var Ye=jt[0];jt=jt[1];var Ge=Ye.split("_");ht=2<=Ge.length&&Ge[1]=="type"?ht+(Ye+"="+jt+"&"):ht+(Ye+"=redacted&")}}else ht=null;else ht=J;return"XMLHTTP REQ ("+A+") [attempt "+q+"]: "+v+`
`+w+`
`+ht})}function Sg(f,v,w,A,q,J,ht){f.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+q+"]: "+v+`
`+w+`
`+J+" "+ht})}function Ys(f,v,w,A){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+Qr(f,w)+(A?" "+A:"")})}function sh(f,v){f.info(function(){return"TIMEOUT: "+v})}Vn.prototype.info=function(){};function Qr(f,v){if(!f.g)return v;if(!v)return null;try{var w=JSON.parse(v);if(w){for(f=0;f<w.length;f++)if(Array.isArray(w[f])){var A=w[f];if(!(2>A.length)){var q=A[1];if(Array.isArray(q)&&!(1>q.length)){var J=q[0];if(J!="noop"&&J!="stop"&&J!="close")for(var ht=1;ht<q.length;ht++)q[ht]=""}}}}return oi(w)}catch{return v}}var Kr={NO_ERROR:0,TIMEOUT:8},Gs={},Ni;function Ri(){}N(Ri,Ml),Ri.prototype.g=function(){return new XMLHttpRequest},Ri.prototype.i=function(){return{}},Ni=new Ri;function mn(f,v,w,A){this.j=f,this.i=v,this.l=w,this.R=A||1,this.U=new Wr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ke}function ke(){this.i=null,this.g="",this.h=!1}var Ll={},ao={};function li(f,v,w){f.L=1,f.v=na(Dn(v)),f.m=w,f.P=!0,ns(f,null)}function ns(f,v){f.F=Date.now(),Zr(f),f.A=Dn(f.v);var w=f.A,A=f.R;Array.isArray(A)||(A=[String(A)]),Fl(w.i,"t",A),f.C=0,w=f.j.J,f.h=new ke,f.g=bh(f.j,w?v:null,!f.m),0<f.O&&(f.M=new wg(x(f.Y,f,f.g),f.O)),v=f.U,w=f.g,A=f.ca;var q="readystatechange";Array.isArray(q)||(q&&(Yr[0]=q.toString()),q=Yr);for(var J=0;J<q.length;J++){var ht=Ju(w,q[J],A||v.handleEvent,!1,v.h||v);if(!ht)break;v.g[ht.key]=ht}v=f.H?C(f.H):{},f.m?(f.u||(f.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,v)):(f.u="GET",f.g.ea(f.A,f.u,null,v)),Ws(),jl(f.i,f.u,f.A,f.l,f.R,f.m)}mn.prototype.ca=function(f){f=f.target;const v=this.M;v&&Gn(f)==3?v.j():this.Y(f)},mn.prototype.Y=function(f){try{if(f==this.g)t:{const Ge=Gn(this.g);var v=this.g.Ba();const us=this.g.Z();if(!(3>Ge)&&(Ge!=3||this.g&&(this.h.h||this.g.oa()||dh(this.g)))){this.J||Ge!=4||v==7||(v==8||0>=us?Ws(3):Ws(2)),$s(this);var w=this.g.Z();this.X=w;e:if(rh(this)){var A=dh(this.g);f="";var q=A.length,J=Gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){nn(this),ki(this);var ht="";break e}this.h.i=new h.TextDecoder}for(v=0;v<q;v++)this.h.h=!0,f+=this.h.i.decode(A[v],{stream:!(J&&v==q-1)});A.length=0,this.h.g+=f,this.C=0,ht=this.h.g}else ht=this.g.oa();if(this.o=w==200,Sg(this.i,this.u,this.A,this.l,this.R,Ge,w),this.o){if(this.T&&!this.K){e:{if(this.g){var Yt,ye=this.g;if((Yt=ye.g?ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(Yt)){var jt=Yt;break e}}jt=null}if(w=jt)Ys(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jr(this,w);else{this.o=!1,this.s=3,pe(12),nn(this),ki(this);break t}}if(this.P){w=!0;let wn;for(;!this.J&&this.C<ht.length;)if(wn=ah(this,ht),wn==ao){Ge==4&&(this.s=4,pe(14),w=!1),Ys(this.i,this.l,null,"[Incomplete Response]");break}else if(wn==Ll){this.s=4,pe(15),Ys(this.i,this.l,ht,"[Invalid Chunk]"),w=!1;break}else Ys(this.i,this.l,wn,null),Jr(this,wn);if(rh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ge!=4||ht.length!=0||this.h.h||(this.s=1,pe(16),w=!1),this.o=this.o&&w,!w)Ys(this.i,this.l,ht,"[Invalid Chunked Response]"),nn(this),ki(this);else if(0<ht.length&&!this.W){this.W=!0;var Ye=this.j;Ye.g==this&&Ye.ba&&!Ye.M&&(Ye.j.info("Great, no buffering proxy detected. Bytes received: "+ht.length),ua(Ye),Ye.M=!0,pe(11))}}else Ys(this.i,this.l,ht,null),Jr(this,ht);Ge==4&&nn(this),this.o&&!this.J&&(Ge==4?yh(this.j,this):(this.o=!1,Zr(this)))}else Ng(this.g),w==400&&0<ht.indexOf("Unknown SID")?(this.s=3,pe(12)):(this.s=0,pe(13)),nn(this),ki(this)}}}catch{}finally{}};function rh(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function ah(f,v){var w=f.C,A=v.indexOf(`
`,w);return A==-1?ao:(w=Number(v.substring(w,A)),isNaN(w)?Ll:(A+=1,A+w>v.length?ao:(v=v.slice(A,A+w),f.C=A+w,v)))}mn.prototype.cancel=function(){this.J=!0,nn(this)};function Zr(f){f.S=Date.now()+f.I,oh(f,f.I)}function oh(f,v){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Ie(x(f.ba,f),v)}function $s(f){f.B&&(h.clearTimeout(f.B),f.B=null)}mn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(sh(this.i,this.A),this.L!=2&&(Ws(),pe(17)),nn(this),this.s=2,ki(this)):oh(this,this.S-f)};function ki(f){f.j.G==0||f.J||yh(f.j,f)}function nn(f){$s(f);var v=f.M;v&&typeof v.ma=="function"&&v.ma(),f.M=null,Gr(f.U),f.g&&(v=f.g,f.g=null,v.abort(),v.ma())}function Jr(f,v){try{var w=f.j;if(w.G!=0&&(w.g==f||Pl(w.h,f))){if(!f.K&&Pl(w.h,f)&&w.G==3){try{var A=w.Da.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var q=A;if(q[0]==0){t:if(!w.u){if(w.g)if(w.g.F+3e3<f.F)vo(w),yo(w);else break t;Gl(w),pe(18)}}else w.za=q[1],0<w.za-w.T&&37500>q[2]&&w.F&&w.v==0&&!w.C&&(w.C=Ie(x(w.Za,w),6e3));if(1>=lo(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else cs(w,11)}else if((f.K||w.g==f)&&vo(w),!G(v))for(q=w.Da.g.parse(v),v=0;v<q.length;v++){let jt=q[v];if(w.T=jt[0],jt=jt[1],w.G==2)if(jt[0]=="c"){w.K=jt[1],w.ia=jt[2];const Ye=jt[3];Ye!=null&&(w.la=Ye,w.j.info("VER="+w.la));const Ge=jt[4];Ge!=null&&(w.Aa=Ge,w.j.info("SVER="+w.Aa));const us=jt[5];us!=null&&typeof us=="number"&&0<us&&(A=1.5*us,w.L=A,w.j.info("backChannelRequestTimeoutMs_="+A)),A=w;const wn=f.g;if(wn){const Li=wn.g?wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Li){var J=A.h;J.g||Li.indexOf("spdy")==-1&&Li.indexOf("quic")==-1&&Li.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(co(J,J.h),J.h=null))}if(A.D){const hs=wn.g?wn.g.getResponseHeader("X-HTTP-Session-Id"):null;hs&&(A.ya=hs,se(A.I,A.D,hs))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-f.F,w.j.info("Handshake RTT: "+w.R+"ms")),A=w;var ht=f;if(A.qa=vh(A,A.J?A.ia:null,A.W),ht.K){pn(A.h,ht);var Yt=ht,ye=A.L;ye&&(Yt.I=ye),Yt.B&&($s(Yt),Zr(Yt)),A.g=ht}else mh(A);0<w.i.length&&_o(w)}else jt[0]!="stop"&&jt[0]!="close"||cs(w,7);else w.G==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?cs(w,7):Wl(w):jt[0]!="noop"&&w.l&&w.l.ta(jt),w.v=0)}}Ws(4)}catch{}}var lh=class{constructor(f,v){this.g=f,this.map=v}};function is(f){this.l=f||10,h.PerformanceNavigationTiming?(f=h.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function oo(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function lo(f){return f.h?1:f.g?f.g.size:0}function Pl(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function co(f,v){f.g?f.g.add(v):f.h=v}function pn(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}is.prototype.cancel=function(){if(this.i=Ul(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Ul(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const w of f.g.values())v=v.concat(w.D);return v}return k(f.i)}function Eg(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var v=[],w=f.length,A=0;A<w;A++)v.push(f[A]);return v}v=[],w=0;for(A in f)v[w++]=f[A];return v}function uo(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var v=[];f=f.length;for(var w=0;w<f;w++)v.push(w);return v}v=[],w=0;for(const A in f)v[w++]=A;return v}}}function zl(f,v){if(f.forEach&&typeof f.forEach=="function")f.forEach(v,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,v,void 0);else for(var w=uo(f),A=Eg(f),q=A.length,J=0;J<q;J++)v.call(void 0,A[J],w&&w[J],f)}var ta=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tg(f,v){if(f){f=f.split("&");for(var w=0;w<f.length;w++){var A=f[w].indexOf("="),q=null;if(0<=A){var J=f[w].substring(0,A);q=f[w].substring(A+1)}else J=f[w];v(J,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function je(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof je){this.h=f.h,ea(this,f.j),this.o=f.o,this.g=f.g,Xs(this,f.s),this.l=f.l;var v=f.i,w=new rs;w.i=v.i,v.g&&(w.g=new Map(v.g),w.h=v.h),ss(this,w),this.m=f.m}else f&&(v=String(f).match(ta))?(this.h=!1,ea(this,v[1]||"",!0),this.o=qn(v[2]||""),this.g=qn(v[3]||"",!0),Xs(this,v[4]),this.l=qn(v[5]||"",!0),ss(this,v[6]||"",!0),this.m=qn(v[7]||"")):(this.h=!1,this.i=new rs(null,this.h))}je.prototype.toString=function(){var f=[],v=this.j;v&&f.push(ia(v,Bl,!0),":");var w=this.g;return(w||v=="file")&&(f.push("//"),(v=this.o)&&f.push(ia(v,Bl,!0),"@"),f.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&f.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&f.push("/"),f.push(ia(w,w.charAt(0)=="/"?Cg:Hl,!0))),(w=this.i.toString())&&f.push("?",w),(w=this.m)&&f.push("#",ia(w,ho)),f.join("")};function Dn(f){return new je(f)}function ea(f,v,w){f.j=w?qn(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function Xs(f,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);f.s=v}else f.s=null}function ss(f,v,w){v instanceof rs?(f.i=v,uh(f.i,f.h)):(w||(v=ia(v,Ag)),f.i=new rs(v,f.h))}function se(f,v,w){f.i.set(v,w)}function na(f){return se(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function qn(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ia(f,v,w){return typeof f=="string"?(f=encodeURI(f).replace(v,ch),w&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function ch(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Bl=/[#\/\?@]/g,Hl=/[#\?:]/g,Cg=/[#\?]/g,Ag=/[#\?@]/g,ho=/#/g;function rs(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function Wn(f){f.g||(f.g=new Map,f.h=0,f.i&&Tg(f.i,function(v,w){f.add(decodeURIComponent(v.replace(/\+/g," ")),w)}))}n=rs.prototype,n.add=function(f,v){Wn(this),this.i=null,f=Mi(this,f);var w=this.g.get(f);return w||this.g.set(f,w=[]),w.push(v),this.h+=1,this};function as(f,v){Wn(f),v=Mi(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function os(f,v){return Wn(f),v=Mi(f,v),f.g.has(v)}n.forEach=function(f,v){Wn(this),this.g.forEach(function(w,A){w.forEach(function(q){f.call(v,q,A,this)},this)},this)},n.na=function(){Wn(this);const f=Array.from(this.g.values()),v=Array.from(this.g.keys()),w=[];for(let A=0;A<v.length;A++){const q=f[A];for(let J=0;J<q.length;J++)w.push(v[A])}return w},n.V=function(f){Wn(this);let v=[];if(typeof f=="string")os(this,f)&&(v=v.concat(this.g.get(Mi(this,f))));else{f=Array.from(this.g.values());for(let w=0;w<f.length;w++)v=v.concat(f[w])}return v},n.set=function(f,v){return Wn(this),this.i=null,f=Mi(this,f),os(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},n.get=function(f,v){return f?(f=this.V(f),0<f.length?String(f[0]):v):v};function Fl(f,v,w){as(f,v),0<w.length&&(f.i=null,f.g.set(Mi(f,v),k(w)),f.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(var w=0;w<v.length;w++){var A=v[w];const J=encodeURIComponent(String(A)),ht=this.V(A);for(A=0;A<ht.length;A++){var q=J;ht[A]!==""&&(q+="="+encodeURIComponent(String(ht[A]))),f.push(q)}}return this.i=f.join("&")};function Mi(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function uh(f,v){v&&!f.j&&(Wn(f),f.i=null,f.g.forEach(function(w,A){var q=A.toLowerCase();A!=q&&(as(this,A),Fl(this,q,w))},f)),f.j=v}function sa(f,v){const w=new Vn;if(h.Image){const A=new Image;A.onload=E(Yn,w,"TestLoadImage: loaded",!0,v,A),A.onerror=E(Yn,w,"TestLoadImage: error",!1,v,A),A.onabort=E(Yn,w,"TestLoadImage: abort",!1,v,A),A.ontimeout=E(Yn,w,"TestLoadImage: timeout",!1,v,A),h.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=f}else v(!1)}function ci(f,v){const w=new Vn,A=new AbortController,q=setTimeout(()=>{A.abort(),Yn(w,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:A.signal}).then(J=>{clearTimeout(q),J.ok?Yn(w,"TestPingServer: ok",!0,v):Yn(w,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),Yn(w,"TestPingServer: error",!1,v)})}function Yn(f,v,w,A,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),A(w)}catch{}}function ra(){this.g=new $r}function Oi(f,v,w){const A=w||"";try{zl(f,function(q,J){let ht=q;g(q)&&(ht=oi(q)),v.push(A+J+"="+encodeURIComponent(ht))})}catch(q){throw v.push(A+"type="+encodeURIComponent("_badmap")),q}}function Qs(f){this.l=f.Ub||null,this.j=f.eb||!1}N(Qs,Ml),Qs.prototype.g=function(){return new ls(this.l,this.j)},Qs.prototype.i=function(f){return function(){return f}}({});function ls(f,v){Ce.call(this),this.D=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(ls,Ce),n=ls.prototype,n.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=v,this.readyState=1,Ii(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(v.body=f),(this.D||h).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Di(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Ii(this)),this.g&&(this.readyState=3,Ii(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vl(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vl(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?Di(this):Ii(this),this.readyState==3&&Vl(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,Di(this))},n.Qa=function(f){this.g&&(this.response=f,Di(this))},n.ga=function(){this.g&&Di(this)};function Di(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Ii(f)}n.setRequestHeader=function(f,v){this.u.append(f,v)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var w=v.next();!w.done;)w=w.value,f.push(w[0]+": "+w[1]),w=v.next();return f.join(`\r
`)};function Ii(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ls.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ql(f){let v="";return lt(f,function(w,A){v+=A,v+=":",v+=w,v+=`\r
`}),v}function We(f,v,w){t:{for(A in w){var A=!1;break t}A=!0}A||(w=ql(w),typeof f=="string"?w!=null&&encodeURIComponent(String(w)):se(f,v,w))}function Qt(f){Ce.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Qt,Ce);var fo=/^https?$/i,aa=["POST","PUT"];n=Qt.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,v,w,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ni.g(),this.v=this.o?Ol(this.o):Ol(Ni),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(J){hh(this,J);return}if(f=w||"",w=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var q in A)w.set(q,A[q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const J of A.keys())w.set(J,A.get(J));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(w.keys()).find(J=>J.toLowerCase()=="content-type"),q=h.FormData&&f instanceof h.FormData,!(0<=Array.prototype.indexOf.call(aa,v,void 0))||A||q||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ht]of w)this.g.setRequestHeader(J,ht);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{oa(this),this.u=!0,this.g.send(f),this.u=!1}catch(J){hh(this,J)}};function hh(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.m=5,go(f),ji(f)}function go(f){f.A||(f.A=!0,Xt(f,"complete"),Xt(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Xt(this,"complete"),Xt(this,"abort"),ji(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ji(this,!0)),Qt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?mo(this):this.bb())},n.bb=function(){mo(this)};function mo(f){if(f.h&&typeof c<"u"&&(!f.v[1]||Gn(f)!=4||f.Z()!=2)){if(f.u&&Gn(f)==4)un(f.Ea,0,f);else if(Xt(f,"readystatechange"),Gn(f)==4){f.h=!1;try{const ht=f.Z();t:switch(ht){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var w;if(!(w=v)){var A;if(A=ht===0){var q=String(f.D).match(ta)[1]||null;!q&&h.self&&h.self.location&&(q=h.self.location.protocol.slice(0,-1)),A=!fo.test(q?q.toLowerCase():"")}w=A}if(w)Xt(f,"complete"),Xt(f,"success");else{f.m=6;try{var J=2<Gn(f)?f.g.statusText:""}catch{J=""}f.l=J+" ["+f.Z()+"]",go(f)}}finally{ji(f)}}}}function ji(f,v){if(f.g){oa(f);const w=f.g,A=f.v[0]?()=>{}:null;f.g=null,f.v=null,v||Xt(f,"ready");try{w.onreadystatechange=A}catch{}}}function oa(f){f.I&&(h.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function Gn(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<Gn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),so(v)}};function dh(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Ng(f){const v={};f=(f.g&&2<=Gn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<f.length;A++){if(G(f[A]))continue;var w=L(f[A]);const q=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const J=v[q]||[];v[q]=J,J.push(w)}O(v,function(A){return A.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function la(f,v,w){return w&&w.internalChannelParams&&w.internalChannelParams[f]||v}function po(f){this.Aa=0,this.i=[],this.j=new Vn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=la("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=la("baseRetryDelayMs",5e3,f),this.cb=la("retryDelaySeedMs",1e4,f),this.Wa=la("forwardChannelMaxRetries",2,f),this.wa=la("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new is(f&&f.concurrentRequestLimit),this.Da=new ra,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=po.prototype,n.la=8,n.G=1,n.connect=function(f,v,w,A){pe(0),this.W=f,this.H=v||{},w&&A!==void 0&&(this.H.OSID=w,this.H.OAID=A),this.F=this.X,this.I=vh(this,null,this.W),_o(this)};function Wl(f){if(fh(f),f.G==3){var v=f.U++,w=Dn(f.I);if(se(w,"SID",f.K),se(w,"RID",v),se(w,"TYPE","terminate"),ca(f,w),v=new mn(f,f.j,v),v.L=2,v.v=na(Dn(w)),w=!1,h.navigator&&h.navigator.sendBeacon)try{w=h.navigator.sendBeacon(v.v.toString(),"")}catch{}!w&&h.Image&&(new Image().src=v.v,w=!0),w||(v.g=bh(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Zr(v)}_h(f)}function yo(f){f.g&&(ua(f),f.g.cancel(),f.g=null)}function fh(f){yo(f),f.u&&(h.clearTimeout(f.u),f.u=null),vo(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&h.clearTimeout(f.s),f.s=null)}function _o(f){if(!oo(f.h)&&!f.s){f.s=!0;var v=f.Ga;F||U(),ot||(F(),ot=!0),gt.add(v,f),f.B=0}}function Rg(f,v){return lo(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=v.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Ie(x(f.Ga,f,v),$l(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const q=new mn(this,this.j,f);let J=this.o;if(this.S&&(J?(J=C(J),I(J,this.S)):J=this.S),this.m!==null||this.O||(q.H=J,J=null),this.P)t:{for(var v=0,w=0;w<this.i.length;w++){e:{var A=this.i[w];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(v+=A,4096<v){v=w;break t}if(v===4096||w===this.i.length-1){v=w+1;break t}}v=1e3}else v=1e3;v=gh(this,q,v),w=Dn(this.I),se(w,"RID",f),se(w,"CVER",22),this.D&&se(w,"X-HTTP-Session-Id",this.D),ca(this,w),J&&(this.O?v="headers="+encodeURIComponent(String(ql(J)))+"&"+v:this.m&&We(w,this.m,J)),co(this.h,q),this.Ua&&se(w,"TYPE","init"),this.P?(se(w,"$req",v),se(w,"SID","null"),q.T=!0,li(q,w,null)):li(q,w,v),this.G=2}}else this.G==3&&(f?Yl(this,f):this.i.length==0||oo(this.h)||Yl(this))};function Yl(f,v){var w;v?w=v.l:w=f.U++;const A=Dn(f.I);se(A,"SID",f.K),se(A,"RID",w),se(A,"AID",f.T),ca(f,A),f.m&&f.o&&We(A,f.m,f.o),w=new mn(f,f.j,w,f.B+1),f.m===null&&(w.H=f.o),v&&(f.i=v.D.concat(f.i)),v=gh(f,w,1e3),w.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),co(f.h,w),li(w,A,v)}function ca(f,v){f.H&&lt(f.H,function(w,A){se(v,A,w)}),f.l&&zl({},function(w,A){se(v,A,w)})}function gh(f,v,w){w=Math.min(f.i.length,w);var A=f.l?x(f.l.Na,f.l,f):null;t:{var q=f.i;let J=-1;for(;;){const ht=["count="+w];J==-1?0<w?(J=q[0].g,ht.push("ofs="+J)):J=0:ht.push("ofs="+J);let Yt=!0;for(let ye=0;ye<w;ye++){let jt=q[ye].g;const Ye=q[ye].map;if(jt-=J,0>jt)J=Math.max(0,q[ye].g-100),Yt=!1;else try{Oi(Ye,ht,"req"+jt+"_")}catch{A&&A(Ye)}}if(Yt){A=ht.join("&");break t}}}return f=f.i.splice(0,w),v.D=f,A}function mh(f){if(!f.g&&!f.u){f.Y=1;var v=f.Fa;F||U(),ot||(F(),ot=!0),gt.add(v,f),f.v=0}}function Gl(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Ie(x(f.Fa,f),$l(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,ph(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Ie(x(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pe(10),yo(this),ph(this))};function ua(f){f.A!=null&&(h.clearTimeout(f.A),f.A=null)}function ph(f){f.g=new mn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var v=Dn(f.qa);se(v,"RID","rpc"),se(v,"SID",f.K),se(v,"AID",f.T),se(v,"CI",f.F?"0":"1"),!f.F&&f.ja&&se(v,"TO",f.ja),se(v,"TYPE","xmlhttp"),ca(f,v),f.m&&f.o&&We(v,f.m,f.o),f.L&&(f.g.I=f.L);var w=f.g;f=f.ia,w.L=1,w.v=na(Dn(v)),w.m=null,w.P=!0,ns(w,f)}n.Za=function(){this.C!=null&&(this.C=null,yo(this),Gl(this),pe(19))};function vo(f){f.C!=null&&(h.clearTimeout(f.C),f.C=null)}function yh(f,v){var w=null;if(f.g==v){vo(f),ua(f),f.g=null;var A=2}else if(Pl(f.h,v))w=v.D,pn(f.h,v),A=1;else return;if(f.G!=0){if(v.o)if(A==1){w=v.m?v.m.length:0,v=Date.now()-v.F;var q=f.B;A=Xr(),Xt(A,new He(A,w)),_o(f)}else mh(f);else if(q=v.s,q==3||q==0&&0<v.X||!(A==1&&Rg(f,v)||A==2&&Gl(f)))switch(w&&0<w.length&&(v=f.h,v.i=v.i.concat(w)),q){case 1:cs(f,5);break;case 4:cs(f,10);break;case 3:cs(f,6);break;default:cs(f,2)}}}function $l(f,v){let w=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(w*=2),w*v}function cs(f,v){if(f.j.info("Error code "+v),v==2){var w=x(f.fb,f),A=f.Xa;const q=!A;A=new je(A||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||ea(A,"https"),na(A),q?sa(A.toString(),w):ci(A.toString(),w)}else pe(2);f.G=0,f.l&&f.l.sa(v),_h(f),fh(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),pe(2)):(this.j.info("Failed to ping google.com"),pe(1))};function _h(f){if(f.G=0,f.ka=[],f.l){const v=Ul(f.h);(v.length!=0||f.i.length!=0)&&(M(f.ka,v),M(f.ka,f.i),f.h.i.length=0,k(f.i),f.i.length=0),f.l.ra()}}function vh(f,v,w){var A=w instanceof je?Dn(w):new je(w);if(A.g!="")v&&(A.g=v+"."+A.g),Xs(A,A.s);else{var q=h.location;A=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;var J=new je(null);A&&ea(J,A),v&&(J.g=v),q&&Xs(J,q),w&&(J.l=w),A=J}return w=f.D,v=f.ya,w&&v&&se(A,w,v),se(A,"VER",f.la),ca(f,A),A}function bh(f,v,w){if(v&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Ca&&!f.pa?new Qt(new Qs({eb:w})):new Qt(f.pa),v.Ha(f.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function xh(){}n=xh.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function xn(f,v){Ce.call(this),this.g=new po(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(f?f["X-WebChannel-Client-Profile"]=v.va:f={"X-WebChannel-Client-Profile":v.va}),this.g.S=f,(f=v&&v.Sb)&&!G(f)&&(this.g.m=f),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!G(v)&&(this.g.D=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new Ks(this)}N(xn,Ce),xn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xn.prototype.close=function(){Wl(this.g)},xn.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var w={};w.__data__=f,f=w}else this.u&&(w={},w.__data__=oi(f),f=w);v.i.push(new lh(v.Ya++,f)),v.G==3&&_o(v)},xn.prototype.N=function(){this.g.l=null,delete this.j,Wl(this.g),delete this.g,xn.aa.N.call(this)};function wh(f){ts.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){t:{for(const w in v){f=w;break t}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}N(wh,ts);function Sh(){Dl.call(this),this.status=1}N(Sh,Dl);function Ks(f){this.g=f}N(Ks,xh),Ks.prototype.ua=function(){Xt(this.g,"a")},Ks.prototype.ta=function(f){Xt(this.g,new wh(f))},Ks.prototype.sa=function(f){Xt(this.g,new Sh)},Ks.prototype.ra=function(){Xt(this.g,"b")},xn.prototype.send=xn.prototype.o,xn.prototype.open=xn.prototype.m,xn.prototype.close=xn.prototype.close,Kr.NO_ERROR=0,Kr.TIMEOUT=8,Kr.HTTP_ERROR=6,Gs.COMPLETE="complete",nh.EventType=Ji,Ji.OPEN="a",Ji.CLOSE="b",Ji.ERROR="c",Ji.MESSAGE="d",Ce.prototype.listen=Ce.prototype.K,Qt.prototype.listenOnce=Qt.prototype.L,Qt.prototype.getLastError=Qt.prototype.Ka,Qt.prototype.getLastErrorCode=Qt.prototype.Ba,Qt.prototype.getStatus=Qt.prototype.Z,Qt.prototype.getResponseJson=Qt.prototype.Oa,Qt.prototype.getResponseText=Qt.prototype.oa,Qt.prototype.send=Qt.prototype.ea,Qt.prototype.setWithCredentials=Qt.prototype.Ha}).apply(typeof Cd<"u"?Cd:typeof self<"u"?self:typeof window<"u"?window:{});const vw="@firebase/firestore",bw="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vu="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl=new Qf("@firebase/firestore");function yi(n,...t){if(hl.logLevel<=Vt.DEBUG){const e=t.map(l_);hl.debug(`Firestore (${Vu}): ${n}`,...e)}}function r2(n,...t){if(hl.logLevel<=Vt.ERROR){const e=t.map(l_);hl.error(`Firestore (${Vu}): ${n}`,...e)}}function TD(n,...t){if(hl.logLevel<=Vt.WARN){const e=t.map(l_);hl.warn(`Firestore (${Vu}): ${n}`,...e)}}function l_(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xu(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,a2(n,i,e)}function a2(n,t,e){let i=`FIRESTORE (${Vu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw r2(i),new Error(i)}function su(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||a2(t,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ut={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class zt extends Vs{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class CD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(_n.UNAUTHENTICATED))}shutdown(){}}class AD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class ND{constructor(t){this.t=t,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){su(this.o===void 0,42304);let i=this.i;const r=d=>this.i!==i?(i=this.i,e(d)):Promise.resolve();let o=new ru;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ru,t.enqueueRetryable(()=>r(this.currentUser))};const c=()=>{const d=o;t.enqueueRetryable(async()=>{await d.promise,await r(this.currentUser)})},h=d=>{yi("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(yi("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ru)}},0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(yi("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(su(typeof i.accessToken=="string",31837,{l:i}),new o2(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return su(t===null||typeof t=="string",2055,{h:t}),new _n(t)}}class RD{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class kD{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new RD(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(_n.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xw{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MD{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,An(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){su(this.o===void 0,3512);const i=o=>{o.error!=null&&yi("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,yi("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{yi("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):yi("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new xw(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(su(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new xw(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=OD(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%62))}return i}}function Dr(n,t){return n<t?-1:n>t?1:0}function ID(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const r=n.charAt(i),o=t.charAt(i);if(r!==o)return jp(r)===jp(o)?Dr(r,o):jp(r)?1:-1}return Dr(n.length,t.length)}const jD=55296,LD=57343;function jp(n){const t=n.charCodeAt(0);return t>=jD&&t<=LD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="__name__";class Wi{constructor(t,e,i){e===void 0?e=0:e>t.length&&xu(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&xu(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Wi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Wi?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=Wi.compareSegments(t.get(r),e.get(r));if(o!==0)return o}return Dr(t.length,e.length)}static compareSegments(t,e){const i=Wi.isNumericId(t),r=Wi.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?Wi.extractNumericId(t).compare(Wi.extractNumericId(e)):ID(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return o_.fromString(t.substring(4,t.length-2))}}class fi extends Wi{construct(t,e,i){return new fi(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new zt(Ut.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new fi(e)}static emptyPath(){return new fi([])}}const PD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Da extends Wi{construct(t,e,i){return new Da(t,e,i)}static isValidIdentifier(t){return PD.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Da.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ww}static keyField(){return new Da([ww])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(i.length===0)throw new zt(Ut.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const h=t[r];if(h==="\\"){if(r+1===t.length)throw new zt(Ut.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const d=t[r+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new zt(Ut.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=d,r+=2}else h==="`"?(c=!c,r++):h!=="."||c?(i+=h,r++):(o(),r++)}if(o(),c)throw new zt(Ut.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Da(e)}static emptyPath(){return new Da([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(t){this.path=t}static fromPath(t){return new ja(fi.fromString(t))}static fromName(t){return new ja(fi.fromString(t).popFirst(5))}static empty(){return new ja(fi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&fi.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return fi.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ja(new fi(t.slice()))}}function UD(n,t,e,i){if(t===!0&&i===!0)throw new zt(Ut.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function zD(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function BD(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":xu(12329,{type:typeof n})}function HD(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new zt(Ut.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=BD(n);throw new zt(Ut.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(n,t){const e={typeString:n};return t&&(e.value=t),e}function qu(n,t){if(!zD(n))throw new zt(Ut.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const r=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const c=n[i];if(r&&typeof c!==r){e=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&c!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new zt(Ut.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw=-62135596800,Ew=1e6;class Gi{static now(){return Gi.fromMillis(Date.now())}static fromDate(t){return Gi.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*Ew);return new Gi(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new zt(Ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new zt(Ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<Sw)throw new zt(Ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new zt(Ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ew}_compareTo(t){return this.seconds===t.seconds?Dr(this.nanoseconds,t.nanoseconds):Dr(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Gi._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(qu(t,Gi._jsonSchema))return new Gi(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Sw;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Gi._jsonSchemaVersion="firestore/timestamp/1.0",Gi._jsonSchema={type:Ue("string",Gi._jsonSchemaVersion),seconds:Ue("number"),nanoseconds:Ue("number")};function FD(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new VD("Invalid base64 string: "+o):o}}(t);return new Wa(e)}static fromUint8Array(t){const e=function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o}(t);return new Wa(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Dr(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Wa.EMPTY_BYTE_STRING=new Wa("");const gy="(default)";class mf{constructor(t,e){this.projectId=t,this.database=e||gy}static empty(){return new mf("","")}get isDefaultDatabase(){return this.database===gy}isEqual(t){return t instanceof mf&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(t,e=null,i=[],r=[],o=null,c="F",h=null,d=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function WD(n){return new qD(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tw,Pt;(Pt=Tw||(Tw={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new o_([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=1048576;function Lp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Mi=t,this.timerId=e,this.d_=i,this.A_=r,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,e-i);r>0&&yi("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new ru,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const c=Date.now()+i,h=new c_(t,e,c,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new zt(Ut.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var Cw,Aw;(Aw=Cw||(Cw={})).Ma="default",Aw.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2="firestore.googleapis.com",Rw=!0;class kw{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new zt(Ut.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=l2,this.ssl=Rw}else this.host=t.host,this.ssl=t.ssl??Rw;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=YD;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<GD)throw new zt(Ut.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}UD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XD(t.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new zt(Ut.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new zt(Ut.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new zt(Ut.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class c2{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new zt(Ut.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new zt(Ut.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kw(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new CD;switch(i.type){case"firstParty":return new kD(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new zt(Ut.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=Nw.get(e);i&&(yi("ComponentProvider","Removing Datastore"),Nw.delete(e),i.terminate())}(this),Promise.resolve()}}function QD(n,t,e,i={}){n=HD(n,c2);const r=Ka(t),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},h=`${t}:${e}`;r&&(Yy(`https://${h}`),Gy("Firestore",!0)),o.host!==l2&&o.host!==h&&TD("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:h,ssl:r,emulatorOptions:i};if(!Mr(d,c)&&(n._setSettings(d),i.mockUserToken)){let g,y;if(typeof i.mockUserToken=="string")g=i.mockUserToken,y=_n.MOCK_USER;else{g=pE(i.mockUserToken,n._app?.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new zt(Ut.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new _n(b)}n._authCredentials=new AD(new o2(g,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new u_(this.firestore,t,this._query)}}class $i{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new h_(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new $i(this.firestore,t,this._key)}toJSON(){return{type:$i._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(qu(e,$i._jsonSchema))return new $i(t,i||null,new ja(fi.fromString(e.referencePath)))}}$i._jsonSchemaVersion="firestore/documentReference/1.0",$i._jsonSchema={type:Ue("string",$i._jsonSchemaVersion),referencePath:Ue("string")};class h_ extends u_{constructor(t,e,i){super(t,e,WD(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new $i(this.firestore,null,new ja(t))}withConverter(t){return new h_(this.firestore,t,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="AsyncQueue";class Ow{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $D(this,"async_queue_retry"),this._c=()=>{const i=Lp();i&&yi(Mw,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=Lp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Lp();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const e=new ru;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!FD(t))throw t;yi(Mw,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const e=this.ac.then(()=>(this.rc=!0,t().catch(i=>{throw this.nc=i,this.rc=!1,r2("INTERNAL UNHANDLED ERROR: ",Dw(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const r=c_.createAndSchedule(this,t,e,i,o=>this.hc(o));return this.tc.push(r),r}uc(){this.nc&&xu(47125,{Pc:Dw(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function Dw(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class KD extends c2{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new Ow,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Ow(t),this._firestoreClient=void 0,await t}}}function ZD(n,t){const e=typeof n=="object"?n:Qy(),i=typeof n=="string"?n:gy,r=Kf(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=fE("firestore");o&&QD(r,...o)}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ks(Wa.fromBase64String(t))}catch(e){throw new zt(Ut.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new ks(Wa.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ks._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(qu(t,ks._jsonSchema))return ks.fromBase64String(t.bytes)}}ks._jsonSchemaVersion="firestore/bytes/1.0",ks._jsonSchema={type:Ue("string",ks._jsonSchemaVersion),bytes:Ue("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new zt(Ut.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Da(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new zt(Ut.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new zt(Ut.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Dr(this._lat,t._lat)||Dr(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ua._jsonSchemaVersion}}static fromJSON(t){if(qu(t,Ua._jsonSchema))return new Ua(t.latitude,t.longitude)}}Ua._jsonSchemaVersion="firestore/geoPoint/1.0",Ua._jsonSchema={type:Ue("string",Ua._jsonSchemaVersion),latitude:Ue("number"),longitude:Ue("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,t._values)}toJSON(){return{type:za._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(qu(t,za._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(e=>typeof e=="number"))return new za(t.vectorValues);throw new zt(Ut.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}za._jsonSchemaVersion="firestore/vectorValue/1.0",za._jsonSchema={type:Ue("string",za._jsonSchemaVersion),vectorValues:Ue("object")};const JD=new RegExp("[~\\*/\\[\\]]");function tI(n,t,e){if(t.search(JD)>=0)throw Iw(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n);try{return new u2(...t.split("."))._internalPath}catch{throw Iw(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n)}}function Iw(n,t,e,i,r){let o=`Function ${t}() called with invalid data`;o+=". ";let c="";return new zt(Ut.INVALID_ARGUMENT,o+n+c)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new $i(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new eI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(d2("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class eI extends h2{data(){return super.data()}}function d2(n,t){return typeof t=="string"?tI(n,t):t instanceof u2?t._internalPath:t._delegate._internalPath}class Ad{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class il extends h2{constructor(t,e,i,r,o,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Qd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(d2("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new zt(Ut.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=il._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}il._jsonSchemaVersion="firestore/documentSnapshot/1.0",il._jsonSchema={type:Ue("string",il._jsonSchemaVersion),bundleSource:Ue("string","DocumentSnapshot"),bundleName:Ue("string"),bundle:Ue("string")};class Qd extends il{data(t={}){return super.data(t)}}class au{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Ad(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Qd(this._firestore,this._userDataWriter,i.key,i,new Ad(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new zt(Ut.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map(h=>{const d=new Qd(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Ad(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}})}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const d=new Qd(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Ad(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let g=-1,y=-1;return h.type!==0&&(g=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),y=c.indexOf(h.doc.key)),{type:nI(h.type),doc:d,oldIndex:g,newIndex:y}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new zt(Ut.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=au._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=DD.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],r=[];return this.docs.forEach(o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function nI(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xu(61501,{type:n})}}au._jsonSchemaVersion="firestore/querySnapshot/1.0",au._jsonSchema={type:Ue("string",au._jsonSchemaVersion),bundleSource:Ue("string","QuerySnapshot"),bundleName:Ue("string"),bundle:Ue("string")};(function(t,e=!0){(function(r){Vu=r})(Za),Fa(new Or("firestore",(i,{instanceIdentifier:r,options:o})=>{const c=i.getProvider("app").getImmediate(),h=new KD(new ND(i.getProvider("auth-internal")),new MD(c,i.getProvider("app-check-internal")),function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new zt(Ut.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mf(g.options.projectId,y)}(c,r),c);return o={useFetchStreams:e,...o},h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),Xi(vw,bw,t),Xi(vw,bw,"esm2020")})();var jw={};const Lw="@firebase/database",Pw="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let f2="";function iI(n){f2=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){e==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),tn(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return e==null?null:_u(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){e==null?delete this.cache_[t]:this.cache_[t]=e}get(t){return Zi(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new sI(t)}}catch{}return new rI},La=g2("localStorage"),aI=g2("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sl=new Qf("@firebase/database"),oI=function(){let n=1;return function(){return n++}}(),m2=function(n){const t=JR(n),e=new XR;e.update(t);const i=e.digest();return qy.encodeByteArray(i)},Wu=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?t+=Wu.apply(null,i):typeof i=="object"?t+=tn(i):t+=i,t+=" "}return t};let ou=null,Uw=!0;const lI=function(n,t){ut(!0,"Can't turn on custom loggers persistently."),sl.logLevel=Vt.VERBOSE,ou=sl.log.bind(sl)},on=function(...n){if(Uw===!0&&(Uw=!1,ou===null&&aI.get("logging_enabled")===!0&&lI()),ou){const t=Wu.apply(null,n);ou(t)}},Yu=function(n){return function(...t){on(n,...t)}},my=function(...n){const t="FIREBASE INTERNAL ERROR: "+Wu(...n);sl.error(t)},Fs=function(...n){const t=`FIREBASE FATAL ERROR: ${Wu(...n)}`;throw sl.error(t),new Error(t)},vn=function(...n){const t="FIREBASE WARNING: "+Wu(...n);sl.warn(t)},cI=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&vn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},d_=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},uI=function(n){if(document.readyState==="complete")n();else{let t=!1;const e=function(){if(!document.body){setTimeout(e,Math.floor(10));return}t||(t=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&e()}),window.attachEvent("onload",e))}},Ya="[MIN_NAME]",Ir="[MAX_NAME]",Ja=function(n,t){if(n===t)return 0;if(n===Ya||t===Ir)return-1;if(t===Ya||n===Ir)return 1;{const e=zw(n),i=zw(t);return e!==null?i!==null?e-i===0?n.length-t.length:e-i:-1:i!==null?1:n<t?-1:1}},hI=function(n,t){return n===t?0:n<t?-1:1},Pc=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+tn(t))},f_=function(n){if(typeof n!="object"||n===null)return tn(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)i!==0&&(e+=","),e+=tn(t[i]),e+=":",e+=f_(n[t[i]]);return e+="}",e},p2=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)r+t>e?i.push(n.substring(r,e)):i.push(n.substring(r,r+t));return i};function ln(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const y2=function(n){ut(!d_(n),"Invalid JSON number");const t=11,e=52,i=(1<<t-1)-1;let r,o,c,h,d;n===0?(o=0,c=0,r=1/n===-1/0?1:0):(r=n<0,n=Math.abs(n),n>=Math.pow(2,1-i)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=h+i,c=Math.round(n*Math.pow(2,e-h)-Math.pow(2,e))):(o=0,c=Math.round(n/Math.pow(2,1-i-e))));const g=[];for(d=e;d;d-=1)g.push(c%2?1:0),c=Math.floor(c/2);for(d=t;d;d-=1)g.push(o%2?1:0),o=Math.floor(o/2);g.push(r?1:0),g.reverse();const y=g.join("");let b="";for(d=0;d<64;d+=8){let x=parseInt(y.substr(d,8),2).toString(16);x.length===1&&(x="0"+x),b=b+x}return b.toLowerCase()},dI=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},fI=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function gI(n,t){let e="Unknown Error";n==="too_big"?e="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?e="Client doesn't have permission to access the desired data.":n==="unavailable"&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}const mI=new RegExp("^-?(0*)\\d{1,10}$"),pI=-2147483648,yI=2147483647,zw=function(n){if(mI.test(n)){const t=Number(n);if(t>=pI&&t<=yI)return t}return null},Sl=function(n){try{n()}catch(t){setTimeout(()=>{const e=t.stack||"";throw vn("Exception was thrown by user callback.",e),t},Math.floor(0))}},_I=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},lu=function(n,t){const e=setTimeout(n,t);return typeof e=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):typeof e=="object"&&e.unref&&e.unref(),e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(t,e){this.appCheckProvider=e,this.appName=t.name,An(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(e=>e.addTokenListener(t))}notifyForInvalidToken(){vn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&e.code==="auth/token-not-initialized"?(on("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',vn(t)}}class Kd{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Kd.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="5",_2="v",v2="s",b2="r",x2="f",w2=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,S2="ls",E2="p",py="ac",T2="websocket",C2="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(t,e,i,r,o=!1,c="",h=!1,d=!1,g=null){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=d,this.emulatorOptions=g,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=La.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&La.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",e=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${e}`}}function xI(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function N2(n,t,e){ut(typeof t=="string","typeof type must == string"),ut(typeof e=="object","typeof params must == object");let i;if(t===T2)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(t===C2)i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);xI(n)&&(e.ns=n.namespace);const r=[];return ln(e,(o,c)=>{r.push(o+"="+c)}),i+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(){this.counters_={}}incrementCounter(t,e=1){Zi(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return kR(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp={},Up={};function m_(n){const t=n.toString();return Pp[t]||(Pp[t]=new wI),Pp[t]}function SI(n,t){const e=n.toString();return Up[e]||(Up[e]=t()),Up[e]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Sl(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="start",TI="close",CI="pLPCommand",AI="pRTLPCB",R2="id",k2="pw",M2="ser",NI="cb",RI="seg",kI="ts",MI="d",OI="dframe",O2=1870,D2=30,DI=O2-D2,II=25e3,jI=3e4;class Zo{constructor(t,e,i,r,o,c,h){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Yu(t),this.stats_=m_(e),this.urlFn=d=>(this.appCheckToken&&(d[py]=this.appCheckToken),N2(e,C2,d))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new EI(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(jI)),uI(()=>{if(this.isClosed_)return;this.scriptTagHolder=new p_((...o)=>{const[c,h,d,g,y]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===Bw)this.id=h,this.password=d;else if(c===TI)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...o)=>{const[c,h]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const i={};i[Bw]="t",i[M2]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[NI]=this.scriptTagHolder.uniqueCallbackIdentifier),i[_2]=g_,this.transportSessionId&&(i[v2]=this.transportSessionId),this.lastSessionId&&(i[S2]=this.lastSessionId),this.applicationId&&(i[E2]=this.applicationId),this.appCheckToken&&(i[py]=this.appCheckToken),typeof location<"u"&&location.hostname&&w2.test(location.hostname)&&(i[b2]=x2);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Zo.forceAllow_=!0}static forceDisallow(){Zo.forceDisallow_=!0}static isAvailable(){return Zo.forceAllow_?!0:!Zo.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!dI()&&!fI()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=tn(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=uE(e),r=p2(i,DI);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,e){this.myDisconnFrame=document.createElement("iframe");const i={};i[OI]="t",i[R2]=t,i[k2]=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=tn(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class p_{constructor(t,e,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=oI(),window[CI+this.uniqueCallbackIdentifier]=t,window[AI+this.uniqueCallbackIdentifier]=e,this.myIFrame=p_.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){on("frame writing exception"),h.stack&&on(h.stack),on(h)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||on("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[R2]=this.myID,t[k2]=this.myPW,t[M2]=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+D2+i.length<=O2;){const c=this.pendingSegs.shift();i=i+"&"+RI+r+"="+c.seg+"&"+kI+r+"="+c.ts+"&"+MI+r+"="+c.d,r++}return e=e+i,this.addLongPollTag_(e,this.currentSerial),!0}else return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(II)),o=()=>{clearTimeout(r),i()};this.addTag(t,o)}addTag(t,e){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{on("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=16384,PI=45e3;let pf=null;typeof MozWebSocket<"u"?pf=MozWebSocket:typeof WebSocket<"u"&&(pf=WebSocket);class mi{constructor(t,e,i,r,o,c,h){this.connId=t,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Yu(this.connId),this.stats_=m_(e),this.connURL=mi.connectionURL_(e,c,h,r,i),this.nodeAdmin=e.nodeAdmin}static connectionURL_(t,e,i,r,o){const c={};return c[_2]=g_,typeof location<"u"&&location.hostname&&w2.test(location.hostname)&&(c[b2]=x2),e&&(c[v2]=e),i&&(c[S2]=i),r&&(c[py]=r),o&&(c[E2]=o),N2(t,T2,c)}open(t,e){this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,La.set("previous_websocket_failure",!0);try{let i;HR(),this.mySock=new pf(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){mi.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const e=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(e);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&pf!==null&&!mi.forceDisallow_}static previouslyFailed(){return La.isInMemoryStorage||La.get("previous_websocket_failure")===!0}markConnectionHealthy(){La.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const i=_u(e);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(ut(this.frames===null,"We already have a frame buffer"),t.length<=6){const e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(e);else{const i=this.extractFrameCount_(e);i!==null&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const e=tn(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=p2(e,LI);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(PI))}sendString_(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}mi.responsesRequiredToBeHealthy=2;mi.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{static get ALL_TRANSPORTS(){return[Zo,mi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const e=mi&&mi.isAvailable();let i=e&&!mi.previouslyFailed();if(t.webSocketOnly&&(e||vn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[mi];else{const r=this.transports_=[];for(const o of wu.ALL_TRANSPORTS)o&&o.isAvailable()&&r.push(o);wu.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}wu.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=6e4,zI=5e3,BI=10*1024,HI=100*1024,zp="t",Hw="d",FI="s",Fw="r",VI="e",Vw="o",qw="a",Ww="n",Yw="p",qI="h";class WI{constructor(t,e,i,r,o,c,h,d,g,y){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=d,this.onKill_=g,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Yu("c:"+this.id+":"),this.transportManager_=new wu(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=lu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>HI?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>BI?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){const e={t:"d",d:t};this.sendData_(e)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(zp in t){const e=t[zp];e===qw?this.upgradeIfSecondaryHealthy_():e===Fw?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):e===Vw&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Pc("t",t),i=Pc("d",t);if(e==="c")this.onSecondaryControl_(i);else if(e==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+e)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Yw,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:qw,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Ww,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Pc("t",t),i=Pc("d",t);e==="c"?this.onControl_(i):e==="d"&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Pc(zp,t);if(Hw in t){const i=t[Hw];if(e===qI){const r={...i};this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(e===Ww){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else e===FI?this.onConnectionShutdown_(i):e===Fw?this.onReset_(i):e===VI?my("Server Error: "+i):e===Vw?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):my("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),g_!==i&&vn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),lu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(UI))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):lu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(zI))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Yw,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(La.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(t){this.allowedEvents_=t,this.listeners_={},ut(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===e&&(!i||i===r[o].context)){r.splice(o,1);return}}validateEventType_(t){ut(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf extends j2{static getInstance(){return new yf}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!$y()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return ut(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=32,$w=768;class ne{constructor(t,e){if(e===void 0){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)this.pieces_[e]!==""&&(t+="/"+this.pieces_[e]);return t||"/"}}function qt(){return new ne("")}function Rt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function jr(n){return n.pieces_.length-n.pieceNum_}function fe(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new ne(n.pieces_,t)}function y_(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function YI(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)n.pieces_[e]!==""&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}function Su(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function L2(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new ne(t,0)}function Re(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof ne)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new ne(e,0)}function kt(n){return n.pieceNum_>=n.pieces_.length}function Rn(n,t){const e=Rt(n),i=Rt(t);if(e===null)return t;if(e===i)return Rn(fe(n),fe(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function GI(n,t){const e=Su(n,0),i=Su(t,0);for(let r=0;r<e.length&&r<i.length;r++){const o=Ja(e[r],i[r]);if(o!==0)return o}return e.length===i.length?0:e.length<i.length?-1:1}function __(n,t){if(jr(n)!==jr(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function ni(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(jr(n)>jr(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class $I{constructor(t,e){this.errorPrefix_=e,this.parts_=Su(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Xf(this.parts_[i]);P2(this)}}function XI(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=Xf(t),P2(n)}function QI(n){const t=n.parts_.pop();n.byteLength_-=Xf(t),n.parts_.length>0&&(n.byteLength_-=1)}function P2(n){if(n.byteLength_>$w)throw new Error(n.errorPrefix_+"has a key path longer than "+$w+" bytes ("+n.byteLength_+").");if(n.parts_.length>Gw)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Gw+") or object contains a cycle "+ka(n))}function ka(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_ extends j2{static getInstance(){return new v_}constructor(){super(["visible"]);let t,e;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(t){return ut(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=1e3,KI=300*1e3,Xw=30*1e3,ZI=1.3,JI=3e4,t4="server_kill",Qw=3;class Us extends I2{constructor(t,e,i,r,o,c,h,d){if(super(),this.repoInfo_=t,this.applicationId_=e,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=o,this.authTokenProvider_=c,this.appCheckTokenProvider_=h,this.authOverride_=d,this.id=Us.nextPersistentConnectionId_++,this.log_=Yu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Uc,this.maxReconnectDelay_=KI,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");v_.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&yf.getInstance().on("online",this.onOnline_,this)}sendRequest(t,e,i){const r=++this.requestNumber_,o={r,a:t,b:e};this.log_(tn(o)),ut(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[r]=i)}get(t){this.initConnection_();const e=new Pu,r={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:c=>{const h=c.d;c.s==="ok"?e.resolve(h):e.reject(h)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),e.promise}listen(t,e,i,r){this.initConnection_();const o=t._queryIdentifier,c=t._path.toString();this.log_("Listen called for "+c+" "+o),this.listens.has(c)||this.listens.set(c,new Map),ut(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ut(!this.listens.get(c).has(o),"listen() called twice for same path/queryId.");const h={onComplete:r,hashFn:e,query:t,tag:i};this.listens.get(c).set(o,h),this.connected_&&this.sendListen_(h)}sendGet_(t){const e=this.outstandingGets_[t];this.sendRequest("g",e.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),e.onComplete&&e.onComplete(i)})}sendListen_(t){const e=t.query,i=e._path.toString(),r=e._queryIdentifier;this.log_("Listen on "+i+" for "+r);const o={p:i},c="q";t.tag&&(o.q=e._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest(c,o,h=>{const d=h.d,g=h.s;Us.warnOnListenWarnings_(d,e),(this.listens.get(i)&&this.listens.get(i).get(r))===t&&(this.log_("listen response",h),g!=="ok"&&this.removeListen_(i,r),t.onComplete&&t.onComplete(g,d))})}static warnOnListenWarnings_(t,e){if(t&&typeof t=="object"&&Zi(t,"w")){const i=cl(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+e._queryParams.getIndex().toString()+'"',o=e._path.toString();vn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||$R(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Xw)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,e=GR(t)?"auth":"gauth",i={cred:t};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(e,i,r=>{const o=r.s,c=r.d||"error";this.authToken_===t&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const e=t.s,i=t.d||"error";e==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(e,i)})}unlisten(t,e){const i=t._path.toString(),r=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),ut(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,t._queryObject,e)}sendUnlisten_(t,e,i,r){this.log_("Unlisten on "+t+" for "+e);const o={p:t},c="n";r&&(o.q=i,o.t=r),this.sendRequest(c,o)}onDisconnectPut(t,e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,e,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:i})}onDisconnectMerge(t,e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,e,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:i})}onDisconnectCancel(t,e){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})}sendOnDisconnect_(t,e,i,r){const o={p:e,d:i};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,c=>{r&&setTimeout(()=>{r(c.s,c.d)},Math.floor(0))})}put(t,e,i,r){this.putInternal("p",t,e,i,r)}merge(t,e,i,r){this.putInternal("m",t,e,i,r)}putInternal(t,e,i,r,o){this.initConnection_();const c={p:e,d:i};o!==void 0&&(c.h=o),this.outstandingPuts_.push({action:t,request:c,onComplete:r}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+e)}sendPut_(t){const e=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,r=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(e,i,o=>{this.log_(e+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(o.s,o.d)})}reportStats(t){if(this.connected_){const e={c:t};this.log_("reportStats",e),this.sendRequest("s",e,i=>{if(i.s!=="ok"){const o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+tn(t));const e=t.r,i=this.requestCBHash_[e];i&&(delete this.requestCBHash_[e],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,e){this.log_("handleServerMessage",t,e),t==="d"?this.onDataUpdate_(e.p,e.d,!1,e.t):t==="m"?this.onDataUpdate_(e.p,e.d,!0,e.t):t==="c"?this.onListenRevoked_(e.p,e.q):t==="ac"?this.onAuthRevoked_(e.s,e.d):t==="apc"?this.onAppCheckRevoked_(e.s,e.d):t==="sd"?this.onSecurityDebugPacket_(e):my("Unrecognized action received from server: "+tn(t)+`
Are you using the latest client?`)}onReady_(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){ut(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Uc,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Uc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>JI&&(this.reconnectDelay_=Uc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*ZI)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),e=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Us.nextConnectionId_++,o=this.lastSessionId;let c=!1,h=null;const d=function(){h?h.close():(c=!0,i())},g=function(b){ut(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(b)};this.realtime_={close:d,sendRequest:g};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[b,x]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);c?on("getToken() completed but was canceled"):(on("getToken() completed. Creating connection."),this.authToken_=b&&b.accessToken,this.appCheckToken_=x&&x.token,h=new WI(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,e,i,E=>{vn(E+" ("+this.repoInfo_.toString()+")"),this.interrupt(t4)},o))}catch(b){this.log_("Failed to get token: "+b),c||(this.repoInfo_.nodeAdmin&&vn(b),d())}}}interrupt(t){on("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){on("Resuming connection for reason: "+t),delete this.interruptReasons_[t],sy(this.interruptReasons_)&&(this.reconnectDelay_=Uc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const e=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:e})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,e){let i;e?i=e.map(o=>f_(o)).join("$"):i="default";const r=this.removeListen_(t,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(t,e){const i=new ne(t).toString();let r;if(this.listens.has(i)){const o=this.listens.get(i);r=o.get(e),o.delete(e),o.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(t,e){on("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Qw&&(this.reconnectDelay_=Xw,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,e){on("App check token revoked: "+t+"/"+e),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Qw&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const e of t.values())this.sendListen_(e);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let e="js";t["sdk."+e+"."+f2.replace(/\./g,"-")]=1,$y()?t["framework.cordova"]=1:yE()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=yf.getInstance().currentlyOnline();return sy(this.interruptReasons_)&&t}}Us.nextPersistentConnectionId_=0;Us.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Mt(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new Mt(Ya,t),r=new Mt(Ya,e);return this.compare(i,r)!==0}minPost(){return Mt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nd;class U2 extends eg{static get __EMPTY_NODE(){return Nd}static set __EMPTY_NODE(t){Nd=t}compare(t,e){return Ja(t.name,e.name)}isDefinedOn(t){throw bl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Mt.MIN}maxPost(){return new Mt(Ir,Nd)}makePost(t,e){return ut(typeof t=="string","KeyIndex indexValue must always be a string."),new Mt(t,Nd)}toString(){return".key"}}const Ba=new U2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(t,e,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let c=1;for(;!t.isEmpty();)if(t=t,c=e?i(t.key,e):1,r&&(c*=-1),c<0)this.isReverse_?t=t.left:t=t.right;else if(c===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),e;if(this.resultGenerator_?e=this.resultGenerator_(t.key,t.value):e={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Ze{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??Ze.RED,this.left=r??kn.EMPTY_NODE,this.right=o??kn.EMPTY_NODE}copy(t,e,i,r,o){return new Ze(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return o<0?r=r.copy(null,null,null,r.left.insert(t,e,i),null):o===0?r=r.copy(null,e,null,null,null):r=r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return kn.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,e){let i,r;if(i=this,e(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),e(t,i.key)===0){if(i.right.isEmpty())return kn.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Ze.RED=!0;Ze.BLACK=!1;class e4{copy(t,e,i,r,o){return this}insert(t,e,i){return new Ze(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class kn{constructor(t,e=kn.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new kn(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Ze.BLACK,null,null))}remove(t){return new kn(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ze.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),e===0)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();)if(e=this.comparator_(t,i.key),e===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else e<0?i=i.left:e>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Rd(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Rd(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Rd(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Rd(this.root_,null,this.comparator_,!0,t)}}kn.EMPTY_NODE=new e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(n,t){return Ja(n.name,t.name)}function b_(n,t){return Ja(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yy;function i4(n){yy=n}const z2=function(n){return typeof n=="number"?"number:"+y2(n):"string:"+n},B2=function(n){if(n.isLeafNode()){const t=n.val();ut(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Zi(t,".sv"),"Priority must be a string or number.")}else ut(n===yy||n.isEmpty(),"priority of unexpected type.");ut(n===yy||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kw;class Ke{static set __childrenNodeConstructor(t){Kw=t}static get __childrenNodeConstructor(){return Kw}constructor(t,e=Ke.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=e,this.lazyHash_=null,ut(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),B2(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Ke(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Ke.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return kt(t)?this:Rt(t)===".priority"?this.priorityNode_:Ke.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,e){return null}updateImmediateChild(t,e){return t===".priority"?this.updatePriority(e):e.isEmpty()&&t!==".priority"?this:Ke.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,e).updatePriority(this.priorityNode_)}updateChild(t,e){const i=Rt(t);return i===null?e:e.isEmpty()&&i!==".priority"?this:(ut(i!==".priority"||jr(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Ke.__childrenNodeConstructor.EMPTY_NODE.updateChild(fe(t),e)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,e){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+z2(this.priorityNode_.val())+":");const e=typeof this.value_;t+=e+":",e==="number"?t+=y2(this.value_):t+=this.value_,this.lazyHash_=m2(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Ke.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Ke.__childrenNodeConstructor?-1:(ut(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const e=typeof t.value_,i=typeof this.value_,r=Ke.VALUE_TYPE_ORDER.indexOf(e),o=Ke.VALUE_TYPE_ORDER.indexOf(i);return ut(r>=0,"Unknown leaf type: "+e),ut(o>=0,"Unknown leaf type: "+i),r===o?i==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-r}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}else return!1}}Ke.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let H2,F2;function s4(n){H2=n}function r4(n){F2=n}class a4 extends eg{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),o=i.compareTo(r);return o===0?Ja(t.name,e.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Mt.MIN}maxPost(){return new Mt(Ir,new Ke("[PRIORITY-POST]",F2))}makePost(t,e){const i=H2(t);return new Mt(e,new Ke("[PRIORITY-POST]",i))}toString(){return".priority"}}const Ee=new a4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4=Math.log(2);class l4{constructor(t){const e=o=>parseInt(Math.log(o)/o4,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=e(t+1),this.current_=this.count-1;const r=i(this.count);this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const _f=function(n,t,e,i){n.sort(t);const r=function(d,g){const y=g-d;let b,x;if(y===0)return null;if(y===1)return b=n[d],x=e?e(b):b,new Ze(x,b.node,Ze.BLACK,null,null);{const E=parseInt(y/2,10)+d,N=r(d,E),k=r(E+1,g);return b=n[E],x=e?e(b):b,new Ze(x,b.node,Ze.BLACK,N,k)}},o=function(d){let g=null,y=null,b=n.length;const x=function(N,k){const M=b-N,P=b;b-=N;const G=r(M+1,P),K=n[M],nt=e?e(K):K;E(new Ze(nt,K.node,k,null,G))},E=function(N){g?(g.left=N,g=N):(y=N,g=N)};for(let N=0;N<d.count;++N){const k=d.nextBitIsOne(),M=Math.pow(2,d.count-(N+1));k?x(M,Ze.BLACK):(x(M,Ze.BLACK),x(M,Ze.RED))}return y},c=new l4(n.length),h=o(c);return new kn(i||t,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bp;const $o={};class Ds{static get Default(){return ut($o&&Ee,"ChildrenNode.ts has not been loaded"),Bp=Bp||new Ds({".priority":$o},{".priority":Ee}),Bp}constructor(t,e){this.indexes_=t,this.indexSet_=e}get(t){const e=cl(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof kn?e:null}hasIndex(t){return Zi(this.indexSet_,t.toString())}addIndex(t,e){ut(t!==Ba,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=e.getIterator(Mt.Wrap);let c=o.getNext();for(;c;)r=r||t.isDefinedOn(c.node),i.push(c),c=o.getNext();let h;r?h=_f(i,t.getCompare()):h=$o;const d=t.toString(),g={...this.indexSet_};g[d]=t;const y={...this.indexes_};return y[d]=h,new Ds(y,g)}addToIndexes(t,e){const i=of(this.indexes_,(r,o)=>{const c=cl(this.indexSet_,o);if(ut(c,"Missing index implementation for "+o),r===$o)if(c.isDefinedOn(t.node)){const h=[],d=e.getIterator(Mt.Wrap);let g=d.getNext();for(;g;)g.name!==t.name&&h.push(g),g=d.getNext();return h.push(t),_f(h,c.getCompare())}else return $o;else{const h=e.get(t.name);let d=r;return h&&(d=d.remove(new Mt(t.name,h))),d.insert(t,t.node)}});return new Ds(i,this.indexSet_)}removeFromIndexes(t,e){const i=of(this.indexes_,r=>{if(r===$o)return r;{const o=e.get(t.name);return o?r.remove(new Mt(t.name,o)):r}});return new Ds(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zc;class wt{static get EMPTY_NODE(){return zc||(zc=new wt(new kn(b_),null,Ds.Default))}constructor(t,e,i){this.children_=t,this.priorityNode_=e,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&B2(this.priorityNode_),this.children_.isEmpty()&&ut(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||zc}updatePriority(t){return this.children_.isEmpty()?this:new wt(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const e=this.children_.get(t);return e===null?zc:e}}getChild(t){const e=Rt(t);return e===null?this:this.getImmediateChild(e).getChild(fe(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,e){if(ut(e,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(e);{const i=new Mt(t,e);let r,o;e.isEmpty()?(r=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(t,e),o=this.indexMap_.addToIndexes(i,this.children_));const c=r.isEmpty()?zc:this.priorityNode_;return new wt(r,c,o)}}updateChild(t,e){const i=Rt(t);if(i===null)return e;{ut(Rt(t)!==".priority"||jr(t)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild(fe(t),e);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const e={};let i=0,r=0,o=!0;if(this.forEachChild(Ee,(c,h)=>{e[c]=h.val(t),i++,o&&wt.INTEGER_REGEXP_.test(c)?r=Math.max(r,Number(c)):o=!1}),!t&&o&&r<2*i){const c=[];for(const h in e)c[h]=e[h];return c}else return t&&!this.getPriority().isEmpty()&&(e[".priority"]=this.getPriority().val()),e}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+z2(this.getPriority().val())+":"),this.forEachChild(Ee,(e,i)=>{const r=i.hash();r!==""&&(t+=":"+e+":"+r)}),this.lazyHash_=t===""?"":m2(t)}return this.lazyHash_}getPredecessorChildName(t,e,i){const r=this.resolveIndex_(i);if(r){const o=r.getPredecessorKey(new Mt(t,e));return o?o.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const e=this.resolveIndex_(t);if(e){const i=e.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(t){const e=this.getFirstChildName(t);return e?new Mt(e,this.children_.get(e)):null}getLastChildName(t){const e=this.resolveIndex_(t);if(e){const i=e.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(t){const e=this.getLastChildName(t);return e?new Mt(e,this.children_.get(e)):null}forEachChild(t,e){const i=this.resolveIndex_(t);return i?i.inorderTraversal(r=>e(r.name,r.node)):this.children_.inorderTraversal(e)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,e){const i=this.resolveIndex_(e);if(i)return i.getIteratorFrom(t,r=>r);{const r=this.children_.getIteratorFrom(t.name,Mt.Wrap);let o=r.peek();for(;o!=null&&e.compare(o,t)<0;)r.getNext(),o=r.peek();return r}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,e){const i=this.resolveIndex_(e);if(i)return i.getReverseIteratorFrom(t,r=>r);{const r=this.children_.getReverseIteratorFrom(t.name,Mt.Wrap);let o=r.peek();for(;o!=null&&e.compare(o,t)>0;)r.getNext(),o=r.peek();return r}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Gu?-1:0}withIndex(t){if(t===Ba||this.indexMap_.hasIndex(t))return this;{const e=this.indexMap_.addIndex(t,this.children_);return new wt(this.children_,this.priorityNode_,e)}}isIndexed(t){return t===Ba||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const e=t;if(this.getPriority().equals(e.getPriority()))if(this.children_.count()===e.children_.count()){const i=this.getIterator(Ee),r=e.getIterator(Ee);let o=i.getNext(),c=r.getNext();for(;o&&c;){if(o.name!==c.name||!o.node.equals(c.node))return!1;o=i.getNext(),c=r.getNext()}return o===null&&c===null}else return!1;else return!1}}resolveIndex_(t){return t===Ba?null:this.indexMap_.get(t.toString())}}wt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class c4 extends wt{constructor(){super(new kn(b_),wt.EMPTY_NODE,Ds.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return wt.EMPTY_NODE}isEmpty(){return!1}}const Gu=new c4;Object.defineProperties(Mt,{MIN:{value:new Mt(Ya,wt.EMPTY_NODE)},MAX:{value:new Mt(Ir,Gu)}});U2.__EMPTY_NODE=wt.EMPTY_NODE;Ke.__childrenNodeConstructor=wt;i4(Gu);r4(Gu);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4=!0;function Je(n,t=null){if(n===null)return wt.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(t=n[".priority"]),ut(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const e=n;return new Ke(e,Je(t))}if(!(n instanceof Array)&&u4){const e=[];let i=!1;if(ln(n,(c,h)=>{if(c.substring(0,1)!=="."){const d=Je(h);d.isEmpty()||(i=i||!d.getPriority().isEmpty(),e.push(new Mt(c,d)))}}),e.length===0)return wt.EMPTY_NODE;const o=_f(e,n4,c=>c.name,b_);if(i){const c=_f(e,Ee.getCompare());return new wt(o,Je(t),new Ds({".priority":c},{".priority":Ee}))}else return new wt(o,Je(t),Ds.Default)}else{let e=wt.EMPTY_NODE;return ln(n,(i,r)=>{if(Zi(n,i)&&i.substring(0,1)!=="."){const o=Je(r);(o.isLeafNode()||!o.isEmpty())&&(e=e.updateImmediateChild(i,o))}}),e.updatePriority(Je(t))}}s4(Je);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_ extends eg{constructor(t){super(),this.indexPath_=t,ut(!kt(t)&&Rt(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),o=i.compareTo(r);return o===0?Ja(t.name,e.name):o}makePost(t,e){const i=Je(t),r=wt.EMPTY_NODE.updateChild(this.indexPath_,i);return new Mt(e,r)}maxPost(){const t=wt.EMPTY_NODE.updateChild(this.indexPath_,Gu);return new Mt(Ir,t)}toString(){return Su(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4 extends eg{compare(t,e){const i=t.node.compareTo(e.node);return i===0?Ja(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Mt.MIN}maxPost(){return Mt.MAX}makePost(t,e){const i=Je(t);return new Mt(e,i)}toString(){return".value"}}const V2=new h4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(n){return{type:"value",snapshotNode:n}}function dl(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function Eu(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function Tu(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}function d4(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(t){this.index_=t}updateChild(t,e,i,r,o,c){ut(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=t.getImmediateChild(e);return h.getChild(r).equals(i.getChild(r))&&h.isEmpty()===i.isEmpty()||(c!=null&&(i.isEmpty()?t.hasChild(e)?c.trackChildChange(Eu(e,h)):ut(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?c.trackChildChange(dl(e,i)):c.trackChildChange(Tu(e,i,h))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return i!=null&&(t.isLeafNode()||t.forEachChild(Ee,(r,o)=>{e.hasChild(r)||i.trackChildChange(Eu(r,o))}),e.isLeafNode()||e.forEachChild(Ee,(r,o)=>{if(t.hasChild(r)){const c=t.getImmediateChild(r);c.equals(o)||i.trackChildChange(Tu(r,o,c))}else i.trackChildChange(dl(r,o))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?wt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(t){this.indexedFilter_=new w_(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Cu.getStartPost_(t),this.endPost_=Cu.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,r,o,c){return this.matches(new Mt(e,i))||(i=wt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,o,c)}updateFullNode(t,e,i){e.isLeafNode()&&(e=wt.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(wt.EMPTY_NODE);const o=this;return e.forEachChild(Ee,(c,h)=>{o.matches(new Mt(c,h))||(r=r.updateImmediateChild(c,wt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Cu(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,r,o,c){return this.rangedFilter_.matches(new Mt(e,i))||(i=wt.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,o,c):this.fullLimitUpdateChild_(t,e,i,o,c)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=wt.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<e.numChildren()&&e.isIndexed(this.index_)){r=wt.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;o.hasNext()&&c<this.limit_;){const h=o.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))r=r.updateImmediateChild(h.name,h.node),c++;else break;else continue}}else{r=e.withIndex(this.index_),r=r.updatePriority(wt.EMPTY_NODE);let o;this.reverse_?o=r.getReverseIterator(this.index_):o=r.getIterator(this.index_);let c=0;for(;o.hasNext();){const h=o.getNext();c<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?c++:r=r.updateImmediateChild(h.name,wt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,o){let c;if(this.reverse_){const b=this.index_.getCompare();c=(x,E)=>b(E,x)}else c=this.index_.getCompare();const h=t;ut(h.numChildren()===this.limit_,"");const d=new Mt(e,i),g=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),y=this.rangedFilter_.matches(d);if(h.hasChild(e)){const b=h.getImmediateChild(e);let x=r.getChildAfterChild(this.index_,g,this.reverse_);for(;x!=null&&(x.name===e||h.hasChild(x.name));)x=r.getChildAfterChild(this.index_,x,this.reverse_);const E=x==null?1:c(x,d);if(y&&!i.isEmpty()&&E>=0)return o?.trackChildChange(Tu(e,i,b)),h.updateImmediateChild(e,i);{o?.trackChildChange(Eu(e,b));const k=h.updateImmediateChild(e,wt.EMPTY_NODE);return x!=null&&this.rangedFilter_.matches(x)?(o?.trackChildChange(dl(x.name,x.node)),k.updateImmediateChild(x.name,x.node)):k}}else return i.isEmpty()?t:y&&c(g,d)>=0?(o!=null&&(o.trackChildChange(Eu(g.name,g.node)),o.trackChildChange(dl(e,i))),h.updateImmediateChild(e,i).updateImmediateChild(g.name,wt.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ee}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ut(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ut(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ya}hasEnd(){return this.endSet_}getIndexEndValue(){return ut(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ut(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ir}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ut(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ee}copy(){const t=new S_;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function g4(n){return n.loadsAllData()?new w_(n.getIndex()):n.hasLimit()?new f4(n):new Cu(n)}function m4(n,t,e){const i=n.copy();return i.startSet_=!0,t===void 0&&(t=null),i.indexStartValue_=t,e!=null?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function p4(n,t,e){const i=n.copy();return i.endSet_=!0,t===void 0&&(t=null),i.indexEndValue_=t,e!==void 0?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function y4(n,t){const e=n.copy();return e.index_=t,e}function Zw(n){const t={};if(n.isDefault())return t;let e;if(n.index_===Ee?e="$priority":n.index_===V2?e="$value":n.index_===Ba?e="$key":(ut(n.index_ instanceof x_,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=tn(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=tn(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+tn(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=tn(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+tn(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function Jw(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;e===""&&(n.isViewFromLeft()?e="l":e="r"),t.vf=e}return n.index_!==Ee&&(t.i=n.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf extends I2{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return e!==void 0?"tag$"+e:(ut(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Yu("p:rest:"),this.listens_={}}listen(t,e,i,r){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const c=vf.getListenId_(t,i),h={};this.listens_[c]=h;const d=Zw(t._queryParams);this.restRequest_(o+".json",d,(g,y)=>{let b=y;if(g===404&&(b=null,g=null),g===null&&this.onDataUpdate_(o,b,!1,i),cl(this.listens_,c)===h){let x;g?g===401?x="permission_denied":x="rest_error:"+g:x="ok",r(x,null)}})}unlisten(t,e){const i=vf.getListenId_(t,e);delete this.listens_[i]}get(t){const e=Zw(t._queryParams),i=t._path.toString(),r=new Pu;return this.restRequest_(i+".json",e,(o,c)=>{let h=c;o===404&&(h=null,o=null),o===null?(this.onDataUpdate_(i,h,!1,null),r.resolve(h)):r.reject(new Error(h))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(e.auth=r.accessToken),o&&o.token&&(e.ac=o.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+xl(e);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(i&&h.readyState===4){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let d=null;if(h.status>=200&&h.status<300){try{d=_u(h.responseText)}catch{vn("Failed to parse JSON response for "+c+": "+h.responseText)}i(null,d)}else h.status!==401&&h.status!==404&&vn("Got unsuccessful REST response for "+c+" Status: "+h.status),i(h.status);i=null}},h.open("GET",c,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(){this.rootNode_=wt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(){return{value:null,children:new Map}}function W2(n,t,e){if(kt(t))n.value=e,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(t,e);else{const i=Rt(t);n.children.has(i)||n.children.set(i,bf());const r=n.children.get(i);t=fe(t),W2(r,t,e)}}function _y(n,t,e){n.value!==null?e(t,n.value):v4(n,(i,r)=>{const o=new ne(t.toString()+"/"+i);_y(r,o,e)})}function v4(n,t){n.children.forEach((e,i)=>{t(i,e)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e={...t};return this.last_&&ln(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1=10*1e3,x4=30*1e3,w4=300*1e3;class S4{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new b4(t);const i=t1+(x4-t1)*Math.random();lu(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;ln(t,(r,o)=>{o>0&&Zi(this.statsToReport_,r)&&(e[r]=o,i=!0)}),i&&this.server_.reportStats(e),lu(this.reportStats_.bind(this),Math.floor(Math.random()*2*w4))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _i;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(_i||(_i={}));function E_(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function T_(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function C_(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=_i.ACK_USER_WRITE,this.source=E_()}operationForChild(t){if(kt(this.path)){if(this.affectedTree.value!=null)return ut(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new ne(t));return new xf(qt(),e,this.revert)}}else return ut(Rt(this.path)===t,"operationForChild called for unrelated child."),new xf(fe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(t,e){this.source=t,this.path=e,this.type=_i.LISTEN_COMPLETE}operationForChild(t){return kt(this.path)?new Au(this.source,qt()):new Au(this.source,fe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=_i.OVERWRITE}operationForChild(t){return kt(this.path)?new Ga(this.source,qt(),this.snap.getImmediateChild(t)):new Ga(this.source,fe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=_i.MERGE}operationForChild(t){if(kt(this.path)){const e=this.children.subtree(new ne(t));return e.isEmpty()?null:e.value?new Ga(this.source,qt(),e.value):new fl(this.source,qt(),e)}else return ut(Rt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new fl(this.source,fe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(kt(t))return this.isFullyInitialized()&&!this.filtered_;const e=Rt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function T4(n,t,e,i){const r=[],o=[];return t.forEach(c=>{c.type==="child_changed"&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&o.push(d4(c.childName,c.snapshotNode))}),Bc(n,r,"child_removed",t,i,e),Bc(n,r,"child_added",t,i,e),Bc(n,r,"child_moved",o,i,e),Bc(n,r,"child_changed",t,i,e),Bc(n,r,"value",t,i,e),r}function Bc(n,t,e,i,r,o){const c=i.filter(h=>h.type===e);c.sort((h,d)=>A4(n,h,d)),c.forEach(h=>{const d=C4(n,h,o);r.forEach(g=>{g.respondsTo(h.type)&&t.push(g.createEvent(d,n.query_))})})}function C4(n,t,e){return t.type==="value"||t.type==="child_removed"||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}function A4(n,t,e){if(t.childName==null||e.childName==null)throw bl("Should only compare child_ events.");const i=new Mt(t.childName,t.snapshotNode),r=new Mt(e.childName,e.snapshotNode);return n.index_.compare(i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(n,t){return{eventCache:n,serverCache:t}}function cu(n,t,e,i){return ng(new $a(t,e,i),n.serverCache)}function Y2(n,t,e,i){return ng(n.eventCache,new $a(t,e,i))}function vy(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Xa(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hp;const N4=()=>(Hp||(Hp=new kn(hI)),Hp);class de{static fromObject(t){let e=new de(null);return ln(t,(i,r)=>{e=e.set(new ne(i),r)}),e}constructor(t,e=N4()){this.value=t,this.children=e}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(this.value!=null&&e(this.value))return{path:qt(),value:this.value};if(kt(t))return null;{const i=Rt(t),r=this.children.get(i);if(r!==null){const o=r.findRootMostMatchingPathAndValue(fe(t),e);return o!=null?{path:Re(new ne(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(kt(t))return this;{const e=Rt(t),i=this.children.get(e);return i!==null?i.subtree(fe(t)):new de(null)}}set(t,e){if(kt(t))return new de(e,this.children);{const i=Rt(t),o=(this.children.get(i)||new de(null)).set(fe(t),e),c=this.children.insert(i,o);return new de(this.value,c)}}remove(t){if(kt(t))return this.children.isEmpty()?new de(null):new de(null,this.children);{const e=Rt(t),i=this.children.get(e);if(i){const r=i.remove(fe(t));let o;return r.isEmpty()?o=this.children.remove(e):o=this.children.insert(e,r),this.value===null&&o.isEmpty()?new de(null):new de(this.value,o)}else return this}}get(t){if(kt(t))return this.value;{const e=Rt(t),i=this.children.get(e);return i?i.get(fe(t)):null}}setTree(t,e){if(kt(t))return e;{const i=Rt(t),o=(this.children.get(i)||new de(null)).setTree(fe(t),e);let c;return o.isEmpty()?c=this.children.remove(i):c=this.children.insert(i,o),new de(this.value,c)}}fold(t){return this.fold_(qt(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(Re(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,qt(),e)}findOnPath_(t,e,i){const r=this.value?i(e,this.value):!1;if(r)return r;if(kt(t))return null;{const o=Rt(t),c=this.children.get(o);return c?c.findOnPath_(fe(t),Re(e,o),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,qt(),e)}foreachOnPath_(t,e,i){if(kt(t))return this;{this.value&&i(e,this.value);const r=Rt(t),o=this.children.get(r);return o?o.foreachOnPath_(fe(t),Re(e,r),i):new de(null)}}foreach(t){this.foreach_(qt(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(Re(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(t){this.writeTree_=t}static empty(){return new bi(new de(null))}}function uu(n,t,e){if(kt(t))return new bi(new de(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(i!=null){const r=i.path;let o=i.value;const c=Rn(r,t);return o=o.updateChild(c,e),new bi(n.writeTree_.set(r,o))}else{const r=new de(e),o=n.writeTree_.setTree(t,r);return new bi(o)}}}function by(n,t,e){let i=n;return ln(e,(r,o)=>{i=uu(i,Re(t,r),o)}),i}function e1(n,t){if(kt(t))return bi.empty();{const e=n.writeTree_.setTree(t,new de(null));return new bi(e)}}function xy(n,t){return to(n,t)!=null}function to(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return e!=null?n.writeTree_.get(e.path).getChild(Rn(e.path,t)):null}function n1(n){const t=[],e=n.writeTree_.value;return e!=null?e.isLeafNode()||e.forEachChild(Ee,(i,r)=>{t.push(new Mt(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&t.push(new Mt(i,r.value))}),t}function Rr(n,t){if(kt(t))return n;{const e=to(n,t);return e!=null?new bi(new de(e)):new bi(n.writeTree_.subtree(t))}}function wy(n){return n.writeTree_.isEmpty()}function gl(n,t){return G2(qt(),n.writeTree_,t)}function G2(n,t,e){if(t.value!=null)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,o)=>{r===".priority"?(ut(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):e=G2(Re(n,r),o,e)}),!e.getChild(n).isEmpty()&&i!==null&&(e=e.updateChild(Re(n,".priority"),i)),e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(n,t){return K2(t,n)}function R4(n,t,e,i,r){ut(i>n.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=uu(n.visibleWrites,t,e)),n.lastWriteId=i}function k4(n,t,e,i){ut(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=by(n.visibleWrites,t,e),n.lastWriteId=i}function M4(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}function O4(n,t){const e=n.allWrites.findIndex(h=>h.writeId===t);ut(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,o=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const h=n.allWrites[c];h.visible&&(c>=e&&D4(h,i.path)?r=!1:ni(i.path,h.path)&&(o=!0)),c--}if(r){if(o)return I4(n),!0;if(i.snap)n.visibleWrites=e1(n.visibleWrites,i.path);else{const h=i.children;ln(h,d=>{n.visibleWrites=e1(n.visibleWrites,Re(i.path,d))})}return!0}else return!1}function D4(n,t){if(n.snap)return ni(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&ni(Re(n.path,e),t))return!0;return!1}function I4(n){n.visibleWrites=$2(n.allWrites,j4,qt()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function j4(n){return n.visible}function $2(n,t,e){let i=bi.empty();for(let r=0;r<n.length;++r){const o=n[r];if(t(o)){const c=o.path;let h;if(o.snap)ni(e,c)?(h=Rn(e,c),i=uu(i,h,o.snap)):ni(c,e)&&(h=Rn(c,e),i=uu(i,qt(),o.snap.getChild(h)));else if(o.children){if(ni(e,c))h=Rn(e,c),i=by(i,h,o.children);else if(ni(c,e))if(h=Rn(c,e),kt(h))i=by(i,qt(),o.children);else{const d=cl(o.children,Rt(h));if(d){const g=d.getChild(fe(h));i=uu(i,qt(),g)}}}else throw bl("WriteRecord should have .snap or .children")}}return i}function X2(n,t,e,i,r){if(!i&&!r){const o=to(n.visibleWrites,t);if(o!=null)return o;{const c=Rr(n.visibleWrites,t);if(wy(c))return e;if(e==null&&!xy(c,qt()))return null;{const h=e||wt.EMPTY_NODE;return gl(c,h)}}}else{const o=Rr(n.visibleWrites,t);if(!r&&wy(o))return e;if(!r&&e==null&&!xy(o,qt()))return null;{const c=function(g){return(g.visible||r)&&(!i||!~i.indexOf(g.writeId))&&(ni(g.path,t)||ni(t,g.path))},h=$2(n.allWrites,c,t),d=e||wt.EMPTY_NODE;return gl(h,d)}}}function L4(n,t,e){let i=wt.EMPTY_NODE;const r=to(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(Ee,(o,c)=>{i=i.updateImmediateChild(o,c)}),i;if(e){const o=Rr(n.visibleWrites,t);return e.forEachChild(Ee,(c,h)=>{const d=gl(Rr(o,new ne(c)),h);i=i.updateImmediateChild(c,d)}),n1(o).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}else{const o=Rr(n.visibleWrites,t);return n1(o).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}}function P4(n,t,e,i,r){ut(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=Re(t,e);if(xy(n.visibleWrites,o))return null;{const c=Rr(n.visibleWrites,o);return wy(c)?r.getChild(e):gl(c,r.getChild(e))}}function U4(n,t,e,i){const r=Re(t,e),o=to(n.visibleWrites,r);if(o!=null)return o;if(i.isCompleteForChild(e)){const c=Rr(n.visibleWrites,r);return gl(c,i.getNode().getImmediateChild(e))}else return null}function z4(n,t){return to(n.visibleWrites,t)}function B4(n,t,e,i,r,o,c){let h;const d=Rr(n.visibleWrites,t),g=to(d,qt());if(g!=null)h=g;else if(e!=null)h=gl(d,e);else return[];if(h=h.withIndex(c),!h.isEmpty()&&!h.isLeafNode()){const y=[],b=c.getCompare(),x=o?h.getReverseIteratorFrom(i,c):h.getIteratorFrom(i,c);let E=x.getNext();for(;E&&y.length<r;)b(E,i)!==0&&y.push(E),E=x.getNext();return y}else return[]}function H4(){return{visibleWrites:bi.empty(),allWrites:[],lastWriteId:-1}}function wf(n,t,e,i){return X2(n.writeTree,n.treePath,t,e,i)}function N_(n,t){return L4(n.writeTree,n.treePath,t)}function i1(n,t,e,i){return P4(n.writeTree,n.treePath,t,e,i)}function Sf(n,t){return z4(n.writeTree,Re(n.treePath,t))}function F4(n,t,e,i,r,o){return B4(n.writeTree,n.treePath,t,e,i,r,o)}function R_(n,t,e){return U4(n.writeTree,n.treePath,t,e)}function Q2(n,t){return K2(Re(n.treePath,t),n.writeTree)}function K2(n,t){return{treePath:n,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;ut(e==="child_added"||e==="child_changed"||e==="child_removed","Only child changes supported for tracking"),ut(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if(e==="child_added"&&o==="child_removed")this.changeMap.set(i,Tu(i,t.snapshotNode,r.snapshotNode));else if(e==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(e==="child_removed"&&o==="child_changed")this.changeMap.set(i,Eu(i,r.oldSnap));else if(e==="child_changed"&&o==="child_added")this.changeMap.set(i,dl(i,t.snapshotNode));else if(e==="child_changed"&&o==="child_changed")this.changeMap.set(i,Tu(i,t.snapshotNode,r.oldSnap));else throw bl("Illegal combination of changes: "+t+" occurred after "+r)}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}}const Z2=new q4;class k_{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=this.optCompleteServerCache_!=null?new $a(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return R_(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Xa(this.viewCache_),o=F4(this.writes_,r,e,1,i,t);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(n){return{filter:n}}function Y4(n,t){ut(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),ut(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function G4(n,t,e,i,r){const o=new V4;let c,h;if(e.type===_i.OVERWRITE){const g=e;g.source.fromUser?c=Sy(n,t,g.path,g.snap,i,r,o):(ut(g.source.fromServer,"Unknown source."),h=g.source.tagged||t.serverCache.isFiltered()&&!kt(g.path),c=Ef(n,t,g.path,g.snap,i,r,h,o))}else if(e.type===_i.MERGE){const g=e;g.source.fromUser?c=X4(n,t,g.path,g.children,i,r,o):(ut(g.source.fromServer,"Unknown source."),h=g.source.tagged||t.serverCache.isFiltered(),c=Ey(n,t,g.path,g.children,i,r,h,o))}else if(e.type===_i.ACK_USER_WRITE){const g=e;g.revert?c=Z4(n,t,g.path,i,r,o):c=Q4(n,t,g.path,g.affectedTree,i,r,o)}else if(e.type===_i.LISTEN_COMPLETE)c=K4(n,t,e.path,i,o);else throw bl("Unknown operation type: "+e.type);const d=o.getChanges();return $4(t,c,d),{viewCache:c,changes:d}}function $4(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=vy(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&e.push(q2(vy(t)))}}function J2(n,t,e,i,r,o){const c=t.eventCache;if(Sf(i,e)!=null)return t;{let h,d;if(kt(e))if(ut(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const g=Xa(t),y=g instanceof wt?g:wt.EMPTY_NODE,b=N_(i,y);h=n.filter.updateFullNode(t.eventCache.getNode(),b,o)}else{const g=wf(i,Xa(t));h=n.filter.updateFullNode(t.eventCache.getNode(),g,o)}else{const g=Rt(e);if(g===".priority"){ut(jr(e)===1,"Can't have a priority with additional path components");const y=c.getNode();d=t.serverCache.getNode();const b=i1(i,e,y,d);b!=null?h=n.filter.updatePriority(y,b):h=c.getNode()}else{const y=fe(e);let b;if(c.isCompleteForChild(g)){d=t.serverCache.getNode();const x=i1(i,e,c.getNode(),d);x!=null?b=c.getNode().getImmediateChild(g).updateChild(y,x):b=c.getNode().getImmediateChild(g)}else b=R_(i,g,t.serverCache);b!=null?h=n.filter.updateChild(c.getNode(),g,b,y,r,o):h=c.getNode()}}return cu(t,h,c.isFullyInitialized()||kt(e),n.filter.filtersNodes())}}function Ef(n,t,e,i,r,o,c,h){const d=t.serverCache;let g;const y=c?n.filter:n.filter.getIndexedFilter();if(kt(e))g=y.updateFullNode(d.getNode(),i,null);else if(y.filtersNodes()&&!d.isFiltered()){const E=d.getNode().updateChild(e,i);g=y.updateFullNode(d.getNode(),E,null)}else{const E=Rt(e);if(!d.isCompleteForPath(e)&&jr(e)>1)return t;const N=fe(e),M=d.getNode().getImmediateChild(E).updateChild(N,i);E===".priority"?g=y.updatePriority(d.getNode(),M):g=y.updateChild(d.getNode(),E,M,N,Z2,null)}const b=Y2(t,g,d.isFullyInitialized()||kt(e),y.filtersNodes()),x=new k_(r,b,o);return J2(n,b,e,r,x,h)}function Sy(n,t,e,i,r,o,c){const h=t.eventCache;let d,g;const y=new k_(r,t,o);if(kt(e))g=n.filter.updateFullNode(t.eventCache.getNode(),i,c),d=cu(t,g,!0,n.filter.filtersNodes());else{const b=Rt(e);if(b===".priority")g=n.filter.updatePriority(t.eventCache.getNode(),i),d=cu(t,g,h.isFullyInitialized(),h.isFiltered());else{const x=fe(e),E=h.getNode().getImmediateChild(b);let N;if(kt(x))N=i;else{const k=y.getCompleteChild(b);k!=null?y_(x)===".priority"&&k.getChild(L2(x)).isEmpty()?N=k:N=k.updateChild(x,i):N=wt.EMPTY_NODE}if(E.equals(N))d=t;else{const k=n.filter.updateChild(h.getNode(),b,N,x,y,c);d=cu(t,k,h.isFullyInitialized(),n.filter.filtersNodes())}}}return d}function s1(n,t){return n.eventCache.isCompleteForChild(t)}function X4(n,t,e,i,r,o,c){let h=t;return i.foreach((d,g)=>{const y=Re(e,d);s1(t,Rt(y))&&(h=Sy(n,h,y,g,r,o,c))}),i.foreach((d,g)=>{const y=Re(e,d);s1(t,Rt(y))||(h=Sy(n,h,y,g,r,o,c))}),h}function r1(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function Ey(n,t,e,i,r,o,c,h){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let d=t,g;kt(e)?g=i:g=new de(null).setTree(e,i);const y=t.serverCache.getNode();return g.children.inorderTraversal((b,x)=>{if(y.hasChild(b)){const E=t.serverCache.getNode().getImmediateChild(b),N=r1(n,E,x);d=Ef(n,d,new ne(b),N,r,o,c,h)}}),g.children.inorderTraversal((b,x)=>{const E=!t.serverCache.isCompleteForChild(b)&&x.value===null;if(!y.hasChild(b)&&!E){const N=t.serverCache.getNode().getImmediateChild(b),k=r1(n,N,x);d=Ef(n,d,new ne(b),k,r,o,c,h)}}),d}function Q4(n,t,e,i,r,o,c){if(Sf(r,e)!=null)return t;const h=t.serverCache.isFiltered(),d=t.serverCache;if(i.value!=null){if(kt(e)&&d.isFullyInitialized()||d.isCompleteForPath(e))return Ef(n,t,e,d.getNode().getChild(e),r,o,h,c);if(kt(e)){let g=new de(null);return d.getNode().forEachChild(Ba,(y,b)=>{g=g.set(new ne(y),b)}),Ey(n,t,e,g,r,o,h,c)}else return t}else{let g=new de(null);return i.foreach((y,b)=>{const x=Re(e,y);d.isCompleteForPath(x)&&(g=g.set(y,d.getNode().getChild(x)))}),Ey(n,t,e,g,r,o,h,c)}}function K4(n,t,e,i,r){const o=t.serverCache,c=Y2(t,o.getNode(),o.isFullyInitialized()||kt(e),o.isFiltered());return J2(n,c,e,i,Z2,r)}function Z4(n,t,e,i,r,o){let c;if(Sf(i,e)!=null)return t;{const h=new k_(i,t,r),d=t.eventCache.getNode();let g;if(kt(e)||Rt(e)===".priority"){let y;if(t.serverCache.isFullyInitialized())y=wf(i,Xa(t));else{const b=t.serverCache.getNode();ut(b instanceof wt,"serverChildren would be complete if leaf node"),y=N_(i,b)}y=y,g=n.filter.updateFullNode(d,y,o)}else{const y=Rt(e);let b=R_(i,y,t.serverCache);b==null&&t.serverCache.isCompleteForChild(y)&&(b=d.getImmediateChild(y)),b!=null?g=n.filter.updateChild(d,y,b,fe(e),h,o):t.eventCache.getNode().hasChild(y)?g=n.filter.updateChild(d,y,wt.EMPTY_NODE,fe(e),h,o):g=d,g.isEmpty()&&t.serverCache.isFullyInitialized()&&(c=wf(i,Xa(t)),c.isLeafNode()&&(g=n.filter.updateFullNode(g,c,o)))}return c=t.serverCache.isFullyInitialized()||Sf(i,qt())!=null,cu(t,g,c,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new w_(i.getIndex()),o=g4(i);this.processor_=W4(o);const c=e.serverCache,h=e.eventCache,d=r.updateFullNode(wt.EMPTY_NODE,c.getNode(),null),g=o.updateFullNode(wt.EMPTY_NODE,h.getNode(),null),y=new $a(d,c.isFullyInitialized(),r.filtersNodes()),b=new $a(g,h.isFullyInitialized(),o.filtersNodes());this.viewCache_=ng(b,y),this.eventGenerator_=new E4(this.query_)}get query(){return this.query_}}function tj(n){return n.viewCache_.serverCache.getNode()}function ej(n,t){const e=Xa(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!kt(t)&&!e.getImmediateChild(Rt(t)).isEmpty())?e.getChild(t):null}function a1(n){return n.eventRegistrations_.length===0}function nj(n,t){n.eventRegistrations_.push(t)}function o1(n,t,e){const i=[];if(e){ut(t==null,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(o=>{const c=o.createCancelEvent(e,r);c&&i.push(c)})}if(t){let r=[];for(let o=0;o<n.eventRegistrations_.length;++o){const c=n.eventRegistrations_[o];if(!c.matches(t))r.push(c);else if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(o+1));break}}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function l1(n,t,e,i){t.type===_i.MERGE&&t.source.queryId!==null&&(ut(Xa(n.viewCache_),"We should always have a full cache before handling merges"),ut(vy(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=G4(n.processor_,r,t,e,i);return Y4(n.processor_,o.viewCache),ut(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,tT(n,o.changes,o.viewCache.eventCache.getNode(),null)}function ij(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Ee,(o,c)=>{i.push(dl(o,c))}),e.isFullyInitialized()&&i.push(q2(e.getNode())),tT(n,i,e.getNode(),t)}function tT(n,t,e,i){const r=i?[i]:n.eventRegistrations_;return T4(n.eventGenerator_,t,e,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tf;class sj{constructor(){this.views=new Map}}function rj(n){ut(!Tf,"__referenceConstructor has already been defined"),Tf=n}function aj(){return ut(Tf,"Reference.ts has not been loaded"),Tf}function oj(n){return n.views.size===0}function M_(n,t,e,i){const r=t.source.queryId;if(r!==null){const o=n.views.get(r);return ut(o!=null,"SyncTree gave us an op for an invalid query."),l1(o,t,e,i)}else{let o=[];for(const c of n.views.values())o=o.concat(l1(c,t,e,i));return o}}function lj(n,t,e,i,r){const o=t._queryIdentifier,c=n.views.get(o);if(!c){let h=wf(e,r?i:null),d=!1;h?d=!0:i instanceof wt?(h=N_(e,i),d=!1):(h=wt.EMPTY_NODE,d=!1);const g=ng(new $a(h,d,!1),new $a(i,r,!1));return new J4(t,g)}return c}function cj(n,t,e,i,r,o){const c=lj(n,t,i,r,o);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,c),nj(c,e),ij(c,e)}function uj(n,t,e,i){const r=t._queryIdentifier,o=[];let c=[];const h=Lr(n);if(r==="default")for(const[d,g]of n.views.entries())c=c.concat(o1(g,e,i)),a1(g)&&(n.views.delete(d),g.query._queryParams.loadsAllData()||o.push(g.query));else{const d=n.views.get(r);d&&(c=c.concat(o1(d,e,i)),a1(d)&&(n.views.delete(r),d.query._queryParams.loadsAllData()||o.push(d.query)))}return h&&!Lr(n)&&o.push(new(aj())(t._repo,t._path)),{removed:o,events:c}}function eT(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function rl(n,t){let e=null;for(const i of n.views.values())e=e||ej(i,t);return e}function nT(n,t){if(t._queryParams.loadsAllData())return ig(n);{const i=t._queryIdentifier;return n.views.get(i)}}function iT(n,t){return nT(n,t)!=null}function Lr(n){return ig(n)!=null}function ig(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cf;function hj(n){ut(!Cf,"__referenceConstructor has already been defined"),Cf=n}function dj(){return ut(Cf,"Reference.ts has not been loaded"),Cf}let fj=1;class c1{constructor(t){this.listenProvider_=t,this.syncPointTree_=new de(null),this.pendingWriteTree_=H4(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function sT(n,t,e,i,r){return R4(n.pendingWriteTree_,t,e,i,r),r?El(n,new Ga(E_(),t,e)):[]}function gj(n,t,e,i){k4(n.pendingWriteTree_,t,e,i);const r=de.fromObject(e);return El(n,new fl(E_(),t,r))}function Er(n,t,e=!1){const i=M4(n.pendingWriteTree_,t);if(O4(n.pendingWriteTree_,t)){let o=new de(null);return i.snap!=null?o=o.set(qt(),!0):ln(i.children,c=>{o=o.set(new ne(c),!0)}),El(n,new xf(i.path,o,e))}else return[]}function sg(n,t,e){return El(n,new Ga(T_(),t,e))}function mj(n,t,e){const i=de.fromObject(e);return El(n,new fl(T_(),t,i))}function pj(n,t){return El(n,new Au(T_(),t))}function yj(n,t,e){const i=D_(n,e);if(i){const r=I_(i),o=r.path,c=r.queryId,h=Rn(o,t),d=new Au(C_(c),h);return j_(n,o,d)}else return[]}function Ty(n,t,e,i,r=!1){const o=t._path,c=n.syncPointTree_.get(o);let h=[];if(c&&(t._queryIdentifier==="default"||iT(c,t))){const d=uj(c,t,e,i);oj(c)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const g=d.removed;if(h=d.events,!r){const y=g.findIndex(x=>x._queryParams.loadsAllData())!==-1,b=n.syncPointTree_.findOnPath(o,(x,E)=>Lr(E));if(y&&!b){const x=n.syncPointTree_.subtree(o);if(!x.isEmpty()){const E=bj(x);for(let N=0;N<E.length;++N){const k=E[N],M=k.query,P=oT(n,k);n.listenProvider_.startListening(hu(M),Af(n,M),P.hashFn,P.onComplete)}}}!b&&g.length>0&&!i&&(y?n.listenProvider_.stopListening(hu(t),null):g.forEach(x=>{const E=n.queryToTagMap.get(rg(x));n.listenProvider_.stopListening(hu(x),E)}))}xj(n,g)}return h}function _j(n,t,e,i){const r=D_(n,i);if(r!=null){const o=I_(r),c=o.path,h=o.queryId,d=Rn(c,t),g=new Ga(C_(h),d,e);return j_(n,c,g)}else return[]}function vj(n,t,e,i){const r=D_(n,i);if(r){const o=I_(r),c=o.path,h=o.queryId,d=Rn(c,t),g=de.fromObject(e),y=new fl(C_(h),d,g);return j_(n,c,y)}else return[]}function u1(n,t,e,i=!1){const r=t._path;let o=null,c=!1;n.syncPointTree_.foreachOnPath(r,(x,E)=>{const N=Rn(x,r);o=o||rl(E,N),c=c||Lr(E)});let h=n.syncPointTree_.get(r);h?(c=c||Lr(h),o=o||rl(h,qt())):(h=new sj,n.syncPointTree_=n.syncPointTree_.set(r,h));let d;o!=null?d=!0:(d=!1,o=wt.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((E,N)=>{const k=rl(N,qt());k&&(o=o.updateImmediateChild(E,k))}));const g=iT(h,t);if(!g&&!t._queryParams.loadsAllData()){const x=rg(t);ut(!n.queryToTagMap.has(x),"View does not exist, but we have a tag");const E=wj();n.queryToTagMap.set(x,E),n.tagToQueryMap.set(E,x)}const y=A_(n.pendingWriteTree_,r);let b=cj(h,t,e,y,o,d);if(!g&&!c&&!i){const x=nT(h,t);b=b.concat(Sj(n,t,x))}return b}function O_(n,t,e){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(t,(c,h)=>{const d=Rn(c,t),g=rl(h,d);if(g)return g});return X2(r,t,o,e,!0)}function El(n,t){return rT(t,n.syncPointTree_,null,A_(n.pendingWriteTree_,qt()))}function rT(n,t,e,i){if(kt(n.path))return aT(n,t,e,i);{const r=t.get(qt());e==null&&r!=null&&(e=rl(r,qt()));let o=[];const c=Rt(n.path),h=n.operationForChild(c),d=t.children.get(c);if(d&&h){const g=e?e.getImmediateChild(c):null,y=Q2(i,c);o=o.concat(rT(h,d,g,y))}return r&&(o=o.concat(M_(r,n,i,e))),o}}function aT(n,t,e,i){const r=t.get(qt());e==null&&r!=null&&(e=rl(r,qt()));let o=[];return t.children.inorderTraversal((c,h)=>{const d=e?e.getImmediateChild(c):null,g=Q2(i,c),y=n.operationForChild(c);y&&(o=o.concat(aT(y,h,d,g)))}),r&&(o=o.concat(M_(r,n,i,e))),o}function oT(n,t){const e=t.query,i=Af(n,e);return{hashFn:()=>(tj(t)||wt.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?yj(n,e._path,i):pj(n,e._path);{const o=gI(r,e);return Ty(n,e,null,o)}}}}function Af(n,t){const e=rg(t);return n.queryToTagMap.get(e)}function rg(n){return n._path.toString()+"$"+n._queryIdentifier}function D_(n,t){return n.tagToQueryMap.get(t)}function I_(n){const t=n.indexOf("$");return ut(t!==-1&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new ne(n.substr(0,t))}}function j_(n,t,e){const i=n.syncPointTree_.get(t);ut(i,"Missing sync point for query tag that we're tracking");const r=A_(n.pendingWriteTree_,t);return M_(i,e,r,null)}function bj(n){return n.fold((t,e,i)=>{if(e&&Lr(e))return[ig(e)];{let r=[];return e&&(r=eT(e)),ln(i,(o,c)=>{r=r.concat(c)}),r}})}function hu(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(dj())(n._repo,n._path):n}function xj(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=rg(i),o=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(o)}}}function wj(){return fj++}function Sj(n,t,e){const i=t._path,r=Af(n,t),o=oT(n,e),c=n.listenProvider_.startListening(hu(t),r,o.hashFn,o.onComplete),h=n.syncPointTree_.subtree(i);if(r)ut(!Lr(h.value),"If we're adding a query, it shouldn't be shadowed");else{const d=h.fold((g,y,b)=>{if(!kt(g)&&y&&Lr(y))return[ig(y).query];{let x=[];return y&&(x=x.concat(eT(y).map(E=>E.query))),ln(b,(E,N)=>{x=x.concat(N)}),x}});for(let g=0;g<d.length;++g){const y=d[g];n.listenProvider_.stopListening(hu(y),Af(n,y))}}return c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new L_(e)}node(){return this.node_}}class P_{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Re(this.path_,t);return new P_(this.syncTree_,e)}node(){return O_(this.syncTree_,this.path_)}}const Ej=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},h1=function(n,t,e){if(!n||typeof n!="object")return n;if(ut(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return Tj(n[".sv"],t,e);if(typeof n[".sv"]=="object")return Cj(n[".sv"],t);ut(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},Tj=function(n,t,e){switch(n){case"timestamp":return e.timestamp;default:ut(!1,"Unexpected server value: "+n)}},Cj=function(n,t,e){n.hasOwnProperty("increment")||ut(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;typeof i!="number"&&ut(!1,"Unexpected increment value: "+i);const r=t.node();if(ut(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return typeof c!="number"?i:c+i},lT=function(n,t,e,i){return U_(t,new P_(e,n),i)},cT=function(n,t,e){return U_(n,new L_(t),e)};function U_(n,t,e){const i=n.getPriority().val(),r=h1(i,t.getImmediateChild(".priority"),e);let o;if(n.isLeafNode()){const c=n,h=h1(c.getValue(),t,e);return h!==c.getValue()||r!==c.getPriority().val()?new Ke(h,Je(r)):n}else{const c=n;return o=c,r!==c.getPriority().val()&&(o=o.updatePriority(new Ke(r))),c.forEachChild(Ee,(h,d)=>{const g=U_(d,t.getImmediateChild(h),e);g!==d&&(o=o.updateImmediateChild(h,g))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function B_(n,t){let e=t instanceof ne?t:new ne(t),i=n,r=Rt(e);for(;r!==null;){const o=cl(i.node.children,r)||{children:{},childCount:0};i=new z_(r,i,o),e=fe(e),r=Rt(e)}return i}function Tl(n){return n.node.value}function uT(n,t){n.node.value=t,Cy(n)}function hT(n){return n.node.childCount>0}function Aj(n){return Tl(n)===void 0&&!hT(n)}function ag(n,t){ln(n.node.children,(e,i)=>{t(new z_(e,n,i))})}function dT(n,t,e,i){e&&t(n),ag(n,r=>{dT(r,t,!0)})}function Nj(n,t,e){let i=n.parent;for(;i!==null;){if(t(i))return!0;i=i.parent}return!1}function $u(n){return new ne(n.parent===null?n.name:$u(n.parent)+"/"+n.name)}function Cy(n){n.parent!==null&&Rj(n.parent,n.name,n)}function Rj(n,t,e){const i=Aj(e),r=Zi(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,Cy(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,Cy(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj=/[\[\].#$\/\u0000-\u001F\u007F]/,Mj=/[\[\].#$\u0000-\u001F\u007F]/,Fp=10*1024*1024,H_=function(n){return typeof n=="string"&&n.length!==0&&!kj.test(n)},fT=function(n){return typeof n=="string"&&n.length!==0&&!Mj.test(n)},Oj=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),fT(n)},Ay=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!d_(n)||n&&typeof n=="object"&&Zi(n,".sv")},Xu=function(n,t,e,i){i&&t===void 0||og($f(n,"value"),t,e)},og=function(n,t,e){const i=e instanceof ne?new $I(e,n):e;if(t===void 0)throw new Error(n+"contains undefined "+ka(i));if(typeof t=="function")throw new Error(n+"contains a function "+ka(i)+" with contents = "+t.toString());if(d_(t))throw new Error(n+"contains "+t.toString()+" "+ka(i));if(typeof t=="string"&&t.length>Fp/3&&Xf(t)>Fp)throw new Error(n+"contains a string greater than "+Fp+" utf8 bytes "+ka(i)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let r=!1,o=!1;if(ln(t,(c,h)=>{if(c===".value")r=!0;else if(c!==".priority"&&c!==".sv"&&(o=!0,!H_(c)))throw new Error(n+" contains an invalid key ("+c+") "+ka(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);XI(i,c),og(n,h,i),QI(i)}),r&&o)throw new Error(n+' contains ".value" child '+ka(i)+" in addition to actual children.")}},Dj=function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const o=Su(i);for(let c=0;c<o.length;c++)if(!(o[c]===".priority"&&c===o.length-1)){if(!H_(o[c]))throw new Error(n+"contains an invalid key ("+o[c]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(GI);let r=null;for(e=0;e<t.length;e++){if(i=t[e],r!==null&&ni(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},Ij=function(n,t,e,i){const r=$f(n,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const o=[];ln(t,(c,h)=>{const d=new ne(c);if(og(r,h,Re(e,d)),y_(d)===".priority"&&!Ay(h))throw new Error(r+"contains an invalid value for '"+d.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(d)}),Dj(r,o)},F_=function(n,t,e,i){if(!fT(e))throw new Error($f(n,t)+'was an invalid path = "'+e+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},jj=function(n,t,e,i){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),F_(n,t,e)},gT=function(n,t){if(Rt(t)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},Lj=function(n,t){const e=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!H_(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||e.length!==0&&!Oj(e))throw new Error($f(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function lg(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],o=r.getPath();e!==null&&!__(o,e.path)&&(n.eventLists_.push(e),e=null),e===null&&(e={events:[],path:o}),e.events.push(r)}e&&n.eventLists_.push(e)}function mT(n,t,e){lg(n,e),pT(n,i=>__(i,t))}function Si(n,t,e){lg(n,e),pT(n,i=>ni(i,t)||ni(t,i))}function pT(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];if(r){const o=r.path;t(o)?(Uj(n.eventLists_[i]),n.eventLists_[i]=null):e=!1}}e&&(n.eventLists_=[]),n.recursionDepth_--}function Uj(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(e!==null){n.events[t]=null;const i=e.getEventRunner();ou&&on("event: "+e.toString()),Sl(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj="repo_interrupt",Bj=25;class Hj{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Pj,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=bf(),this.transactionQueueTree_=new z_,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Fj(n,t,e){if(n.stats_=m_(n.repoInfo_),n.forceRestClient_||_I())n.server_=new vf(n.repoInfo_,(i,r,o,c)=>{d1(n,i,r,o,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>f1(n,!0),0);else{if(typeof e<"u"&&e!==null){if(typeof e!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{tn(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Us(n.repoInfo_,t,(i,r,o,c)=>{d1(n,i,r,o,c)},i=>{f1(n,i)},i=>{Vj(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=SI(n.repoInfo_,()=>new S4(n.stats_,n.server_)),n.infoData_=new _4,n.infoSyncTree_=new c1({startListening:(i,r,o,c)=>{let h=[];const d=n.infoData_.getNode(i._path);return d.isEmpty()||(h=sg(n.infoSyncTree_,i._path,d),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),V_(n,"connected",!1),n.serverSyncTree_=new c1({startListening:(i,r,o,c)=>(n.server_.listen(i,o,r,(h,d)=>{const g=c(h,d);Si(n.eventQueue_,i._path,g)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}function yT(n){const e=n.infoData_.getNode(new ne(".info/serverTimeOffset")).val()||0;return new Date().getTime()+e}function cg(n){return Ej({timestamp:yT(n)})}function d1(n,t,e,i,r){n.dataUpdateCount++;const o=new ne(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let c=[];if(r)if(i){const d=of(e,g=>Je(g));c=vj(n.serverSyncTree_,o,d,r)}else{const d=Je(e);c=_j(n.serverSyncTree_,o,d,r)}else if(i){const d=of(e,g=>Je(g));c=mj(n.serverSyncTree_,o,d)}else{const d=Je(e);c=sg(n.serverSyncTree_,o,d)}let h=o;c.length>0&&(h=ml(n,o)),Si(n.eventQueue_,h,c)}function f1(n,t){V_(n,"connected",t),t===!1&&Yj(n)}function Vj(n,t){ln(t,(e,i)=>{V_(n,e,i)})}function V_(n,t,e){const i=new ne("/.info/"+t),r=Je(e);n.infoData_.updateSnapshot(i,r);const o=sg(n.infoSyncTree_,i,r);Si(n.eventQueue_,i,o)}function q_(n){return n.nextWriteId_++}function qj(n,t,e,i,r){ug(n,"set",{path:t.toString(),value:e,priority:i});const o=cg(n),c=Je(e,i),h=O_(n.serverSyncTree_,t),d=cT(c,h,o),g=q_(n),y=sT(n.serverSyncTree_,t,d,g,!0);lg(n.eventQueue_,y),n.server_.put(t.toString(),c.val(!0),(x,E)=>{const N=x==="ok";N||vn("set at "+t+" failed: "+x);const k=Er(n.serverSyncTree_,g,!N);Si(n.eventQueue_,t,k),Ny(n,r,x,E)});const b=Y_(n,t);ml(n,b),Si(n.eventQueue_,b,[])}function Wj(n,t,e,i){ug(n,"update",{path:t.toString(),value:e});let r=!0;const o=cg(n),c={};if(ln(e,(h,d)=>{r=!1,c[h]=lT(Re(t,h),Je(d),n.serverSyncTree_,o)}),r)on("update() called with empty data.  Don't do anything."),Ny(n,i,"ok",void 0);else{const h=q_(n),d=gj(n.serverSyncTree_,t,c,h);lg(n.eventQueue_,d),n.server_.merge(t.toString(),e,(g,y)=>{const b=g==="ok";b||vn("update at "+t+" failed: "+g);const x=Er(n.serverSyncTree_,h,!b),E=x.length>0?ml(n,t):t;Si(n.eventQueue_,E,x),Ny(n,i,g,y)}),ln(e,g=>{const y=Y_(n,Re(t,g));ml(n,y)}),Si(n.eventQueue_,t,[])}}function Yj(n){ug(n,"onDisconnectEvents");const t=cg(n),e=bf();_y(n.onDisconnect_,qt(),(r,o)=>{const c=lT(r,o,n.serverSyncTree_,t);W2(e,r,c)});let i=[];_y(e,qt(),(r,o)=>{i=i.concat(sg(n.serverSyncTree_,r,o));const c=Y_(n,r);ml(n,c)}),n.onDisconnect_=bf(),Si(n.eventQueue_,qt(),i)}function Gj(n,t,e){let i;Rt(t._path)===".info"?i=u1(n.infoSyncTree_,t,e):i=u1(n.serverSyncTree_,t,e),mT(n.eventQueue_,t._path,i)}function g1(n,t,e){let i;Rt(t._path)===".info"?i=Ty(n.infoSyncTree_,t,e):i=Ty(n.serverSyncTree_,t,e),mT(n.eventQueue_,t._path,i)}function $j(n){n.persistentConnection_&&n.persistentConnection_.interrupt(zj)}function ug(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),on(e,...t)}function Ny(n,t,e,i){t&&Sl(()=>{if(e==="ok")t(null);else{const r=(e||"error").toUpperCase();let o=r;i&&(o+=": "+i);const c=new Error(o);c.code=r,t(c)}})}function _T(n,t,e){return O_(n.serverSyncTree_,t,e)||wt.EMPTY_NODE}function W_(n,t=n.transactionQueueTree_){if(t||hg(n,t),Tl(t)){const e=bT(n,t);ut(e.length>0,"Sending zero length transaction queue"),e.every(r=>r.status===0)&&Xj(n,$u(t),e)}else hT(t)&&ag(t,e=>{W_(n,e)})}function Xj(n,t,e){const i=e.map(g=>g.currentWriteId),r=_T(n,t,i);let o=r;const c=r.hash();for(let g=0;g<e.length;g++){const y=e[g];ut(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const b=Rn(t,y.path);o=o.updateChild(b,y.currentOutputSnapshotRaw)}const h=o.val(!0),d=t;n.server_.put(d.toString(),h,g=>{ug(n,"transaction put response",{path:d.toString(),status:g});let y=[];if(g==="ok"){const b=[];for(let x=0;x<e.length;x++)e[x].status=2,y=y.concat(Er(n.serverSyncTree_,e[x].currentWriteId)),e[x].onComplete&&b.push(()=>e[x].onComplete(null,!0,e[x].currentOutputSnapshotResolved)),e[x].unwatcher();hg(n,B_(n.transactionQueueTree_,t)),W_(n,n.transactionQueueTree_),Si(n.eventQueue_,t,y);for(let x=0;x<b.length;x++)Sl(b[x])}else{if(g==="datastale")for(let b=0;b<e.length;b++)e[b].status===3?e[b].status=4:e[b].status=0;else{vn("transaction at "+d.toString()+" failed: "+g);for(let b=0;b<e.length;b++)e[b].status=4,e[b].abortReason=g}ml(n,t)}},c)}function ml(n,t){const e=vT(n,t),i=$u(e),r=bT(n,e);return Qj(n,r,i),i}function Qj(n,t,e){if(t.length===0)return;const i=[];let r=[];const c=t.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<t.length;h++){const d=t[h],g=Rn(e,d.path);let y=!1,b;if(ut(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)y=!0,b=d.abortReason,r=r.concat(Er(n.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=Bj)y=!0,b="maxretry",r=r.concat(Er(n.serverSyncTree_,d.currentWriteId,!0));else{const x=_T(n,d.path,c);d.currentInputSnapshot=x;const E=t[h].update(x.val());if(E!==void 0){og("transaction failed: Data returned ",E,d.path);let N=Je(E);typeof E=="object"&&E!=null&&Zi(E,".priority")||(N=N.updatePriority(x.getPriority()));const M=d.currentWriteId,P=cg(n),G=cT(N,x,P);d.currentOutputSnapshotRaw=N,d.currentOutputSnapshotResolved=G,d.currentWriteId=q_(n),c.splice(c.indexOf(M),1),r=r.concat(sT(n.serverSyncTree_,d.path,G,d.currentWriteId,d.applyLocally)),r=r.concat(Er(n.serverSyncTree_,M,!0))}else y=!0,b="nodata",r=r.concat(Er(n.serverSyncTree_,d.currentWriteId,!0))}Si(n.eventQueue_,e,r),r=[],y&&(t[h].status=2,function(x){setTimeout(x,Math.floor(0))}(t[h].unwatcher),t[h].onComplete&&(b==="nodata"?i.push(()=>t[h].onComplete(null,!1,t[h].currentInputSnapshot)):i.push(()=>t[h].onComplete(new Error(b),!1,null))))}hg(n,n.transactionQueueTree_);for(let h=0;h<i.length;h++)Sl(i[h]);W_(n,n.transactionQueueTree_)}function vT(n,t){let e,i=n.transactionQueueTree_;for(e=Rt(t);e!==null&&Tl(i)===void 0;)i=B_(i,e),t=fe(t),e=Rt(t);return i}function bT(n,t){const e=[];return xT(n,t,e),e.sort((i,r)=>i.order-r.order),e}function xT(n,t,e){const i=Tl(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);ag(t,r=>{xT(n,r,e)})}function hg(n,t){const e=Tl(t);if(e){let i=0;for(let r=0;r<e.length;r++)e[r].status!==2&&(e[i]=e[r],i++);e.length=i,uT(t,e.length>0?e:void 0)}ag(t,i=>{hg(n,i)})}function Y_(n,t){const e=$u(vT(n,t)),i=B_(n.transactionQueueTree_,t);return Nj(i,r=>{Vp(n,r)}),Vp(n,i),dT(i,r=>{Vp(n,r)}),e}function Vp(n,t){const e=Tl(t);if(e){const i=[];let r=[],o=-1;for(let c=0;c<e.length;c++)e[c].status===3||(e[c].status===1?(ut(o===c-1,"All SENT items should be at beginning of queue."),o=c,e[c].status=3,e[c].abortReason="set"):(ut(e[c].status===0,"Unexpected transaction status in abort"),e[c].unwatcher(),r=r.concat(Er(n.serverSyncTree_,e[c].currentWriteId,!0)),e[c].onComplete&&i.push(e[c].onComplete.bind(null,new Error("set"),!1,null))));o===-1?uT(t,void 0):e.length=o+1,Si(n.eventQueue_,$u(t),r);for(let c=0;c<i.length;c++)Sl(i[c])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kj(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}function Zj(n){const t={};n.charAt(0)==="?"&&(n=n.substring(1));for(const e of n.split("&")){if(e.length===0)continue;const i=e.split("=");i.length===2?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):vn(`Invalid query segment '${e}' in query '${n}'`)}return t}const m1=function(n,t){const e=Jj(n),i=e.namespace;e.domain==="firebase.com"&&Fs(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&e.domain!=="localhost"&&Fs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||cI();const r=e.scheme==="ws"||e.scheme==="wss";return{repoInfo:new A2(e.host,e.secure,i,r,t,"",i!==e.subdomain),path:new ne(e.pathString)}},Jj=function(n){let t="",e="",i="",r="",o="",c=!0,h="https",d=443;if(typeof n=="string"){let g=n.indexOf("//");g>=0&&(h=n.substring(0,g-1),n=n.substring(g+2));let y=n.indexOf("/");y===-1&&(y=n.length);let b=n.indexOf("?");b===-1&&(b=n.length),t=n.substring(0,Math.min(y,b)),y<b&&(r=Kj(n.substring(y,b)));const x=Zj(n.substring(Math.min(n.length,b)));g=t.indexOf(":"),g>=0?(c=h==="https"||h==="wss",d=parseInt(t.substring(g+1),10)):g=t.length;const E=t.slice(0,g);if(E.toLowerCase()==="localhost")e="localhost";else if(E.split(".").length<=2)e=E;else{const N=t.indexOf(".");i=t.substring(0,N).toLowerCase(),e=t.substring(N+1),o=i}"ns"in x&&(o=x.ns)}return{host:t,port:d,domain:e,subdomain:i,secure:c,scheme:h,pathString:r,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",t6=function(){let n=0;const t=[];return function(e){const i=e===n;n=e;let r;const o=new Array(8);for(r=7;r>=0;r--)o[r]=p1.charAt(e%64),e=Math.floor(e/64);ut(e===0,"Cannot push at time == 0");let c=o.join("");if(i){for(r=11;r>=0&&t[r]===63;r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)c+=p1.charAt(t[r]);return ut(c.length===20,"nextPushId: Length should be 20."),c}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+tn(this.snapshot.exportVal())}}class n6{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return ut(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return kt(this._path)?null:y_(this._path)}get ref(){return new Fr(this._repo,this._path)}get _queryIdentifier(){const t=Jw(this._queryParams),e=f_(t);return e==="{}"?"default":e}get _queryObject(){return Jw(this._queryParams)}isEqual(t){if(t=cn(t),!(t instanceof Cl))return!1;const e=this._repo===t._repo,i=__(this._path,t._path),r=this._queryIdentifier===t._queryIdentifier;return e&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+YI(this._path)}}function s6(n,t){if(n._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function G_(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Ba){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Ya)throw new Error(i);if(typeof t!="string")throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==Ir)throw new Error(i);if(typeof e!="string")throw new Error(r)}}else if(n.getIndex()===Ee){if(t!=null&&!Ay(t)||e!=null&&!Ay(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(ut(n.getIndex()instanceof x_||n.getIndex()===V2,"unknown index type."),t!=null&&typeof t=="object"||e!=null&&typeof e=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function wT(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Fr extends Cl{constructor(t,e){super(t,e,new S_,!1)}get parent(){const t=L2(this._path);return t===null?null:new Fr(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Nf{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new ne(t),i=Nu(this.ref,t);return new Nf(this._node.getChild(e),i,Ee)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>t(new Nf(r,Nu(this.ref,i),Ee)))}hasChild(t){const e=new ne(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ce(n,t){return n=cn(n),n._checkNotDeleted("ref"),t!==void 0?Nu(n._root,t):n._root}function Nu(n,t){return n=cn(n),Rt(n._path)===null?jj("child","path",t):F_("child","path",t),new Fr(n._repo,Re(n._path,t))}function y1(n,t){n=cn(n),gT("push",n._path),Xu("push",t,n._path,!0);const e=yT(n._repo),i=t6(e),r=Nu(n,i),o=Nu(n,i);let c;return c=Promise.resolve(o),r.then=c.then.bind(c),r.catch=c.then.bind(c,void 0),r}function al(n,t){n=cn(n),gT("set",n._path),Xu("set",t,n._path,!1);const e=new Pu;return qj(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function xi(n,t){Ij("update",t,n._path);const e=new Pu;return Wj(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}class $_{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,e){const i=e._queryParams.getIndex();return new e6("value",this,new Nf(t.snapshotNode,new Fr(e._repo,e._path),i))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new n6(this,t,e):null}matches(t){return t instanceof $_?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function r6(n,t,e,i,r){let o;if(typeof i=="object"&&(o=void 0,r=i),typeof i=="function"&&(o=i),r&&r.onlyOnce){const d=e,g=(y,b)=>{g1(n._repo,n,h),d(y,b)};g.userCallback=e.userCallback,g.context=e.context,e=g}const c=new i6(e,o||void 0),h=new $_(c);return Gj(n._repo,n,h),()=>g1(n._repo,n,h)}function gi(n,t,e,i){return r6(n,"value",t,e,i)}class dg{}class a6 extends dg{constructor(t,e){super(),this._value=t,this._key=e,this.type="endAt"}_apply(t){Xu("endAt",this._value,t._path,!0);const e=p4(t._queryParams,this._value,this._key);if(wT(e),G_(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Cl(t._repo,t._path,e,t._orderByCalled)}}class o6 extends dg{constructor(t,e){super(),this._value=t,this._key=e,this.type="startAt"}_apply(t){Xu("startAt",this._value,t._path,!0);const e=m4(t._queryParams,this._value,this._key);if(wT(e),G_(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Cl(t._repo,t._path,e,t._orderByCalled)}}class l6 extends dg{constructor(t){super(),this._path=t,this.type="orderByChild"}_apply(t){s6(t,"orderByChild");const e=new ne(this._path);if(kt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new x_(e),r=y4(t._queryParams,i);return G_(r),new Cl(t._repo,t._path,r,!0)}}function c6(n){return F_("orderByChild","path",n),new l6(n)}class u6 extends dg{constructor(t,e){super(),this._value=t,this._key=e,this.type="equalTo"}_apply(t){if(Xu("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new a6(this._value,this._key)._apply(new o6(this._value,this._key)._apply(t))}}function h6(n,t){return new u6(n,t)}function d6(n,...t){let e=cn(n);for(const i of t)e=i._apply(e);return e}rj(Fr);hj(Fr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6="FIREBASE_DATABASE_EMULATOR_HOST",Ry={};let g6=!1;function m6(n,t,e,i){const r=t.lastIndexOf(":"),o=t.substring(0,r),c=Ka(o);n.repoInfo_=new A2(t,c,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,e),i&&(n.authTokenProvider_=i)}function p6(n,t,e,i,r){let o=i||n.options.databaseURL;o===void 0&&(n.options.projectId||Fs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),on("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let c=m1(o,r),h=c.repoInfo,d;typeof process<"u"&&jw&&(d=jw[f6]),d?(o=`http://${d}?ns=${h.namespace}`,c=m1(o,r),h=c.repoInfo):c.repoInfo.secure;const g=new bI(n.name,n.options,t);Lj("Invalid Firebase Database URL",c),kt(c.path)||Fs("Database URL must point to the root of a Firebase Database (not including a child path).");const y=_6(h,n,g,new vI(n,e));return new v6(y,n)}function y6(n,t){const e=Ry[t];(!e||e[n.key]!==n)&&Fs(`Database ${t}(${n.repoInfo_}) has already been deleted.`),$j(n),delete e[n.key]}function _6(n,t,e,i){let r=Ry[t.name];r||(r={},Ry[t.name]=r);let o=r[n.toURLString()];return o&&Fs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Hj(n,g6,e,i),r[n.toURLString()]=o,o}class v6{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Fj(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Fr(this._repo,qt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(y6(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Fs("Cannot call "+t+" on a deleted database.")}}function b6(n=Qy(),t){const e=Kf(n,"database").getImmediate({identifier:t});if(!e._instanceStarted){const i=fE("database");i&&x6(e,...i)}return e}function x6(n,t,e,i={}){n=cn(n),n._checkNotDeleted("useEmulator");const r=`${t}:${e}`,o=n._repoInternal;if(n._instanceStarted){if(r===n._repoInternal.repoInfo_.host&&Mr(i,o.repoInfo_.emulatorOptions))return;Fs("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let c;if(o.repoInfo_.nodeAdmin)i.mockUserToken&&Fs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new Kd(Kd.OWNER);else if(i.mockUserToken){const h=typeof i.mockUserToken=="string"?i.mockUserToken:pE(i.mockUserToken,n.app.options.projectId);c=new Kd(h)}Ka(t)&&(Yy(t),Gy("Database",!0)),m6(o,r,i,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w6(n){iI(Za),Fa(new Or("database",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return p6(i,r,o,e)},"PUBLIC").setMultipleInstances(!0)),Xi(Lw,Pw,n),Xi(Lw,Pw,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6={".sv":"timestamp"};function du(){return S6}function _1(n){return{".sv":{increment:n}}}Us.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)};Us.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)};w6();const E6={apiKey:"AIzaSyArw4hta6dNfJRp48bY5Z2b47ag_R5G-mI",authDomain:"studi-2e08c.firebaseapp.com",projectId:"studi-2e08c",storageBucket:"studi-2e08c.firebasestorage.app",messagingSenderId:"414723164531",appId:"1:414723164531:web:9c553047baef7d1b681d06",measurementId:"G-FNRLSJDHG8",databaseURL:"https://studi-2e08c-default-rtdb.firebaseio.com"},X_=xE(E6),we=SD(X_),ST=new Rs;ST.setCustomParameters({prompt:"select_account"});ZD(X_);const xe=b6(X_),ET=B.createContext();function Qu(){const n=B.useContext(ET);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n}function TT({children:n}){const[t,e]=B.useState(null),[i,r]=B.useState(!0);function o(y,b){return lw(we,y,b)}function c(y,b){return lO(we,y,b)}function h(){return GE(we)}function d(){return OO(we,ST)}B.useEffect(()=>YE(we,b=>{e(b),r(!1)}),[]);const g={currentUser:t,signup:o,login:c,logout:h,googleSignIn:d};return _.jsx(ET.Provider,{value:g,children:!i&&n})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function T6(n,t,e,i){function r(o){return o instanceof e?o:new e(function(c){c(o)})}return new(e||(e=Promise))(function(o,c){function h(y){try{g(i.next(y))}catch(b){c(b)}}function d(y){try{g(i.throw(y))}catch(b){c(b)}}function g(y){y.done?o(y.value):r(y.value).then(h,d)}g((i=i.apply(n,[])).next())})}function C6(n,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,r,o,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(g){return function(y){return d([g,y])}}function d(g){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(o=g[0]&2?r.return:g[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,g[1])).done)return o;switch(r=0,o&&(g=[g[0]&2,o.value]),g[0]){case 0:case 1:o=g;break;case 4:return e.label++,{value:g[1],done:!1};case 5:e.label++,r=g[1],g=[0];continue;case 7:g=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(g[0]===6||g[0]===2)){e=0;continue}if(g[0]===3&&(!o||g[1]>o[0]&&g[1]<o[3])){e.label=g[1];break}if(g[0]===6&&e.label<o[1]){e.label=o[1],o=g;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(g);break}o[2]&&e.ops.pop(),e.trys.pop();continue}g=t.call(n,e)}catch(y){g=[6,y],r=0}finally{i=o=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Jo=function(){return Jo=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++){e=arguments[i];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Jo.apply(this,arguments)},CT=function(n){return{loading:n==null,value:n}},A6=function(){return function(n,t){switch(t.type){case"error":return Jo(Jo({},n),{error:t.error,loading:!1,value:void 0});case"reset":return CT(t.defaultValue);case"value":return Jo(Jo({},n),{error:void 0,loading:!1,value:t.value});default:return n}}},N6=function(n){var t=n?n():void 0,e=B.useReducer(A6(),CT(t)),i=e[0],r=e[1],o=B.useCallback(function(){var d=n?n():void 0;r({type:"reset",defaultValue:d})},[n]),c=B.useCallback(function(d){r({type:"error",error:d})},[]),h=B.useCallback(function(d){r({type:"value",value:d})},[]);return B.useMemo(function(){return{error:i.error,loading:i.loading,reset:o,setError:c,setValue:h,value:i.value}},[i.error,i.loading,o,c,h,i.value])},fg=function(n,t){var e=N6(function(){return n.currentUser}),i=e.error,r=e.loading,o=e.setError,c=e.setValue,h=e.value;return B.useEffect(function(){var d=YE(n,function(g){return T6(void 0,void 0,void 0,function(){var y;return C6(this,function(b){switch(b.label){case 0:return[3,4];case 1:return b.trys.push([1,3,,4]),[4,t.onUserChanged(g)];case 2:return b.sent(),[3,4];case 3:return y=b.sent(),o(y),[3,4];case 4:return c(g),[2]}})})},o);return function(){d()}},[n]),[h,r,i]};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ku(n){return n+.5|0}const Tr=(n,t,e)=>Math.max(Math.min(n,e),t);function Kc(n){return Tr(Ku(n*2.55),0,255)}function kr(n){return Tr(Ku(n*255),0,255)}function Ns(n){return Tr(Ku(n/2.55)/100,0,1)}function v1(n){return Tr(Ku(n*100),0,100)}const ei={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ky=[..."0123456789ABCDEF"],R6=n=>ky[n&15],k6=n=>ky[(n&240)>>4]+ky[n&15],kd=n=>(n&240)>>4===(n&15),M6=n=>kd(n.r)&&kd(n.g)&&kd(n.b)&&kd(n.a);function O6(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&ei[n[1]]*17,g:255&ei[n[2]]*17,b:255&ei[n[3]]*17,a:t===5?ei[n[4]]*17:255}:(t===7||t===9)&&(e={r:ei[n[1]]<<4|ei[n[2]],g:ei[n[3]]<<4|ei[n[4]],b:ei[n[5]]<<4|ei[n[6]],a:t===9?ei[n[7]]<<4|ei[n[8]]:255})),e}const D6=(n,t)=>n<255?t(n):"";function I6(n){var t=M6(n)?R6:k6;return n?"#"+t(n.r)+t(n.g)+t(n.b)+D6(n.a,t):void 0}const j6=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function AT(n,t,e){const i=t*Math.min(e,1-e),r=(o,c=(o+n/30)%12)=>e-i*Math.max(Math.min(c-3,9-c,1),-1);return[r(0),r(8),r(4)]}function L6(n,t,e){const i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function P6(n,t,e){const i=AT(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function U6(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function Q_(n){const e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),c=Math.min(e,i,r),h=(o+c)/2;let d,g,y;return o!==c&&(y=o-c,g=h>.5?y/(2-o-c):y/(o+c),d=U6(e,i,r,y,o),d=d*60+.5),[d|0,g||0,h]}function K_(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(kr)}function Z_(n,t,e){return K_(AT,n,t,e)}function z6(n,t,e){return K_(P6,n,t,e)}function B6(n,t,e){return K_(L6,n,t,e)}function NT(n){return(n%360+360)%360}function H6(n){const t=j6.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Kc(+t[5]):kr(+t[5]));const r=NT(+t[2]),o=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?i=z6(r,o,c):t[1]==="hsv"?i=B6(r,o,c):i=Z_(r,o,c),{r:i[0],g:i[1],b:i[2],a:e}}function F6(n,t){var e=Q_(n);e[0]=NT(e[0]+t),e=Z_(e),n.r=e[0],n.g=e[1],n.b=e[2]}function V6(n){if(!n)return;const t=Q_(n),e=t[0],i=v1(t[1]),r=v1(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${Ns(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const b1={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},x1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function q6(){const n={},t=Object.keys(x1),e=Object.keys(b1);let i,r,o,c,h;for(i=0;i<t.length;i++){for(c=h=t[i],r=0;r<e.length;r++)o=e[r],h=h.replace(o,b1[o]);o=parseInt(x1[c],16),n[h]=[o>>16&255,o>>8&255,o&255]}return n}let Md;function W6(n){Md||(Md=q6(),Md.transparent=[0,0,0,0]);const t=Md[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Y6=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function G6(n){const t=Y6.exec(n);let e=255,i,r,o;if(t){if(t[7]!==i){const c=+t[7];e=t[8]?Kc(c):Tr(c*255,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?Kc(i):Tr(i,0,255)),r=255&(t[4]?Kc(r):Tr(r,0,255)),o=255&(t[6]?Kc(o):Tr(o,0,255)),{r:i,g:r,b:o,a:e}}}function $6(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Ns(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const qp=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Xo=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function X6(n,t,e){const i=Xo(Ns(n.r)),r=Xo(Ns(n.g)),o=Xo(Ns(n.b));return{r:kr(qp(i+e*(Xo(Ns(t.r))-i))),g:kr(qp(r+e*(Xo(Ns(t.g))-r))),b:kr(qp(o+e*(Xo(Ns(t.b))-o))),a:n.a+e*(t.a-n.a)}}function Od(n,t,e){if(n){let i=Q_(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=Z_(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function RT(n,t){return n&&Object.assign(t||{},n)}function w1(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=kr(n[3]))):(t=RT(n,{r:0,g:0,b:0,a:1}),t.a=kr(t.a)),t}function Q6(n){return n.charAt(0)==="r"?G6(n):H6(n)}class Ru{constructor(t){if(t instanceof Ru)return t;const e=typeof t;let i;e==="object"?i=w1(t):e==="string"&&(i=O6(t)||W6(t)||Q6(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=RT(this._rgb);return t&&(t.a=Ns(t.a)),t}set rgb(t){this._rgb=w1(t)}rgbString(){return this._valid?$6(this._rgb):void 0}hexString(){return this._valid?I6(this._rgb):void 0}hslString(){return this._valid?V6(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let o;const c=e===o?.5:e,h=2*c-1,d=i.a-r.a,g=((h*d===-1?h:(h+d)/(1+h*d))+1)/2;o=1-g,i.r=255&g*i.r+o*r.r+.5,i.g=255&g*i.g+o*r.g+.5,i.b=255&g*i.b+o*r.b+.5,i.a=c*i.a+(1-c)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=X6(this._rgb,t._rgb,e)),this}clone(){return new Ru(this.rgb)}alpha(t){return this._rgb.a=kr(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Ku(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Od(this._rgb,2,t),this}darken(t){return Od(this._rgb,2,-t),this}saturate(t){return Od(this._rgb,1,t),this}desaturate(t){return Od(this._rgb,1,-t),this}rotate(t){return F6(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ts(){}const K6=(()=>{let n=0;return()=>n++})();function Se(n){return n==null}function en(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Bt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function ri(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Fi(n,t){return ri(n)?n:t}function Gt(n,t){return typeof n>"u"?t:n}const Z6=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,kT=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function ge(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function ee(n,t,e,i){let r,o,c;if(en(n))for(o=n.length,r=0;r<o;r++)t.call(e,n[r],r);else if(Bt(n))for(c=Object.keys(n),o=c.length,r=0;r<o;r++)t.call(e,n[c[r]],c[r])}function Rf(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function kf(n){if(en(n))return n.map(kf);if(Bt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=kf(n[e[r]]);return t}return n}function MT(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function J6(n,t,e,i){if(!MT(n))return;const r=t[n],o=e[n];Bt(r)&&Bt(o)?ku(r,o,i):t[n]=kf(o)}function ku(n,t,e){const i=en(t)?t:[t],r=i.length;if(!Bt(n))return n;e=e||{};const o=e.merger||J6;let c;for(let h=0;h<r;++h){if(c=i[h],!Bt(c))continue;const d=Object.keys(c);for(let g=0,y=d.length;g<y;++g)o(d[g],n,c,e)}return n}function fu(n,t){return ku(n,t,{merger:tL})}function tL(n,t,e){if(!MT(n))return;const i=t[n],r=e[n];Bt(i)&&Bt(r)?fu(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=kf(r))}const S1={"":n=>n,x:n=>n.x,y:n=>n.y};function eL(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function nL(n){const t=eL(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Mu(n,t){return(S1[t]||(S1[t]=nL(t)))(n)}function J_(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Mf=n=>typeof n<"u",Pr=n=>typeof n=="function",E1=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function iL(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const ue=Math.PI,ze=2*ue,Of=Number.POSITIVE_INFINITY,sL=ue/180,qe=ue/2,Ca=ue/4,T1=ue*2/3,OT=Math.log10,Df=Math.sign;function Zd(n,t,e){return Math.abs(n-t)<e}function C1(n){const t=Math.round(n);n=Zd(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(OT(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function rL(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function aL(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function If(n){return!aL(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function oL(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function lL(n,t,e){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Is(n){return n*(ue/180)}function cL(n){return n*(180/ue)}function A1(n){if(!ri(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function DT(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*ue&&(o+=ze),{angle:o,distance:r}}function uL(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function Yi(n){return(n%ze+ze)%ze}function jf(n,t,e,i){const r=Yi(n),o=Yi(t),c=Yi(e),h=Yi(o-r),d=Yi(c-r),g=Yi(r-o),y=Yi(r-c);return r===o||r===c||i&&o===c||h>d&&g<y}function Mn(n,t,e){return Math.max(t,Math.min(e,n))}function hL(n){return Mn(n,-32768,32767)}function Pa(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function t0(n,t,e){e=e||(c=>n[c]<t);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const My=(n,t,e,i)=>t0(n,e,i?r=>{const o=n[r][t];return o<e||o===e&&n[r+1][t]===e}:r=>n[r][t]<e),dL=(n,t,e)=>t0(n,e,i=>n[i][t]>=e);function fL(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const IT=["push","pop","shift","splice","unshift"];function gL(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),IT.forEach(e=>{const i="_onData"+J_(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const c=r.apply(this,o);return n._chartjs.listeners.forEach(h=>{typeof h[i]=="function"&&h[i](...o)}),c}})})}function N1(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(IT.forEach(o=>{delete n[o]}),delete n._chartjs)}function mL(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const jT=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function LT(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,jT.call(window,()=>{i=!1,n.apply(t,e)}))}}function pL(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const e0=n=>n==="start"?"left":n==="end"?"right":"center",fn=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,yL=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t,Dd=n=>n===0||n===1,R1=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*ze/e)),k1=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*ze/e)+1,gu={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*qe)+1,easeOutSine:n=>Math.sin(n*qe),easeInOutSine:n=>-.5*(Math.cos(ue*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Dd(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Dd(n)?n:R1(n,.075,.3),easeOutElastic:n=>Dd(n)?n:k1(n,.075,.3),easeInOutElastic(n){return Dd(n)?n:n<.5?.5*R1(n*2,.1125,.45):.5+.5*k1(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-gu.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?gu.easeInBounce(n*2)*.5:gu.easeOutBounce(n*2-1)*.5+.5};function PT(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function M1(n){return PT(n)?n:new Ru(n)}function Wp(n){return PT(n)?n:new Ru(n).saturate(.5).darken(.1).hexString()}const _L=["x","y","borderWidth","radius","tension"],vL=["color","borderColor","backgroundColor"];function bL(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:vL},numbers:{type:"number",properties:_L}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function xL(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const O1=new Map;function wL(n,t){t=t||{};const e=n+JSON.stringify(t);let i=O1.get(e);return i||(i=new Intl.NumberFormat(n,t),O1.set(e,i)),i}function n0(n,t,e){return wL(t,e).format(n)}const SL={values(n){return en(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,o=n;if(e.length>1){const g=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(g<1e-4||g>1e15)&&(r="scientific"),o=EL(n,e)}const c=OT(Math.abs(o)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),d={notation:r,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(d,this.options.ticks.format),n0(n,i,d)}};function EL(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var UT={formatters:SL};function TL(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:UT.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Qa=Object.create(null),Oy=Object.create(null);function mu(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function Yp(n,t,e){return typeof t=="string"?ku(mu(n,t),e):ku(mu(n,""),t)}class CL{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Wp(r.backgroundColor),this.hoverBorderColor=(i,r)=>Wp(r.borderColor),this.hoverColor=(i,r)=>Wp(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Yp(this,t,e)}get(t){return mu(this,t)}describe(t,e){return Yp(Oy,t,e)}override(t,e){return Yp(Qa,t,e)}route(t,e,i,r){const o=mu(this,t),c=mu(this,i),h="_"+e;Object.defineProperties(o,{[h]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const d=this[h],g=c[r];return Bt(d)?Object.assign({},g,d):Gt(d,g)},set(d){this[h]=d}}})}apply(t){t.forEach(e=>e(this))}}var De=new CL({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[bL,xL,TL]);function AL(n){return!n||Se(n.size)||Se(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function D1(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function Aa(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function I1(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function j1(n,t,e,i){zT(n,t,e,i,null)}function zT(n,t,e,i,r){let o,c,h,d,g,y,b,x;const E=t.pointStyle,N=t.rotation,k=t.radius;let M=(N||0)*sL;if(E&&typeof E=="object"&&(o=E.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(M),n.drawImage(E,-E.width/2,-E.height/2,E.width,E.height),n.restore();return}if(!(isNaN(k)||k<=0)){switch(n.beginPath(),E){default:r?n.ellipse(e,i,r/2,k,0,0,ze):n.arc(e,i,k,0,ze),n.closePath();break;case"triangle":y=r?r/2:k,n.moveTo(e+Math.sin(M)*y,i-Math.cos(M)*k),M+=T1,n.lineTo(e+Math.sin(M)*y,i-Math.cos(M)*k),M+=T1,n.lineTo(e+Math.sin(M)*y,i-Math.cos(M)*k),n.closePath();break;case"rectRounded":g=k*.516,d=k-g,c=Math.cos(M+Ca)*d,b=Math.cos(M+Ca)*(r?r/2-g:d),h=Math.sin(M+Ca)*d,x=Math.sin(M+Ca)*(r?r/2-g:d),n.arc(e-b,i-h,g,M-ue,M-qe),n.arc(e+x,i-c,g,M-qe,M),n.arc(e+b,i+h,g,M,M+qe),n.arc(e-x,i+c,g,M+qe,M+ue),n.closePath();break;case"rect":if(!N){d=Math.SQRT1_2*k,y=r?r/2:d,n.rect(e-y,i-d,2*y,2*d);break}M+=Ca;case"rectRot":b=Math.cos(M)*(r?r/2:k),c=Math.cos(M)*k,h=Math.sin(M)*k,x=Math.sin(M)*(r?r/2:k),n.moveTo(e-b,i-h),n.lineTo(e+x,i-c),n.lineTo(e+b,i+h),n.lineTo(e-x,i+c),n.closePath();break;case"crossRot":M+=Ca;case"cross":b=Math.cos(M)*(r?r/2:k),c=Math.cos(M)*k,h=Math.sin(M)*k,x=Math.sin(M)*(r?r/2:k),n.moveTo(e-b,i-h),n.lineTo(e+b,i+h),n.moveTo(e+x,i-c),n.lineTo(e-x,i+c);break;case"star":b=Math.cos(M)*(r?r/2:k),c=Math.cos(M)*k,h=Math.sin(M)*k,x=Math.sin(M)*(r?r/2:k),n.moveTo(e-b,i-h),n.lineTo(e+b,i+h),n.moveTo(e+x,i-c),n.lineTo(e-x,i+c),M+=Ca,b=Math.cos(M)*(r?r/2:k),c=Math.cos(M)*k,h=Math.sin(M)*k,x=Math.sin(M)*(r?r/2:k),n.moveTo(e-b,i-h),n.lineTo(e+b,i+h),n.moveTo(e+x,i-c),n.lineTo(e-x,i+c);break;case"line":c=r?r/2:Math.cos(M)*k,h=Math.sin(M)*k,n.moveTo(e-c,i-h),n.lineTo(e+c,i+h);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(M)*(r?r/2:k),i+Math.sin(M)*k);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function BT(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function i0(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function s0(n){n.restore()}function NL(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Se(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function RL(n,t,e,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),c=t-o.actualBoundingBoxLeft,h=t+o.actualBoundingBoxRight,d=e-o.actualBoundingBoxAscent,g=e+o.actualBoundingBoxDescent,y=r.strikethrough?(d+g)/2:g;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(c,y),n.lineTo(h,y),n.stroke()}}function kL(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Ou(n,t,e,i,r,o={}){const c=en(t)?t:[t],h=o.strokeWidth>0&&o.strokeColor!=="";let d,g;for(n.save(),n.font=r.string,NL(n,o),d=0;d<c.length;++d)g=c[d],o.backdrop&&kL(n,o.backdrop),h&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),Se(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(g,e,i,o.maxWidth)),n.fillText(g,e,i,o.maxWidth),RL(n,e,i,g,o),i+=Number(r.lineHeight);n.restore()}function Lf(n,t){const{x:e,y:i,w:r,h:o,radius:c}=t;n.arc(e+c.topLeft,i+c.topLeft,c.topLeft,1.5*ue,ue,!0),n.lineTo(e,i+o-c.bottomLeft),n.arc(e+c.bottomLeft,i+o-c.bottomLeft,c.bottomLeft,ue,qe,!0),n.lineTo(e+r-c.bottomRight,i+o),n.arc(e+r-c.bottomRight,i+o-c.bottomRight,c.bottomRight,qe,0,!0),n.lineTo(e+r,i+c.topRight),n.arc(e+r-c.topRight,i+c.topRight,c.topRight,0,-qe,!0),n.lineTo(e+c.topLeft,i)}const ML=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,OL=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function DL(n,t){const e=(""+n).match(ML);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const IL=n=>+n||0;function r0(n,t){const e={},i=Bt(t),r=i?Object.keys(t):t,o=Bt(n)?i?c=>Gt(n[c],n[t[c]]):c=>n[c]:()=>n;for(const c of r)e[c]=IL(o(c));return e}function HT(n){return r0(n,{top:"y",right:"x",bottom:"y",left:"x"})}function ol(n){return r0(n,["topLeft","topRight","bottomLeft","bottomRight"])}function ai(n){const t=HT(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function gn(n,t){n=n||{},t=t||De.font;let e=Gt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Gt(n.style,t.style);i&&!(""+i).match(OL)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Gt(n.family,t.family),lineHeight:DL(Gt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Gt(n.weight,t.weight),string:""};return r.string=AL(r),r}function Id(n,t,e,i){let r,o,c;for(r=0,o=n.length;r<o;++r)if(c=n[r],c!==void 0&&c!==void 0)return c}function jL(n,t,e){const{min:i,max:r}=n,o=kT(t,(r-i)/2),c=(h,d)=>e&&h===0?0:h+d;return{min:c(i,-Math.abs(o)),max:c(r,o)}}function Al(n,t){return Object.assign(Object.create(n),t)}function a0(n,t=[""],e,i,r=()=>n[0]){const o=e||n;typeof i>"u"&&(i=WT("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:h=>a0([h,...n],t,o,i)};return new Proxy(c,{deleteProperty(h,d){return delete h[d],delete h._keys,delete n[0][d],!0},get(h,d){return VT(h,d,()=>VL(d,t,n,h))},getOwnPropertyDescriptor(h,d){return Reflect.getOwnPropertyDescriptor(h._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,d){return P1(h).includes(d)},ownKeys(h){return P1(h)},set(h,d,g){const y=h._storage||(h._storage=r());return h[d]=y[d]=g,delete h._keys,!0}})}function pl(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:FT(n,i),setContext:o=>pl(n,o,e,i),override:o=>pl(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty(o,c){return delete o[c],delete n[c],!0},get(o,c,h){return VT(o,c,()=>PL(o,c,h))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(o,c,h){return n[c]=h,delete o[c],!0}})}function FT(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:Pr(e)?e:()=>e,isIndexable:Pr(i)?i:()=>i}}const LL=(n,t)=>n?n+J_(t):t,o0=(n,t)=>Bt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function VT(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function PL(n,t,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:c}=n;let h=i[t];return Pr(h)&&c.isScriptable(t)&&(h=UL(t,h,n,e)),en(h)&&h.length&&(h=zL(t,h,n,c.isIndexable)),o0(t,h)&&(h=pl(h,r,o&&o[t],c)),h}function UL(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_stack:h}=e;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let d=t(o,c||i);return h.delete(n),o0(n,d)&&(d=l0(r._scopes,r,n,d)),d}function zL(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_descriptors:h}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(Bt(t[0])){const d=t,g=r._scopes.filter(y=>y!==d);t=[];for(const y of d){const b=l0(g,r,n,y);t.push(pl(b,o,c&&c[n],h))}}return t}function qT(n,t,e){return Pr(n)?n(t,e):n}const BL=(n,t)=>n===!0?t:typeof n=="string"?Mu(t,n):void 0;function HL(n,t,e,i,r){for(const o of t){const c=BL(e,o);if(c){n.add(c);const h=qT(c._fallback,e,r);if(typeof h<"u"&&h!==e&&h!==i)return h}else if(c===!1&&typeof i<"u"&&e!==i)return null}return!1}function l0(n,t,e,i){const r=t._rootScopes,o=qT(t._fallback,e,i),c=[...n,...r],h=new Set;h.add(i);let d=L1(h,c,e,o||e,i);return d===null||typeof o<"u"&&o!==e&&(d=L1(h,c,o,d,i),d===null)?!1:a0(Array.from(h),[""],r,o,()=>FL(t,e,i))}function L1(n,t,e,i,r){for(;e;)e=HL(n,t,e,i,r);return e}function FL(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return en(r)&&Bt(e)?e:r||{}}function VL(n,t,e,i){let r;for(const o of t)if(r=WT(LL(o,n),e),typeof r<"u")return o0(n,r)?l0(e,i,n,r):r}function WT(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function P1(n){let t=n._keys;return t||(t=n._keys=qL(n._scopes)),t}function qL(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}function c0(){return typeof window<"u"&&typeof document<"u"}function u0(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Pf(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const gg=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function WL(n,t){return gg(n).getPropertyValue(t)}const YL=["top","right","bottom","left"];function Ha(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=YL[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const GL=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function $L(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i;let c=!1,h,d;if(GL(r,o,n.target))h=r,d=o;else{const g=t.getBoundingClientRect();h=i.clientX-g.left,d=i.clientY-g.top,c=!0}return{x:h,y:d,box:c}}function Ma(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=gg(e),o=r.boxSizing==="border-box",c=Ha(r,"padding"),h=Ha(r,"border","width"),{x:d,y:g,box:y}=$L(n,e),b=c.left+(y&&h.left),x=c.top+(y&&h.top);let{width:E,height:N}=t;return o&&(E-=c.width+h.width,N-=c.height+h.height),{x:Math.round((d-b)/E*e.width/i),y:Math.round((g-x)/N*e.height/i)}}function XL(n,t,e){let i,r;if(t===void 0||e===void 0){const o=n&&u0(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const c=o.getBoundingClientRect(),h=gg(o),d=Ha(h,"border","width"),g=Ha(h,"padding");t=c.width-g.width-d.width,e=c.height-g.height-d.height,i=Pf(h.maxWidth,o,"clientWidth"),r=Pf(h.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||Of,maxHeight:r||Of}}const jd=n=>Math.round(n*10)/10;function QL(n,t,e,i){const r=gg(n),o=Ha(r,"margin"),c=Pf(r.maxWidth,n,"clientWidth")||Of,h=Pf(r.maxHeight,n,"clientHeight")||Of,d=XL(n,t,e);let{width:g,height:y}=d;if(r.boxSizing==="content-box"){const x=Ha(r,"border","width"),E=Ha(r,"padding");g-=E.width+x.width,y-=E.height+x.height}return g=Math.max(0,g-o.width),y=Math.max(0,i?g/i:y-o.height),g=jd(Math.min(g,c,d.maxWidth)),y=jd(Math.min(y,h,d.maxHeight)),g&&!y&&(y=jd(g/2)),(t!==void 0||e!==void 0)&&i&&d.height&&y>d.height&&(y=d.height,g=jd(Math.floor(y*i))),{width:g,height:y}}function U1(n,t,e){const i=t||1,r=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const c=n.canvas;return c.style&&(e||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||c.height!==r||c.width!==o?(n.currentDevicePixelRatio=i,c.height=r,c.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const KL=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};c0()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function z1(n,t){const e=WL(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const ZL=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},JL=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function ll(n,t,e){return n?ZL(t,e):JL()}function YT(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function GT(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function Ld(n,t,e){return n.options.clip?n[e]:t[e]}function tP(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:Ld(e,t,"left"),right:Ld(e,t,"right"),top:Ld(i,t,"top"),bottom:Ld(i,t,"bottom")}:t}function eP(n,t){const e=t._clip;if(e.disabled)return!1;const i=tP(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class nP{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const o=e.listeners[r],c=e.duration;o.forEach(h=>h({chart:t,initial:e.initial,numSteps:c,currentStep:Math.min(i-e.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=jT.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let c=o.length-1,h=!1,d;for(;c>=0;--c)d=o[c],d._active?(d._total>i.duration&&(i.duration=d._total),d.tick(t),h=!0):(o[c]=o[o.length-1],o.pop());h&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Cs=new nP;const B1="transparent",iP={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=M1(n||B1),r=i.valid&&M1(t||B1);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class sP{constructor(t,e,i,r){const o=e[i];r=Id([t.to,r,o,t.from]);const c=Id([t.from,o,r]);this._active=!0,this._fn=t.fn||iP[t.type||typeof c],this._easing=gu[t.easing]||gu.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=c,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,c=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Id([t.to,e,r,t.from]),this._from=Id([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,o=this._from,c=this._loop,h=this._to;let d;if(this._active=o!==h&&(c||e<i),!this._active){this._target[r]=h,this._notify(!0);return}if(e<0){this._target[r]=o;return}d=e/i%2,d=c&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[r]=this._fn(o,h,d)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class $T{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Bt(t))return;const e=Object.keys(De.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!Bt(o))return;const c={};for(const h of e)c[h]=o[h];(en(o.properties)&&o.properties||[r]).forEach(h=>{(h===r||!i.has(h))&&i.set(h,c)})})}_animateOptions(t,e){const i=e.options,r=aP(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&rP(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),c=Object.keys(e),h=Date.now();let d;for(d=c.length-1;d>=0;--d){const g=c[d];if(g.charAt(0)==="$")continue;if(g==="options"){r.push(...this._animateOptions(t,e));continue}const y=e[g];let b=o[g];const x=i.get(g);if(b)if(x&&b.active()){b.update(x,y,h);continue}else b.cancel();if(!x||!x.duration){t[g]=y;continue}o[g]=b=new sP(x,t,g,y),r.push(b)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return Cs.add(this._chart,i),!0}}function rP(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function aP(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function H1(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:r,end:i?r:o}}function oP(n,t,e){if(e===!1)return!1;const i=H1(n,e),r=H1(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function lP(n){let t,e,i,r;return Bt(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function XT(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function F1(n,t,e,i={}){const r=n.keys,o=i.mode==="single";let c,h,d,g;if(t===null)return;let y=!1;for(c=0,h=r.length;c<h;++c){if(d=+r[c],d===e){if(y=!0,i.all)continue;break}g=n.values[d],ri(g)&&(o||t===0||Df(t)===Df(g))&&(t+=g)}return!y&&!i.all?0:t}function cP(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",c=Object.keys(n),h=new Array(c.length);let d,g,y;for(d=0,g=c.length;d<g;++d)y=c[d],h[d]={[r]:y,[o]:n[y]};return h}function Gp(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function uP(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function hP(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function dP(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function V1(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function q1(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:c,index:h}=i,d=o.axis,g=c.axis,y=uP(o,c,i),b=t.length;let x;for(let E=0;E<b;++E){const N=t[E],{[d]:k,[g]:M}=N,P=N._stacks||(N._stacks={});x=P[g]=dP(r,y,k),x[h]=M,x._top=V1(x,c,!0,i.type),x._bottom=V1(x,c,!1,i.type);const G=x._visualValues||(x._visualValues={});G[h]=M}}function $p(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function fP(n,t){return Al(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function gP(n,t,e){return Al(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Hc(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const Xp=n=>n==="reset"||n==="none",W1=(n,t)=>t?n:Object.assign({},n),mP=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:XT(e,!0),values:null};class QT{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Gp(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Hc(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(b,x,E,N)=>b==="x"?x:b==="r"?N:E,o=e.xAxisID=Gt(i.xAxisID,$p(t,"x")),c=e.yAxisID=Gt(i.yAxisID,$p(t,"y")),h=e.rAxisID=Gt(i.rAxisID,$p(t,"r")),d=e.indexAxis,g=e.iAxisID=r(d,o,c,h),y=e.vAxisID=r(d,c,o,h);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(c),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(g),e.vScale=this.getScaleForId(y)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&N1(this._data,this),t._stacked&&Hc(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Bt(e)){const r=this._cachedMeta;this._data=cP(e,r)}else if(i!==e){if(i){N1(i,this);const r=this._cachedMeta;Hc(r),r._parsed=[]}e&&Object.isExtensible(e)&&gL(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=e._stacked;e._stacked=Gp(e.vScale,e),e.stack!==i.stack&&(r=!0,Hc(e),e.stack=i.stack),this._resyncElements(t),(r||o!==e._stacked)&&(q1(this,e._parsed),e._stacked=Gp(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:c}=i,h=o.axis;let d=t===0&&e===r.length?!0:i._sorted,g=t>0&&i._parsed[t-1],y,b,x;if(this._parsing===!1)i._parsed=r,i._sorted=!0,x=r;else{en(r[t])?x=this.parseArrayData(i,r,t,e):Bt(r[t])?x=this.parseObjectData(i,r,t,e):x=this.parsePrimitiveData(i,r,t,e);const E=()=>b[h]===null||g&&b[h]<g[h];for(y=0;y<e;++y)i._parsed[y+t]=b=x[y],d&&(E()&&(d=!1),g=b);i._sorted=d}c&&q1(this,x)}parsePrimitiveData(t,e,i,r){const{iScale:o,vScale:c}=t,h=o.axis,d=c.axis,g=o.getLabels(),y=o===c,b=new Array(r);let x,E,N;for(x=0,E=r;x<E;++x)N=x+i,b[x]={[h]:y||o.parse(g[N],N),[d]:c.parse(e[N],N)};return b}parseArrayData(t,e,i,r){const{xScale:o,yScale:c}=t,h=new Array(r);let d,g,y,b;for(d=0,g=r;d<g;++d)y=d+i,b=e[y],h[d]={x:o.parse(b[0],y),y:c.parse(b[1],y)};return h}parseObjectData(t,e,i,r){const{xScale:o,yScale:c}=t,{xAxisKey:h="x",yAxisKey:d="y"}=this._parsing,g=new Array(r);let y,b,x,E;for(y=0,b=r;y<b;++y)x=y+i,E=e[x],g[y]={x:o.parse(Mu(E,h),x),y:c.parse(Mu(E,d),x)};return g}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,o=this._cachedMeta,c=e[t.axis],h={keys:XT(r,!0),values:e._stacks[t.axis]._visualValues};return F1(h,c,o.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const o=i[e.axis];let c=o===null?NaN:o;const h=r&&i._stacks[e.axis];r&&h&&(r.values=h,c=F1(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&t===i.iScale,c=r.length,h=this._getOtherScale(t),d=mP(e,i,this.chart),g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:y,max:b}=hP(h);let x,E;function N(){E=r[x];const k=E[h.axis];return!ri(E[t.axis])||y>k||b<k}for(x=0;x<c&&!(!N()&&(this.updateRangeFromParsed(g,t,E,d),o));++x);if(o){for(x=c-1;x>=0;--x)if(!N()){this.updateRangeFromParsed(g,t,E,d);break}}return g}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,o,c;for(r=0,o=e.length;r<o;++r)c=e[r][t.axis],ri(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=lP(Gt(this.options.clip,oP(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],o=e.chartArea,c=[],h=this._drawStart||0,d=this._drawCount||r.length-h,g=this.options.drawActiveElementsOnTop;let y;for(i.dataset&&i.dataset.draw(t,o,h,d),y=h;y<h+d;++y){const b=r[y];b.hidden||(b.active&&g?c.push(b):b.draw(t,o))}for(y=0;y<c.length;++y)c[y].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=gP(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=fP(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",o=this._cachedDataOpts,c=t+"-"+e,h=o[c],d=this.enableOptionSharing&&Mf(i);if(h)return W1(h,d);const g=this.chart.config,y=g.datasetElementScopeKeys(this._type,t),b=r?[`${t}Hover`,"hover",t,""]:[t,""],x=g.getOptionScopes(this.getDataset(),y),E=Object.keys(De.elements[t]),N=()=>this.getContext(i,r,e),k=g.resolveNamedOptions(x,E,N,b);return k.$shared&&(k.$shared=d,o[c]=Object.freeze(W1(k,d))),k}_resolveAnimations(t,e,i){const r=this.chart,o=this._cachedDataOpts,c=`animation-${e}`,h=o[c];if(h)return h;let d;if(r.options.animation!==!1){const y=this.chart.config,b=y.datasetAnimationScopeKeys(this._type,e),x=y.getOptionScopes(this.getDataset(),b);d=y.createResolver(x,this.getContext(t,i,e))}const g=new $T(r,d&&d.animations);return d&&d._cacheable&&(o[c]=Object.freeze(g)),g}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Xp(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,o=this.getSharedOptions(i),c=this.includeOptions(e,o)||o!==r;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:c}}updateElement(t,e,i,r){Xp(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!Xp(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const o=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[h,d,g]of this._syncList)this[h](d,g);this._syncList=[];const r=i.length,o=e.length,c=Math.min(o,r);c&&this.parse(0,c),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,e,i=!0){const r=this._cachedMeta,o=r.data,c=t+e;let h;const d=g=>{for(g.length+=e,h=g.length-1;h>=c;h--)g[h]=g[h-e]};for(d(o),h=t;h<c;++h)o[h]=new this.dataElementType;this._parsing&&d(r._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&Hc(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function pP(n,t,e){let i=1,r=1,o=0,c=0;if(t<ze){const h=n,d=h+t,g=Math.cos(h),y=Math.sin(h),b=Math.cos(d),x=Math.sin(d),E=(K,nt,Z)=>jf(K,h,d,!0)?1:Math.max(nt,nt*e,Z,Z*e),N=(K,nt,Z)=>jf(K,h,d,!0)?-1:Math.min(nt,nt*e,Z,Z*e),k=E(0,g,b),M=E(qe,y,x),P=N(ue,g,b),G=N(ue+qe,y,x);i=(k-P)/2,r=(M-G)/2,o=-(k+P)/2,c=-(M+G)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:c}}class yP extends QT{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((o,c)=>{const d=t.getDatasetMeta(0).controller.getStyle(c);return{text:o,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,fontColor:r,lineWidth:d.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(c),index:c}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let o=d=>+i[d];if(Bt(i[t])){const{key:d="value"}=this._parsing;o=g=>+Mu(i[g],d)}let c,h;for(c=t,h=t+e;c<h;++c)r._parsed[c]=o(c)}}_getRotation(){return Is(this.options.rotation-90)}_getCircumference(){return Is(this.options.circumference)}_getRotationExtents(){let t=ze,e=-ze;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,o=r._getRotation(),c=r._getCircumference();t=Math.min(t,o),e=Math.max(e,o+c)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,r=this._cachedMeta,o=r.data,c=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,h=Math.max((Math.min(i.width,i.height)-c)/2,0),d=Math.min(Z6(this.options.cutout,h),1),g=this._getRingWeight(this.index),{circumference:y,rotation:b}=this._getRotationExtents(),{ratioX:x,ratioY:E,offsetX:N,offsetY:k}=pP(b,y,d),M=(i.width-c)/x,P=(i.height-c)/E,G=Math.max(Math.min(M,P)/2,0),K=kT(this.options.radius,G),nt=Math.max(K*d,0),Z=(K-nt)/this._getVisibleDatasetWeightTotal();this.offsetX=N*K,this.offsetY=k*K,r.total=this.calculateTotal(),this.outerRadius=K-Z*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Z*g,0),this.updateElements(o,0,o.length,t)}_circumference(t,e){const i=this.options,r=this._cachedMeta,o=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*o/ze)}updateElements(t,e,i,r){const o=r==="reset",c=this.chart,h=c.chartArea,g=c.options.animation,y=(h.left+h.right)/2,b=(h.top+h.bottom)/2,x=o&&g.animateScale,E=x?0:this.innerRadius,N=x?0:this.outerRadius,{sharedOptions:k,includeOptions:M}=this._getSharedOptions(e,r);let P=this._getRotation(),G;for(G=0;G<e;++G)P+=this._circumference(G,o);for(G=e;G<e+i;++G){const K=this._circumference(G,o),nt=t[G],Z={x:y+this.offsetX,y:b+this.offsetY,startAngle:P,endAngle:P+K,circumference:K,outerRadius:N,innerRadius:E};M&&(Z.options=k||this.resolveDataElementOptions(G,nt.active?"active":r)),P+=K,this.updateElement(nt,G,Z,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,r;for(r=0;r<e.length;r++){const o=t._parsed[r];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!e[r].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?ze*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=n0(e._parsed[t],i.options.locale);return{label:r[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const i=this.chart;let r,o,c,h,d;if(!t){for(r=0,o=i.data.datasets.length;r<o;++r)if(i.isDatasetVisible(r)){c=i.getDatasetMeta(r),t=c.data,h=c.controller;break}}if(!t)return 0;for(r=0,o=t.length;r<o;++r)d=h.resolveDataElementOptions(r),d.borderAlign!=="inner"&&(e=Math.max(e,d.borderWidth||0,d.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,r=t.length;i<r;++i){const o=this.resolveDataElementOptions(i);e=Math.max(e,o.offset||0,o.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(Gt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class _P extends yP{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function Na(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class h0{static override(t){Object.assign(h0.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Na()}parse(){return Na()}format(){return Na()}add(){return Na()}diff(){return Na()}startOf(){return Na()}endOf(){return Na()}}var vP={_date:h0};function bP(n,t,e,i){const{controller:r,data:o,_sorted:c}=n,h=r._cachedMeta.iScale,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&c&&o.length){const g=h._reversePixels?dL:My;if(i){if(r._sharedOptions){const y=o[0],b=typeof y.getRange=="function"&&y.getRange(t);if(b){const x=g(o,t,e-b),E=g(o,t,e+b);return{lo:x.lo,hi:E.hi}}}}else{const y=g(o,t,e);if(d){const{vScale:b}=r._cachedMeta,{_parsed:x}=n,E=x.slice(0,y.lo+1).reverse().findIndex(k=>!Se(k[b.axis]));y.lo-=Math.max(0,E);const N=x.slice(y.hi).findIndex(k=>!Se(k[b.axis]));y.hi+=Math.max(0,N)}return y}}return{lo:0,hi:o.length-1}}function mg(n,t,e,i,r){const o=n.getSortedVisibleDatasetMetas(),c=e[t];for(let h=0,d=o.length;h<d;++h){const{index:g,data:y}=o[h],{lo:b,hi:x}=bP(o[h],t,c,r);for(let E=b;E<=x;++E){const N=y[E];N.skip||i(N,g,E)}}}function xP(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const o=t?Math.abs(i.x-r.x):0,c=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function Qp(n,t,e,i,r){const o=[];return!r&&!n.isPointInArea(t)||mg(n,e,t,function(h,d,g){!r&&!BT(h,n.chartArea,0)||h.inRange(t.x,t.y,i)&&o.push({element:h,datasetIndex:d,index:g})},!0),o}function wP(n,t,e,i){let r=[];function o(c,h,d){const{startAngle:g,endAngle:y}=c.getProps(["startAngle","endAngle"],i),{angle:b}=DT(c,{x:t.x,y:t.y});jf(b,g,y)&&r.push({element:c,datasetIndex:h,index:d})}return mg(n,e,t,o),r}function SP(n,t,e,i,r,o){let c=[];const h=xP(e);let d=Number.POSITIVE_INFINITY;function g(y,b,x){const E=y.inRange(t.x,t.y,r);if(i&&!E)return;const N=y.getCenterPoint(r);if(!(!!o||n.isPointInArea(N))&&!E)return;const M=h(t,N);M<d?(c=[{element:y,datasetIndex:b,index:x}],d=M):M===d&&c.push({element:y,datasetIndex:b,index:x})}return mg(n,e,t,g),c}function Kp(n,t,e,i,r,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?wP(n,t,e,r):SP(n,t,e,i,r,o)}function Y1(n,t,e,i,r){const o=[],c=e==="x"?"inXRange":"inYRange";let h=!1;return mg(n,e,t,(d,g,y)=>{d[c]&&d[c](t[e],r)&&(o.push({element:d,datasetIndex:g,index:y}),h=h||d.inRange(t.x,t.y,r))}),i&&!h?[]:o}var EP={modes:{index(n,t,e,i){const r=Ma(t,n),o=e.axis||"x",c=e.includeInvisible||!1,h=e.intersect?Qp(n,r,o,i,c):Kp(n,r,o,!1,i,c),d=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(g=>{const y=h[0].index,b=g.data[y];b&&!b.skip&&d.push({element:b,datasetIndex:g.index,index:y})}),d):[]},dataset(n,t,e,i){const r=Ma(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;let h=e.intersect?Qp(n,r,o,i,c):Kp(n,r,o,!1,i,c);if(h.length>0){const d=h[0].datasetIndex,g=n.getDatasetMeta(d).data;h=[];for(let y=0;y<g.length;++y)h.push({element:g[y],datasetIndex:d,index:y})}return h},point(n,t,e,i){const r=Ma(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return Qp(n,r,o,i,c)},nearest(n,t,e,i){const r=Ma(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return Kp(n,r,o,e.intersect,i,c)},x(n,t,e,i){const r=Ma(t,n);return Y1(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=Ma(t,n);return Y1(n,r,"y",e.intersect,i)}}};const KT=["left","top","right","bottom"];function Fc(n,t){return n.filter(e=>e.pos===t)}function G1(n,t){return n.filter(e=>KT.indexOf(e.pos)===-1&&e.box.axis===t)}function Vc(n,t){return n.sort((e,i)=>{const r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function TP(n){const t=[];let e,i,r,o,c,h;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:o,options:{stack:c,stackWeight:h=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:c&&o+c,stackWeight:h});return t}function CP(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!KT.includes(r))continue;const c=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return t}function AP(n,t){const e=CP(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,c,h;for(o=0,c=n.length;o<c;++o){h=n[o];const{fullSize:d}=h.box,g=e[h.stack],y=g&&h.stackWeight/g.weight;h.horizontal?(h.width=y?y*i:d&&t.availableWidth,h.height=r):(h.width=i,h.height=y?y*r:d&&t.availableHeight)}return e}function NP(n){const t=TP(n),e=Vc(t.filter(g=>g.box.fullSize),!0),i=Vc(Fc(t,"left"),!0),r=Vc(Fc(t,"right")),o=Vc(Fc(t,"top"),!0),c=Vc(Fc(t,"bottom")),h=G1(t,"x"),d=G1(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(d).concat(c).concat(h),chartArea:Fc(t,"chartArea"),vertical:i.concat(r).concat(d),horizontal:o.concat(c).concat(h)}}function $1(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function ZT(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function RP(n,t,e,i){const{pos:r,box:o}=e,c=n.maxPadding;if(!Bt(r)){e.size&&(n[r]-=e.size);const b=i[e.stack]||{size:0,count:1};b.size=Math.max(b.size,e.horizontal?o.height:o.width),e.size=b.size/b.count,n[r]+=e.size}o.getPadding&&ZT(c,o.getPadding());const h=Math.max(0,t.outerWidth-$1(c,n,"left","right")),d=Math.max(0,t.outerHeight-$1(c,n,"top","bottom")),g=h!==n.w,y=d!==n.h;return n.w=h,n.h=d,e.horizontal?{same:g,other:y}:{same:y,other:g}}function kP(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function MP(n,t){const e=t.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(c=>{o[c]=Math.max(t[c],e[c])}),o}return i(n?["left","right"]:["top","bottom"])}function Zc(n,t,e,i){const r=[];let o,c,h,d,g,y;for(o=0,c=n.length,g=0;o<c;++o){h=n[o],d=h.box,d.update(h.width||t.w,h.height||t.h,MP(h.horizontal,t));const{same:b,other:x}=RP(t,e,h,i);g|=b&&r.length,y=y||x,d.fullSize||r.push(h)}return g&&Zc(r,t,e,i)||y}function Pd(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function X1(n,t,e,i){const r=e.padding;let{x:o,y:c}=t;for(const h of n){const d=h.box,g=i[h.stack]||{placed:0,weight:1},y=h.stackWeight/g.weight||1;if(h.horizontal){const b=t.w*y,x=g.size||d.height;Mf(g.start)&&(c=g.start),d.fullSize?Pd(d,r.left,c,e.outerWidth-r.right-r.left,x):Pd(d,t.left+g.placed,c,b,x),g.start=c,g.placed+=b,c=d.bottom}else{const b=t.h*y,x=g.size||d.width;Mf(g.start)&&(o=g.start),d.fullSize?Pd(d,o,r.top,x,e.outerHeight-r.bottom-r.top):Pd(d,o,t.top+g.placed,x,b),g.start=o,g.placed+=b,o=d.right}}t.x=o,t.y=c}var ii={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=ai(n.options.layout.padding),o=Math.max(t-r.width,0),c=Math.max(e-r.height,0),h=NP(n.boxes),d=h.vertical,g=h.horizontal;ee(n.boxes,k=>{typeof k.beforeLayout=="function"&&k.beforeLayout()});const y=d.reduce((k,M)=>M.box.options&&M.box.options.display===!1?k:k+1,0)||1,b=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/y,hBoxMaxHeight:c/2}),x=Object.assign({},r);ZT(x,ai(i));const E=Object.assign({maxPadding:x,w:o,h:c,x:r.left,y:r.top},r),N=AP(d.concat(g),b);Zc(h.fullSize,E,b,N),Zc(d,E,b,N),Zc(g,E,b,N)&&Zc(d,E,b,N),kP(E),X1(h.leftAndTop,E,b,N),E.x+=E.w,E.y+=E.h,X1(h.rightAndBottom,E,b,N),n.chartArea={left:E.left,top:E.top,right:E.left+E.w,bottom:E.top+E.h,height:E.h,width:E.w},ee(h.chartArea,k=>{const M=k.box;Object.assign(M,n.chartArea),M.update(E.w,E.h,{left:0,top:0,right:0,bottom:0})})}};class JT{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class OP extends JT{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Jd="$chartjs",DP={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Q1=n=>n===null||n==="";function IP(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[Jd]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",Q1(r)){const o=z1(n,"width");o!==void 0&&(n.width=o)}if(Q1(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=z1(n,"height");o!==void 0&&(n.height=o)}return n}const tC=KL?{passive:!0}:!1;function jP(n,t,e){n&&n.addEventListener(t,e,tC)}function LP(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,tC)}function PP(n,t){const e=DP[n.type]||n.type,{x:i,y:r}=Ma(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Uf(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function UP(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Uf(h.addedNodes,i),c=c&&!Uf(h.removedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function zP(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Uf(h.removedNodes,i),c=c&&!Uf(h.addedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const Du=new Map;let K1=0;function eC(){const n=window.devicePixelRatio;n!==K1&&(K1=n,Du.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function BP(n,t){Du.size||window.addEventListener("resize",eC),Du.set(n,t)}function HP(n){Du.delete(n),Du.size||window.removeEventListener("resize",eC)}function FP(n,t,e){const i=n.canvas,r=i&&u0(i);if(!r)return;const o=LT((h,d)=>{const g=r.clientWidth;e(h,d),g<r.clientWidth&&e()},window),c=new ResizeObserver(h=>{const d=h[0],g=d.contentRect.width,y=d.contentRect.height;g===0&&y===0||o(g,y)});return c.observe(r),BP(n,o),c}function Zp(n,t,e){e&&e.disconnect(),t==="resize"&&HP(n)}function VP(n,t,e){const i=n.canvas,r=LT(o=>{n.ctx!==null&&e(PP(o,n))},n);return jP(i,t,r),r}class qP extends JT{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(IP(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[Jd])return!1;const i=e[Jd].initial;["height","width"].forEach(o=>{const c=i[o];Se(c)?e.removeAttribute(o):e.setAttribute(o,c)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[Jd],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),c={attach:UP,detach:zP,resize:FP}[e]||VP;r[e]=c(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:Zp,detach:Zp,resize:Zp}[e]||LP)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return QL(t,e,i,r)}isAttached(t){const e=t&&u0(t);return!!(e&&e.isConnected)}}function WP(n){return!c0()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?OP:qP}class eo{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return If(this.x)&&If(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}function YP(n,t){const e=n.options.ticks,i=GP(n),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?XP(t):[],c=o.length,h=o[0],d=o[c-1],g=[];if(c>r)return QP(t,g,o,c/r),g;const y=$P(o,t,r);if(c>0){let b,x;const E=c>1?Math.round((d-h)/(c-1)):null;for(Ud(t,g,y,Se(E)?0:h-E,h),b=0,x=c-1;b<x;b++)Ud(t,g,y,o[b],o[b+1]);return Ud(t,g,y,d,Se(E)?t.length:d+E),g}return Ud(t,g,y),g}function GP(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function $P(n,t,e){const i=KP(n),r=t.length/e;if(!i)return Math.max(r,1);const o=rL(i);for(let c=0,h=o.length-1;c<h;c++){const d=o[c];if(d>r)return d}return Math.max(r,1)}function XP(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function QP(n,t,e,i){let r=0,o=e[0],c;for(i=Math.ceil(i),c=0;c<n.length;c++)c===o&&(t.push(n[c]),r++,o=e[r*i])}function Ud(n,t,e,i,r){const o=Gt(i,0),c=Math.min(Gt(r,n.length),n.length);let h=0,d,g,y;for(e=Math.ceil(e),r&&(d=r-i,e=d/Math.floor(d/e)),y=o;y<0;)h++,y=Math.round(o+h*e);for(g=Math.max(o,0);g<c;g++)g===y&&(t.push(n[g]),h++,y=Math.round(o+h*e))}function KP(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const ZP=n=>n==="left"?"right":n==="right"?"left":n,Z1=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,J1=(n,t)=>Math.min(t||n,n);function tS(n,t){const e=[],i=n.length/t,r=n.length;let o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function JP(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,c=n._endPixel,h=1e-6;let d=n.getPixelForTick(r),g;if(!(e&&(i===1?g=Math.max(d-o,c-d):t===0?g=(n.getPixelForTick(1)-d)/2:g=(d-n.getPixelForTick(r-1))/2,d+=r<t?g:-g,d<o-h||d>c+h)))return d}function t3(n,t){ee(n,e=>{const i=e.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}function qc(n){return n.drawTicks?n.tickLength:0}function eS(n,t){if(!n.display)return 0;const e=gn(n.font,t),i=ai(n.padding);return(en(n.text)?n.text.length:1)*e.lineHeight+i.height}function e3(n,t){return Al(n,{scale:t,type:"scale"})}function n3(n,t,e){return Al(n,{tick:e,index:t,type:"tick"})}function i3(n,t,e){let i=e0(n);return(e&&t!=="right"||!e&&t==="right")&&(i=ZP(i)),i}function s3(n,t,e,i){const{top:r,left:o,bottom:c,right:h,chart:d}=n,{chartArea:g,scales:y}=d;let b=0,x,E,N;const k=c-r,M=h-o;if(n.isHorizontal()){if(E=fn(i,o,h),Bt(e)){const P=Object.keys(e)[0],G=e[P];N=y[P].getPixelForValue(G)+k-t}else e==="center"?N=(g.bottom+g.top)/2+k-t:N=Z1(n,e,t);x=h-o}else{if(Bt(e)){const P=Object.keys(e)[0],G=e[P];E=y[P].getPixelForValue(G)-M+t}else e==="center"?E=(g.left+g.right)/2-M+t:E=Z1(n,e,t);N=fn(i,c,r),b=e==="left"?-qe:qe}return{titleX:E,titleY:N,maxWidth:x,rotation:b}}class Nl extends eo{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=Fi(t,Number.POSITIVE_INFINITY),e=Fi(e,Number.NEGATIVE_INFINITY),i=Fi(i,Number.POSITIVE_INFINITY),r=Fi(r,Number.NEGATIVE_INFINITY),{min:Fi(t,i),max:Fi(e,r),minDefined:ri(t),maxDefined:ri(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),c;if(r&&o)return{min:e,max:i};const h=this.getMatchingVisibleMetas();for(let d=0,g=h.length;d<g;++d)c=h[d].controller.getMinMax(this,t),r||(e=Math.min(e,c.min)),o||(i=Math.max(i,c.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:Fi(e,Fi(i,e)),max:Fi(i,Fi(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ge(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:o,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=jL(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=h<this.ticks.length;this._convertTicksToLabels(d?tS(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=YP(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ge(this.options.afterUpdate,[this])}beforeSetDimensions(){ge(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ge(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ge(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ge(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=ge(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){ge(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ge(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=J1(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let c=r,h,d,g;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const y=this._getLabelSizes(),b=y.widest.width,x=y.highest.height,E=Mn(this.chart.width-b,0,this.maxWidth);h=t.offset?this.maxWidth/i:E/(i-1),b+6>h&&(h=E/(i-(t.offset?.5:1)),d=this.maxHeight-qc(t.grid)-e.padding-eS(t.title,this.chart.options.font),g=Math.sqrt(b*b+x*x),c=cL(Math.min(Math.asin(Mn((y.highest.height+6)/h,-1,1)),Math.asin(Mn(d/g,-1,1))-Math.asin(Mn(x/g,-1,1)))),c=Math.max(r,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){ge(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ge(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const d=eS(r,e.options.font);if(h?(t.width=this.maxWidth,t.height=qc(o)+d):(t.height=this.maxHeight,t.width=qc(o)+d),i.display&&this.ticks.length){const{first:g,last:y,widest:b,highest:x}=this._getLabelSizes(),E=i.padding*2,N=Is(this.labelRotation),k=Math.cos(N),M=Math.sin(N);if(h){const P=i.mirror?0:M*b.width+k*x.height;t.height=Math.min(this.maxHeight,t.height+P+E)}else{const P=i.mirror?0:k*b.width+M*x.height;t.width=Math.min(this.maxWidth,t.width+P+E)}this._calculatePadding(g,y,M,k)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:o,padding:c},position:h}=this.options,d=this.labelRotation!==0,g=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const y=this.getPixelForTick(0)-this.left,b=this.right-this.getPixelForTick(this.ticks.length-1);let x=0,E=0;d?g?(x=r*t.width,E=i*e.height):(x=i*t.height,E=r*e.width):o==="start"?E=e.width:o==="end"?x=t.width:o!=="inner"&&(x=t.width/2,E=e.width/2),this.paddingLeft=Math.max((x-y+c)*this.width/(this.width-y),0),this.paddingRight=Math.max((E-b+c)*this.width/(this.width-b),0)}else{let y=e.height/2,b=t.height/2;o==="start"?(y=0,b=t.height):o==="end"&&(y=e.height,b=0),this.paddingTop=y+c,this.paddingBottom=b+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ge(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)Se(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=tS(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:o}=this,c=[],h=[],d=Math.floor(e/J1(e,i));let g=0,y=0,b,x,E,N,k,M,P,G,K,nt,Z;for(b=0;b<e;b+=d){if(N=t[b].label,k=this._resolveTickFontOptions(b),r.font=M=k.string,P=o[M]=o[M]||{data:{},gc:[]},G=k.lineHeight,K=nt=0,!Se(N)&&!en(N))K=D1(r,P.data,P.gc,K,N),nt=G;else if(en(N))for(x=0,E=N.length;x<E;++x)Z=N[x],!Se(Z)&&!en(Z)&&(K=D1(r,P.data,P.gc,K,Z),nt+=G);c.push(K),h.push(nt),g=Math.max(K,g),y=Math.max(nt,y)}t3(o,e);const lt=c.indexOf(g),O=h.indexOf(y),C=R=>({width:c[R]||0,height:h[R]||0});return{first:C(0),last:C(e-1),widest:C(lt),highest:C(O),widths:c,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return hL(this._alignToPixels?Aa(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=n3(this.getContext(),t,i))}return this.$context||(this.$context=e3(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Is(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),c=t.autoSkipPadding||0,h=o?o.widest.width+c:0,d=o?o.highest.height+c:0;return this.isHorizontal()?d*i>h*r?h/i:d/r:d*r<h*i?d/i:h/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:c,border:h}=r,d=o.offset,g=this.isHorizontal(),b=this.ticks.length+(d?1:0),x=qc(o),E=[],N=h.setContext(this.getContext()),k=N.display?N.width:0,M=k/2,P=function($){return Aa(i,$,k)};let G,K,nt,Z,lt,O,C,R,I,L,z,D;if(c==="top")G=P(this.bottom),O=this.bottom-x,R=G-M,L=P(t.top)+M,D=t.bottom;else if(c==="bottom")G=P(this.top),L=t.top,D=P(t.bottom)-M,O=G+M,R=this.top+x;else if(c==="left")G=P(this.right),lt=this.right-x,C=G-M,I=P(t.left)+M,z=t.right;else if(c==="right")G=P(this.left),I=t.left,z=P(t.right)-M,lt=G+M,C=this.left+x;else if(e==="x"){if(c==="center")G=P((t.top+t.bottom)/2+.5);else if(Bt(c)){const $=Object.keys(c)[0],F=c[$];G=P(this.chart.scales[$].getPixelForValue(F))}L=t.top,D=t.bottom,O=G+M,R=O+x}else if(e==="y"){if(c==="center")G=P((t.left+t.right)/2);else if(Bt(c)){const $=Object.keys(c)[0],F=c[$];G=P(this.chart.scales[$].getPixelForValue(F))}lt=G-M,C=lt-x,I=t.left,z=t.right}const Tt=Gt(r.ticks.maxTicksLimit,b),mt=Math.max(1,Math.ceil(b/Tt));for(K=0;K<b;K+=mt){const $=this.getContext(K),F=o.setContext($),ot=h.setContext($),gt=F.lineWidth,U=F.color,it=ot.dash||[],ct=ot.dashOffset,rt=F.tickWidth,dt=F.tickColor,yt=F.tickBorderDash||[],tt=F.tickBorderDashOffset;nt=JP(this,K,d),nt!==void 0&&(Z=Aa(i,nt,gt),g?lt=C=I=z=Z:O=R=L=D=Z,E.push({tx1:lt,ty1:O,tx2:C,ty2:R,x1:I,y1:L,x2:z,y2:D,width:gt,color:U,borderDash:it,borderDashOffset:ct,tickWidth:rt,tickColor:dt,tickBorderDash:yt,tickBorderDashOffset:tt}))}return this._ticksLength=b,this._borderValue=G,E}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:o}=i,c=this.isHorizontal(),h=this.ticks,{align:d,crossAlign:g,padding:y,mirror:b}=o,x=qc(i.grid),E=x+y,N=b?-y:E,k=-Is(this.labelRotation),M=[];let P,G,K,nt,Z,lt,O,C,R,I,L,z,D="middle";if(r==="top")lt=this.bottom-N,O=this._getXAxisLabelAlignment();else if(r==="bottom")lt=this.top+N,O=this._getXAxisLabelAlignment();else if(r==="left"){const mt=this._getYAxisLabelAlignment(x);O=mt.textAlign,Z=mt.x}else if(r==="right"){const mt=this._getYAxisLabelAlignment(x);O=mt.textAlign,Z=mt.x}else if(e==="x"){if(r==="center")lt=(t.top+t.bottom)/2+E;else if(Bt(r)){const mt=Object.keys(r)[0],$=r[mt];lt=this.chart.scales[mt].getPixelForValue($)+E}O=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")Z=(t.left+t.right)/2-E;else if(Bt(r)){const mt=Object.keys(r)[0],$=r[mt];Z=this.chart.scales[mt].getPixelForValue($)}O=this._getYAxisLabelAlignment(x).textAlign}e==="y"&&(d==="start"?D="top":d==="end"&&(D="bottom"));const Tt=this._getLabelSizes();for(P=0,G=h.length;P<G;++P){K=h[P],nt=K.label;const mt=o.setContext(this.getContext(P));C=this.getPixelForTick(P)+o.labelOffset,R=this._resolveTickFontOptions(P),I=R.lineHeight,L=en(nt)?nt.length:1;const $=L/2,F=mt.color,ot=mt.textStrokeColor,gt=mt.textStrokeWidth;let U=O;c?(Z=C,O==="inner"&&(P===G-1?U=this.options.reverse?"left":"right":P===0?U=this.options.reverse?"right":"left":U="center"),r==="top"?g==="near"||k!==0?z=-L*I+I/2:g==="center"?z=-Tt.highest.height/2-$*I+I:z=-Tt.highest.height+I/2:g==="near"||k!==0?z=I/2:g==="center"?z=Tt.highest.height/2-$*I:z=Tt.highest.height-L*I,b&&(z*=-1),k!==0&&!mt.showLabelBackdrop&&(Z+=I/2*Math.sin(k))):(lt=C,z=(1-L)*I/2);let it;if(mt.showLabelBackdrop){const ct=ai(mt.backdropPadding),rt=Tt.heights[P],dt=Tt.widths[P];let yt=z-ct.top,tt=0-ct.left;switch(D){case"middle":yt-=rt/2;break;case"bottom":yt-=rt;break}switch(O){case"center":tt-=dt/2;break;case"right":tt-=dt;break;case"inner":P===G-1?tt-=dt:P>0&&(tt-=dt/2);break}it={left:tt,top:yt,width:dt+ct.width,height:rt+ct.height,color:mt.backdropColor}}M.push({label:nt,font:R,textOffset:z,options:{rotation:k,color:F,strokeColor:ot,strokeWidth:gt,textAlign:U,textBaseline:D,translation:[Z,lt],backdrop:it}})}return M}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Is(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,c=this._getLabelSizes(),h=t+o,d=c.widest.width;let g,y;return e==="left"?r?(y=this.right+o,i==="near"?g="left":i==="center"?(g="center",y+=d/2):(g="right",y+=d)):(y=this.right-h,i==="near"?g="right":i==="center"?(g="center",y-=d/2):(g="left",y=this.left)):e==="right"?r?(y=this.left+o,i==="near"?g="right":i==="center"?(g="center",y-=d/2):(g="left",y-=d)):(y=this.left+h,i==="near"?g="left":i==="center"?(g="center",y+=d/2):(g="right",y=this.right)):g="right",{textAlign:g,x:y}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:c}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,c),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,c;const h=(d,g,y)=>{!y.width||!y.color||(i.save(),i.lineWidth=y.width,i.strokeStyle=y.color,i.setLineDash(y.borderDash||[]),i.lineDashOffset=y.borderDashOffset,i.beginPath(),i.moveTo(d.x,d.y),i.lineTo(g.x,g.y),i.stroke(),i.restore())};if(e.display)for(o=0,c=r.length;o<c;++o){const d=r[o];e.drawOnChartArea&&h({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),e.drawTicks&&h({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),c=i.display?o.width:0;if(!c)return;const h=r.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let g,y,b,x;this.isHorizontal()?(g=Aa(t,this.left,c)-c/2,y=Aa(t,this.right,h)+h/2,b=x=d):(b=Aa(t,this.top,c)-c/2,x=Aa(t,this.bottom,h)+h/2,g=y=d),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(g,b),e.lineTo(y,x),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&i0(i,r);const o=this.getLabelItems(t);for(const c of o){const h=c.options,d=c.font,g=c.label,y=c.textOffset;Ou(i,g,0,y,d,h)}r&&s0(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=gn(i.font),c=ai(i.padding),h=i.align;let d=o.lineHeight/2;e==="bottom"||e==="center"||Bt(e)?(d+=c.bottom,en(i.text)&&(d+=o.lineHeight*(i.text.length-1))):d+=c.top;const{titleX:g,titleY:y,maxWidth:b,rotation:x}=s3(this,d,e,h);Ou(t,i.text,0,0,o,{color:i.color,maxWidth:b,rotation:x,textAlign:i3(h,e,r),textBaseline:"middle",translation:[g,y]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Gt(t.grid&&t.grid.z,-1),r=Gt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Nl.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,c;for(o=0,c=e.length;o<c;++o){const h=e[o];h[i]===this.id&&(!t||h.type===t)&&r.push(h)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return gn(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class zd{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;o3(e)&&(i=this.register(e));const r=this.items,o=t.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,r3(t,c,i),this.override&&De.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in De[r]&&(delete De[r][i],this.override&&delete Qa[i])}}function r3(n,t,e){const i=ku(Object.create(null),[e?De.get(e):{},De.get(t),n.defaults]);De.set(t,i),n.defaultRoutes&&a3(t,n.defaultRoutes),n.descriptors&&De.describe(t,n.descriptors)}function a3(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),c=t[e].split("."),h=c.pop(),d=c.join(".");De.route(o,r,d,h)})}function o3(n){return"id"in n&&"defaults"in n}class l3{constructor(){this.controllers=new zd(QT,"datasets",!0),this.elements=new zd(eo,"elements"),this.plugins=new zd(Object,"plugins"),this.scales=new zd(Nl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):ee(r,c=>{const h=i||this._getRegistryForType(c);this._exec(t,h,c)})})}_exec(t,e,i){const r=J_(t);ge(i["before"+r],[],i),e[t](i),ge(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var qi=new l3;class c3{constructor(){this._init=[]}notify(t,e,i,r){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=r?this._descriptors(t).filter(r):this._descriptors(t),c=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),c}_notify(t,e,i,r){r=r||{};for(const o of t){const c=o.plugin,h=c[i],d=[e,r,o.options];if(ge(h,d,c)===!1&&r.cancelable)return!1}return!0}invalidate(){Se(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Gt(i.options&&i.options.plugins,{}),o=u3(i);return r===!1&&!e?[]:d3(t,o,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(o,c)=>o.filter(h=>!c.some(d=>h.plugin.id===d.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function u3(n){const t={},e=[],i=Object.keys(qi.plugins.items);for(let o=0;o<i.length;o++)e.push(qi.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const c=r[o];e.indexOf(c)===-1&&(e.push(c),t[c.id]=!0)}return{plugins:e,localIds:t}}function h3(n,t){return!t&&n===!1?null:n===!0?{}:n}function d3(n,{plugins:t,localIds:e},i,r){const o=[],c=n.getContext();for(const h of t){const d=h.id,g=h3(i[d],r);g!==null&&o.push({plugin:h,options:f3(n.config,{plugin:h,local:e[d]},g,c)})}return o}function f3(n,{plugin:t,local:e},i,r){const o=n.pluginScopeKeys(t),c=n.getOptionScopes(i,o);return e&&t.defaults&&c.push(t.defaults),n.createResolver(c,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Dy(n,t){const e=De.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function g3(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function m3(n,t){return n===t?"_index_":"_value_"}function nS(n){if(n==="x"||n==="y"||n==="r")return n}function p3(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Iy(n,...t){if(nS(n))return n;for(const e of t){const i=e.axis||p3(e.position)||n.length>1&&nS(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function iS(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function y3(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return iS(n,"x",e[0])||iS(n,"y",e[0])}return{}}function _3(n,t){const e=Qa[n.type]||{scales:{}},i=t.scales||{},r=Dy(n.type,t),o=Object.create(null);return Object.keys(i).forEach(c=>{const h=i[c];if(!Bt(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const d=Iy(c,h,y3(c,n),De.scales[h.type]),g=m3(d,r),y=e.scales||{};o[c]=fu(Object.create(null),[{axis:d},h,y[d],y[g]])}),n.data.datasets.forEach(c=>{const h=c.type||n.type,d=c.indexAxis||Dy(h,t),y=(Qa[h]||{}).scales||{};Object.keys(y).forEach(b=>{const x=g3(b,d),E=c[x+"AxisID"]||x;o[E]=o[E]||Object.create(null),fu(o[E],[{axis:x},i[E],y[b]])})}),Object.keys(o).forEach(c=>{const h=o[c];fu(h,[De.scales[h.type],De.scale])}),o}function nC(n){const t=n.options||(n.options={});t.plugins=Gt(t.plugins,{}),t.scales=_3(n,t)}function iC(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function v3(n){return n=n||{},n.data=iC(n.data),nC(n),n}const sS=new Map,sC=new Set;function Bd(n,t){let e=sS.get(n);return e||(e=t(),sS.set(n,e),sC.add(e)),e}const Wc=(n,t,e)=>{const i=Mu(t,e);i!==void 0&&n.add(i)};class b3{constructor(t){this._config=v3(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=iC(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),nC(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Bd(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Bd(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Bd(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return Bd(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:o}=this,c=this._cachedScopes(t,i),h=c.get(e);if(h)return h;const d=new Set;e.forEach(y=>{t&&(d.add(t),y.forEach(b=>Wc(d,t,b))),y.forEach(b=>Wc(d,r,b)),y.forEach(b=>Wc(d,Qa[o]||{},b)),y.forEach(b=>Wc(d,De,b)),y.forEach(b=>Wc(d,Oy,b))});const g=Array.from(d);return g.length===0&&g.push(Object.create(null)),sC.has(e)&&c.set(e,g),g}chartOptionScopes(){const{options:t,type:e}=this;return[t,Qa[e]||{},De.datasets[e]||{},{type:e},De,Oy]}resolveNamedOptions(t,e,i,r=[""]){const o={$shared:!0},{resolver:c,subPrefixes:h}=rS(this._resolverCache,t,r);let d=c;if(w3(c,e)){o.$shared=!1,i=Pr(i)?i():i;const g=this.createResolver(t,i,h);d=pl(c,i,g)}for(const g of e)o[g]=d[g];return o}createResolver(t,e,i=[""],r){const{resolver:o}=rS(this._resolverCache,t,i);return Bt(e)?pl(o,e,void 0,r):o}}function rS(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let o=i.get(r);return o||(o={resolver:a0(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},i.set(r,o)),o}const x3=n=>Bt(n)&&Object.getOwnPropertyNames(n).some(t=>Pr(n[t]));function w3(n,t){const{isScriptable:e,isIndexable:i}=FT(n);for(const r of t){const o=e(r),c=i(r),h=(c||o)&&n[r];if(o&&(Pr(h)||x3(h))||c&&en(h))return!0}return!1}var S3="4.5.0";const E3=["top","bottom","left","right","chartArea"];function aS(n,t){return n==="top"||n==="bottom"||E3.indexOf(n)===-1&&t==="x"}function oS(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function lS(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),ge(e&&e.onComplete,[n],t)}function T3(n){const t=n.chart,e=t.options.animation;ge(e&&e.onProgress,[n],t)}function rC(n){return c0()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const tf={},cS=n=>{const t=rC(n);return Object.values(tf).filter(e=>e.canvas===t).pop()};function C3(n,t,e){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=t){const c=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=c)}}}function A3(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let pg=class{static defaults=De;static instances=tf;static overrides=Qa;static registry=qi;static version=S3;static getChart=cS;static register(...t){qi.add(...t),uS()}static unregister(...t){qi.remove(...t),uS()}constructor(t,e){const i=this.config=new b3(e),r=rC(t),o=cS(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||WP(r)),this.platform.updateConfig(i);const h=this.platform.acquireContext(r,c.aspectRatio),d=h&&h.canvas,g=d&&d.height,y=d&&d.width;if(this.id=K6(),this.ctx=h,this.canvas=d,this.width=y,this.height=g,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new c3,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=pL(b=>this.update(b),c.resizeDelay||0),this._dataChanges=[],tf[this.id]=this,!h||!d){console.error("Failed to create chart: can't acquire context from the given item");return}Cs.listen(this,"complete",lS),Cs.listen(this,"progress",T3),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:o}=this;return Se(t)?e&&o?o:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return qi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():U1(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return I1(this.canvas,this.ctx),this}stop(){return Cs.stop(this),this}resize(t,e){Cs.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(r,t,e,o),h=i.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,U1(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),ge(i.onResize,[this,c],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};ee(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((c,h)=>(c[h]=!1,c),{});let o=[];e&&(o=o.concat(Object.keys(e).map(c=>{const h=e[c],d=Iy(c,h),g=d==="r",y=d==="x";return{options:h,dposition:g?"chartArea":y?"bottom":"left",dtype:g?"radialLinear":y?"category":"linear"}}))),ee(o,c=>{const h=c.options,d=h.id,g=Iy(d,h),y=Gt(h.type,c.dtype);(h.position===void 0||aS(h.position,g)!==aS(c.dposition))&&(h.position=c.dposition),r[d]=!0;let b=null;if(d in i&&i[d].type===y)b=i[d];else{const x=qi.getScale(y);b=new x({id:d,type:y,ctx:this.ctx,chart:this}),i[b.id]=b}b.init(h,t)}),ee(r,(c,h)=>{c||delete i[h]}),ee(i,c=>{ii.configure(this,c,c.options),ii.addBox(this,c)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,o)=>r.index-o.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(oS("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const o=e[i];let c=this.getDatasetMeta(i);const h=o.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=h,c.indexAxis=o.indexAxis||Dy(h,this.options),c.order=o.order||0,c.index=i,c.label=""+o.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const d=qi.getController(h),{datasetElementType:g,dataElementType:y}=De.datasets[h];Object.assign(d,{dataElementType:qi.getElement(y),datasetElementType:g&&qi.getElement(g)}),c.controller=new d(this,i),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){ee(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let g=0,y=this.data.datasets.length;g<y;g++){const{controller:b}=this.getDatasetMeta(g),x=!r&&o.indexOf(b)===-1;b.buildOrUpdateElements(x),c=Math.max(+b.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),r||ee(o,g=>{g.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(oS("z","_idx"));const{_active:h,_lastEvent:d}=this;d?this._eventHandler(d,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){ee(this.scales,t=>{ii.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!E1(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of e){const c=i==="_removeElements"?-o:o;C3(t,r,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(c=>c[0]===o).map((c,h)=>h+","+c.splice(1).join(","))),r=i(0);for(let o=1;o<e;o++)if(!E1(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ii.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],ee(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Pr(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Cs.has(this)?this.attached&&!Cs.running(this)&&Cs.start(this):(this.draw(),lS({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,o;for(r=0,o=e.length;r<o;++r){const c=e[r];(!t||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=eP(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&i0(e,r),t.controller.draw(),r&&s0(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return BT(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const o=EP.modes[e];return typeof o=="function"?o(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(o=>o&&o._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Al(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,r);Mf(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),c.update(o,{visible:i}),this.update(h=>h.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Cs.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),I1(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete tf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,c)=>{e.addEventListener(this,o,c),t[o]=c},r=(o,c,h)=>{o.offsetX=c,o.offsetY=h,this._eventHandler(o)};ee(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(d,g)=>{e.addEventListener(this,d,g),t[d]=g},r=(d,g)=>{t[d]&&(e.removeEventListener(this,d,g),delete t[d])},o=(d,g)=>{this.canvas&&this.resize(d,g)};let c;const h=()=>{r("attach",h),this.attached=!0,this.resize(),i("resize",o),i("detach",c)};c=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",h)},e.isAttached(this.canvas)?h():c()}unbindEvents(){ee(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},ee(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let o,c,h,d;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),h=0,d=t.length;h<d;++h){c=t[h];const g=c&&this.getDatasetMeta(c.datasetIndex).controller;g&&g[r+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:c})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[c],index:c}});!Rf(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,o=(d,g)=>d.filter(y=>!g.some(b=>y.datasetIndex===b.datasetIndex&&y.index===b.index)),c=o(e,t),h=i?t:o(t,e);c.length&&this.updateHoverStyle(c,r.mode,!1),h.length&&r.mode&&this.updateHoverStyle(h,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:o}=this,c=e,h=this._getActiveElements(t,r,i,c),d=iL(t),g=A3(t,this._lastEvent,i,d);i&&(this._lastEvent=null,ge(o.onHover,[t,h,this],this),d&&ge(o.onClick,[t,h,this],this));const y=!Rf(h,r);return(y||e)&&(this._active=h,this._updateHoverStyles(h,r,e)),this._lastEvent=g,y}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}};function uS(){return ee(pg.instances,n=>n._plugins.invalidate())}function N3(n,t,e){const{startAngle:i,x:r,y:o,outerRadius:c,innerRadius:h,options:d}=t,{borderWidth:g,borderJoinStyle:y}=d,b=Math.min(g/c,Yi(i-e));if(n.beginPath(),n.arc(r,o,c-g/2,i+b/2,e-b/2),h>0){const x=Math.min(g/h,Yi(i-e));n.arc(r,o,h+g/2,e-x/2,i+x/2,!0)}else{const x=Math.min(g/2,c*Yi(i-e));if(y==="round")n.arc(r,o,x,e-ue/2,i+ue/2,!0);else if(y==="bevel"){const E=2*x*x,N=-E*Math.cos(e+ue/2)+r,k=-E*Math.sin(e+ue/2)+o,M=E*Math.cos(i+ue/2)+r,P=E*Math.sin(i+ue/2)+o;n.lineTo(N,k),n.lineTo(M,P)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function R3(n,t,e){const{startAngle:i,pixelMargin:r,x:o,y:c,outerRadius:h,innerRadius:d}=t;let g=r/h;n.beginPath(),n.arc(o,c,h,i-g,e+g),d>r?(g=r/d,n.arc(o,c,d,e+g,i-g,!0)):n.arc(o,c,r,e+qe,i-qe),n.closePath(),n.clip()}function k3(n){return r0(n,["outerStart","outerEnd","innerStart","innerEnd"])}function M3(n,t,e,i){const r=k3(n.options.borderRadius),o=(e-t)/2,c=Math.min(o,i*t/2),h=d=>{const g=(e-Math.min(o,d))*i/2;return Mn(d,0,Math.min(o,g))};return{outerStart:h(r.outerStart),outerEnd:h(r.outerEnd),innerStart:Mn(r.innerStart,0,c),innerEnd:Mn(r.innerEnd,0,c)}}function Qo(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function zf(n,t,e,i,r,o){const{x:c,y:h,startAngle:d,pixelMargin:g,innerRadius:y}=t,b=Math.max(t.outerRadius+i+e-g,0),x=y>0?y+i+e+g:0;let E=0;const N=r-d;if(i){const mt=y>0?y-i:0,$=b>0?b-i:0,F=(mt+$)/2,ot=F!==0?N*F/(F+i):N;E=(N-ot)/2}const k=Math.max(.001,N*b-e/ue)/b,M=(N-k)/2,P=d+M+E,G=r-M-E,{outerStart:K,outerEnd:nt,innerStart:Z,innerEnd:lt}=M3(t,x,b,G-P),O=b-K,C=b-nt,R=P+K/O,I=G-nt/C,L=x+Z,z=x+lt,D=P+Z/L,Tt=G-lt/z;if(n.beginPath(),o){const mt=(R+I)/2;if(n.arc(c,h,b,R,mt),n.arc(c,h,b,mt,I),nt>0){const gt=Qo(C,I,c,h);n.arc(gt.x,gt.y,nt,I,G+qe)}const $=Qo(z,G,c,h);if(n.lineTo($.x,$.y),lt>0){const gt=Qo(z,Tt,c,h);n.arc(gt.x,gt.y,lt,G+qe,Tt+Math.PI)}const F=(G-lt/x+(P+Z/x))/2;if(n.arc(c,h,x,G-lt/x,F,!0),n.arc(c,h,x,F,P+Z/x,!0),Z>0){const gt=Qo(L,D,c,h);n.arc(gt.x,gt.y,Z,D+Math.PI,P-qe)}const ot=Qo(O,P,c,h);if(n.lineTo(ot.x,ot.y),K>0){const gt=Qo(O,R,c,h);n.arc(gt.x,gt.y,K,P-qe,R)}}else{n.moveTo(c,h);const mt=Math.cos(R)*b+c,$=Math.sin(R)*b+h;n.lineTo(mt,$);const F=Math.cos(I)*b+c,ot=Math.sin(I)*b+h;n.lineTo(F,ot)}n.closePath()}function O3(n,t,e,i,r){const{fullCircles:o,startAngle:c,circumference:h}=t;let d=t.endAngle;if(o){zf(n,t,e,i,d,r);for(let g=0;g<o;++g)n.fill();isNaN(h)||(d=c+(h%ze||ze))}return zf(n,t,e,i,d,r),n.fill(),d}function D3(n,t,e,i,r){const{fullCircles:o,startAngle:c,circumference:h,options:d}=t,{borderWidth:g,borderJoinStyle:y,borderDash:b,borderDashOffset:x,borderRadius:E}=d,N=d.borderAlign==="inner";if(!g)return;n.setLineDash(b||[]),n.lineDashOffset=x,N?(n.lineWidth=g*2,n.lineJoin=y||"round"):(n.lineWidth=g,n.lineJoin=y||"bevel");let k=t.endAngle;if(o){zf(n,t,e,i,k,r);for(let M=0;M<o;++M)n.stroke();isNaN(h)||(k=c+(h%ze||ze))}N&&R3(n,t,k),d.selfJoin&&k-c>=ue&&E===0&&y!=="miter"&&N3(n,t,k),o||(zf(n,t,e,i,k,r),n.stroke())}class I3 extends eo{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.getProps(["x","y"],i),{angle:o,distance:c}=DT(r,{x:t,y:e}),{startAngle:h,endAngle:d,innerRadius:g,outerRadius:y,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),x=(this.options.spacing+this.options.borderWidth)/2,E=Gt(b,d-h),N=jf(o,h,d)&&h!==d,k=E>=ze||N,M=Pa(c,g+x,y+x);return k&&M}getCenterPoint(t){const{x:e,y:i,startAngle:r,endAngle:o,innerRadius:c,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:d,spacing:g}=this.options,y=(r+o)/2,b=(c+h+g+d)/2;return{x:e+Math.cos(y)*b,y:i+Math.sin(y)*b}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,r=(e.offset||0)/4,o=(e.spacing||0)/2,c=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>ze?Math.floor(i/ze):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const h=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(h)*r,Math.sin(h)*r);const d=1-Math.sin(Math.min(ue,i||0)),g=r*d;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,O3(t,this,g,o,c),D3(t,this,g,o,c),t.restore()}}function aC(n,t){const{x:e,y:i,base:r,width:o,height:c}=n.getProps(["x","y","base","width","height"],t);let h,d,g,y,b;return n.horizontal?(b=c/2,h=Math.min(e,r),d=Math.max(e,r),g=i-b,y=i+b):(b=o/2,h=e-b,d=e+b,g=Math.min(i,r),y=Math.max(i,r)),{left:h,top:g,right:d,bottom:y}}function Cr(n,t,e,i){return n?0:Mn(t,e,i)}function j3(n,t,e){const i=n.options.borderWidth,r=n.borderSkipped,o=HT(i);return{t:Cr(r.top,o.top,0,e),r:Cr(r.right,o.right,0,t),b:Cr(r.bottom,o.bottom,0,e),l:Cr(r.left,o.left,0,t)}}function L3(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=ol(r),c=Math.min(t,e),h=n.borderSkipped,d=i||Bt(r);return{topLeft:Cr(!d||h.top||h.left,o.topLeft,0,c),topRight:Cr(!d||h.top||h.right,o.topRight,0,c),bottomLeft:Cr(!d||h.bottom||h.left,o.bottomLeft,0,c),bottomRight:Cr(!d||h.bottom||h.right,o.bottomRight,0,c)}}function P3(n){const t=aC(n),e=t.right-t.left,i=t.bottom-t.top,r=j3(n,e/2,i/2),o=L3(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function Jp(n,t,e,i){const r=t===null,o=e===null,h=n&&!(r&&o)&&aC(n,i);return h&&(r||Pa(t,h.left,h.right))&&(o||Pa(e,h.top,h.bottom))}function U3(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function z3(n,t){n.rect(t.x,t.y,t.w,t.h)}function ty(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,c=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+o,h:n.h+c,radius:n.radius}}class B3 extends eo{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:c}=P3(this),h=U3(c.radius)?Lf:z3;t.save(),(c.w!==o.w||c.h!==o.h)&&(t.beginPath(),h(t,ty(c,e,o)),t.clip(),h(t,ty(o,-e,c)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),h(t,ty(o,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return Jp(this,t,e,i)}inXRange(t,e){return Jp(this,t,null,e)}inYRange(t,e){return Jp(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+r)/2:e,y:o?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}const hS=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},H3=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class dS extends eo{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=ge(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=gn(i.font),o=r.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:d}=hS(i,o);let g,y;e.font=r.string,this.isHorizontal()?(g=this.maxWidth,y=this._fitRows(c,o,h,d)+10):(y=this.maxHeight,g=this._fitCols(c,r,h,d)+10),this.width=Math.min(g,t.maxWidth||this.maxWidth),this.height=Math.min(y,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:o,maxWidth:c,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],g=this.lineWidths=[0],y=r+h;let b=t;o.textAlign="left",o.textBaseline="middle";let x=-1,E=-y;return this.legendItems.forEach((N,k)=>{const M=i+e/2+o.measureText(N.text).width;(k===0||g[g.length-1]+M+2*h>c)&&(b+=y,g[g.length-(k>0?0:1)]=0,E+=y,x++),d[k]={left:0,top:E,row:x,width:M,height:r},g[g.length-1]+=M+h}),b}_fitCols(t,e,i,r){const{ctx:o,maxHeight:c,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],g=this.columnSizes=[],y=c-t;let b=h,x=0,E=0,N=0,k=0;return this.legendItems.forEach((M,P)=>{const{itemWidth:G,itemHeight:K}=F3(i,e,o,M,r);P>0&&E+K+2*h>y&&(b+=x+h,g.push({width:x,height:E}),N+=x+h,k++,x=E=0),d[P]={left:N,top:E,col:k,width:G,height:K},x=Math.max(x,G),E+=K+h}),b+=x,g.push({width:x,height:E}),b}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,c=ll(o,this.left,this.width);if(this.isHorizontal()){let h=0,d=fn(i,this.left+r,this.right-this.lineWidths[h]);for(const g of e)h!==g.row&&(h=g.row,d=fn(i,this.left+r,this.right-this.lineWidths[h])),g.top+=this.top+t+r,g.left=c.leftForLtr(c.x(d),g.width),d+=g.width+r}else{let h=0,d=fn(i,this.top+t+r,this.bottom-this.columnSizes[h].height);for(const g of e)g.col!==h&&(h=g.col,d=fn(i,this.top+t+r,this.bottom-this.columnSizes[h].height)),g.top=d,g.left+=this.left+r,g.left=c.leftForLtr(c.x(g.left),g.width),d+=g.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;i0(t,this),this._draw(),s0(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:c}=t,h=De.color,d=ll(t.rtl,this.left,this.width),g=gn(c.font),{padding:y}=c,b=g.size,x=b/2;let E;this.drawTitle(),r.textAlign=d.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=g.string;const{boxWidth:N,boxHeight:k,itemHeight:M}=hS(c,b),P=function(lt,O,C){if(isNaN(N)||N<=0||isNaN(k)||k<0)return;r.save();const R=Gt(C.lineWidth,1);if(r.fillStyle=Gt(C.fillStyle,h),r.lineCap=Gt(C.lineCap,"butt"),r.lineDashOffset=Gt(C.lineDashOffset,0),r.lineJoin=Gt(C.lineJoin,"miter"),r.lineWidth=R,r.strokeStyle=Gt(C.strokeStyle,h),r.setLineDash(Gt(C.lineDash,[])),c.usePointStyle){const I={radius:k*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:R},L=d.xPlus(lt,N/2),z=O+x;zT(r,I,L,z,c.pointStyleWidth&&N)}else{const I=O+Math.max((b-k)/2,0),L=d.leftForLtr(lt,N),z=ol(C.borderRadius);r.beginPath(),Object.values(z).some(D=>D!==0)?Lf(r,{x:L,y:I,w:N,h:k,radius:z}):r.rect(L,I,N,k),r.fill(),R!==0&&r.stroke()}r.restore()},G=function(lt,O,C){Ou(r,C.text,lt,O+M/2,g,{strikethrough:C.hidden,textAlign:d.textAlign(C.textAlign)})},K=this.isHorizontal(),nt=this._computeTitleHeight();K?E={x:fn(o,this.left+y,this.right-i[0]),y:this.top+y+nt,line:0}:E={x:this.left+y,y:fn(o,this.top+nt+y,this.bottom-e[0].height),line:0},YT(this.ctx,t.textDirection);const Z=M+y;this.legendItems.forEach((lt,O)=>{r.strokeStyle=lt.fontColor,r.fillStyle=lt.fontColor;const C=r.measureText(lt.text).width,R=d.textAlign(lt.textAlign||(lt.textAlign=c.textAlign)),I=N+x+C;let L=E.x,z=E.y;d.setWidth(this.width),K?O>0&&L+I+y>this.right&&(z=E.y+=Z,E.line++,L=E.x=fn(o,this.left+y,this.right-i[E.line])):O>0&&z+Z>this.bottom&&(L=E.x=L+e[E.line].width+y,E.line++,z=E.y=fn(o,this.top+nt+y,this.bottom-e[E.line].height));const D=d.x(L);if(P(D,z,lt),L=yL(R,L+N+x,K?L+I:this.right,t.rtl),G(d.x(L),z,lt),K)E.x+=I+y;else if(typeof lt.text!="string"){const Tt=g.lineHeight;E.y+=oC(lt,Tt)+y}else E.y+=Z}),GT(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=gn(e.font),r=ai(e.padding);if(!e.display)return;const o=ll(t.rtl,this.left,this.width),c=this.ctx,h=e.position,d=i.size/2,g=r.top+d;let y,b=this.left,x=this.width;if(this.isHorizontal())x=Math.max(...this.lineWidths),y=this.top+g,b=fn(t.align,b,this.right-x);else{const N=this.columnSizes.reduce((k,M)=>Math.max(k,M.height),0);y=g+fn(t.align,this.top,this.bottom-N-t.labels.padding-this._computeTitleHeight())}const E=fn(h,b,b+x);c.textAlign=o.textAlign(e0(h)),c.textBaseline="middle",c.strokeStyle=e.color,c.fillStyle=e.color,c.font=i.string,Ou(c,e.text,E,y,i)}_computeTitleHeight(){const t=this.options.title,e=gn(t.font),i=ai(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if(Pa(t,this.left,this.right)&&Pa(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],Pa(t,r.left,r.left+r.width)&&Pa(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!W3(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=H3(r,i);r&&!o&&ge(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&ge(e.onHover,[t,i,this],this)}else i&&ge(e.onClick,[t,i,this],this)}}function F3(n,t,e,i,r){const o=V3(i,n,t,e),c=q3(r,i,t.lineHeight);return{itemWidth:o,itemHeight:c}}function V3(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,c)=>o.length>c.length?o:c)),t+e.size/2+i.measureText(r).width}function q3(n,t,e){let i=n;return typeof t.text!="string"&&(i=oC(t,e)),i}function oC(n,t){const e=n.text?n.text.length:0;return t*e}function W3(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var Y3={id:"legend",_element:dS,start(n,t,e){const i=n.legend=new dS({ctx:n.ctx,options:e,chart:n});ii.configure(n,i,e),ii.addBox(n,i)},stop(n){ii.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;ii.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:c,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(d=>{const g=d.controller.getStyle(e?0:void 0),y=ai(g.borderWidth);return{text:t[d.index].label,fillStyle:g.backgroundColor,fontColor:o,hidden:!d.visible,lineCap:g.borderCapStyle,lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:(y.width+y.height)/4,strokeStyle:g.borderColor,pointStyle:i||g.pointStyle,rotation:g.rotation,textAlign:r||g.textAlign,borderRadius:c&&(h||g.borderRadius),datasetIndex:d.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class lC extends eo{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=en(i.text)?i.text.length:1;this._padding=ai(i.padding);const o=r*gn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:r,right:o,options:c}=this,h=c.align;let d=0,g,y,b;return this.isHorizontal()?(y=fn(h,i,o),b=e+t,g=o-i):(c.position==="left"?(y=i+t,b=fn(h,r,e),d=ue*-.5):(y=o-t,b=fn(h,e,r),d=ue*.5),g=r-e),{titleX:y,titleY:b,maxWidth:g,rotation:d}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=gn(e.font),o=i.lineHeight/2+this._padding.top,{titleX:c,titleY:h,maxWidth:d,rotation:g}=this._drawArgs(o);Ou(t,e.text,0,0,i,{color:e.color,maxWidth:d,rotation:g,textAlign:e0(e.align),textBaseline:"middle",translation:[c,h]})}}function G3(n,t){const e=new lC({ctx:n.ctx,options:t,chart:n});ii.configure(n,e,t),ii.addBox(n,e),n.titleBlock=e}var $3={id:"title",_element:lC,start(n,t,e){G3(n,e)},stop(n){const t=n.titleBlock;ii.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;ii.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Jc={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,o=0;for(t=0,e=n.length;t<e;++t){const h=n[t].element;if(h&&h.hasValue()){const d=h.tooltipPosition();i.add(d.x),r+=d.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((h,d)=>h+d)/i.size,y:r/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,o,c,h;for(o=0,c=n.length;o<c;++o){const d=n[o].element;if(d&&d.hasValue()){const g=d.getCenterPoint(),y=uL(t,g);y<r&&(r=y,h=d)}}if(h){const d=h.tooltipPosition();e=d.x,i=d.y}return{x:e,y:i}}};function Vi(n,t){return t&&(en(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function As(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function X3(n,t){const{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:c,value:h}=o.getLabelAndValue(r);return{chart:n,label:c,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:h,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function fS(n,t){const e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:c,boxHeight:h}=t,d=gn(t.bodyFont),g=gn(t.titleFont),y=gn(t.footerFont),b=o.length,x=r.length,E=i.length,N=ai(t.padding);let k=N.height,M=0,P=i.reduce((nt,Z)=>nt+Z.before.length+Z.lines.length+Z.after.length,0);if(P+=n.beforeBody.length+n.afterBody.length,b&&(k+=b*g.lineHeight+(b-1)*t.titleSpacing+t.titleMarginBottom),P){const nt=t.displayColors?Math.max(h,d.lineHeight):d.lineHeight;k+=E*nt+(P-E)*d.lineHeight+(P-1)*t.bodySpacing}x&&(k+=t.footerMarginTop+x*y.lineHeight+(x-1)*t.footerSpacing);let G=0;const K=function(nt){M=Math.max(M,e.measureText(nt).width+G)};return e.save(),e.font=g.string,ee(n.title,K),e.font=d.string,ee(n.beforeBody.concat(n.afterBody),K),G=t.displayColors?c+2+t.boxPadding:0,ee(i,nt=>{ee(nt.before,K),ee(nt.lines,K),ee(nt.after,K)}),G=0,e.font=y.string,ee(n.footer,K),e.restore(),M+=N.width,{width:M,height:k}}function Q3(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function K3(n,t,e,i){const{x:r,width:o}=i,c=e.caretSize+e.caretPadding;if(n==="left"&&r+o+c>t.width||n==="right"&&r-o-c<0)return!0}function Z3(n,t,e,i){const{x:r,width:o}=e,{width:c,chartArea:{left:h,right:d}}=n;let g="center";return i==="center"?g=r<=(h+d)/2?"left":"right":r<=o/2?g="left":r>=c-o/2&&(g="right"),K3(g,n,t,e)&&(g="center"),g}function gS(n,t,e){const i=e.yAlign||t.yAlign||Q3(n,e);return{xAlign:e.xAlign||t.xAlign||Z3(n,t,e,i),yAlign:i}}function J3(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function t5(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function mS(n,t,e,i){const{caretSize:r,caretPadding:o,cornerRadius:c}=n,{xAlign:h,yAlign:d}=e,g=r+o,{topLeft:y,topRight:b,bottomLeft:x,bottomRight:E}=ol(c);let N=J3(t,h);const k=t5(t,d,g);return d==="center"?h==="left"?N+=g:h==="right"&&(N-=g):h==="left"?N-=Math.max(y,x)+r:h==="right"&&(N+=Math.max(b,E)+r),{x:Mn(N,0,i.width-t.width),y:Mn(k,0,i.height-t.height)}}function Hd(n,t,e){const i=ai(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function pS(n){return Vi([],As(n))}function e5(n,t,e){return Al(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function yS(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const cC={beforeTitle:Ts,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Ts,beforeBody:Ts,beforeLabel:Ts,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Se(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Ts,afterBody:Ts,beforeFooter:Ts,footer:Ts,afterFooter:Ts};function Cn(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?cC[t].call(e,i):r}class _S extends eo{static positioners=Jc;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,o=new $T(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=e5(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=Cn(i,"beforeTitle",this,t),o=Cn(i,"title",this,t),c=Cn(i,"afterTitle",this,t);let h=[];return h=Vi(h,As(r)),h=Vi(h,As(o)),h=Vi(h,As(c)),h}getBeforeBody(t,e){return pS(Cn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return ee(t,o=>{const c={before:[],lines:[],after:[]},h=yS(i,o);Vi(c.before,As(Cn(h,"beforeLabel",this,o))),Vi(c.lines,Cn(h,"label",this,o)),Vi(c.after,As(Cn(h,"afterLabel",this,o))),r.push(c)}),r}getAfterBody(t,e){return pS(Cn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=Cn(i,"beforeFooter",this,t),o=Cn(i,"footer",this,t),c=Cn(i,"afterFooter",this,t);let h=[];return h=Vi(h,As(r)),h=Vi(h,As(o)),h=Vi(h,As(c)),h}_createItems(t){const e=this._active,i=this.chart.data,r=[],o=[],c=[];let h=[],d,g;for(d=0,g=e.length;d<g;++d)h.push(X3(this.chart,e[d]));return t.filter&&(h=h.filter((y,b,x)=>t.filter(y,b,x,i))),t.itemSort&&(h=h.sort((y,b)=>t.itemSort(y,b,i))),ee(h,y=>{const b=yS(t.callbacks,y);r.push(Cn(b,"labelColor",this,y)),o.push(Cn(b,"labelPointStyle",this,y)),c.push(Cn(b,"labelTextColor",this,y))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=h,h}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let o,c=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const h=Jc[i.position].call(this,r,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const d=this._size=fS(this,i),g=Object.assign({},h,d),y=gS(this.chart,i,g),b=mS(i,g,y,this.chart);this.xAlign=y.xAlign,this.yAlign=y.yAlign,o={opacity:1,x:b.x,y:b.y,width:d.width,height:d.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const o=this.getCaretPosition(t,i,r);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:o}=this,{caretSize:c,cornerRadius:h}=i,{topLeft:d,topRight:g,bottomLeft:y,bottomRight:b}=ol(h),{x,y:E}=t,{width:N,height:k}=e;let M,P,G,K,nt,Z;return o==="center"?(nt=E+k/2,r==="left"?(M=x,P=M-c,K=nt+c,Z=nt-c):(M=x+N,P=M+c,K=nt-c,Z=nt+c),G=M):(r==="left"?P=x+Math.max(d,y)+c:r==="right"?P=x+N-Math.max(g,b)-c:P=this.caretX,o==="top"?(K=E,nt=K-c,M=P-c,G=P+c):(K=E+k,nt=K+c,M=P+c,G=P-c),Z=K),{x1:M,x2:P,x3:G,y1:K,y2:nt,y3:Z}}drawTitle(t,e,i){const r=this.title,o=r.length;let c,h,d;if(o){const g=ll(i.rtl,this.x,this.width);for(t.x=Hd(this,i.titleAlign,i),e.textAlign=g.textAlign(i.titleAlign),e.textBaseline="middle",c=gn(i.titleFont),h=i.titleSpacing,e.fillStyle=i.titleColor,e.font=c.string,d=0;d<o;++d)e.fillText(r[d],g.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+h,d+1===o&&(t.y+=i.titleMarginBottom-h)}}_drawColorBox(t,e,i,r,o){const c=this.labelColors[i],h=this.labelPointStyles[i],{boxHeight:d,boxWidth:g}=o,y=gn(o.bodyFont),b=Hd(this,"left",o),x=r.x(b),E=d<y.lineHeight?(y.lineHeight-d)/2:0,N=e.y+E;if(o.usePointStyle){const k={radius:Math.min(g,d)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},M=r.leftForLtr(x,g)+g/2,P=N+d/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,j1(t,k,M,P),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,j1(t,k,M,P)}else{t.lineWidth=Bt(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const k=r.leftForLtr(x,g),M=r.leftForLtr(r.xPlus(x,1),g-2),P=ol(c.borderRadius);Object.values(P).some(G=>G!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Lf(t,{x:k,y:N,w:g,h:d,radius:P}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),Lf(t,{x:M,y:N+1,w:g-2,h:d-2,radius:P}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(k,N,g,d),t.strokeRect(k,N,g,d),t.fillStyle=c.backgroundColor,t.fillRect(M,N+1,g-2,d-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:o,bodyAlign:c,displayColors:h,boxHeight:d,boxWidth:g,boxPadding:y}=i,b=gn(i.bodyFont);let x=b.lineHeight,E=0;const N=ll(i.rtl,this.x,this.width),k=function(C){e.fillText(C,N.x(t.x+E),t.y+x/2),t.y+=x+o},M=N.textAlign(c);let P,G,K,nt,Z,lt,O;for(e.textAlign=c,e.textBaseline="middle",e.font=b.string,t.x=Hd(this,M,i),e.fillStyle=i.bodyColor,ee(this.beforeBody,k),E=h&&M!=="right"?c==="center"?g/2+y:g+2+y:0,nt=0,lt=r.length;nt<lt;++nt){for(P=r[nt],G=this.labelTextColors[nt],e.fillStyle=G,ee(P.before,k),K=P.lines,h&&K.length&&(this._drawColorBox(e,t,nt,N,i),x=Math.max(b.lineHeight,d)),Z=0,O=K.length;Z<O;++Z)k(K[Z]),x=b.lineHeight;ee(P.after,k)}E=0,x=b.lineHeight,ee(this.afterBody,k),t.y-=o}drawFooter(t,e,i){const r=this.footer,o=r.length;let c,h;if(o){const d=ll(i.rtl,this.x,this.width);for(t.x=Hd(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=d.textAlign(i.footerAlign),e.textBaseline="middle",c=gn(i.footerFont),e.fillStyle=i.footerColor,e.font=c.string,h=0;h<o;++h)e.fillText(r[h],d.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:o,yAlign:c}=this,{x:h,y:d}=t,{width:g,height:y}=i,{topLeft:b,topRight:x,bottomLeft:E,bottomRight:N}=ol(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(h+b,d),c==="top"&&this.drawCaret(t,e,i,r),e.lineTo(h+g-x,d),e.quadraticCurveTo(h+g,d,h+g,d+x),c==="center"&&o==="right"&&this.drawCaret(t,e,i,r),e.lineTo(h+g,d+y-N),e.quadraticCurveTo(h+g,d+y,h+g-N,d+y),c==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(h+E,d+y),e.quadraticCurveTo(h,d+y,h,d+y-E),c==="center"&&o==="left"&&this.drawCaret(t,e,i,r),e.lineTo(h,d+b),e.quadraticCurveTo(h,d,h+b,d),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const c=Jc[t.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=fS(this,t),d=Object.assign({},c,this._size),g=gS(e,t,d),y=mS(t,d,g,e);(r._to!==y.x||o._to!==y.y)&&(this.xAlign=g.xAlign,this.yAlign=g.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,y))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=ai(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,r,e),YT(t,e.textDirection),o.y+=c.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),GT(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:h,index:d})=>{const g=this.chart.getDatasetMeta(h);if(!g)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:g.data[d],index:d}}),o=!Rf(i,r),c=this._positionChanged(r,e);(o||c)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],c=this._getActiveElements(t,o,e,i),h=this._positionChanged(c,t),d=e||!Rf(c,o)||h;return d&&(this._active=c,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),d}_getActiveElements(t,e,i,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&c.reverse(),c}_positionChanged(t,e){const{caretX:i,caretY:r,options:o}=this,c=Jc[o.position].call(this,t,e);return c!==!1&&(i!==c.x||r!==c.y)}}var n5={id:"tooltip",_element:_S,positioners:Jc,afterInit(n,t,e){e&&(n.tooltip=new _S({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:cC},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const i5=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function s5(n,t,e,i){const r=n.indexOf(t);if(r===-1)return i5(n,t,e,i);const o=n.lastIndexOf(t);return r!==o?e:r}const r5=(n,t)=>n===null?null:Mn(Math.round(n),0,t);function vS(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class a5 extends Nl{static id="category";static defaults={ticks:{callback:vS}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:o}of e)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Se(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:s5(i,t,Gt(e,t),this._addedLabels),r5(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=t;c<=e;c++)r.push({value:c});return r}getLabelForValue(t){return vS.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function o5(n,t){const e=[],{bounds:r,step:o,min:c,max:h,precision:d,count:g,maxTicks:y,maxDigits:b,includeBounds:x}=n,E=o||1,N=y-1,{min:k,max:M}=t,P=!Se(c),G=!Se(h),K=!Se(g),nt=(M-k)/(b+1);let Z=C1((M-k)/N/E)*E,lt,O,C,R;if(Z<1e-14&&!P&&!G)return[{value:k},{value:M}];R=Math.ceil(M/Z)-Math.floor(k/Z),R>N&&(Z=C1(R*Z/N/E)*E),Se(d)||(lt=Math.pow(10,d),Z=Math.ceil(Z*lt)/lt),r==="ticks"?(O=Math.floor(k/Z)*Z,C=Math.ceil(M/Z)*Z):(O=k,C=M),P&&G&&o&&oL((h-c)/o,Z/1e3)?(R=Math.round(Math.min((h-c)/Z,y)),Z=(h-c)/R,O=c,C=h):K?(O=P?c:O,C=G?h:C,R=g-1,Z=(C-O)/R):(R=(C-O)/Z,Zd(R,Math.round(R),Z/1e3)?R=Math.round(R):R=Math.ceil(R));const I=Math.max(A1(Z),A1(O));lt=Math.pow(10,Se(d)?I:d),O=Math.round(O*lt)/lt,C=Math.round(C*lt)/lt;let L=0;for(P&&(x&&O!==c?(e.push({value:c}),O<c&&L++,Zd(Math.round((O+L*Z)*lt)/lt,c,bS(c,nt,n))&&L++):O<c&&L++);L<R;++L){const z=Math.round((O+L*Z)*lt)/lt;if(G&&z>h)break;e.push({value:z})}return G&&x&&C!==h?e.length&&Zd(e[e.length-1].value,h,bS(h,nt,n))?e[e.length-1].value=h:e.push({value:h}):(!G||C===h)&&e.push({value:C}),e}function bS(n,t,{horizontal:e,minRotation:i}){const r=Is(i),o=(e?Math.sin(r):Math.cos(r))||.001,c=.75*t*(""+n).length;return Math.min(t/o,c)}class l5 extends Nl{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Se(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const c=d=>r=e?r:d,h=d=>o=i?o:d;if(t){const d=Df(r),g=Df(o);d<0&&g<0?h(0):d>0&&g>0&&c(0)}if(r===o){let d=o===0?1:Math.abs(o*.05);h(o+d),t||c(r-d)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,c=o5(r,o);return t.bounds==="ticks"&&lL(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return n0(t,this.chart.options.locale,this.options.ticks.format)}}class c5 extends l5{static id="linear";static defaults={ticks:{callback:UT.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ri(t)?t:0,this.max=ri(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Is(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const yg={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Nn=Object.keys(yg);function xS(n,t){return n-t}function wS(n,t){if(Se(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let c=t;return typeof i=="function"&&(c=i(c)),ri(c)||(c=typeof i=="string"?e.parse(c,i):e.parse(c)),c===null?null:(r&&(c=r==="week"&&(If(o)||o===!0)?e.startOf(c,"isoWeek",o):e.startOf(c,r)),+c)}function SS(n,t,e,i){const r=Nn.length;for(let o=Nn.indexOf(n);o<r-1;++o){const c=yg[Nn[o]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((e-t)/(h*c.size))<=i)return Nn[o]}return Nn[r-1]}function u5(n,t,e,i,r){for(let o=Nn.length-1;o>=Nn.indexOf(e);o--){const c=Nn[o];if(yg[c].common&&n._adapter.diff(r,i,c)>=t-1)return c}return Nn[e?Nn.indexOf(e):0]}function h5(n){for(let t=Nn.indexOf(n)+1,e=Nn.length;t<e;++t)if(yg[Nn[t]].common)return Nn[t]}function ES(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=t0(e,t),o=e[i]>=t?e[i]:e[r];n[o]=!0}}function d5(n,t,e,i){const r=n._adapter,o=+r.startOf(t[0].value,i),c=t[t.length-1].value;let h,d;for(h=o;h<=c;h=+r.add(h,1,i))d=e[h],d>=0&&(t[d].major=!0);return t}function TS(n,t,e){const i=[],r={},o=t.length;let c,h;for(c=0;c<o;++c)h=t[c],r[h]=c,i.push({value:h,major:!1});return o===0||!e?i:d5(n,i,r,e)}class CS extends Nl{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new vP._date(t.adapters.date);r.init(e),fu(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:wS(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:o,minDefined:c,maxDefined:h}=this.getUserBounds();function d(g){!c&&!isNaN(g.min)&&(r=Math.min(r,g.min)),!h&&!isNaN(g.max)&&(o=Math.max(o,g.max))}(!c||!h)&&(d(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&d(this.getMinMax(!1))),r=ri(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),o=ri(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,c=this.max,h=fL(r,o,c);return this._unit=e.unit||(i.autoSkip?SS(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):u5(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:h5(this._unit),this.initOffsets(r),t.reverse&&h.reverse(),TS(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;e=Mn(e,0,c),i=Mn(i,0,c),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,o=r.time,c=o.unit||SS(o.minUnit,e,i,this._getLabelCapacity(e)),h=Gt(r.ticks.stepSize,1),d=c==="week"?o.isoWeekday:!1,g=If(d)||d===!0,y={};let b=e,x,E;if(g&&(b=+t.startOf(b,"isoWeek",d)),b=+t.startOf(b,g?"day":c),t.diff(i,e,c)>1e5*h)throw new Error(e+" and "+i+" are too far apart with stepSize of "+h+" "+c);const N=r.ticks.source==="data"&&this.getDataTimestamps();for(x=b,E=0;x<i;x=+t.add(x,h,c),E++)ES(y,x,N);return(x===i||r.bounds==="ticks"||E===1)&&ES(y,x,N),Object.keys(y).sort(xS).map(k=>+k)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,o=this._unit,c=e||r[o];return this._adapter.format(t,c)}_tickFormatFunction(t,e,i,r){const o=this.options,c=o.ticks.callback;if(c)return ge(c,[t,e,i],this);const h=o.time.displayFormats,d=this._unit,g=this._majorUnit,y=d&&h[d],b=g&&h[g],x=i[e],E=g&&b&&x&&x.major;return this._adapter.format(t,r||(E?b:y))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=Is(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(r),c=Math.sin(r),h=this._resolveTickFontOptions(0).size;return{w:i*o+h*c,h:i*c+h*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,TS(this,[t],this._majorUnit),r),c=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(wS(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return mL(t.sort(xS))}}function Fd(n,t,e){let i=0,r=n.length-1,o,c,h,d;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=My(n,"pos",t)),{pos:o,time:h}=n[i],{pos:c,time:d}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=My(n,"time",t)),{time:o,pos:h}=n[i],{time:c,pos:d}=n[r]);const g=c-o;return g?h+(d-h)*(t-o)/g:h}class oU extends CS{static id="timeseries";static defaults=CS.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Fd(e,this.min),this._tableRange=Fd(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],o=[];let c,h,d,g,y;for(c=0,h=t.length;c<h;++c)g=t[c],g>=e&&g<=i&&r.push(g);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(c=0,h=r.length;c<h;++c)y=r[c+1],d=r[c-1],g=r[c],Math.round((y+d)/2)!==g&&o.push({time:g,pos:c/(h-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Fd(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Fd(this._table,i*this._tableRange+this._minPos,!0)}}const uC="label";function AS(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function f5(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function hC(n,t){n.labels=t}function dC(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:uC;const i=[];n.datasets=t.map(r=>{const o=n.datasets.find(c=>c[e]===r[e]);return!o||!r.data||i.includes(o)?{...r}:(i.push(o),Object.assign(o,r),o)})}function g5(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:uC;const e={labels:[],datasets:[]};return hC(e,n.labels),dC(e,n.datasets,t),e}function m5(n,t){const{height:e=150,width:i=300,redraw:r=!1,datasetIdKey:o,type:c,data:h,options:d,plugins:g=[],fallbackContent:y,updateMode:b,...x}=n,E=B.useRef(null),N=B.useRef(null),k=()=>{E.current&&(N.current=new pg(E.current,{type:c,data:g5(h,o),options:d&&{...d},plugins:g}),AS(t,N.current))},M=()=>{AS(t,null),N.current&&(N.current.destroy(),N.current=null)};return B.useEffect(()=>{!r&&N.current&&d&&f5(N.current,d)},[r,d]),B.useEffect(()=>{!r&&N.current&&hC(N.current.config.data,h.labels)},[r,h.labels]),B.useEffect(()=>{!r&&N.current&&h.datasets&&dC(N.current.config.data,h.datasets,o)},[r,h.datasets]),B.useEffect(()=>{N.current&&(r?(M(),setTimeout(k)):N.current.update(b))},[r,d,h.labels,h.datasets,b]),B.useEffect(()=>{N.current&&(M(),setTimeout(k))},[c]),B.useEffect(()=>(k(),()=>M()),[]),js.createElement("canvas",{ref:E,role:"img",height:e,width:i,...x},y)}const p5=B.forwardRef(m5);function y5(n,t){return pg.register(t),B.forwardRef((e,i)=>js.createElement(p5,{...e,ref:i,type:n}))}const _5=y5("pie",_P);var fC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},NS=js.createContext&&js.createContext(fC),v5=["attr","size","title"];function b5(n,t){if(n==null)return{};var e=x5(n,t),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)i=o[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function x5(n,t){if(n==null)return{};var e={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function Bf(){return Bf=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Bf.apply(this,arguments)}function RS(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Hf(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?RS(Object(e),!0).forEach(function(i){w5(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):RS(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function w5(n,t,e){return t=S5(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function S5(n){var t=E5(n,"string");return typeof t=="symbol"?t:t+""}function E5(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function gC(n){return n&&n.map((t,e)=>js.createElement(t.tag,Hf({key:e},t.attr),gC(t.child)))}function It(n){return t=>js.createElement(T5,Bf({attr:Hf({},n.attr)},t),gC(n.child))}function T5(n){var t=e=>{var{attr:i,size:r,title:o}=n,c=b5(n,v5),h=r||e.size||"1em",d;return e.className&&(d=e.className),n.className&&(d=(d?d+" ":"")+n.className),js.createElement("svg",Bf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,i,c,{className:d,style:Hf(Hf({color:n.color||e.color},e.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&js.createElement("title",null,o),n.children)};return NS!==void 0?js.createElement(NS.Consumer,null,e=>t(e)):t(fC)}function C5(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(n)}function A5(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(n)}function Zu(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(n)}function jy(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"7"},child:[]},{tag:"polyline",attr:{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"},child:[]}]})(n)}function N5(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(n)}function R5(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"},child:[]},{tag:"path",attr:{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"},child:[]}]})(n)}function kS(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"},child:[]},{tag:"path",attr:{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"},child:[]}]})(n)}function Ff(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"},child:[]}]})(n)}function tu(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(n)}function k5(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(n)}function M5(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(n)}function d0(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(n)}function O5(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(n)}function D5(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(n)}function I5(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(n)}function j5(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(n)}function mC(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(n)}function Vf(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(n)}function f0(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(n)}function g0(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(n)}function _g(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(n)}function pu(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(n)}function L5(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},child:[]}]})(n)}function pC(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(n)}function MS(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(n)}function yC(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(n)}function P5(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(n)}function U5(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"},child:[]},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"},child:[]}]})(n)}function z5(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"},child:[]}]})(n)}function B5(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(n)}function H5(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(n)}function Ur(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(n)}function _C(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(n)}function eu(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(n)}function F5(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(n)}function ef(n){return It({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M32,224H64V416H32A31.96166,31.96166,0,0,1,0,384V256A31.96166,31.96166,0,0,1,32,224Zm512-48V448a64.06328,64.06328,0,0,1-64,64H160a64.06328,64.06328,0,0,1-64-64V176a79.974,79.974,0,0,1,80-80H288V32a32,32,0,0,1,64,0V96H464A79.974,79.974,0,0,1,544,176ZM264,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,264,256Zm-8,128H192v32h64Zm96,0H288v32h64ZM456,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,456,256Zm-8,128H384v32h64ZM640,256V384a31.96166,31.96166,0,0,1-32,32H576V224h32A31.96166,31.96166,0,0,1,640,256Z"},child:[]}]})(n)}const OS=({question:n,currentUser:t,darkMode:e,onAnswerSubmit:i,onRequestAiHelp:r})=>{const[o,c]=B.useState(!1),[h,d]=B.useState(!1),[g,y]=B.useState(""),[b,x]=B.useState(!1),[E,N]=B.useState([]),[k,M]=B.useState(!1),[P,G]=B.useState(n.views||0),[K,nt]=B.useState(!1),[Z,lt]=B.useState([]),[O,C]=B.useState(!1),[R,I]=B.useState(null);B.useEffect(()=>{(async()=>{try{await xi(ce(db,`questions/${n.id}`),{views:_1(1)}),G(ot=>ot+1)}catch(ot){console.error("Error updating views:",ot)}})()},[n.id]),B.useEffect(()=>{if(!h)return;M(!0);const F=d6(ce(xe,"answers"),c6("questionId"),h6(n.id)),ot=gi(F,gt=>{const U=gt.val(),it=[];U&&(Object.entries(U).forEach(([ct,rt])=>{it.push({id:ct,content:rt.content,createdAt:rt.createdAt,questionId:rt.questionId,userDisplayName:rt.userDisplayName||"Anonymous",userId:rt.userId,upvotes:rt.upvotes||0})}),it.sort((ct,rt)=>rt.createdAt-ct.createdAt)),N(it),M(!1)},gt=>{console.error("Error fetching answers:",gt),M(!1)});return()=>ot()},[h,n.id]);const L=F=>{if(!F)return"Just now";const ot=new Date(typeof F=="object"&&F.seconds?F.seconds*1e3:F);return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(ot)},z=async F=>{if(F.preventDefault(),!(!g.trim()||!t))try{c(!1);const ot=await i(n.id,g);y(""),ot>0&&I(Math.min(10,Math.floor(ot/2)))}catch(ot){console.error("Error submitting answer:",ot)}},D=async()=>{if(t)try{const F=ce(db,`users/${t.uid}/bookmarks/${n.id}`);newBookmarkState?await al(F,{timestamp:du(),questionId:n.id}):await al(F,null)}catch(F){console.error("Error updating bookmark:",F),x(!b)}},Tt=async F=>{if(t)try{await xi(ce(db,`answers/${F}/upvotes`),_1(1)),await al(ce(db,`users/${t.uid}/upvotes/${F}`),{timestamp:du()})}catch(ot){console.error("Error upvoting answer:",ot)}},mt=async()=>{if(g.trim()){nt(!0);try{await new Promise(ot=>setTimeout(ot,800));const F=["Consider adding more context about: "+g.split(" ").slice(0,3).join(" "),"A relevant example might help clarify your point","Have you considered mentioning alternative approaches?","Could you break this down into simpler steps?"];lt(F),C(!0)}catch(F){console.error("Error getting AI suggestions:",F)}finally{nt(!1)}}},$=F=>{y(ot=>`${ot}

• ${F}`),C(!1)};return _.jsxs("div",{className:`question-card ${n.answered?"answered":""} ${e?"dark":""}`,children:[_.jsxs("div",{className:"question-header",children:[_.jsxs("div",{className:"question-meta",children:[_.jsx("span",{className:`subject-badge ${n.subject?.toLowerCase()}`,children:n.subject}),_.jsxs("span",{className:"asked-by",children:[_.jsx(Ur,{className:"icon"}),n.userDisplayName||"Anonymous"]}),_.jsxs("span",{className:"timestamp",children:[_.jsx(d0,{className:"icon"}),L(n.createdAt)]})]}),n.answered&&_.jsxs("div",{className:"answered-badge",children:[_.jsx(tu,{className:"icon"}),"Answered"]})]}),_.jsx("h3",{className:"question-title",children:_.jsx(te,{to:`/question/${n.id}`,children:n.title})}),n.aiOptimized&&_.jsxs("div",{className:"ai-optimized-badge",children:[_.jsx(ef,{className:"mr-1"}),"AI-Enhanced"]}),_.jsxs("div",{className:"question-stats",children:[_.jsxs("span",{className:"stat",children:[_.jsx(pu,{className:"icon"}),n.answerCount||0," answers"]}),_.jsxs("span",{className:"stat",children:[_.jsx(I5,{className:"icon"}),P," views"]})]}),n.answerCount>0&&_.jsx("div",{className:"answers-toggle",children:_.jsx("button",{onClick:()=>d(!h),className:"toggle-btn",children:h?_.jsxs(_.Fragment,{children:[_.jsx(M5,{className:"icon"}),"Hide Answers"]}):_.jsxs(_.Fragment,{children:[_.jsx(k5,{className:"icon"}),"Show Answers (",n.answerCount,")"]})})}),h&&_.jsx("div",{className:"answers-list",children:k?_.jsx("div",{className:"loading",children:"Loading answers..."}):E.length>0?E.map(F=>_.jsxs("div",{className:"answer",children:[_.jsxs("div",{className:"answer-header",children:[_.jsxs("span",{className:"author",children:[_.jsx(Ur,{className:"icon"}),F.userDisplayName]}),_.jsx("span",{className:"date",children:L(F.createdAt)})]}),_.jsx("div",{className:"answer-content",children:F.content}),_.jsx("div",{className:"answer-footer",children:_.jsxs("button",{onClick:()=>Tt(F.id),className:"upvote-btn",children:[_.jsx(z5,{className:"icon"}),F.upvotes," upvotes"]})})]},F.id)):_.jsxs("div",{className:"no-answers",children:["No answers yet",_.jsxs("div",{className:"debug-info",children:["Question ID: ",n.id,_.jsx("br",{}),"Expected answers: ",n.answerCount]})]})}),t&&_.jsx("div",{className:"answer-section",children:o?_.jsxs("form",{onSubmit:z,className:"answer-form",children:[_.jsx("textarea",{value:g,onChange:F=>y(F.target.value),placeholder:"Write your detailed answer here...",rows:4,required:!0}),O&&_.jsxs("div",{className:"ai-suggestions",children:[_.jsx("h4",{children:"AI Suggestions"}),_.jsx("ul",{children:Z.map((F,ot)=>_.jsx("li",{onClick:()=>$(F),children:F},ot))})]}),_.jsxs("div",{className:"form-actions",children:[_.jsxs("div",{className:"left-actions",children:[_.jsx("button",{type:"button",onClick:()=>c(!1),className:"cancel-btn",children:"Cancel"}),_.jsx("button",{type:"button",onClick:mt,disabled:K||!g.trim(),className:"ai-help-btn",children:K?"Thinking...":"Get AI Help"})]}),_.jsx("button",{type:"submit",disabled:!g.trim(),className:"submit-btn",children:"Post Answer"})]})]}):_.jsxs("div",{className:"answer-prompt",children:[_.jsxs("button",{onClick:()=>c(!0),className:"add-answer-btn",children:[_.jsx(D5,{className:"icon"}),"Add Your Answer"]}),_.jsxs("button",{onClick:()=>r(n.id,n.title),className:"ai-hint-btn",children:[_.jsx(Vf,{className:"icon"}),"Need Help?"]})]})}),_.jsxs("div",{className:"question-footer",children:[_.jsxs("button",{onClick:D,className:`bookmark-btn ${b?"active":""}`,children:[_.jsx(Ff,{className:"icon"}),b?"Bookmarked":"Bookmark"]}),R&&_.jsxs("div",{className:"quality-indicator",children:[_.jsx("span",{children:"Answer Quality:"}),_.jsx("div",{className:"quality-meter",children:[...Array(10)].map((F,ot)=>_.jsx("div",{className:`bar ${ot<R?"filled":""}`},ot))})]})]})]})};pg.register(a5,c5,B3,$3,n5,Y3,I3);const Yc=(n=1)=>({".sv":{increment:n}});function DS(){const[n]=fg(we),t=Ki(),{darkMode:e}=Gf(),[i,r]=B.useState([]),[o,c]=B.useState([]),[h,d]=B.useState([]),[g,y]=B.useState([]),[b,x]=B.useState(null),[E,N]=B.useState([]),[k,M]=B.useState(""),[P,G]=B.useState(""),[K,nt]=B.useState("all"),[Z,lt]=B.useState(!1),[O,C]=B.useState({totalQuestions:0,totalAnswers:0,answerRate:0,subjectDistribution:{}}),[R,I]=B.useState([]),[L,z]=B.useState(!1),[D,Tt]=B.useState(!1),[mt,$]=B.useState("");B.useEffect(()=>{const tt=ce(xe,"questions"),St=gi(tt,Et=>{const Te=Et.val();if(Te){const Wt=Object.entries(Te).map(([ie,$t])=>({id:ie,...$t}));r(Wt);const me=Wt.reduce((ie,$t)=>(ie[$t.subject]=(ie[$t.subject]||0)+1,ie),{}),Be=Wt.filter(ie=>ie.answered).length;C(ie=>({...ie,totalQuestions:Wt.length,totalAnswers:Wt.reduce(($t,Vr)=>$t+(Vr.answerCount||0),0),answerRate:Wt.length>0?Math.round(Be/Wt.length*100):0,subjectDistribution:me}))}});return()=>St()},[]),B.useEffect(()=>{const tt=ce(xe,"questions"),St=gi(tt,Et=>{const Te=Et.val();if(Te){const Wt=Object.entries(Te).map(([me,Be])=>({id:me,...Be})).sort((me,Be)=>(Be.engagementScore||0)-(me.engagementScore||0)).slice(0,5);c(Wt)}});return()=>St()},[]),B.useEffect(()=>{if(n){const tt=ce(xe,`users/${n.uid}/stats`);gi(tt,Wt=>{x(Wt.val())});const St=ce(xe,`users/${n.uid}/recentlyViewed`);gi(St,Wt=>{const me=Wt.val();if(me){const Be=Object.entries(me).map(([ie,$t])=>({id:ie,...$t,viewedAt:$t.timestamp})).sort((ie,$t)=>$t.viewedAt-ie.viewedAt);d(Be)}});const Et=ce(xe,`users/${n.uid}/bookmarks`);gi(Et,Wt=>{const me=Wt.val();if(me){const Be=Object.entries(me).map(([ie,$t])=>({id:ie,...$t,bookmarkedAt:$t.timestamp}));y(Be)}});const Te=ce(xe,"users");gi(Te,Wt=>{const me=Wt.val();if(me){const Be=Object.entries(me).filter(([ie,$t])=>$t.stats?.points>0).map(([ie,$t])=>({id:ie,...$t.profile,points:$t.stats?.points||0})).sort((ie,$t)=>$t.points-ie.points).slice(0,5);N(Be)}})}},[n]);const F=async()=>{if(P.trim()){z(!0);try{await new Promise(tt=>setTimeout(tt,1e3)),I(["Consider adding more details about what you've tried","Specify which part you're struggling with","Adding an example would help others understand","Have you checked similar questions?"])}catch(tt){console.error("Error getting AI suggestions:",tt)}finally{z(!1)}}},ot=async(tt,St)=>{Tt(!0);try{const Et=["This question seems to be about understanding the core concept rather than a specific calculation","A good approach would be to break down the problem into smaller steps","Consider explaining the fundamental principles involved","Visual aids or diagrams might help in explaining this concept"];await new Promise(Te=>setTimeout(Te,800)),$(Et[Math.floor(Math.random()*Et.length)])}catch(Et){console.error("Error getting AI hint:",Et),$("Couldn't generate a hint at this time. Please try again later.")}},gt=async tt=>{if(tt.preventDefault(),!(!P.trim()||!n))try{const St=y1(ce(xe,"questions")),Et={id:St.key,title:P.trim(),subject:K,userId:n.uid,userDisplayName:n.displayName||"Anonymous",createdAt:du(),answered:!1,engagementScore:0,answerCount:0,aiOptimized:R.length>0,views:0};await al(St,Et),await xi(ce(xe,`users/${n.uid}/stats`),{questions:Yc(1)}),G(""),I([])}catch(St){console.error("Error submitting question:",St)}},U=async(tt,St)=>{if(!(!n||!St.trim()))try{const Et=y1(ce(xe,"answers")),Te={id:Et.key,questionId:tt,content:St.trim(),userId:n.uid,userDisplayName:n.displayName||"Anonymous",createdAt:du(),upvotes:0};await al(Et,Te),await xi(ce(xe,`questions/${tt}`),{answerCount:Yc(1),answered:!0,lastAnsweredAt:du()});const Wt=Math.floor(Math.random()*20)+5;return await xi(ce(xe,`users/${n.uid}/stats`),{answers:Yc(1),points:Yc(Wt),...Wt>15&&{bestAnswers:Yc(1)}}),Wt}catch(Et){return console.error("Error submitting answer:",Et),0}},it=i.filter(tt=>(K==="all"||tt.subject===K)&&tt.title.toLowerCase().includes(k.toLowerCase())),ct=async()=>{try{await GE(we),t("/login")}catch(tt){console.error("Logout error:",tt)}},rt=()=>_.jsxs("div",{className:"card",children:[_.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[_.jsx(N5,{className:"mr-2 text-primary"}),_.jsx("span",{children:"Community Stats"})]}),_.jsxs("div",{className:"stats-grid",children:[_.jsxs("div",{className:"stats-item",children:[_.jsx("div",{className:"text-sm font-medium mb-1",children:"Total Questions"}),_.jsx("div",{className:"text-2xl font-bold",children:O.totalQuestions})]}),_.jsxs("div",{className:"stats-item",children:[_.jsx("div",{className:"text-sm font-medium mb-1",children:"Total Answers"}),_.jsx("div",{className:"text-2xl font-bold",children:O.totalAnswers})]}),_.jsxs("div",{className:"stats-item",children:[_.jsx("div",{className:"text-sm font-medium mb-1",children:"Answer Rate"}),_.jsxs("div",{className:"text-2xl font-bold",children:[O.answerRate,"%"]})]})]}),_.jsxs("div",{children:[_.jsx("h4",{className:"text-sm font-medium mb-2",children:"Topic Distribution"}),_.jsx("div",{className:"chart-container",children:_.jsx(_5,{data:{labels:Object.keys(O.subjectDistribution),datasets:[{data:Object.values(O.subjectDistribution),backgroundColor:["#06b6d4","#3b82f6","#8b5cf6","#ec4899","#f97316"],borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{color:e?"#fff":"#333"}}}}})})]})]}),dt=()=>_.jsxs("div",{className:"card",children:[_.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[_.jsx(_C,{className:"mr-2 text-primary"}),_.jsx("span",{children:"Top Contributors"})]}),_.jsx("div",{className:"space-y-3",children:E.map((tt,St)=>_.jsx(te,{to:`/profile/${tt.id}`,className:"block hover:opacity-80 transition-opacity",children:_.jsxs("div",{className:"expert-item",children:[_.jsxs("span",{className:"w-6 text-center mr-2 font-medium",children:[St+1,"."]}),_.jsx("div",{className:"expert-avatar",children:tt.displayName?.charAt(0)||"E"}),_.jsxs("div",{className:"flex-1",children:[_.jsx("div",{className:"font-medium",children:tt.displayName||"Expert"}),_.jsxs("div",{className:"text-sm text-secondary",children:[tt.points||0," points"]})]}),_.jsx("div",{className:"expert-badge",children:_.jsx(jy,{className:"text-yellow-500"})})]})},tt.id))})]}),yt=()=>_.jsxs("div",{className:"card",children:[_.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[_.jsx(C5,{className:"mr-2 text-primary"}),_.jsx("span",{children:"Your Stats"})]}),_.jsxs("div",{className:"stats-grid",children:[_.jsxs("div",{className:"stats-item",children:[_.jsx("div",{className:"text-sm font-medium mb-1",children:"Points"}),_.jsx("div",{className:"text-2xl font-bold text-primary",children:b?.points||0}),_.jsx("div",{className:"text-xs text-secondary",children:"Earned through contributions"})]}),_.jsxs("div",{className:"stats-item",children:[_.jsx("div",{className:"text-sm font-medium mb-1",children:"Questions"}),_.jsx("div",{className:"text-2xl font-bold",children:b?.questions||0}),_.jsx("div",{className:"text-xs text-secondary",children:"Asked"})]}),_.jsxs("div",{className:"stats-item",children:[_.jsx("div",{className:"text-sm font-medium mb-1",children:"Answers"}),_.jsx("div",{className:"text-2xl font-bold",children:b?.answers||0}),_.jsx("div",{className:"text-xs text-secondary",children:"Provided"})]}),_.jsxs("div",{className:"stats-item",children:[_.jsx("div",{className:"text-sm font-medium mb-1",children:"Best Answers"}),_.jsx("div",{className:"text-2xl font-bold",children:b?.bestAnswers||0}),_.jsx("div",{className:"text-xs text-secondary",children:"High-quality solutions"})]})]}),b?.points&&_.jsxs("div",{className:"mt-4",children:[_.jsxs("div",{className:"flex items-center justify-between mb-1",children:[_.jsx("span",{className:"text-sm font-medium",children:"Your Contribution Level"}),_.jsx("span",{className:"text-xs text-primary",children:b.points>100?"Expert":b.points>50?"Advanced":b.points>20?"Intermediate":"Beginner"})]}),_.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:_.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${Math.min(100,b.points)}%`}})})]})]});return _.jsxs("div",{className:`home-container ${e?"dark":""}`,children:[_.jsxs("header",{className:"header",children:[_.jsxs("div",{className:"header-container",children:[_.jsxs(te,{to:"/",className:"logo",children:[_.jsx(F5,{className:"logo-icon"}),"StudiQ"]}),_.jsxs("div",{className:"search-bar desktop-only",children:[_.jsx(MS,{className:"search-icon"}),_.jsx("input",{type:"text",placeholder:"Search for questions...",className:"search-input",value:k,onChange:tt=>M(tt.target.value)})]}),_.jsx("nav",{className:"nav",children:n?_.jsxs("div",{className:"profile-dropdown",children:[_.jsxs("button",{onClick:()=>lt(!Z),className:"profile-button",children:[_.jsx("div",{className:"avatar",children:n.displayName?.charAt(0)||"U"}),_.jsx("span",{className:"display-name",children:n.displayName||"User"})]}),Z&&_.jsxs("div",{className:"dropdown-menu",children:[_.jsxs(te,{to:`/profile/${n.uid}`,className:"dropdown-item",children:[_.jsx(Ur,{className:"dropdown-icon"})," Profile"]}),_.jsxs(te,{to:"/settings",className:"dropdown-item",children:[_.jsx(yC,{className:"dropdown-icon"})," Settings"]}),_.jsxs("button",{onClick:ct,className:"dropdown-item",children:[_.jsx(g0,{className:"dropdown-icon"})," Sign out"]})]})]}):_.jsxs(_.Fragment,{children:[_.jsx(te,{to:"/login",className:"login-link",children:"Log in"}),_.jsx(te,{to:"/signup",className:"signup-button",children:"Sign up"})]})})]}),_.jsx("div",{className:"mobile-search mobile-only",children:_.jsxs("div",{className:"search-bar",children:[_.jsx(MS,{className:"search-icon"}),_.jsx("input",{type:"text",placeholder:"Search for questions...",className:"search-input",value:k,onChange:tt=>M(tt.target.value)})]})})]}),_.jsx("main",{className:"container mx-auto px-4 py-8",children:_.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[_.jsxs("div",{className:"w-full md:w-1/4 space-y-6",children:[_.jsxs("div",{className:"card",children:[_.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[_.jsx(R5,{className:"mr-2 text-primary"}),_.jsx("span",{children:"Topics"})]}),_.jsxs("ul",{className:"space-y-2",children:[_.jsx("li",{children:_.jsx("button",{onClick:()=>nt("all"),className:`subject-item ${K==="all"?"active":""}`,children:"All Topics"})}),["Mathematics","Science","History","Literature","Technology","Arts","Languages"].map(tt=>_.jsx("li",{children:_.jsx("button",{onClick:()=>nt(tt),className:`subject-item ${K===tt?"active":""}`,children:tt})},tt))]})]}),n&&_.jsxs(_.Fragment,{children:[yt(),h.length>0&&_.jsxs("div",{className:"card",children:[_.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[_.jsx(d0,{className:"mr-2 text-primary"}),_.jsx("span",{children:"Recently Viewed"})]}),_.jsx("div",{className:"space-y-3",children:h.slice(0,3).map(tt=>_.jsx(te,{to:`/question/${tt.id}`,className:"question-link text-sm",children:tt.title},tt.id))})]}),g.length>0&&_.jsxs("div",{className:"card",children:[_.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[_.jsx(Ff,{className:"mr-2 text-primary"}),_.jsx("span",{children:"Your Bookmarks"})]}),_.jsx("div",{className:"space-y-3",children:g.slice(0,3).map(tt=>_.jsx(te,{to:`/question/${tt.id}`,className:"question-link text-sm",children:tt.title},tt.id))})]})]})]}),_.jsxs("div",{className:"w-full md:w-2/4 space-y-6",children:[n&&_.jsxs("div",{className:"card",children:[_.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[_.jsx(Vf,{className:"mr-2 text-primary"}),_.jsx("span",{children:"Ask your question"})]}),_.jsxs("form",{onSubmit:gt,children:[_.jsx("textarea",{placeholder:"What concept or problem are you trying to understand? Be as specific as possible...",className:"input question-form",rows:4,value:P,onChange:tt=>G(tt.target.value),onBlur:F,required:!0}),R.length>0&&_.jsxs("div",{className:"ai-suggestions",children:[_.jsxs("div",{className:"flex items-center mb-2",children:[_.jsx(ef,{className:"mr-2 text-blue-500"}),_.jsx("span",{className:"text-sm font-medium",children:"AI Suggestions to Improve Your Question"})]}),_.jsx("ul",{className:"space-y-2",children:R.map((tt,St)=>_.jsxs("li",{className:"text-sm text-secondary",children:["• ",tt]},St))})]}),L&&_.jsxs("div",{className:"text-sm text-secondary flex items-center",children:[_.jsx(ef,{className:"mr-2 animate-pulse"}),"Analyzing your question for improvements..."]}),_.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[_.jsxs("select",{value:K,onChange:tt=>nt(tt.target.value),className:"input py-1 px-3 text-sm",children:[_.jsx("option",{value:"all",children:"All Subjects"}),_.jsx("option",{value:"Mathematics",children:"Mathematics"}),_.jsx("option",{value:"Science",children:"Science"}),_.jsx("option",{value:"History",children:"History"}),_.jsx("option",{value:"Literature",children:"Literature"}),_.jsx("option",{value:"Technology",children:"Technology"}),_.jsx("option",{value:"Arts",children:"Arts"}),_.jsx("option",{value:"Languages",children:"Languages"})]}),_.jsx("button",{type:"submit",className:"btn-primary px-4 py-2",children:"Post Question"})]})]})]}),_.jsxs("div",{className:"card",children:[_.jsxs("div",{className:"flex items-center justify-between mb-6",children:[_.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[_.jsx(B5,{className:"mr-2 text-primary"}),"Trending Questions"]}),_.jsx(te,{to:"/trending",className:"text-sm text-primary hover:underline",children:"View all"})]}),_.jsx("div",{className:"space-y-4",children:o.map(tt=>_.jsx(OS,{question:tt,darkMode:e,currentUser:n,onAnswerSubmit:U,onRequestAiHelp:ot},tt.id))})]}),_.jsxs("div",{className:"card",children:[_.jsxs("div",{className:"flex items-center justify-between mb-6",children:[_.jsx("h2",{className:"text-xl font-semibold",children:"Recent Questions"}),_.jsx(te,{to:"/questions",className:"text-sm text-primary hover:underline",children:"View all"})]}),_.jsx("div",{className:"space-y-4",children:it.slice(0,5).map(tt=>_.jsx(OS,{question:tt,darkMode:e,currentUser:n,onAnswerSubmit:U,onRequestAiHelp:ot},tt.id))})]})]}),_.jsxs("div",{className:"w-full md:w-1/4 space-y-6",children:[dt(),rt(),_.jsxs("div",{className:"card",children:[_.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[_.jsx(P5,{className:"mr-2 text-primary"}),_.jsx("span",{children:"Featured Questions"})]}),_.jsx("div",{className:"space-y-3",children:i.filter(tt=>tt.featured).slice(0,3).map(tt=>_.jsx(te,{to:`/question/${tt.id}`,className:"question-link text-sm",children:tt.title},tt.id))})]}),D&&_.jsxs("div",{className:"card bg-blue-50 border-blue-200",children:[_.jsxs("div",{className:"flex justify-between items-center mb-3",children:[_.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[_.jsx(ef,{className:"mr-2 text-blue-600"}),_.jsx("span",{children:"AI Answer Assistant"})]}),_.jsx("button",{onClick:()=>Tt(!1),className:"text-blue-600 hover:text-blue-800",children:"×"})]}),_.jsxs("div",{className:"text-sm text-blue-800",children:[_.jsx("p",{className:"mb-2",children:"Here's a hint to help you craft a great answer:"}),_.jsx("div",{className:"bg-white p-3 rounded-lg border border-blue-200",children:mt}),_.jsx("p",{className:"mt-3 text-xs",children:"Remember: High-quality answers earn more points! Focus on clarity and depth."})]})]})]})]})})]})}function V5(){const{login:n,googleSignIn:t}=Qu(),[e,i]=B.useState(""),[r,o]=B.useState(""),[c,h]=B.useState(!1),[d,g]=B.useState(""),[y,b]=B.useState(!1),x=Ki(),E=async k=>{k.preventDefault();try{g(""),b(!0),await n(e,r),x("/")}catch(M){g(M.message)}finally{b(!1)}},N=async()=>{try{g(""),b(!0),await t(),x("/")}catch(k){let M=k.message;k.code==="auth/popup-closed-by-user"?M="Google sign-in was canceled":k.code==="auth/account-exists-with-different-credential"&&(M="This email is already registered with another method. Please log in instead."),g(M)}finally{b(!1)}};return _.jsx("div",{className:"login-container",children:_.jsxs("div",{className:"login-card",children:[_.jsxs("div",{className:"login-header",children:[_.jsx(te,{to:"/",className:"back-button",children:_.jsx(Zu,{})}),_.jsx("h1",{children:"Welcome Back"})]}),d&&_.jsx("div",{className:"error-message",children:d}),_.jsxs("form",{onSubmit:E,className:"login-form",children:[_.jsxs("div",{className:"input-group",children:[_.jsx("label",{htmlFor:"email",children:"Email Address"}),_.jsxs("div",{className:"input-wrapper",children:[_.jsx(_g,{className:"input-icon"}),_.jsx("input",{id:"email",type:"email",value:e,onChange:k=>i(k.target.value),placeholder:"your@email.com",required:!0})]})]}),_.jsxs("div",{className:"input-group",children:[_.jsx("label",{htmlFor:"password",children:"Password"}),_.jsxs("div",{className:"input-wrapper",children:[_.jsx(f0,{className:"input-icon"}),_.jsx("input",{id:"password",type:"password",value:r,onChange:k=>o(k.target.value),placeholder:"••••••••",required:!0})]}),_.jsxs("div",{className:"remember-forgot",children:[_.jsxs("label",{className:"remember-me",children:[_.jsx("input",{type:"checkbox",checked:c,onChange:k=>h(k.target.checked)}),"Remember me"]}),_.jsx(te,{to:"/forgot-password",className:"forgot-password",children:"Forgot password?"})]})]}),_.jsx("button",{type:"submit",disabled:y,className:"submit-button",children:y?_.jsxs(_.Fragment,{children:[_.jsx("span",{className:"spinner"}),"Logging in..."]}):"Log In"})]}),_.jsx("div",{className:"divider",children:_.jsx("span",{children:"Or log in with"})}),_.jsxs("button",{onClick:N,disabled:y,className:"google-button",children:[_.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg",alt:"Google logo",className:"google-logo"}),"Google"]}),_.jsxs("div",{className:"signup-link",children:[_.jsx("span",{children:"Don't have an account? "}),_.jsx(te,{to:"/signup",children:"Sign Up"})]})]})})}function q5(){const{signup:n,googleSignIn:t}=Qu(),[e,i]=B.useState(""),[r,o]=B.useState(""),[c,h]=B.useState(""),[d,g]=B.useState(""),[y,b]=B.useState(!1),[x,E]=B.useState(!1),N=Ki(),k=async P=>{P.preventDefault(),b(!0),g("");try{const G=await n(r,c,e);N("/verify-email")}catch(G){g(G.message)}finally{b(!1)}},M=async()=>{try{g(""),E(!0),await t(),N("/profile-setup")}catch(P){let G=P.message;P.code==="auth/account-exists-with-different-credential"&&(G="This email is already registered. Please log in instead."),g(G)}finally{E(!1)}};return _.jsx("div",{className:"signup-container",children:_.jsxs("div",{className:"signup-card",children:[_.jsxs("div",{className:"signup-header",children:[_.jsx(te,{to:"/",className:"back-button",children:_.jsx(Zu,{})}),_.jsx("h1",{children:"Create Account"})]}),d&&_.jsx("div",{className:"error-message",children:d}),_.jsxs("form",{onSubmit:k,className:"signup-form",children:[_.jsxs("div",{className:"input-group",children:[_.jsx("label",{htmlFor:"name",children:"Full Name"}),_.jsxs("div",{className:"input-wrapper",children:[_.jsx(Ur,{className:"input-icon"}),_.jsx("input",{id:"name",type:"text",value:e,onChange:P=>i(P.target.value),placeholder:"Your Name",required:!0})]})]}),_.jsxs("div",{className:"input-group",children:[_.jsx("label",{htmlFor:"email",children:"Email Address"}),_.jsxs("div",{className:"input-wrapper",children:[_.jsx(_g,{className:"input-icon"}),_.jsx("input",{id:"email",type:"email",value:r,onChange:P=>o(P.target.value),placeholder:"your@email.com",required:!0})]})]}),_.jsxs("div",{className:"input-group",children:[_.jsx("label",{htmlFor:"password",children:"Password"}),_.jsxs("div",{className:"input-wrapper",children:[_.jsx(f0,{className:"input-icon"}),_.jsx("input",{id:"password",type:"password",value:c,onChange:P=>h(P.target.value),placeholder:"••••••••",minLength:6,required:!0})]}),_.jsx("p",{className:"password-hint",children:"Minimum 6 characters"})]}),_.jsx("button",{type:"submit",disabled:y,className:"submit-button",children:y?_.jsxs(_.Fragment,{children:[_.jsx("span",{className:"spinner"}),"Creating account..."]}):"Sign Up"})]}),_.jsx("div",{className:"divider",children:_.jsx("span",{children:"Or sign up with"})}),_.jsx("button",{onClick:M,disabled:x,className:"google-button",children:x?_.jsxs(_.Fragment,{children:[_.jsx("span",{className:"spinner"}),"Signing up..."]}):_.jsxs(_.Fragment,{children:[_.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg",alt:"Google logo",className:"google-logo"}),"Google"]})}),_.jsxs("div",{className:"login-link",children:[_.jsx("span",{children:"Already have an account? "}),_.jsx(te,{to:"/login",children:"Log in"})]})]})})}function W5(){const[n]=fg(we),t=Ki(),{darkMode:e,setDarkMode:i}=Gf(),[r,o]=B.useState(null),[c,h]=B.useState({displayName:"",email:"",currentPassword:"",newPassword:"",confirmPassword:"",language:"en",notifications:!0}),[d,g]=B.useState({}),[y,b]=B.useState(""),[x,E]=B.useState(!1),[N,k]=B.useState({length:!1,uppercase:!1,number:!1,specialChar:!1});B.useEffect(()=>{if(n){const nt=ce(xe,`users/${n.uid}`);gi(nt,Z=>{const lt=Z.val();o(lt),h(O=>({...O,displayName:lt?.displayName||n.displayName||"",email:n.email||"",language:lt?.language||"en",notifications:lt?.notifications??!0}))})}},[n]),B.useEffect(()=>{c.newPassword&&k({length:c.newPassword.length>=8,uppercase:/[A-Z]/.test(c.newPassword),number:/\d/.test(c.newPassword),specialChar:/[!@#$%^&*(),.?":{}|<>]/.test(c.newPassword)})},[c.newPassword]);const M=nt=>{const{name:Z,value:lt,type:O,checked:C}=nt.target;h(R=>({...R,[Z]:O==="checkbox"?C:lt}))},P=async nt=>{nt.preventDefault(),E(!0),g({}),b("");try{if(c.newPassword&&c.newPassword!==c.confirmPassword)throw new Error("New passwords do not match");const Z={};c.displayName!==(r?.displayName||n.displayName)&&(Z.displayName=c.displayName,await uO(we.currentUser,{displayName:c.displayName})),Z.language=c.language,Z.notifications=c.notifications,Z.darkMode=e,await xi(ce(xe,`users/${n.uid}`),Z),b("Settings updated successfully!")}catch(Z){console.error("Update error:",Z),g({general:Z.message||"Failed to update settings"})}finally{E(!1)}},G=()=>{const nt=!e;i(nt),n&&xi(ce(xe,`users/${n.uid}`),{darkMode:nt})},K=async()=>{try{await we.signOut(),t("/login")}catch(nt){console.error("Logout error:",nt)}};return n?_.jsxs("div",{className:`min-h-screen transition-colors duration-300 ${e?"dark bg-gray-900":"bg-gray-50"}`,children:[_.jsx("header",{className:`sticky top-0 z-10 backdrop-blur-md ${e?"bg-black/80":"bg-white/80"} shadow-sm`,children:_.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[_.jsxs(te,{to:`/profile/${n.uid}`,className:"flex items-center text-teal-600 hover:text-teal-700 dark:text-teal-400 dark:hover:text-teal-300",children:[_.jsx(Zu,{className:"mr-1"})," Back to Profile"]}),_.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-teal-400 to-teal-600 bg-clip-text text-transparent",children:"Account Settings"}),_.jsx("div",{})," "]})}),_.jsx("main",{className:"container mx-auto px-4 py-8",children:_.jsx("div",{className:"max-w-2xl mx-auto",children:_.jsx("div",{className:`p-6 rounded-xl shadow-lg mb-8 backdrop-blur-sm ${e?"bg-gray-800/70 border border-gray-700":"bg-white/80 border border-gray-200"}`,children:_.jsxs("form",{onSubmit:P,children:[d.general&&_.jsx("div",{className:`mb-4 p-3 rounded-lg ${e?"bg-red-900/50 text-red-200":"bg-red-100 text-red-800"}`,children:d.general}),y&&_.jsx("div",{className:`mb-4 p-3 rounded-lg ${e?"bg-teal-900/50 text-teal-200":"bg-teal-100 text-teal-800"}`,children:y}),_.jsxs("div",{className:"space-y-8",children:[_.jsxs("div",{children:[_.jsxs("h2",{className:`text-lg font-semibold mb-4 flex items-center ${e?"text-gray-200":"text-gray-800"}`,children:[_.jsx(Ur,{className:"mr-2 text-teal-500"}),"Profile Information"]}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{htmlFor:"displayName",className:`block text-sm font-medium mb-1 ${e?"text-gray-300":"text-gray-700"}`,children:"Display Name"}),_.jsx("input",{type:"text",id:"displayName",name:"displayName",value:c.displayName,onChange:M,className:`w-full p-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent ${e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"email",className:`block text-sm font-medium mb-1 ${e?"text-gray-300":"text-gray-700"}`,children:"Email Address"}),_.jsx("input",{type:"email",id:"email",name:"email",value:c.email,onChange:M,disabled:!0,className:`w-full p-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent ${e?"bg-gray-700/50 border-gray-600 text-gray-400":"bg-gray-100 border-gray-300 text-gray-600"}`}),_.jsx("p",{className:`mt-1 text-xs ${e?"text-gray-400":"text-gray-500"}`,children:"Contact support to change your email address"})]})]})]}),_.jsxs("div",{children:[_.jsxs("h2",{className:`text-lg font-semibold mb-4 flex items-center ${e?"text-gray-200":"text-gray-800"}`,children:[_.jsx(f0,{className:"mr-2 text-teal-500"}),"Security"]}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{htmlFor:"currentPassword",className:`block text-sm font-medium mb-1 ${e?"text-gray-300":"text-gray-700"}`,children:"Current Password"}),_.jsx("input",{type:"password",id:"currentPassword",name:"currentPassword",value:c.currentPassword,onChange:M,className:`w-full p-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent ${e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,placeholder:"Required for password changes"})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"newPassword",className:`block text-sm font-medium mb-1 ${e?"text-gray-300":"text-gray-700"}`,children:"New Password"}),_.jsx("input",{type:"password",id:"newPassword",name:"newPassword",value:c.newPassword,onChange:M,className:`w-full p-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent ${e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,placeholder:"Leave blank to keep current password"})]}),c.newPassword&&_.jsxs("div",{className:`p-3 rounded-lg ${e?"bg-gray-700/50":"bg-gray-100"}`,children:[_.jsx("h4",{className:`text-sm font-medium mb-2 ${e?"text-gray-300":"text-gray-700"}`,children:"Password Requirements:"}),_.jsxs("ul",{className:"space-y-1 text-sm",children:[_.jsxs("li",{className:`flex items-center ${N.length?"text-green-500":e?"text-gray-400":"text-gray-600"}`,children:[N.length?_.jsx(tu,{className:"mr-1"}):_.jsx(eu,{className:"mr-1"}),"At least 8 characters"]}),_.jsxs("li",{className:`flex items-center ${N.uppercase?"text-green-500":e?"text-gray-400":"text-gray-600"}`,children:[N.uppercase?_.jsx(tu,{className:"mr-1"}):_.jsx(eu,{className:"mr-1"}),"At least one uppercase letter"]}),_.jsxs("li",{className:`flex items-center ${N.number?"text-green-500":e?"text-gray-400":"text-gray-600"}`,children:[N.number?_.jsx(tu,{className:"mr-1"}):_.jsx(eu,{className:"mr-1"}),"At least one number"]}),_.jsxs("li",{className:`flex items-center ${N.specialChar?"text-green-500":e?"text-gray-400":"text-gray-600"}`,children:[N.specialChar?_.jsx(tu,{className:"mr-1"}):_.jsx(eu,{className:"mr-1"}),"At least one special character"]})]})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"confirmPassword",className:`block text-sm font-medium mb-1 ${e?"text-gray-300":"text-gray-700"}`,children:"Confirm New Password"}),_.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:c.confirmPassword,onChange:M,className:`w-full p-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent ${e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,placeholder:"Confirm your new password"})]})]})]}),_.jsxs("div",{children:[_.jsxs("h2",{className:`text-lg font-semibold mb-4 flex items-center ${e?"text-gray-200":"text-gray-800"}`,children:[_.jsx(mC,{className:"mr-2 text-teal-500"}),"Preferences"]}),_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{children:[_.jsx("h3",{className:`font-medium ${e?"text-gray-200":"text-gray-800"}`,children:"Theme"}),_.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:e?"Dark mode":"Light mode"})]}),_.jsx("button",{type:"button",onClick:G,className:`p-2 rounded-full ${e?"bg-gray-700 text-teal-400":"bg-gray-200 text-gray-700"}`,"aria-label":"Toggle dark mode",children:e?_.jsx(U5,{className:"w-5 h-5"}):_.jsx(L5,{className:"w-5 h-5"})})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"language",className:`block text-sm font-medium mb-1 ${e?"text-gray-300":"text-gray-700"}`,children:"Language"}),_.jsxs("select",{id:"language",name:"language",value:c.language,onChange:M,className:`w-full p-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent ${e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,children:[_.jsx("option",{value:"en",children:"English"}),_.jsx("option",{value:"hi",children:"हिंदी (Hindi)"}),_.jsx("option",{value:"ta",children:"தமிழ் (Tamil)"}),_.jsx("option",{value:"te",children:"తెలుగు (Telugu)"}),_.jsx("option",{value:"bn",children:"বাংলা (Bengali)"}),_.jsx("option",{value:"mr",children:"मराठी (Marathi)"})]})]}),_.jsxs("div",{className:"flex items-center",children:[_.jsx("input",{type:"checkbox",id:"notifications",name:"notifications",checked:c.notifications,onChange:M,className:`h-4 w-4 rounded focus:ring-teal-500 ${e?"bg-gray-700 border-gray-600":"bg-white border-gray-300"}`}),_.jsx("label",{htmlFor:"notifications",className:`ml-2 block text-sm ${e?"text-gray-300":"text-gray-700"}`,children:"Email Notifications"})]})]})]}),_.jsxs("div",{className:"pt-4 flex flex-col sm:flex-row justify-between gap-4",children:[_.jsxs("button",{type:"submit",disabled:x,className:`flex-1 py-3 px-4 rounded-lg font-medium text-white bg-gradient-to-r from-teal-500 to-teal-600 hover:from-teal-600 hover:to-teal-700 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 flex items-center justify-center ${e?"focus:ring-offset-gray-800":"focus:ring-offset-white"}`,children:[_.jsx(pC,{className:"mr-2"}),x?"Saving...":"Save Changes"]}),_.jsxs("button",{type:"button",onClick:K,className:`flex-1 py-3 px-4 rounded-lg font-medium flex items-center justify-center ${e?"bg-red-600/90 text-white hover:bg-red-700 border border-red-700":"bg-red-500 text-white hover:bg-red-600 border border-red-600"}`,children:[_.jsx(g0,{className:"mr-2"}),"Sign Out"]})]})]})]})})})})]}):_.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:_.jsxs("div",{className:"text-center p-8 rounded-xl bg-white/80 dark:bg-gray-800/70 backdrop-blur-sm shadow-lg border border-gray-200 dark:border-gray-700",children:[_.jsx("h2",{className:"text-2xl font-bold mb-4 dark:text-gray-200",children:"Please sign in to access settings"}),_.jsx(te,{to:"/login",className:"text-teal-600 hover:text-teal-700 dark:text-teal-400 dark:hover:text-teal-300 font-medium",children:"Go to login page"})]})})}function Y5(){return _.jsxs("div",{className:"text-center p-10",children:[_.jsx("h1",{className:"text-4xl font-bold text-red-600",children:"404 - Page Not Found"}),_.jsx("p",{className:"text-gray-600 mt-4",children:"Oops! The page you're looking for doesn't exist."})]})}const vC=6048e5,G5=864e5,IS=Symbol.for("constructDateFrom");function zr(n,t){return typeof n=="function"?n(t):n&&typeof n=="object"&&IS in n?n[IS](t):n instanceof Date?new n.constructor(t):new Date(t)}function Ai(n,t){return zr(t||n,n)}let $5={};function vg(){return $5}function Iu(n,t){const e=vg(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??e.weekStartsOn??e.locale?.options?.weekStartsOn??0,r=Ai(n,t?.in),o=r.getDay(),c=(o<i?7:0)+o-i;return r.setDate(r.getDate()-c),r.setHours(0,0,0,0),r}function qf(n,t){return Iu(n,{...t,weekStartsOn:1})}function bC(n,t){const e=Ai(n,t?.in),i=e.getFullYear(),r=zr(e,0);r.setFullYear(i+1,0,4),r.setHours(0,0,0,0);const o=qf(r),c=zr(e,0);c.setFullYear(i,0,4),c.setHours(0,0,0,0);const h=qf(c);return e.getTime()>=o.getTime()?i+1:e.getTime()>=h.getTime()?i:i-1}function jS(n){const t=Ai(n),e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+n-+e}function X5(n,...t){const e=zr.bind(null,t.find(i=>typeof i=="object"));return t.map(e)}function LS(n,t){const e=Ai(n,t?.in);return e.setHours(0,0,0,0),e}function Q5(n,t,e){const[i,r]=X5(e?.in,n,t),o=LS(i),c=LS(r),h=+o-jS(o),d=+c-jS(c);return Math.round((h-d)/G5)}function K5(n,t){const e=bC(n,t),i=zr(n,0);return i.setFullYear(e,0,4),i.setHours(0,0,0,0),qf(i)}function Z5(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function J5(n){return!(!Z5(n)&&typeof n!="number"||isNaN(+Ai(n)))}function t9(n,t){const e=Ai(n,t?.in);return e.setFullYear(e.getFullYear(),0,1),e.setHours(0,0,0,0),e}const e9={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},n9=(n,t,e)=>{let i;const r=e9[n];return typeof r=="string"?i=r:t===1?i=r.one:i=r.other.replace("{{count}}",t.toString()),e?.addSuffix?e.comparison&&e.comparison>0?"in "+i:i+" ago":i};function ey(n){return(t={})=>{const e=t.width?String(t.width):n.defaultWidth;return n.formats[e]||n.formats[n.defaultWidth]}}const i9={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},s9={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},r9={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},a9={date:ey({formats:i9,defaultWidth:"full"}),time:ey({formats:s9,defaultWidth:"full"}),dateTime:ey({formats:r9,defaultWidth:"full"})},o9={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},l9=(n,t,e,i)=>o9[n];function Gc(n){return(t,e)=>{const i=e?.context?String(e.context):"standalone";let r;if(i==="formatting"&&n.formattingValues){const c=n.defaultFormattingWidth||n.defaultWidth,h=e?.width?String(e.width):c;r=n.formattingValues[h]||n.formattingValues[c]}else{const c=n.defaultWidth,h=e?.width?String(e.width):n.defaultWidth;r=n.values[h]||n.values[c]}const o=n.argumentCallback?n.argumentCallback(t):t;return r[o]}}const c9={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},u9={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},h9={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},d9={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},f9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},g9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},m9=(n,t)=>{const e=Number(n),i=e%100;if(i>20||i<10)switch(i%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},p9={ordinalNumber:m9,era:Gc({values:c9,defaultWidth:"wide"}),quarter:Gc({values:u9,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Gc({values:h9,defaultWidth:"wide"}),day:Gc({values:d9,defaultWidth:"wide"}),dayPeriod:Gc({values:f9,defaultWidth:"wide",formattingValues:g9,defaultFormattingWidth:"wide"})};function $c(n){return(t,e={})=>{const i=e.width,r=i&&n.matchPatterns[i]||n.matchPatterns[n.defaultMatchWidth],o=t.match(r);if(!o)return null;const c=o[0],h=i&&n.parsePatterns[i]||n.parsePatterns[n.defaultParseWidth],d=Array.isArray(h)?_9(h,b=>b.test(c)):y9(h,b=>b.test(c));let g;g=n.valueCallback?n.valueCallback(d):d,g=e.valueCallback?e.valueCallback(g):g;const y=t.slice(c.length);return{value:g,rest:y}}}function y9(n,t){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&t(n[e]))return e}function _9(n,t){for(let e=0;e<n.length;e++)if(t(n[e]))return e}function v9(n){return(t,e={})=>{const i=t.match(n.matchPattern);if(!i)return null;const r=i[0],o=t.match(n.parsePattern);if(!o)return null;let c=n.valueCallback?n.valueCallback(o[0]):o[0];c=e.valueCallback?e.valueCallback(c):c;const h=t.slice(r.length);return{value:c,rest:h}}}const b9=/^(\d+)(th|st|nd|rd)?/i,x9=/\d+/i,w9={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},S9={any:[/^b/i,/^(a|c)/i]},E9={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},T9={any:[/1/i,/2/i,/3/i,/4/i]},C9={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},A9={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},N9={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},R9={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},k9={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},M9={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},O9={ordinalNumber:v9({matchPattern:b9,parsePattern:x9,valueCallback:n=>parseInt(n,10)}),era:$c({matchPatterns:w9,defaultMatchWidth:"wide",parsePatterns:S9,defaultParseWidth:"any"}),quarter:$c({matchPatterns:E9,defaultMatchWidth:"wide",parsePatterns:T9,defaultParseWidth:"any",valueCallback:n=>n+1}),month:$c({matchPatterns:C9,defaultMatchWidth:"wide",parsePatterns:A9,defaultParseWidth:"any"}),day:$c({matchPatterns:N9,defaultMatchWidth:"wide",parsePatterns:R9,defaultParseWidth:"any"}),dayPeriod:$c({matchPatterns:k9,defaultMatchWidth:"any",parsePatterns:M9,defaultParseWidth:"any"})},D9={code:"en-US",formatDistance:n9,formatLong:a9,formatRelative:l9,localize:p9,match:O9,options:{weekStartsOn:0,firstWeekContainsDate:1}};function I9(n,t){const e=Ai(n,t?.in);return Q5(e,t9(e))+1}function j9(n,t){const e=Ai(n,t?.in),i=+qf(e)-+K5(e);return Math.round(i/vC)+1}function xC(n,t){const e=Ai(n,t?.in),i=e.getFullYear(),r=vg(),o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,c=zr(t?.in||n,0);c.setFullYear(i+1,0,o),c.setHours(0,0,0,0);const h=Iu(c,t),d=zr(t?.in||n,0);d.setFullYear(i,0,o),d.setHours(0,0,0,0);const g=Iu(d,t);return+e>=+h?i+1:+e>=+g?i:i-1}function L9(n,t){const e=vg(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??e.firstWeekContainsDate??e.locale?.options?.firstWeekContainsDate??1,r=xC(n,t),o=zr(t?.in||n,0);return o.setFullYear(r,0,i),o.setHours(0,0,0,0),Iu(o,t)}function P9(n,t){const e=Ai(n,t?.in),i=+Iu(e,t)-+L9(e,t);return Math.round(i/vC)+1}function Jt(n,t){const e=n<0?"-":"",i=Math.abs(n).toString().padStart(t,"0");return e+i}const br={y(n,t){const e=n.getFullYear(),i=e>0?e:1-e;return Jt(t==="yy"?i%100:i,t.length)},M(n,t){const e=n.getMonth();return t==="M"?String(e+1):Jt(e+1,2)},d(n,t){return Jt(n.getDate(),t.length)},a(n,t){const e=n.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];case"aaaa":default:return e==="am"?"a.m.":"p.m."}},h(n,t){return Jt(n.getHours()%12||12,t.length)},H(n,t){return Jt(n.getHours(),t.length)},m(n,t){return Jt(n.getMinutes(),t.length)},s(n,t){return Jt(n.getSeconds(),t.length)},S(n,t){const e=t.length,i=n.getMilliseconds(),r=Math.trunc(i*Math.pow(10,e-3));return Jt(r,t.length)}},Ko={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},PS={G:function(n,t,e){const i=n.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return e.era(i,{width:"abbreviated"});case"GGGGG":return e.era(i,{width:"narrow"});case"GGGG":default:return e.era(i,{width:"wide"})}},y:function(n,t,e){if(t==="yo"){const i=n.getFullYear(),r=i>0?i:1-i;return e.ordinalNumber(r,{unit:"year"})}return br.y(n,t)},Y:function(n,t,e,i){const r=xC(n,i),o=r>0?r:1-r;if(t==="YY"){const c=o%100;return Jt(c,2)}return t==="Yo"?e.ordinalNumber(o,{unit:"year"}):Jt(o,t.length)},R:function(n,t){const e=bC(n);return Jt(e,t.length)},u:function(n,t){const e=n.getFullYear();return Jt(e,t.length)},Q:function(n,t,e){const i=Math.ceil((n.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return Jt(i,2);case"Qo":return e.ordinalNumber(i,{unit:"quarter"});case"QQQ":return e.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return e.quarter(i,{width:"wide",context:"formatting"})}},q:function(n,t,e){const i=Math.ceil((n.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return Jt(i,2);case"qo":return e.ordinalNumber(i,{unit:"quarter"});case"qqq":return e.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return e.quarter(i,{width:"wide",context:"standalone"})}},M:function(n,t,e){const i=n.getMonth();switch(t){case"M":case"MM":return br.M(n,t);case"Mo":return e.ordinalNumber(i+1,{unit:"month"});case"MMM":return e.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return e.month(i,{width:"wide",context:"formatting"})}},L:function(n,t,e){const i=n.getMonth();switch(t){case"L":return String(i+1);case"LL":return Jt(i+1,2);case"Lo":return e.ordinalNumber(i+1,{unit:"month"});case"LLL":return e.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return e.month(i,{width:"wide",context:"standalone"})}},w:function(n,t,e,i){const r=P9(n,i);return t==="wo"?e.ordinalNumber(r,{unit:"week"}):Jt(r,t.length)},I:function(n,t,e){const i=j9(n);return t==="Io"?e.ordinalNumber(i,{unit:"week"}):Jt(i,t.length)},d:function(n,t,e){return t==="do"?e.ordinalNumber(n.getDate(),{unit:"date"}):br.d(n,t)},D:function(n,t,e){const i=I9(n);return t==="Do"?e.ordinalNumber(i,{unit:"dayOfYear"}):Jt(i,t.length)},E:function(n,t,e){const i=n.getDay();switch(t){case"E":case"EE":case"EEE":return e.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(i,{width:"short",context:"formatting"});case"EEEE":default:return e.day(i,{width:"wide",context:"formatting"})}},e:function(n,t,e,i){const r=n.getDay(),o=(r-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Jt(o,2);case"eo":return e.ordinalNumber(o,{unit:"day"});case"eee":return e.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(r,{width:"short",context:"formatting"});case"eeee":default:return e.day(r,{width:"wide",context:"formatting"})}},c:function(n,t,e,i){const r=n.getDay(),o=(r-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Jt(o,t.length);case"co":return e.ordinalNumber(o,{unit:"day"});case"ccc":return e.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(r,{width:"narrow",context:"standalone"});case"cccccc":return e.day(r,{width:"short",context:"standalone"});case"cccc":default:return e.day(r,{width:"wide",context:"standalone"})}},i:function(n,t,e){const i=n.getDay(),r=i===0?7:i;switch(t){case"i":return String(r);case"ii":return Jt(r,t.length);case"io":return e.ordinalNumber(r,{unit:"day"});case"iii":return e.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(i,{width:"short",context:"formatting"});case"iiii":default:return e.day(i,{width:"wide",context:"formatting"})}},a:function(n,t,e){const r=n.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return e.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(n,t,e){const i=n.getHours();let r;switch(i===12?r=Ko.noon:i===0?r=Ko.midnight:r=i/12>=1?"pm":"am",t){case"b":case"bb":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return e.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(n,t,e){const i=n.getHours();let r;switch(i>=17?r=Ko.evening:i>=12?r=Ko.afternoon:i>=4?r=Ko.morning:r=Ko.night,t){case"B":case"BB":case"BBB":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return e.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(n,t,e){if(t==="ho"){let i=n.getHours()%12;return i===0&&(i=12),e.ordinalNumber(i,{unit:"hour"})}return br.h(n,t)},H:function(n,t,e){return t==="Ho"?e.ordinalNumber(n.getHours(),{unit:"hour"}):br.H(n,t)},K:function(n,t,e){const i=n.getHours()%12;return t==="Ko"?e.ordinalNumber(i,{unit:"hour"}):Jt(i,t.length)},k:function(n,t,e){let i=n.getHours();return i===0&&(i=24),t==="ko"?e.ordinalNumber(i,{unit:"hour"}):Jt(i,t.length)},m:function(n,t,e){return t==="mo"?e.ordinalNumber(n.getMinutes(),{unit:"minute"}):br.m(n,t)},s:function(n,t,e){return t==="so"?e.ordinalNumber(n.getSeconds(),{unit:"second"}):br.s(n,t)},S:function(n,t){return br.S(n,t)},X:function(n,t,e){const i=n.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return zS(i);case"XXXX":case"XX":return Oa(i);case"XXXXX":case"XXX":default:return Oa(i,":")}},x:function(n,t,e){const i=n.getTimezoneOffset();switch(t){case"x":return zS(i);case"xxxx":case"xx":return Oa(i);case"xxxxx":case"xxx":default:return Oa(i,":")}},O:function(n,t,e){const i=n.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+US(i,":");case"OOOO":default:return"GMT"+Oa(i,":")}},z:function(n,t,e){const i=n.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+US(i,":");case"zzzz":default:return"GMT"+Oa(i,":")}},t:function(n,t,e){const i=Math.trunc(+n/1e3);return Jt(i,t.length)},T:function(n,t,e){return Jt(+n,t.length)}};function US(n,t=""){const e=n>0?"-":"+",i=Math.abs(n),r=Math.trunc(i/60),o=i%60;return o===0?e+String(r):e+String(r)+t+Jt(o,2)}function zS(n,t){return n%60===0?(n>0?"-":"+")+Jt(Math.abs(n)/60,2):Oa(n,t)}function Oa(n,t=""){const e=n>0?"-":"+",i=Math.abs(n),r=Jt(Math.trunc(i/60),2),o=Jt(i%60,2);return e+r+t+o}const BS=(n,t)=>{switch(n){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},wC=(n,t)=>{switch(n){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},U9=(n,t)=>{const e=n.match(/(P+)(p+)?/)||[],i=e[1],r=e[2];if(!r)return BS(n,t);let o;switch(i){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",BS(i,t)).replace("{{time}}",wC(r,t))},z9={p:wC,P:U9},B9=/^D+$/,H9=/^Y+$/,F9=["D","DD","YY","YYYY"];function V9(n){return B9.test(n)}function q9(n){return H9.test(n)}function W9(n,t,e){const i=Y9(n,t,e);if(console.warn(i),F9.includes(n))throw new RangeError(i)}function Y9(n,t,e){const i=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${t}\`) for formatting ${i} to the input \`${e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const G9=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$9=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,X9=/^'([^]*?)'?$/,Q9=/''/g,K9=/[a-zA-Z]/;function Vd(n,t,e){const i=vg(),r=i.locale??D9,o=i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=i.weekStartsOn??i.locale?.options?.weekStartsOn??0,h=Ai(n,e?.in);if(!J5(h))throw new RangeError("Invalid time value");let d=t.match($9).map(y=>{const b=y[0];if(b==="p"||b==="P"){const x=z9[b];return x(y,r.formatLong)}return y}).join("").match(G9).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const b=y[0];if(b==="'")return{isToken:!1,value:Z9(y)};if(PS[b])return{isToken:!0,value:y};if(b.match(K9))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:y}});r.localize.preprocessor&&(d=r.localize.preprocessor(h,d));const g={firstWeekContainsDate:o,weekStartsOn:c,locale:r};return d.map(y=>{if(!y.isToken)return y.value;const b=y.value;(q9(b)||V9(b))&&W9(b,t,String(n));const x=PS[b[0]];return x(h,b,r.localize,g)}).join("")}function Z9(n){const t=n.match(X9);return t?t[1].replace(Q9,"'"):n}function J9({size:n="md",fullPage:t=!1}){const{darkMode:e}=Gf(),i={sm:"w-5 h-5 border-2",md:"w-8 h-8 border-3",lg:"w-12 h-12 border-4",xl:"w-16 h-16 border-4"},r=_.jsx("div",{className:"flex items-center justify-center",children:_.jsx("div",{className:`animate-spin rounded-full ${i[n]} ${e?"border-gray-300 border-t-teal-400":"border-gray-200 border-t-teal-600"}`})});return t?_.jsx("div",{className:`fixed inset-0 flex items-center justify-center z-50 ${e?"bg-gray-900/80":"bg-white/80"}`,children:r}):r}function tU(){const[n]=fg(we),{userId:t}=ZS(),e=Ki(),{darkMode:i}=Gf(),[r,o]=B.useState(null),[c,h]=B.useState([]),[d,g]=B.useState([]),[y,b]=B.useState("questions"),[x,E]=B.useState(!0),[N,k]=B.useState(!1),[M,P]=B.useState(""),[G,K]=B.useState(null),[nt,Z]=B.useState(null),[lt,O]=B.useState(""),C=n&&t===n.uid;B.useEffect(()=>{if(!t){e(n?`/profile/${n.uid}`:"/login");return}E(!0),O("");try{const F=ce(xe,`users/${t}`),ot=gi(F,rt=>{const dt=rt.val();if(dt)o(dt),P(dt.bio||"");else{const yt={displayName:n?.displayName||"",email:n?.email||"",bio:"",photoURL:"",points:0,bestAnswers:0,activeDays:1,createdAt:Date.now(),bookmarks:{}};xi(ce(xe,`users/${t}`),yt),o(yt),P(yt.bio)}E(!1)},rt=>{console.error("Error loading user data:",rt),O("Failed to load profile data"),E(!1)}),gt=ce(xe,"questions"),U=gi(gt,rt=>{const dt=rt.val(),yt=Object.entries(dt||{}).filter(([tt,St])=>St.userId===t).map(([tt,St])=>({id:tt,...St}));h(yt)}),it=ce(xe,"answers"),ct=gi(it,rt=>{const dt=rt.val(),yt=Object.entries(dt||{}).filter(([tt,St])=>St.userId===t).map(([tt,St])=>({id:tt,...St}));g(yt)});return()=>{ot(),U(),ct()}}catch(F){console.error("Error setting up listeners:",F),O("Failed to initialize data loading"),E(!1)}},[t,n,e]);const R=async()=>{try{await we.signOut(),e("/login")}catch(F){console.error("Logout error:",F),O("Failed to logout")}},I=async()=>{if(t)try{await xi(ce(xe,`users/${t}`),{bio:M,...n?.displayName&&{displayName:n.displayName}}),k(!1)}catch(F){console.error("Error updating profile:",F),O("Failed to update profile")}},L=async F=>{const ot=F.target.files[0];if(!ot)return;if(!ot.type.match("image.*")){O("Please select an image file (JPEG/PNG)");return}if(ot.size>500*1024){O("Image size must be less than 500KB");return}const gt=new FileReader;gt.onload=U=>{K(U.target.result),Z(U.target.result)},gt.onerror=()=>{O("Failed to read image file")},gt.readAsDataURL(ot)},z=async()=>{if(!(!G||!t))try{const F=G.split(",")[1];await xi(ce(xe,`users/${t}`),{photoURL:F}),Z(G),K(null)}catch(F){console.error("Error uploading image:",F),O("Failed to upload profile image")}},D=()=>{K(null),Z(null),O("")};if(x)return _.jsx("div",{className:`min-h-screen flex items-center justify-center ${i?"dark bg-gray-900":"bg-gray-50"}`,children:_.jsx(J9,{size:"xl"})});if(!r)return _.jsx("div",{className:`min-h-screen flex flex-col items-center justify-center p-4 ${i?"dark bg-gray-900":"bg-gray-50"}`,children:_.jsxs("div",{className:`max-w-md w-full p-8 rounded-xl shadow-lg text-center ${i?"bg-gray-800":"bg-white"}`,children:[_.jsx("div",{className:`w-24 h-24 mx-auto rounded-full flex items-center justify-center text-4xl mb-4 ${i?"bg-gray-700 text-gray-400":"bg-gray-200 text-gray-500"}`,children:_.jsx(Ur,{})}),_.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Profile Not Found"}),_.jsx("p",{className:`mb-6 ${i?"text-gray-400":"text-gray-600"}`,children:lt||"The requested profile doesn't exist"}),_.jsxs("div",{className:"flex flex-col space-y-3",children:[_.jsx("button",{onClick:()=>window.location.reload(),className:`px-4 py-2 rounded-lg font-medium ${i?"bg-teal-600 hover:bg-teal-500":"bg-teal-500 hover:bg-teal-400"} text-white`,children:"Try Again"}),_.jsx(te,{to:"/",className:`px-4 py-2 rounded-lg font-medium ${i?"bg-gray-700 hover:bg-gray-600":"bg-gray-200 hover:bg-gray-300"}`,children:"Return Home"})]})]})});const Tt=r?.displayName||n?.displayName||"User",mt=C?n?.email:null,$=r?.createdAt?Vd(new Date(r.createdAt),"MMM yyyy"):"Recently";return _.jsxs("div",{className:`min-h-screen transition-colors duration-300 ${i?"dark bg-gray-900":"bg-gray-50"}`,children:[_.jsx("header",{className:`sticky top-0 z-10 backdrop-blur-md ${i?"bg-black/80":"bg-white/80"} shadow-sm`,children:_.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[_.jsx(te,{to:"/",className:"text-2xl font-bold bg-gradient-to-r from-teal-400 to-teal-600 bg-clip-text text-transparent",children:"StudiQ"}),C&&_.jsxs("nav",{className:"flex items-center space-x-4",children:[_.jsxs(te,{to:"/settings",className:`flex items-center ${i?"text-gray-300 hover:text-teal-400":"text-gray-700 hover:text-teal-600"}`,children:[_.jsx(yC,{className:"mr-1"})," Settings"]}),_.jsxs("button",{onClick:R,className:`flex items-center ${i?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-800"}`,children:[_.jsx(g0,{className:"mr-1"})," Sign Out"]})]})]})}),_.jsx("main",{className:"container mx-auto px-4 py-8",children:_.jsxs("div",{className:"max-w-6xl mx-auto",children:[lt&&_.jsx("div",{className:`mb-6 p-4 rounded-lg ${i?"bg-red-900/30 border border-red-700":"bg-red-100 border border-red-300"} text-red-600 dark:text-red-300`,children:lt}),_.jsx("div",{className:`p-6 rounded-xl shadow-lg mb-6 ${i?"bg-gray-800/70":"bg-white/80"} backdrop-blur-sm`,children:_.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6",children:[_.jsxs("div",{className:"relative group",children:[_.jsx("div",{className:`w-32 h-32 rounded-full overflow-hidden flex items-center justify-center ${i?"bg-teal-900":"bg-teal-100"}`,children:nt?_.jsx("img",{src:nt,alt:"Preview",className:"w-full h-full object-cover"}):r?.photoURL?_.jsx("img",{src:`data:image/jpeg;base64,${r.photoURL}`,alt:Tt,className:"w-full h-full object-cover"}):_.jsx("span",{className:`text-5xl ${i?"text-teal-300":"text-teal-800"}`,children:Tt.charAt(0)})}),C&&_.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:_.jsxs("label",{htmlFor:"profileImage",className:`cursor-pointer p-2 rounded-full ${i?"bg-gray-700/90 hover:bg-gray-600":"bg-gray-200/90 hover:bg-gray-300"}`,children:[_.jsx(H5,{className:"w-5 h-5"}),_.jsx("input",{id:"profileImage",type:"file",accept:"image/*",onChange:L,className:"hidden"})]})})]}),G&&_.jsxs("div",{className:`p-3 rounded-lg ${i?"bg-gray-700":"bg-gray-200"} flex items-center space-x-3`,children:[_.jsx("button",{onClick:z,className:`px-3 py-1 rounded ${i?"bg-teal-600 hover:bg-teal-500":"bg-teal-500 hover:bg-teal-400"} text-white flex items-center`,children:"Save Image"}),_.jsx("button",{onClick:D,className:`p-1 rounded-full ${i?"hover:bg-gray-600":"hover:bg-gray-300"}`,children:_.jsx(eu,{})})]}),_.jsxs("div",{className:"flex-1 text-center md:text-left",children:[_.jsxs("div",{className:"flex items-center justify-center md:justify-start",children:[_.jsxs("h1",{className:`text-3xl font-bold mb-2 ${i?"text-gray-100":"text-gray-800"}`,children:[Tt,C&&_.jsx("span",{className:"ml-2 text-sm font-normal px-2 py-1 rounded-full bg-teal-500/10 text-teal-500",children:"You"})]}),C&&!N&&_.jsx("button",{onClick:()=>k(!0),className:`ml-3 p-1 rounded-full ${i?"hover:bg-gray-700":"hover:bg-gray-200"}`,children:_.jsx(O5,{className:"w-5 h-5"})})]}),mt&&_.jsx("p",{className:`mb-4 ${i?"text-gray-400":"text-gray-600"}`,children:mt}),C&&!n?.emailVerified&&_.jsxs("div",{className:`mb-4 p-2 rounded-lg flex items-center ${i?"bg-yellow-900/30 text-yellow-300":"bg-yellow-100 text-yellow-800"}`,children:[_.jsx(A5,{className:"mr-2"}),_.jsx("span",{children:"Email not verified yet. Check your inbox for verification link."}),_.jsx("button",{onClick:async()=>{try{await sendEmailVerification(n),setSuccessMessage("Verification email resent! Check your inbox.")}catch{O("Failed to resend verification email")}},className:"ml-2 underline hover:text-teal-500",children:"Resend"})]}),N?_.jsxs("div",{className:"mb-4",children:[_.jsx("textarea",{value:M,onChange:F=>P(F.target.value),className:`w-full p-2 rounded-lg ${i?"bg-gray-700 text-white":"bg-gray-100"} border ${i?"border-gray-600":"border-gray-300"}`,rows:"3",placeholder:"Tell us about yourself..."}),_.jsxs("div",{className:"flex space-x-2 mt-2",children:[_.jsx("button",{onClick:I,className:`px-3 py-1 rounded ${i?"bg-teal-600 hover:bg-teal-500":"bg-teal-500 hover:bg-teal-400"} text-white`,children:"Save"}),_.jsx("button",{onClick:()=>k(!1),className:`px-3 py-1 rounded ${i?"bg-gray-600 hover:bg-gray-500":"bg-gray-300 hover:bg-gray-400"}`,children:"Cancel"})]})]}):_.jsx("p",{className:`mb-4 ${i?"text-gray-300":"text-gray-700"}`,children:r?.bio||(C?"Add a bio to tell others about yourself":"")}),_.jsxs("div",{className:`flex flex-wrap justify-center md:justify-start gap-4 ${i?"text-gray-300":"text-gray-700"}`,children:[_.jsxs("div",{className:"flex items-center",children:[_.jsx(jy,{className:"mr-2 text-teal-500"}),_.jsxs("span",{children:[r?.points||0," Points"]})]}),_.jsxs("div",{className:"flex items-center",children:[_.jsx(kS,{className:"mr-2 text-teal-500"}),_.jsxs("span",{children:[c.length," Questions"]})]}),_.jsxs("div",{className:"flex items-center",children:[_.jsx(pu,{className:"mr-2 text-teal-500"}),_.jsxs("span",{children:[d.length," Answers"]})]}),C&&r?.bookmarks&&_.jsxs("div",{className:"flex items-center",children:[_.jsx(Ff,{className:"mr-2 text-teal-500"}),_.jsxs("span",{children:[Object.keys(r.bookmarks).length," Bookmarks"]})]})]})]})]})}),_.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-${C?"5":"3"} gap-4 mb-6 ${i?"text-gray-200":"text-gray-800"}`,children:["          ",_.jsxs("div",{className:`p-4 rounded-lg ${i?"bg-gray-800":"bg-gray-100"}`,children:[_.jsxs("h3",{className:"font-semibold flex items-center",children:[_.jsx(jy,{className:"mr-2 text-yellow-500"})," Best Answers"]}),_.jsx("p",{className:"text-2xl font-bold",children:r?.stats?.bestAnswers||0})]}),_.jsxs("div",{className:`p-4 rounded-lg ${i?"bg-gray-800":"bg-gray-100"}`,children:[_.jsxs("h3",{className:"font-semibold flex items-center",children:[_.jsx(d0,{className:"mr-2 text-blue-500"})," Active Days"]}),_.jsx("p",{className:"text-2xl font-bold",children:r?.activeDays||1})]}),C&&_.jsxs("div",{className:`p-4 rounded-lg ${i?"bg-gray-800":"bg-gray-100"}`,children:[_.jsxs("h3",{className:"font-semibold flex items-center",children:[_.jsx(Ur,{className:"mr-2 text-green-500"})," Member Since"]}),_.jsx("p",{className:"text-xl",children:$})]}),C&&_.jsxs("div",{className:`p-4 rounded-lg ${i?"bg-gray-800":"bg-gray-100"}`,children:[_.jsxs("h3",{className:"font-semibold flex items-center",children:[_.jsx(pu,{className:"mr-2 text-purple-500"})," Answer Rate"]}),_.jsx("p",{className:"text-2xl font-bold",children:c.length>0?`${Math.round(c.filter(F=>F.answered).length/c.length*100)}%`:"0%"})]}),C&&_.jsxs("div",{className:`p-4 rounded-lg ${i?n?.emailVerified?"bg-green-900/30":"bg-yellow-900/30":n?.emailVerified?"bg-green-100":"bg-yellow-100"}`,children:[_.jsxs("h3",{className:"font-semibold flex items-center",children:[_.jsx(_g,{className:"mr-2"}),"Email Status"]}),_.jsx("p",{className:"text-xl font-medium",children:n?.emailVerified?_.jsx("span",{className:"text-green-500",children:"Verified"}):_.jsx("span",{className:"text-yellow-500",children:"Not Verified"})})]})]}),_.jsx("div",{className:`mb-4 border-b ${i?"border-gray-700":"border-gray-200"}`,children:_.jsxs("nav",{className:"flex space-x-4",children:[_.jsxs("button",{onClick:()=>b("questions"),className:`py-2 px-4 font-medium ${y==="questions"?i?"text-teal-400 border-b-2 border-teal-400":"text-teal-600 border-b-2 border-teal-600":i?"text-gray-400 hover:text-gray-300":"text-gray-600 hover:text-gray-800"}`,children:["Questions (",c.length,")"]}),_.jsxs("button",{onClick:()=>b("answers"),className:`py-2 px-4 font-medium ${y==="answers"?i?"text-teal-400 border-b-2 border-teal-400":"text-teal-600 border-b-2 border-teal-600":i?"text-gray-400 hover:text-gray-300":"text-gray-600 hover:text-gray-800"}`,children:["Answers (",d.length,")"]}),C&&_.jsxs("button",{onClick:()=>b("bookmarks"),className:`py-2 px-4 font-medium ${y==="bookmarks"?i?"text-teal-400 border-b-2 border-teal-400":"text-teal-600 border-b-2 border-teal-600":i?"text-gray-400 hover:text-gray-300":"text-gray-600 hover:text-gray-800"}`,children:["Bookmarks (",r?.bookmarks?Object.keys(r.bookmarks).length:0,")"]})]})}),_.jsxs("div",{className:`p-6 rounded-xl shadow-lg ${i?"bg-gray-800/70":"bg-white/80"} backdrop-blur-sm`,children:[y==="questions"&&_.jsxs("div",{className:"space-y-4",children:[_.jsxs("h2",{className:`text-xl font-semibold mb-4 ${i?"text-gray-200":"text-gray-800"}`,children:[_.jsx(kS,{className:"inline mr-2"})," ",C?"My":`${Tt}'s`," Questions"]}),c.length>0?c.map(F=>_.jsxs("div",{className:`p-4 rounded-lg ${i?"bg-gray-700/50 hover:bg-gray-700":"bg-gray-100 hover:bg-gray-200"}`,children:[_.jsx(te,{to:`/question/${F.id}`,className:`font-medium block mb-1 ${i?"text-teal-400 hover:text-teal-300":"text-teal-600 hover:text-teal-800"}`,children:F.title}),_.jsxs("div",{className:`text-sm ${i?"text-gray-400":"text-gray-600"}`,children:[_.jsx("span",{className:"capitalize",children:F.subject})," •",F.createdAt?.toDate?Vd(F.createdAt.toDate(),"MMM d, yyyy"):"Recent"," •",F.answered?_.jsx("span",{className:"text-green-500 ml-1",children:"Answered"}):_.jsx("span",{className:"text-yellow-500 ml-1",children:"Pending"})]})]},F.id)):_.jsx("p",{className:i?"text-gray-400":"text-gray-600",children:C?"You haven't asked any questions yet":"This user hasn't asked any questions yet"})]}),y==="answers"&&_.jsxs("div",{className:"space-y-4",children:[_.jsxs("h2",{className:`text-xl font-semibold mb-4 ${i?"text-gray-200":"text-gray-800"}`,children:[_.jsx(pu,{className:"inline mr-2"})," ",C?"My":`${Tt}'s`," Answers"]}),d.length>0?d.map(F=>_.jsxs("div",{className:`p-4 rounded-lg ${i?"bg-gray-700/50 hover:bg-gray-700":"bg-gray-100 hover:bg-gray-200"}`,children:[_.jsxs(te,{to:`/question/${F.questionId}`,className:`font-medium block mb-1 ${i?"text-teal-400 hover:text-teal-300":"text-teal-600 hover:text-teal-800"}`,children:[F.content.substring(0,100),"..."]}),_.jsxs("div",{className:`text-sm ${i?"text-gray-400":"text-gray-600"}`,children:[F.createdAt?.toDate?Vd(F.createdAt.toDate(),"MMM d, yyyy"):"Recent"," •",F.isBestAnswer?_.jsx("span",{className:"text-green-500 ml-1",children:"Marked as Best"}):_.jsx("span",{className:"text-gray-500 ml-1",children:"Regular answer"})]})]},F.id)):_.jsx("p",{className:i?"text-gray-400":"text-gray-600",children:C?"You haven't answered any questions yet":"This user hasn't answered any questions yet"})]}),y==="bookmarks"&&C&&_.jsxs("div",{className:"space-y-4",children:[_.jsxs("h2",{className:`text-xl font-semibold mb-4 ${i?"text-gray-200":"text-gray-800"}`,children:[_.jsx(Ff,{className:"inline mr-2"})," My Bookmarks"]}),r?.bookmarks&&Object.keys(r.bookmarks).length>0?_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.keys(r.bookmarks).map(F=>_.jsxs("div",{className:`p-4 rounded-lg ${i?"bg-gray-700/50 hover:bg-gray-700":"bg-gray-100 hover:bg-gray-200"}`,children:[_.jsx(te,{to:`/question/${F}`,className:`font-medium block ${i?"text-teal-400 hover:text-teal-300":"text-teal-600 hover:text-teal-800"}`,children:r.bookmarks[F].title||"Bookmarked Question"}),_.jsxs("div",{className:`text-sm mt-1 ${i?"text-gray-400":"text-gray-600"}`,children:["Bookmarked on ",Vd(new Date(r.bookmarks[F].timestamp),"MMM d, yyyy")]})]},F))}):_.jsx("p",{className:i?"text-gray-400":"text-gray-600",children:"No bookmarks yet"})]})]})]})})]})}function eU(){const[n]=fg(we);Ki();const[t,e]=B.useState(!1),[i,r]=B.useState("faq"),[o,c]=B.useState({name:"",email:"",subject:"",message:""}),[h,d]=B.useState(!1);B.useEffect(()=>{const E=localStorage.getItem("darkMode")==="true";e(E),document.documentElement.classList.toggle("dark",E)},[]);const g=E=>{const{name:N,value:k}=E.target;c(M=>({...M,[N]:k}))},y=E=>{E.preventDefault(),console.log("Contact form submitted:",o),d(!0),c({name:"",email:"",subject:"",message:""}),setTimeout(()=>d(!1),5e3)},b=[{question:"How do I post a question?",answer:"Navigate to the home page and click on the 'Ask your question' box. Type your question, select a subject, and click 'Post Question'."},{question:"How do I earn points?",answer:"You earn points by asking questions, providing helpful answers, and receiving upvotes on your contributions."},{question:"Can I change my display name?",answer:"Yes, you can change your display name in the Account Settings page under Profile Information."},{question:"How do I report inappropriate content?",answer:"Click on the three dots next to any question or answer and select 'Report'. Our moderation team will review it."},{question:"Is there a mobile app available?",answer:"Currently we're web-only, but our site is fully responsive and works great on mobile browsers."}],x=[{title:"Getting Started",content:"Learn how to create an account, set up your profile, and make your first post."},{title:"Community Guidelines",content:"Understand our rules and expectations for participation in the StudiQ community."},{title:"Answering Questions",content:"Tips for providing helpful, high-quality answers that earn you points and reputation."},{title:"Privacy & Security",content:"How we protect your data and what you can do to keep your account secure."}];return _.jsxs("div",{className:`min-h-screen transition-colors duration-300 ${t?"dark bg-gray-900":"bg-gray-50"}`,children:[_.jsx("header",{className:`sticky top-0 z-10 backdrop-blur-md ${t?"bg-black/80":"bg-white/80"} shadow-sm`,children:_.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[_.jsxs(te,{to:n?"/":"/login",className:"flex items-center text-teal-600 hover:text-teal-700",children:[_.jsx(Zu,{className:"mr-1"})," ",n?"Back to Home":"Back to Login"]}),_.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-teal-400 to-teal-600 bg-clip-text text-transparent",children:"Help Center"}),_.jsx("div",{})," "]})}),_.jsx("main",{className:"container mx-auto px-4 py-8",children:_.jsx("div",{className:"max-w-4xl mx-auto",children:_.jsx("div",{className:`p-6 rounded-xl shadow-lg mb-8 backdrop-blur-sm ${t?"bg-gray-800/70 border border-gray-700":"bg-white/80 border border-gray-200"}`,children:_.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[_.jsx("div",{className:"md:w-1/3",children:_.jsxs("div",{className:`p-4 rounded-lg sticky top-4 ${t?"bg-gray-700/50":"bg-gray-100"}`,children:[_.jsxs("h2",{className:`text-lg font-semibold mb-4 flex items-center ${t?"text-gray-200":"text-gray-800"}`,children:[_.jsx(Vf,{className:"mr-2 text-teal-500"}),"Help Topics"]}),_.jsxs("nav",{className:"space-y-2",children:[_.jsx("button",{onClick:()=>r("faq"),className:`w-full text-left px-3 py-2 rounded transition-all ${i==="faq"?"bg-teal-500/10 text-teal-500 border border-teal-500/30":t?"hover:bg-gray-600 text-gray-300":"hover:bg-gray-200 text-gray-700"}`,children:"FAQs"}),_.jsx("button",{onClick:()=>r("guides"),className:`w-full text-left px-3 py-2 rounded transition-all ${i==="guides"?"bg-teal-500/10 text-teal-500 border border-teal-500/30":t?"hover:bg-gray-600 text-gray-300":"hover:bg-gray-200 text-gray-700"}`,children:"Guides"}),_.jsx("button",{onClick:()=>r("contact"),className:`w-full text-left px-3 py-2 rounded transition-all ${i==="contact"?"bg-teal-500/10 text-teal-500 border border-teal-500/30":t?"hover:bg-gray-600 text-gray-300":"hover:bg-gray-200 text-gray-700"}`,children:"Contact Us"}),_.jsx("button",{onClick:()=>r("community"),className:`w-full text-left px-3 py-2 rounded transition-all ${i==="community"?"bg-teal-500/10 text-teal-500 border border-teal-500/30":t?"hover:bg-gray-600 text-gray-300":"hover:bg-gray-200 text-gray-700"}`,children:"Community"})]})]})}),_.jsxs("div",{className:"md:w-2/3",children:[i==="faq"&&_.jsxs("div",{children:[_.jsxs("h2",{className:`text-xl font-semibold mb-6 flex items-center ${t?"text-gray-200":"text-gray-800"}`,children:[_.jsx(Vf,{className:"mr-2 text-teal-500"}),"Frequently Asked Questions"]}),_.jsx("div",{className:"space-y-4",children:b.map((E,N)=>_.jsxs("div",{className:`p-4 rounded-lg ${t?"bg-gray-700/50 border border-gray-600":"bg-white border border-gray-200"}`,children:[_.jsx("h3",{className:`font-medium mb-2 ${t?"text-teal-400":"text-teal-600"}`,children:E.question}),_.jsx("p",{className:t?"text-gray-300":"text-gray-700",children:E.answer})]},N))})]}),i==="guides"&&_.jsxs("div",{children:[_.jsxs("h2",{className:`text-xl font-semibold mb-6 flex items-center ${t?"text-gray-200":"text-gray-800"}`,children:[_.jsx(j5,{className:"mr-2 text-teal-500"}),"Helpful Guides"]}),_.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:x.map((E,N)=>_.jsxs("div",{className:`p-4 rounded-lg ${t?"bg-gray-700/50 border border-gray-600":"bg-white border border-gray-200"}`,children:[_.jsx("h3",{className:`font-medium mb-2 ${t?"text-teal-400":"text-teal-600"}`,children:E.title}),_.jsx("p",{className:t?"text-gray-300":"text-gray-700",children:E.content}),_.jsx("button",{className:`mt-3 text-sm ${t?"text-teal-400 hover:text-teal-300":"text-teal-600 hover:text-teal-800"}`,children:"Read more →"})]},N))})]}),i==="contact"&&_.jsxs("div",{children:[_.jsxs("h2",{className:`text-xl font-semibold mb-6 flex items-center ${t?"text-gray-200":"text-gray-800"}`,children:[_.jsx(_g,{className:"mr-2 text-teal-500"}),"Contact Support"]}),h?_.jsx("div",{className:`p-4 rounded-lg ${t?"bg-teal-900/30 text-teal-200":"bg-teal-100 text-teal-800"}`,children:"Thank you for contacting us! We'll get back to you within 24 hours."}):_.jsxs("form",{onSubmit:y,className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{htmlFor:"name",className:`block text-sm font-medium mb-1 ${t?"text-gray-300":"text-gray-700"}`,children:"Your Name"}),_.jsx("input",{type:"text",id:"name",name:"name",value:o.name,onChange:g,required:!0,className:`w-full p-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"email",className:`block text-sm font-medium mb-1 ${t?"text-gray-300":"text-gray-700"}`,children:"Email Address"}),_.jsx("input",{type:"email",id:"email",name:"email",value:o.email,onChange:g,required:!0,className:`w-full p-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"subject",className:`block text-sm font-medium mb-1 ${t?"text-gray-300":"text-gray-700"}`,children:"Subject"}),_.jsxs("select",{id:"subject",name:"subject",value:o.subject,onChange:g,required:!0,className:`w-full p-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,children:[_.jsx("option",{value:"",children:"Select a topic"}),_.jsx("option",{value:"account",children:"Account Issues"}),_.jsx("option",{value:"technical",children:"Technical Problems"}),_.jsx("option",{value:"billing",children:"Billing Questions"}),_.jsx("option",{value:"feedback",children:"Feedback"}),_.jsx("option",{value:"other",children:"Other"})]})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"message",className:`block text-sm font-medium mb-1 ${t?"text-gray-300":"text-gray-700"}`,children:"Message"}),_.jsx("textarea",{id:"message",name:"message",rows:"5",value:o.message,onChange:g,required:!0,className:`w-full p-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`})]}),_.jsx("button",{type:"submit",className:`w-full py-3 px-4 rounded-lg font-medium text-white bg-gradient-to-r from-teal-500 to-teal-600 hover:from-teal-600 hover:to-teal-700 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 ${t?"focus:ring-offset-gray-800":"focus:ring-offset-white"}`,children:"Send Message"})]})]}),i==="community"&&_.jsxs("div",{children:[_.jsxs("h2",{className:`text-xl font-semibold mb-6 flex items-center ${t?"text-gray-200":"text-gray-800"}`,children:[_.jsx(_C,{className:"mr-2 text-teal-500"}),"Community Resources"]}),_.jsxs("div",{className:`p-6 rounded-lg mb-6 ${t?"bg-gray-700/50 border border-gray-600":"bg-white border border-gray-200"}`,children:[_.jsx("h3",{className:`text-lg font-medium mb-3 ${t?"text-teal-400":"text-teal-600"}`,children:"Join Our Community"}),_.jsx("p",{className:`mb-4 ${t?"text-gray-300":"text-gray-700"}`,children:"Connect with other learners, ask questions, and share knowledge in our active community forums."}),_.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[_.jsxs("div",{className:`p-4 rounded-lg ${t?"bg-gray-600/30":"bg-gray-100"}`,children:[_.jsxs("h4",{className:`font-medium mb-2 ${t?"text-gray-200":"text-gray-800"}`,children:[_.jsx(pu,{className:"inline mr-2 text-teal-500"}),"Discussion Forums"]}),_.jsx("p",{className:t?"text-gray-400":"text-gray-600",children:"Participate in topic-specific discussions with students and educators."}),_.jsx("button",{className:`mt-3 text-sm ${t?"text-teal-400 hover:text-teal-300":"text-teal-600 hover:text-teal-800"}`,children:"Visit Forums →"})]}),_.jsxs("div",{className:`p-4 rounded-lg ${t?"bg-gray-600/30":"bg-gray-100"}`,children:[_.jsxs("h4",{className:`font-medium mb-2 ${t?"text-gray-200":"text-gray-800"}`,children:[_.jsx(mC,{className:"inline mr-2 text-teal-500"}),"Local Study Groups"]}),_.jsx("p",{className:t?"text-gray-400":"text-gray-600",children:"Find or create study groups in your area or language."}),_.jsx("button",{className:`mt-3 text-sm ${t?"text-teal-400 hover:text-teal-300":"text-teal-600 hover:text-teal-800"}`,children:"Find Groups →"})]})]})]})]})]})]})})})})]})}function HS(){const{oobCode:n}=ZS(),t=Ki();return B.useEffect(()=>{(async()=>{try{await we.applyActionCode(n),we.currentUser?(await we.currentUser.reload(),t("/profile-setup")):t("/login")}catch(i){console.error("Verification failed:",i),t("/resend-verification",{state:{error:"Verification link is invalid or expired"}})}})()},[n,t]),_.jsx("div",{className:"verification-container",children:_.jsxs("div",{className:"verification-card",children:[_.jsx("h2",{children:"Verifying your email..."}),_.jsx("p",{children:"Please wait while we confirm your email address."})]})})}function nU(){const[n,t]=B.useState(""),[e,i]=B.useState(""),[r,o]=B.useState(!1),[c,h]=B.useState(""),d=Ki(),g=async y=>{if(y.preventDefault(),o(!0),h(""),!we.currentUser){h("No user logged in"),o(!1);return}try{const b={[`users/${we.currentUser.uid}/username`]:n,[`users/${we.currentUser.uid}/bio`]:e,[`users/${we.currentUser.uid}/profileComplete`]:!0,[`users/${we.currentUser.uid}/createdAt`]:Date.now()};await xi(ce(xe),b),await al(ce(xe,`userProfiles/${we.currentUser.uid}`),{username:n,bio:e,profileComplete:!0,createdAt:Date.now(),points:0,bestAnswers:0}),d("/")}catch(b){console.error("Profile setup error:",b),h(b.message||"Failed to save profile")}finally{o(!1)}};return _.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:_.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:_.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[_.jsxs("div",{className:"text-center",children:[_.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Complete Your Profile"}),_.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Add some details to personalize your experience"})]}),c&&_.jsx("div",{className:"mt-4 bg-red-50 border-l-4 border-red-400 p-4",children:_.jsx("div",{className:"flex",children:_.jsx("div",{className:"text-red-400",children:_.jsx("p",{className:"text-sm",children:c})})})}),_.jsxs("form",{className:"mt-8 space-y-6",onSubmit:g,children:[_.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Username"}),_.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[_.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:_.jsx(Ur,{className:"h-5 w-5 text-gray-400"})}),_.jsx("input",{id:"username",name:"username",type:"text",required:!0,minLength:3,maxLength:20,value:n,onChange:y=>t(y.target.value),className:"focus:ring-teal-500 focus:border-teal-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md py-2 border",placeholder:"cooluser123"})]}),_.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"3-20 characters, letters and numbers only"})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700",children:"Bio (Optional)"}),_.jsx("div",{className:"mt-1",children:_.jsx("textarea",{id:"bio",name:"bio",rows:3,maxLength:150,value:e,onChange:y=>i(y.target.value),className:"shadow-sm focus:ring-teal-500 focus:border-teal-500 block w-full sm:text-sm border border-gray-300 rounded-md p-2",placeholder:"Tell us about yourself..."})}),_.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Max 150 characters"})]})]}),_.jsx("div",{children:_.jsx("button",{type:"submit",disabled:r||!n,className:`group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-teal-600 hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 ${r||!n?"opacity-70 cursor-not-allowed":""}`,children:r?_.jsxs("span",{className:"flex items-center",children:[_.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[_.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),_.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):_.jsxs(_.Fragment,{children:[_.jsx(pC,{className:"mr-2 h-4 w-4"}),"Complete Profile"]})})})]})]})})})}function iU(){return _.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:_.jsxs("div",{className:"max-w-3xl mx-auto bg-white p-6 shadow rounded-lg",children:[_.jsxs(te,{to:"/signup",className:"flex items-center text-sm font-medium text-gray-600 hover:text-teal-500 mb-6",children:[_.jsx(Zu,{className:"mr-1"}),"Back to Sign Up"]}),_.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Terms and Conditions"}),_.jsxs("div",{className:"prose prose-sm sm:prose lg:prose-lg xl:prose-xl mx-auto",children:[_.jsx("h2",{children:"1. Acceptance of Terms"}),_.jsx("p",{children:"By accessing or using our service, you agree to be bound by these terms..."}),_.jsx("h2",{children:"2. User Responsibilities"}),_.jsx("p",{children:"You are responsible for maintaining the confidentiality of your account..."}),_.jsx("h2",{children:"3. Privacy Policy"}),_.jsx("p",{children:"Your privacy is important to us. Please review our Privacy Policy..."}),_.jsx("h2",{children:"4. Content Ownership"}),_.jsx("p",{children:"You retain ownership of any content you submit, post or display..."}),_.jsx("h2",{children:"5. Termination"}),_.jsx("p",{children:"We may terminate or suspend access to our service immediately..."}),_.jsx("h2",{children:"6. Changes to Terms"}),_.jsx("p",{children:"We reserve the right to modify these terms at any time..."}),_.jsx("h2",{children:"7. Contact Information"}),_.jsx("p",{children:"If you have any questions about these Terms, please contact us at..."})]})]})})}function FS({children:n}){const{currentUser:t}=Qu(),e=Ci();return t?n:_.jsx(sf,{to:"/login",state:{from:e},replace:!0})}function VS({children:n}){const{currentUser:t}=Qu(),e=Ci();return t?_.jsx(sf,{to:"/",state:{from:e},replace:!0}):n}function qS({children:n}){const{currentUser:t}=Qu(),e=Ci();return t?t&&!t.emailVerified?_.jsx(sf,{to:"/verify-email",state:{from:e},replace:!0}):n:_.jsx(sf,{to:"/login",state:{from:e},replace:!0})}function sU(){return _.jsx(TT,{children:_.jsx(oE,{children:_.jsxs($N,{children:[_.jsx(Hn,{path:"/",element:_.jsx(DS,{})}),_.jsx(Hn,{path:"/terms",element:_.jsx(iU,{})}),_.jsx(Hn,{path:"/help",element:_.jsx(eU,{})}),_.jsx(Hn,{path:"/login",element:_.jsx(VS,{children:_.jsx(V5,{})})}),_.jsx(Hn,{path:"/signup",element:_.jsx(VS,{children:_.jsx(q5,{})})}),_.jsx(Hn,{path:"/verify-email",element:_.jsx(HS,{})}),_.jsx(Hn,{path:"/verify-email/:oobCode",element:_.jsx(HS,{})}),_.jsx(Hn,{path:"/dashboard",element:_.jsx(FS,{children:_.jsx(DS,{})})}),_.jsx(Hn,{path:"/profile-setup",element:_.jsx(qS,{children:_.jsx(nU,{})})}),_.jsx(Hn,{path:"/settings",element:_.jsx(qS,{children:_.jsx(W5,{})})}),_.jsx(Hn,{path:"/profile/:userId",element:_.jsx(FS,{children:_.jsx(tU,{})})}),_.jsx(Hn,{path:"*",element:_.jsx(Y5,{})})]})})})}function rU(){return _.jsx(TT,{children:_.jsx(oE,{children:_.jsx(yR,{basename:"/StudiQ",children:_.jsx(sU,{})})})})}sN.createRoot(document.getElementById("root")).render(_.jsx(B.StrictMode,{children:_.jsx(rU,{})}));
