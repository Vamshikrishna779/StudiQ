(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function $A(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Sp={exports:{}},zc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cx;function XA(){if(Cx)return zc;Cx=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:c,ref:r!==void 0?r:null,props:o}}return zc.Fragment=t,zc.jsx=e,zc.jsxs=e,zc}var Ax;function QA(){return Ax||(Ax=1,Sp.exports=XA()),Sp.exports}var _=QA(),Ep={exports:{}},Et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nx;function KA(){if(Nx)return Et;Nx=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.iterator;function x(P){return P===null||typeof P!="object"?null:(P=b&&P[b]||P["@@iterator"],typeof P=="function"?P:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,M={};function R(P,et,lt){this.props=P,this.context=et,this.refs=M,this.updater=lt||E}R.prototype.isReactComponent={},R.prototype.setState=function(P,et){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,et,"setState")},R.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function B(){}B.prototype=R.prototype;function W(P,et,lt){this.props=P,this.context=et,this.refs=M,this.updater=lt||E}var Y=W.prototype=new B;Y.constructor=W,A(Y,R.prototype),Y.isPureReactComponent=!0;var tt=Array.isArray,K={H:null,A:null,T:null,S:null,V:null},ot=Object.prototype.hasOwnProperty;function O(P,et,lt,rt,ht,gt){return lt=gt.ref,{$$typeof:n,type:P,key:et,ref:lt!==void 0?lt:null,props:gt}}function C(P,et){return O(P.type,et,void 0,void 0,void 0,P.props)}function k(P){return typeof P=="object"&&P!==null&&P.$$typeof===n}function I(P){var et={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(lt){return et[lt]})}var j=/\/+/g;function U(P,et){return typeof P=="object"&&P!==null&&P.key!=null?I(""+P.key):et.toString(36)}function D(){}function Tt(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(D,D):(P.status="pending",P.then(function(et){P.status==="pending"&&(P.status="fulfilled",P.value=et)},function(et){P.status==="pending"&&(P.status="rejected",P.reason=et)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function yt(P,et,lt,rt,ht){var gt=typeof P;(gt==="undefined"||gt==="boolean")&&(P=null);var mt=!1;if(P===null)mt=!0;else switch(gt){case"bigint":case"string":case"number":mt=!0;break;case"object":switch(P.$$typeof){case n:case t:mt=!0;break;case y:return mt=P._init,yt(mt(P._payload),et,lt,rt,ht)}}if(mt)return ht=ht(P),mt=rt===""?"."+U(P,0):rt,tt(ht)?(lt="",mt!=null&&(lt=mt.replace(j,"$&/")+"/"),yt(ht,et,lt,"",function(qn){return qn})):ht!=null&&(k(ht)&&(ht=C(ht,lt+(ht.key==null||P&&P.key===ht.key?"":(""+ht.key).replace(j,"$&/")+"/")+mt)),et.push(ht)),1;mt=0;var $t=rt===""?".":rt+":";if(tt(P))for(var Kt=0;Kt<P.length;Kt++)rt=P[Kt],gt=$t+U(rt,Kt),mt+=yt(rt,et,lt,gt,ht);else if(Kt=x(P),typeof Kt=="function")for(P=Kt.call(P),Kt=0;!(rt=P.next()).done;)rt=rt.value,gt=$t+U(rt,Kt++),mt+=yt(rt,et,lt,gt,ht);else if(gt==="object"){if(typeof P.then=="function")return yt(Tt(P),et,lt,rt,ht);throw et=String(P),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return mt}function $(P,et,lt){if(P==null)return P;var rt=[],ht=0;return yt(P,rt,"","",function(gt){return et.call(lt,gt,ht++)}),rt}function Z(P){if(P._status===-1){var et=P._result;et=et(),et.then(function(lt){(P._status===0||P._status===-1)&&(P._status=1,P._result=lt)},function(lt){(P._status===0||P._status===-1)&&(P._status=2,P._result=lt)}),P._status===-1&&(P._status=0,P._result=et)}if(P._status===1)return P._result.default;throw P._result}var it=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function ct(){}return Et.Children={map:$,forEach:function(P,et,lt){$(P,function(){et.apply(this,arguments)},lt)},count:function(P){var et=0;return $(P,function(){et++}),et},toArray:function(P){return $(P,function(et){return et})||[]},only:function(P){if(!k(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Et.Component=R,Et.Fragment=e,Et.Profiler=r,Et.PureComponent=W,Et.StrictMode=i,Et.Suspense=d,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,Et.__COMPILER_RUNTIME={__proto__:null,c:function(P){return K.H.useMemoCache(P)}},Et.cache=function(P){return function(){return P.apply(null,arguments)}},Et.cloneElement=function(P,et,lt){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var rt=A({},P.props),ht=P.key,gt=void 0;if(et!=null)for(mt in et.ref!==void 0&&(gt=void 0),et.key!==void 0&&(ht=""+et.key),et)!ot.call(et,mt)||mt==="key"||mt==="__self"||mt==="__source"||mt==="ref"&&et.ref===void 0||(rt[mt]=et[mt]);var mt=arguments.length-2;if(mt===1)rt.children=lt;else if(1<mt){for(var $t=Array(mt),Kt=0;Kt<mt;Kt++)$t[Kt]=arguments[Kt+2];rt.children=$t}return O(P.type,ht,void 0,void 0,gt,rt)},Et.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:o,_context:P},P},Et.createElement=function(P,et,lt){var rt,ht={},gt=null;if(et!=null)for(rt in et.key!==void 0&&(gt=""+et.key),et)ot.call(et,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(ht[rt]=et[rt]);var mt=arguments.length-2;if(mt===1)ht.children=lt;else if(1<mt){for(var $t=Array(mt),Kt=0;Kt<mt;Kt++)$t[Kt]=arguments[Kt+2];ht.children=$t}if(P&&P.defaultProps)for(rt in mt=P.defaultProps,mt)ht[rt]===void 0&&(ht[rt]=mt[rt]);return O(P,gt,void 0,void 0,null,ht)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(P){return{$$typeof:h,render:P}},Et.isValidElement=k,Et.lazy=function(P){return{$$typeof:y,_payload:{_status:-1,_result:P},_init:Z}},Et.memo=function(P,et){return{$$typeof:g,type:P,compare:et===void 0?null:et}},Et.startTransition=function(P){var et=K.T,lt={};K.T=lt;try{var rt=P(),ht=K.S;ht!==null&&ht(lt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(ct,it)}catch(gt){it(gt)}finally{K.T=et}},Et.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},Et.use=function(P){return K.H.use(P)},Et.useActionState=function(P,et,lt){return K.H.useActionState(P,et,lt)},Et.useCallback=function(P,et){return K.H.useCallback(P,et)},Et.useContext=function(P){return K.H.useContext(P)},Et.useDebugValue=function(){},Et.useDeferredValue=function(P,et){return K.H.useDeferredValue(P,et)},Et.useEffect=function(P,et,lt){var rt=K.H;if(typeof lt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return rt.useEffect(P,et)},Et.useId=function(){return K.H.useId()},Et.useImperativeHandle=function(P,et,lt){return K.H.useImperativeHandle(P,et,lt)},Et.useInsertionEffect=function(P,et){return K.H.useInsertionEffect(P,et)},Et.useLayoutEffect=function(P,et){return K.H.useLayoutEffect(P,et)},Et.useMemo=function(P,et){return K.H.useMemo(P,et)},Et.useOptimistic=function(P,et){return K.H.useOptimistic(P,et)},Et.useReducer=function(P,et,lt){return K.H.useReducer(P,et,lt)},Et.useRef=function(P){return K.H.useRef(P)},Et.useState=function(P){return K.H.useState(P)},Et.useSyncExternalStore=function(P,et,lt){return K.H.useSyncExternalStore(P,et,lt)},Et.useTransition=function(){return K.H.useTransition()},Et.version="19.1.0",Et}var kx;function zy(){return kx||(kx=1,Ep.exports=KA()),Ep.exports}var z=zy();const zs=$A(z);var Tp={exports:{}},Bc={},Cp={exports:{}},Ap={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rx;function ZA(){return Rx||(Rx=1,function(n){function t($,Z){var it=$.length;$.push(Z);t:for(;0<it;){var ct=it-1>>>1,P=$[ct];if(0<r(P,Z))$[ct]=Z,$[it]=P,it=ct;else break t}}function e($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var Z=$[0],it=$.pop();if(it!==Z){$[0]=it;t:for(var ct=0,P=$.length,et=P>>>1;ct<et;){var lt=2*(ct+1)-1,rt=$[lt],ht=lt+1,gt=$[ht];if(0>r(rt,it))ht<P&&0>r(gt,rt)?($[ct]=gt,$[ht]=it,ct=ht):($[ct]=rt,$[lt]=it,ct=lt);else if(ht<P&&0>r(gt,it))$[ct]=gt,$[ht]=it,ct=ht;else break t}}return Z}function r($,Z){var it=$.sortIndex-Z.sortIndex;return it!==0?it:$.id-Z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var d=[],g=[],y=1,b=null,x=3,E=!1,A=!1,M=!1,R=!1,B=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function tt($){for(var Z=e(g);Z!==null;){if(Z.callback===null)i(g);else if(Z.startTime<=$)i(g),Z.sortIndex=Z.expirationTime,t(d,Z);else break;Z=e(g)}}function K($){if(M=!1,tt($),!A)if(e(d)!==null)A=!0,ot||(ot=!0,U());else{var Z=e(g);Z!==null&&yt(K,Z.startTime-$)}}var ot=!1,O=-1,C=5,k=-1;function I(){return R?!0:!(n.unstable_now()-k<C)}function j(){if(R=!1,ot){var $=n.unstable_now();k=$;var Z=!0;try{t:{A=!1,M&&(M=!1,W(O),O=-1),E=!0;var it=x;try{e:{for(tt($),b=e(d);b!==null&&!(b.expirationTime>$&&I());){var ct=b.callback;if(typeof ct=="function"){b.callback=null,x=b.priorityLevel;var P=ct(b.expirationTime<=$);if($=n.unstable_now(),typeof P=="function"){b.callback=P,tt($),Z=!0;break e}b===e(d)&&i(d),tt($)}else i(d);b=e(d)}if(b!==null)Z=!0;else{var et=e(g);et!==null&&yt(K,et.startTime-$),Z=!1}}break t}finally{b=null,x=it,E=!1}Z=void 0}}finally{Z?U():ot=!1}}}var U;if(typeof Y=="function")U=function(){Y(j)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Tt=D.port2;D.port1.onmessage=j,U=function(){Tt.postMessage(null)}}else U=function(){B(j,0)};function yt($,Z){O=B(function(){$(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function($){switch(x){case 1:case 2:case 3:var Z=3;break;default:Z=x}var it=x;x=Z;try{return $()}finally{x=it}},n.unstable_requestPaint=function(){R=!0},n.unstable_runWithPriority=function($,Z){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var it=x;x=$;try{return Z()}finally{x=it}},n.unstable_scheduleCallback=function($,Z,it){var ct=n.unstable_now();switch(typeof it=="object"&&it!==null?(it=it.delay,it=typeof it=="number"&&0<it?ct+it:ct):it=ct,$){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=it+P,$={id:y++,callback:Z,priorityLevel:$,startTime:it,expirationTime:P,sortIndex:-1},it>ct?($.sortIndex=it,t(g,$),e(d)===null&&$===e(g)&&(M?(W(O),O=-1):M=!0,yt(K,it-ct))):($.sortIndex=P,t(d,$),A||E||(A=!0,ot||(ot=!0,U()))),$},n.unstable_shouldYield=I,n.unstable_wrapCallback=function($){var Z=x;return function(){var it=x;x=Z;try{return $.apply(this,arguments)}finally{x=it}}}}(Ap)),Ap}var Mx;function JA(){return Mx||(Mx=1,Cp.exports=ZA()),Cp.exports}var Np={exports:{}},gn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ox;function tN(){if(Ox)return gn;Ox=1;var n=zy();function t(d){var g="https://react.dev/errors/"+d;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(d,g,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:b==null?null:""+b,children:d,containerInfo:g,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,g){if(d==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,gn.createPortal=function(d,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return o(d,g,null,y)},gn.flushSync=function(d){var g=c.T,y=i.p;try{if(c.T=null,i.p=2,d)return d()}finally{c.T=g,i.p=y,i.d.f()}},gn.preconnect=function(d,g){typeof d=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(d,g))},gn.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},gn.preinit=function(d,g){if(typeof d=="string"&&g&&typeof g.as=="string"){var y=g.as,b=h(y,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,E=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?i.d.S(d,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:E}):y==="script"&&i.d.X(d,{crossOrigin:b,integrity:x,fetchPriority:E,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},gn.preinitModule=function(d,g){if(typeof d=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=h(g.as,g.crossOrigin);i.d.M(d,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(d)},gn.preload=function(d,g){if(typeof d=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,b=h(y,g.crossOrigin);i.d.L(d,y,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},gn.preloadModule=function(d,g){if(typeof d=="string")if(g){var y=h(g.as,g.crossOrigin);i.d.m(d,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(d)},gn.requestFormReset=function(d){i.d.r(d)},gn.unstable_batchedUpdates=function(d,g){return d(g)},gn.useFormState=function(d,g,y){return c.H.useFormState(d,g,y)},gn.useFormStatus=function(){return c.H.useHostTransitionStatus()},gn.version="19.1.0",gn}var Dx;function eN(){if(Dx)return Np.exports;Dx=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Np.exports=tN(),Np.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ix;function nN(){if(Ix)return Bc;Ix=1;var n=JA(),t=zy(),e=eN();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function c(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(o(s)!==s)throw Error(i(188))}function d(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var l=s,u=a;;){var m=l.return;if(m===null)break;var p=m.alternate;if(p===null){if(u=m.return,u!==null){l=u;continue}break}if(m.child===p.child){for(p=m.child;p;){if(p===l)return h(m),s;if(p===u)return h(m),a;p=p.sibling}throw Error(i(188))}if(l.return!==u.return)l=m,u=p;else{for(var S=!1,T=m.child;T;){if(T===l){S=!0,l=m,u=p;break}if(T===u){S=!0,u=m,l=p;break}T=T.sibling}if(!S){for(T=p.child;T;){if(T===l){S=!0,l=p,u=m;break}if(T===u){S=!0,u=p,l=m;break}T=T.sibling}if(!S)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:a}function g(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=g(s),a!==null)return a;s=s.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),W=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),tt=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function U(s){return s===null||typeof s!="object"?null:(s=j&&s[j]||s["@@iterator"],typeof s=="function"?s:null)}var D=Symbol.for("react.client.reference");function Tt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===D?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case A:return"Fragment";case R:return"Profiler";case M:return"StrictMode";case K:return"Suspense";case ot:return"SuspenseList";case k:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case E:return"Portal";case Y:return(s.displayName||"Context")+".Provider";case W:return(s._context.displayName||"Context")+".Consumer";case tt:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case O:return a=s.displayName||null,a!==null?a:Tt(s.type)||"Memo";case C:a=s._payload,s=s._init;try{return Tt(s(a))}catch{}}return null}var yt=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it={pending:!1,data:null,method:null,action:null},ct=[],P=-1;function et(s){return{current:s}}function lt(s){0>P||(s.current=ct[P],ct[P]=null,P--)}function rt(s,a){P++,ct[P]=s.current,s.current=a}var ht=et(null),gt=et(null),mt=et(null),$t=et(null);function Kt(s,a){switch(rt(mt,a),rt(gt,s),rt(ht,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?tx(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=tx(a),s=ex(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}lt(ht),rt(ht,s)}function qn(){lt(ht),lt(gt),lt(mt)}function Mi(s){s.memoizedState!==null&&rt($t,s);var a=ht.current,l=ex(a,s.type);a!==l&&(rt(gt,s),rt(ht,l))}function ft(s){gt.current===s&&(lt(ht),lt(gt)),$t.current===s&&(lt($t),Ic._currentValue=it)}var Dt=Object.prototype.hasOwnProperty,ae=n.unstable_scheduleCallback,ve=n.unstable_cancelCallback,he=n.unstable_shouldYield,hn=n.unstable_requestPaint,Lt=n.unstable_now,de=n.unstable_getCurrentPriorityLevel,En=n.unstable_ImmediatePriority,Ks=n.unstable_UserBlockingPriority,Kr=n.unstable_NormalPriority,Eg=n.unstable_LowPriority,lo=n.unstable_IdlePriority,Ll=n.log,sh=n.unstable_setDisableYieldValue,Ae=null,Zt=null;function Ln(s){if(typeof Ll=="function"&&sh(s),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(Ae,s)}catch{}}var dn=Math.clz32?Math.clz32:Zr,rh=Math.log,Tg=Math.LN2;function Zr(s){return s>>>=0,s===0?32:31-(rh(s)/Tg|0)|0}var Jr=256,ta=4194304;function hi(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function co(s,a,l){var u=s.pendingLanes;if(u===0)return 0;var m=0,p=s.suspendedLanes,S=s.pingedLanes;s=s.warmLanes;var T=u&134217727;return T!==0?(u=T&~p,u!==0?m=hi(u):(S&=T,S!==0?m=hi(S):l||(l=T&~s,l!==0&&(m=hi(l))))):(T=u&~p,T!==0?m=hi(T):S!==0?m=hi(S):l||(l=u&~s,l!==0&&(m=hi(l)))),m===0?0:a!==0&&a!==m&&(a&p)===0&&(p=m&-m,l=a&-a,p>=l||p===32&&(l&4194048)!==0)?a:m}function ea(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function jl(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pl(){var s=Jr;return Jr<<=1,(Jr&4194048)===0&&(Jr=256),s}function ah(){var s=ta;return ta<<=1,(ta&62914560)===0&&(ta=4194304),s}function is(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function ss(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Ul(s,a,l,u,m,p){var S=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var T=s.entanglements,L=s.expirationTimes,G=s.hiddenUpdates;for(l=S&~l;0<l;){var nt=31-dn(l),at=1<<nt;T[nt]=0,L[nt]=-1;var X=G[nt];if(X!==null)for(G[nt]=null,nt=0;nt<X.length;nt++){var Q=X[nt];Q!==null&&(Q.lane&=-536870913)}l&=~at}u!==0&&rs(s,u,0),p!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=p&~(S&~a))}function rs(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var u=31-dn(a);s.entangledLanes|=a,s.entanglements[u]=s.entanglements[u]|1073741824|l&4194090}function zl(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var u=31-dn(l),m=1<<u;m&a|s[u]&a&&(s[u]|=a),l&=~m}}function na(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function uo(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Zs(){var s=Z.p;return s!==0?s:(s=window.event,s===void 0?32:bx(s.type))}function oh(s,a){var l=Z.p;try{return Z.p=s,a()}finally{Z.p=l}}var be=Math.random().toString(36).slice(2),He="__reactFiber$"+be,Le="__reactProps$"+be,Wn="__reactContainer$"+be,Bl="__reactEvents$"+be,Cg="__reactListeners$"+be,Js="__reactHandles$"+be,lh="__reactResources$"+be,ia="__reactMarker$"+be;function sa(s){delete s[He],delete s[Le],delete s[Bl],delete s[Cg],delete s[Js]}function tr(s){var a=s[He];if(a)return a;for(var l=s.parentNode;l;){if(a=l[Wn]||l[He]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=rx(s);s!==null;){if(l=s[He])return l;s=rx(s)}return a}s=l,l=s.parentNode}return null}function Oi(s){if(s=s[He]||s[Wn]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function Di(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function yn(s){var a=s[lh];return a||(a=s[lh]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Me(s){s[ia]=!0}var Hl=new Set,ho={};function di(s,a){as(s,a),as(s+"Capture",a)}function as(s,a){for(ho[s]=a,s=0;s<a.length;s++)Hl.add(a[s])}var ch=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),uh={},ra={};function hh(s){return Dt.call(ra,s)?!0:Dt.call(uh,s)?!1:ch.test(s)?ra[s]=!0:(uh[s]=!0,!1)}function er(s,a,l){if(hh(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function Ii(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function sn(s,a,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+u)}}var aa,dh;function os(s){if(aa===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);aa=a&&a[1]||"",dh=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+aa+s+dh}var fo=!1;function go(s,a){if(!s||fo)return"";fo=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var at=function(){throw Error()};if(Object.defineProperty(at.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(at,[])}catch(Q){var X=Q}Reflect.construct(s,[],at)}else{try{at.call()}catch(Q){X=Q}s.call(at.prototype)}}else{try{throw Error()}catch(Q){X=Q}(at=s())&&typeof at.catch=="function"&&at.catch(function(){})}}catch(Q){if(Q&&X&&typeof Q.stack=="string")return[Q.stack,X.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),S=p[0],T=p[1];if(S&&T){var L=S.split(`
`),G=T.split(`
`);for(m=u=0;u<L.length&&!L[u].includes("DetermineComponentFrameRoot");)u++;for(;m<G.length&&!G[m].includes("DetermineComponentFrameRoot");)m++;if(u===L.length||m===G.length)for(u=L.length-1,m=G.length-1;1<=u&&0<=m&&L[u]!==G[m];)m--;for(;1<=u&&0<=m;u--,m--)if(L[u]!==G[m]){if(u!==1||m!==1)do if(u--,m--,0>m||L[u]!==G[m]){var nt=`
`+L[u].replace(" at new "," at ");return s.displayName&&nt.includes("<anonymous>")&&(nt=nt.replace("<anonymous>",s.displayName)),nt}while(1<=u&&0<=m);break}}}finally{fo=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?os(l):""}function Fl(s){switch(s.tag){case 26:case 27:case 5:return os(s.type);case 16:return os("Lazy");case 13:return os("Suspense");case 19:return os("SuspenseList");case 0:case 15:return go(s.type,!1);case 11:return go(s.type.render,!1);case 1:return go(s.type,!0);case 31:return os("Activity");default:return""}}function mo(s){try{var a="";do a+=Fl(s),s=s.return;while(s);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function _n(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Vl(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ag(s){var a=Vl(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),u=""+s[a];if(!s.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,p=l.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return m.call(this)},set:function(S){u=""+S,p.call(this,S)}}),Object.defineProperty(s,a,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(S){u=""+S},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function po(s){s._valueTracker||(s._valueTracker=Ag(s))}function ql(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return s&&(u=Vl(s)?s.checked?"true":"false":s.value),s=u,s!==l?(a.setValue(s),!0):!1}function oa(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Ng=/[\n"\\]/g;function je(s){return s.replace(Ng,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function jn(s,a,l,u,m,p,S,T){s.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.type=S:s.removeAttribute("type"),a!=null?S==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+_n(a)):s.value!==""+_n(a)&&(s.value=""+_n(a)):S!=="submit"&&S!=="reset"||s.removeAttribute("value"),a!=null?nr(s,S,_n(a)):l!=null?nr(s,S,_n(l)):u!=null&&s.removeAttribute("value"),m==null&&p!=null&&(s.defaultChecked=!!p),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?s.name=""+_n(T):s.removeAttribute("name")}function la(s,a,l,u,m,p,S,T){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(s.type=p),a!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||a!=null))return;l=l!=null?""+_n(l):"",a=a!=null?""+_n(a):l,T||a===s.value||(s.value=a),s.defaultValue=a}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=T?s.checked:!!u,s.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(s.name=S)}function nr(s,a,l){a==="number"&&oa(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function ls(s,a,l,u){if(s=s.options,a){a={};for(var m=0;m<l.length;m++)a["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=a.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&u&&(s[l].defaultSelected=!0)}else{for(l=""+_n(l),a=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,u&&(s[m].defaultSelected=!0);return}a!==null||s[m].disabled||(a=s[m])}a!==null&&(a.selected=!0)}}function oe(s,a,l){if(a!=null&&(a=""+_n(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+_n(l):""}function ca(s,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(i(92));if(yt(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=_n(a),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u)}function Yn(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var ua=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fh(s,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":u?s.setProperty(a,l):typeof l!="number"||l===0||ua.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function Wl(s,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var m in a)u=a[m],a.hasOwnProperty(m)&&l[m]!==u&&fh(s,m,u)}else for(var p in a)a.hasOwnProperty(p)&&fh(s,p,a[p])}function Yl(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yo(s){return Rg.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var cs=null;function Gn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var us=null,hs=null;function Gl(s){var a=Oi(s);if(a&&(s=a.stateNode)){var l=s[Le]||null;t:switch(s=a.stateNode,a.type){case"input":if(jn(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+je(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==s&&u.form===s.form){var m=u[Le]||null;if(!m)throw Error(i(90));jn(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===s.form&&ql(u)}break t;case"textarea":oe(s,l.value,l.defaultValue);break t;case"select":a=l.value,a!=null&&ls(s,!!l.multiple,a,!1)}}}var Li=!1;function gh(s,a,l){if(Li)return s(a,l);Li=!0;try{var u=s(a);return u}finally{if(Li=!1,(us!==null||hs!==null)&&(od(),us&&(a=us,s=hs,hs=us=null,Gl(a),s)))for(a=0;a<s.length;a++)Gl(s[a])}}function ha(s,a){var l=s.stateNode;if(l===null)return null;var u=l[Le]||null;if(u===null)return null;l=u[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break t;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$n=!1;if(fi)try{var da={};Object.defineProperty(da,"passive",{get:function(){$n=!0}}),window.addEventListener("test",da,da),window.removeEventListener("test",da,da)}catch{$n=!1}var ji=null,ir=null,ds=null;function $l(){if(ds)return ds;var s,a=ir,l=a.length,u,m="value"in ji?ji.value:ji.textContent,p=m.length;for(s=0;s<l&&a[s]===m[s];s++);var S=l-s;for(u=1;u<=S&&a[l-u]===m[p-u];u++);return ds=m.slice(s,1<u?1-u:void 0)}function Pi(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Ui(){return!0}function Xl(){return!1}function Ge(s){function a(l,u,m,p,S){this._reactName=l,this._targetInst=m,this.type=u,this.nativeEvent=p,this.target=S,this.currentTarget=null;for(var T in s)s.hasOwnProperty(T)&&(l=s[T],this[T]=l?l(p):p[T]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ui:Xl,this.isPropagationStopped=Xl,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),a}var Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_o=Ge(Jt),fa=y({},Jt,{view:0,detail:0}),mh=Ge(fa),vo,bo,zi,ga=y({},fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ya,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==zi&&(zi&&s.type==="mousemove"?(vo=s.screenX-zi.screenX,bo=s.screenY-zi.screenY):bo=vo=0,zi=s),vo)},movementY:function(s){return"movementY"in s?s.movementY:bo}}),Xn=Ge(ga),ph=y({},ga,{dataTransfer:0}),Mg=Ge(ph),ma=y({},fa,{relatedTarget:0}),xo=Ge(ma),Ql=y({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0}),wo=Ge(Ql),yh=y({},Jt,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),So=Ge(yh),Og=y({},Jt,{data:0}),Kl=Ge(Og),pa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_h={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zl(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=vh[s])?!!a[s]:!1}function ya(){return Zl}var bh=y({},fa,{key:function(s){if(s.key){var a=pa[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Pi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?_h[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ya,charCode:function(s){return s.type==="keypress"?Pi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Pi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Eo=Ge(bh),xh=y({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jl=Ge(xh),fs=y({},fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ya}),wh=Ge(fs),Sh=y({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Eh=Ge(Sh),Th=y({},ga,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Tn=Ge(Th),Ch=y({},Jt,{newState:0,oldState:0}),Ah=Ge(Ch),sr=[9,13,27,32],f=fi&&"CompositionEvent"in window,v=null;fi&&"documentMode"in document&&(v=document.documentMode);var w=fi&&"TextEvent"in window&&!v,N=fi&&(!f||v&&8<v&&11>=v),V=" ",J=!1;function dt(s,a){switch(s){case"keyup":return sr.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xt(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var xe=!1;function jt(s,a){switch(s){case"compositionend":return Xt(a);case"keypress":return a.which!==32?null:(J=!0,V);case"textInput":return s=a.data,s===V&&J?null:s;default:return null}}function $e(s,a){if(xe)return s==="compositionend"||!f&&dt(s,a)?(s=$l(),ds=ir=ji=null,xe=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return N&&a.locale!=="ko"?null:a.data;default:return null}}var Xe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gs(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!Xe[s.type]:a==="textarea"}function Cn(s,a,l,u){us?hs?hs.push(u):hs=[u]:us=u,a=fd(a,"onChange"),0<a.length&&(l=new _o("onChange","change",null,l,u),s.push({event:l,listeners:a}))}var Bi=null,ms=null;function SC(s){Xb(s,0)}function Nh(s){var a=Di(s);if(ql(a))return s}function p0(s,a){if(s==="change")return a}var y0=!1;if(fi){var Dg;if(fi){var Ig="oninput"in document;if(!Ig){var _0=document.createElement("div");_0.setAttribute("oninput","return;"),Ig=typeof _0.oninput=="function"}Dg=Ig}else Dg=!1;y0=Dg&&(!document.documentMode||9<document.documentMode)}function v0(){Bi&&(Bi.detachEvent("onpropertychange",b0),ms=Bi=null)}function b0(s){if(s.propertyName==="value"&&Nh(ms)){var a=[];Cn(a,ms,s,Gn(s)),gh(SC,a)}}function EC(s,a,l){s==="focusin"?(v0(),Bi=a,ms=l,Bi.attachEvent("onpropertychange",b0)):s==="focusout"&&v0()}function TC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Nh(ms)}function CC(s,a){if(s==="click")return Nh(a)}function AC(s,a){if(s==="input"||s==="change")return Nh(a)}function NC(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Pn=typeof Object.is=="function"?Object.is:NC;function tc(s,a){if(Pn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var m=l[u];if(!Dt.call(a,m)||!Pn(s[m],a[m]))return!1}return!0}function x0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function w0(s,a){var l=x0(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=a&&u>=a)return{node:l,offset:a-s};s=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=x0(l)}}function S0(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?S0(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function E0(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=oa(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=oa(s.document)}return a}function Lg(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var kC=fi&&"documentMode"in document&&11>=document.documentMode,To=null,jg=null,ec=null,Pg=!1;function T0(s,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Pg||To==null||To!==oa(u)||(u=To,"selectionStart"in u&&Lg(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ec&&tc(ec,u)||(ec=u,u=fd(jg,"onSelect"),0<u.length&&(a=new _o("onSelect","select",null,a,l),s.push({event:a,listeners:u}),a.target=To)))}function _a(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var Co={animationend:_a("Animation","AnimationEnd"),animationiteration:_a("Animation","AnimationIteration"),animationstart:_a("Animation","AnimationStart"),transitionrun:_a("Transition","TransitionRun"),transitionstart:_a("Transition","TransitionStart"),transitioncancel:_a("Transition","TransitionCancel"),transitionend:_a("Transition","TransitionEnd")},Ug={},C0={};fi&&(C0=document.createElement("div").style,"AnimationEvent"in window||(delete Co.animationend.animation,delete Co.animationiteration.animation,delete Co.animationstart.animation),"TransitionEvent"in window||delete Co.transitionend.transition);function va(s){if(Ug[s])return Ug[s];if(!Co[s])return s;var a=Co[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in C0)return Ug[s]=a[l];return s}var A0=va("animationend"),N0=va("animationiteration"),k0=va("animationstart"),RC=va("transitionrun"),MC=va("transitionstart"),OC=va("transitioncancel"),R0=va("transitionend"),M0=new Map,zg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zg.push("scrollEnd");function gi(s,a){M0.set(s,a),di(a,[s])}var O0=new WeakMap;function Qn(s,a){if(typeof s=="object"&&s!==null){var l=O0.get(s);return l!==void 0?l:(a={value:s,source:a,stack:mo(a)},O0.set(s,a),a)}return{value:s,source:a,stack:mo(a)}}var Kn=[],Ao=0,Bg=0;function kh(){for(var s=Ao,a=Bg=Ao=0;a<s;){var l=Kn[a];Kn[a++]=null;var u=Kn[a];Kn[a++]=null;var m=Kn[a];Kn[a++]=null;var p=Kn[a];if(Kn[a++]=null,u!==null&&m!==null){var S=u.pending;S===null?m.next=m:(m.next=S.next,S.next=m),u.pending=m}p!==0&&D0(l,m,p)}}function Rh(s,a,l,u){Kn[Ao++]=s,Kn[Ao++]=a,Kn[Ao++]=l,Kn[Ao++]=u,Bg|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function Hg(s,a,l,u){return Rh(s,a,l,u),Mh(s)}function No(s,a){return Rh(s,null,null,a),Mh(s)}function D0(s,a,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var m=!1,p=s.return;p!==null;)p.childLanes|=l,u=p.alternate,u!==null&&(u.childLanes|=l),p.tag===22&&(s=p.stateNode,s===null||s._visibility&1||(m=!0)),s=p,p=p.return;return s.tag===3?(p=s.stateNode,m&&a!==null&&(m=31-dn(l),s=p.hiddenUpdates,u=s[m],u===null?s[m]=[a]:u.push(a),a.lane=l|536870912),p):null}function Mh(s){if(50<Cc)throw Cc=0,Gm=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var ko={};function DC(s,a,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(s,a,l,u){return new DC(s,a,l,u)}function Fg(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ps(s,a){var l=s.alternate;return l===null?(l=Un(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function I0(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function Oh(s,a,l,u,m,p){var S=0;if(u=s,typeof s=="function")Fg(s)&&(S=1);else if(typeof s=="string")S=LA(s,l,ht.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case k:return s=Un(31,l,a,m),s.elementType=k,s.lanes=p,s;case A:return ba(l.children,m,p,a);case M:S=8,m|=24;break;case R:return s=Un(12,l,a,m|2),s.elementType=R,s.lanes=p,s;case K:return s=Un(13,l,a,m),s.elementType=K,s.lanes=p,s;case ot:return s=Un(19,l,a,m),s.elementType=ot,s.lanes=p,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case B:case Y:S=10;break t;case W:S=9;break t;case tt:S=11;break t;case O:S=14;break t;case C:S=16,u=null;break t}S=29,l=Error(i(130,s===null?"null":typeof s,"")),u=null}return a=Un(S,l,a,m),a.elementType=s,a.type=u,a.lanes=p,a}function ba(s,a,l,u){return s=Un(7,s,u,a),s.lanes=l,s}function Vg(s,a,l){return s=Un(6,s,null,a),s.lanes=l,s}function qg(s,a,l){return a=Un(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var Ro=[],Mo=0,Dh=null,Ih=0,Zn=[],Jn=0,xa=null,ys=1,_s="";function wa(s,a){Ro[Mo++]=Ih,Ro[Mo++]=Dh,Dh=s,Ih=a}function L0(s,a,l){Zn[Jn++]=ys,Zn[Jn++]=_s,Zn[Jn++]=xa,xa=s;var u=ys;s=_s;var m=32-dn(u)-1;u&=~(1<<m),l+=1;var p=32-dn(a)+m;if(30<p){var S=m-m%5;p=(u&(1<<S)-1).toString(32),u>>=S,m-=S,ys=1<<32-dn(a)+m|l<<m|u,_s=p+s}else ys=1<<p|l<<m|u,_s=s}function Wg(s){s.return!==null&&(wa(s,1),L0(s,1,0))}function Yg(s){for(;s===Dh;)Dh=Ro[--Mo],Ro[Mo]=null,Ih=Ro[--Mo],Ro[Mo]=null;for(;s===xa;)xa=Zn[--Jn],Zn[Jn]=null,_s=Zn[--Jn],Zn[Jn]=null,ys=Zn[--Jn],Zn[Jn]=null}var vn=null,Ne=null,Yt=!1,Sa=null,Hi=!1,Gg=Error(i(519));function Ea(s){var a=Error(i(418,""));throw sc(Qn(a,s)),Gg}function j0(s){var a=s.stateNode,l=s.type,u=s.memoizedProps;switch(a[He]=s,a[Le]=u,l){case"dialog":Ot("cancel",a),Ot("close",a);break;case"iframe":case"object":case"embed":Ot("load",a);break;case"video":case"audio":for(l=0;l<Nc.length;l++)Ot(Nc[l],a);break;case"source":Ot("error",a);break;case"img":case"image":case"link":Ot("error",a),Ot("load",a);break;case"details":Ot("toggle",a);break;case"input":Ot("invalid",a),la(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),po(a);break;case"select":Ot("invalid",a);break;case"textarea":Ot("invalid",a),ca(a,u.value,u.defaultValue,u.children),po(a)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||Jb(a.textContent,l)?(u.popover!=null&&(Ot("beforetoggle",a),Ot("toggle",a)),u.onScroll!=null&&Ot("scroll",a),u.onScrollEnd!=null&&Ot("scrollend",a),u.onClick!=null&&(a.onclick=gd),a=!0):a=!1,a||Ea(s)}function P0(s){for(vn=s.return;vn;)switch(vn.tag){case 5:case 13:Hi=!1;return;case 27:case 3:Hi=!0;return;default:vn=vn.return}}function nc(s){if(s!==vn)return!1;if(!Yt)return P0(s),Yt=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||cp(s.type,s.memoizedProps)),l=!l),l&&Ne&&Ea(s),P0(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));t:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(a===0){Ne=pi(s.nextSibling);break t}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;s=s.nextSibling}Ne=null}}else a===27?(a=Ne,br(s.type)?(s=fp,fp=null,Ne=s):Ne=a):Ne=vn?pi(s.stateNode.nextSibling):null;return!0}function ic(){Ne=vn=null,Yt=!1}function U0(){var s=Sa;return s!==null&&(kn===null?kn=s:kn.push.apply(kn,s),Sa=null),s}function sc(s){Sa===null?Sa=[s]:Sa.push(s)}var $g=et(null),Ta=null,vs=null;function rr(s,a,l){rt($g,a._currentValue),a._currentValue=l}function bs(s){s._currentValue=$g.current,lt($g)}function Xg(s,a,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),s===l)break;s=s.return}}function Qg(s,a,l,u){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var p=m.dependencies;if(p!==null){var S=m.child;p=p.firstContext;t:for(;p!==null;){var T=p;p=m;for(var L=0;L<a.length;L++)if(T.context===a[L]){p.lanes|=l,T=p.alternate,T!==null&&(T.lanes|=l),Xg(p.return,l,s),u||(S=null);break t}p=T.next}}else if(m.tag===18){if(S=m.return,S===null)throw Error(i(341));S.lanes|=l,p=S.alternate,p!==null&&(p.lanes|=l),Xg(S,l,s),S=null}else S=m.child;if(S!==null)S.return=m;else for(S=m;S!==null;){if(S===s){S=null;break}if(m=S.sibling,m!==null){m.return=S.return,S=m;break}S=S.return}m=S}}function rc(s,a,l,u){s=null;for(var m=a,p=!1;m!==null;){if(!p){if((m.flags&524288)!==0)p=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var S=m.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var T=m.type;Pn(m.pendingProps.value,S.value)||(s!==null?s.push(T):s=[T])}}else if(m===$t.current){if(S=m.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(Ic):s=[Ic])}m=m.return}s!==null&&Qg(a,s,l,u),a.flags|=262144}function Lh(s){for(s=s.firstContext;s!==null;){if(!Pn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ca(s){Ta=s,vs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function fn(s){return z0(Ta,s)}function jh(s,a){return Ta===null&&Ca(s),z0(s,a)}function z0(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},vs===null){if(s===null)throw Error(i(308));vs=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else vs=vs.next=a;return l}var IC=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},LC=n.unstable_scheduleCallback,jC=n.unstable_NormalPriority,Fe={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kg(){return{controller:new IC,data:new Map,refCount:0}}function ac(s){s.refCount--,s.refCount===0&&LC(jC,function(){s.controller.abort()})}var oc=null,Zg=0,Oo=0,Do=null;function PC(s,a){if(oc===null){var l=oc=[];Zg=0,Oo=tp(),Do={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Zg++,a.then(B0,B0),a}function B0(){if(--Zg===0&&oc!==null){Do!==null&&(Do.status="fulfilled");var s=oc;oc=null,Oo=0,Do=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function UC(s,a){var l=[],u={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return s.then(function(){u.status="fulfilled",u.value=a;for(var m=0;m<l.length;m++)(0,l[m])(a)},function(m){for(u.status="rejected",u.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),u}var H0=$.S;$.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&PC(s,a),H0!==null&&H0(s,a)};var Aa=et(null);function Jg(){var s=Aa.current;return s!==null?s:me.pooledCache}function Ph(s,a){a===null?rt(Aa,Aa.current):rt(Aa,a.pool)}function F0(){var s=Jg();return s===null?null:{parent:Fe._currentValue,pool:s}}var lc=Error(i(460)),V0=Error(i(474)),Uh=Error(i(542)),tm={then:function(){}};function q0(s){return s=s.status,s==="fulfilled"||s==="rejected"}function zh(){}function W0(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(zh,zh),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,G0(s),s;default:if(typeof a.status=="string")a.then(zh,zh);else{if(s=me,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(u){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=u}},function(u){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,G0(s),s}throw cc=a,lc}}var cc=null;function Y0(){if(cc===null)throw Error(i(459));var s=cc;return cc=null,s}function G0(s){if(s===lc||s===Uh)throw Error(i(483))}var ar=!1;function em(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nm(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function or(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function lr(s,a,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(te&2)!==0){var m=u.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),u.pending=a,a=Mh(s),D0(s,null,l),a}return Rh(s,u,a,l),Mh(s)}function uc(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,zl(s,l)}}function im(s,a){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var m=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?m=p=S:p=p.next=S,l=l.next}while(l!==null);p===null?m=p=a:p=p.next=a}else m=p=a;l={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var sm=!1;function hc(){if(sm){var s=Do;if(s!==null)throw s}}function dc(s,a,l,u){sm=!1;var m=s.updateQueue;ar=!1;var p=m.firstBaseUpdate,S=m.lastBaseUpdate,T=m.shared.pending;if(T!==null){m.shared.pending=null;var L=T,G=L.next;L.next=null,S===null?p=G:S.next=G,S=L;var nt=s.alternate;nt!==null&&(nt=nt.updateQueue,T=nt.lastBaseUpdate,T!==S&&(T===null?nt.firstBaseUpdate=G:T.next=G,nt.lastBaseUpdate=L))}if(p!==null){var at=m.baseState;S=0,nt=G=L=null,T=p;do{var X=T.lane&-536870913,Q=X!==T.lane;if(Q?(Pt&X)===X:(u&X)===X){X!==0&&X===Oo&&(sm=!0),nt!==null&&(nt=nt.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var St=s,vt=T;X=a;var ue=l;switch(vt.tag){case 1:if(St=vt.payload,typeof St=="function"){at=St.call(ue,at,X);break t}at=St;break t;case 3:St.flags=St.flags&-65537|128;case 0:if(St=vt.payload,X=typeof St=="function"?St.call(ue,at,X):St,X==null)break t;at=y({},at,X);break t;case 2:ar=!0}}X=T.callback,X!==null&&(s.flags|=64,Q&&(s.flags|=8192),Q=m.callbacks,Q===null?m.callbacks=[X]:Q.push(X))}else Q={lane:X,tag:T.tag,payload:T.payload,callback:T.callback,next:null},nt===null?(G=nt=Q,L=at):nt=nt.next=Q,S|=X;if(T=T.next,T===null){if(T=m.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,m.lastBaseUpdate=Q,m.shared.pending=null}}while(!0);nt===null&&(L=at),m.baseState=L,m.firstBaseUpdate=G,m.lastBaseUpdate=nt,p===null&&(m.shared.lanes=0),pr|=S,s.lanes=S,s.memoizedState=at}}function $0(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function X0(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)$0(l[s],a)}var Io=et(null),Bh=et(0);function Q0(s,a){s=As,rt(Bh,s),rt(Io,a),As=s|a.baseLanes}function rm(){rt(Bh,As),rt(Io,Io.current)}function am(){As=Bh.current,lt(Io),lt(Bh)}var cr=0,Ct=null,le=null,Pe=null,Hh=!1,Lo=!1,Na=!1,Fh=0,fc=0,jo=null,zC=0;function Oe(){throw Error(i(321))}function om(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!Pn(s[l],a[l]))return!1;return!0}function lm(s,a,l,u,m,p){return cr=p,Ct=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,$.H=s===null||s.memoizedState===null?Dv:Iv,Na=!1,p=l(u,m),Na=!1,Lo&&(p=Z0(a,l,u,m)),K0(s),p}function K0(s){$.H=$h;var a=le!==null&&le.next!==null;if(cr=0,Pe=le=Ct=null,Hh=!1,fc=0,jo=null,a)throw Error(i(300));s===null||Qe||(s=s.dependencies,s!==null&&Lh(s)&&(Qe=!0))}function Z0(s,a,l,u){Ct=s;var m=0;do{if(Lo&&(jo=null),fc=0,Lo=!1,25<=m)throw Error(i(301));if(m+=1,Pe=le=null,s.updateQueue!=null){var p=s.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}$.H=YC,p=a(l,u)}while(Lo);return p}function BC(){var s=$.H,a=s.useState()[0];return a=typeof a.then=="function"?gc(a):a,s=s.useState()[0],(le!==null?le.memoizedState:null)!==s&&(Ct.flags|=1024),a}function cm(){var s=Fh!==0;return Fh=0,s}function um(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function hm(s){if(Hh){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Hh=!1}cr=0,Pe=le=Ct=null,Lo=!1,fc=Fh=0,jo=null}function An(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?Ct.memoizedState=Pe=s:Pe=Pe.next=s,Pe}function Ue(){if(le===null){var s=Ct.alternate;s=s!==null?s.memoizedState:null}else s=le.next;var a=Pe===null?Ct.memoizedState:Pe.next;if(a!==null)Pe=a,le=s;else{if(s===null)throw Ct.alternate===null?Error(i(467)):Error(i(310));le=s,s={memoizedState:le.memoizedState,baseState:le.baseState,baseQueue:le.baseQueue,queue:le.queue,next:null},Pe===null?Ct.memoizedState=Pe=s:Pe=Pe.next=s}return Pe}function dm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gc(s){var a=fc;return fc+=1,jo===null&&(jo=[]),s=W0(jo,s,a),a=Ct,(Pe===null?a.memoizedState:Pe.next)===null&&(a=a.alternate,$.H=a===null||a.memoizedState===null?Dv:Iv),s}function Vh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return gc(s);if(s.$$typeof===Y)return fn(s)}throw Error(i(438,String(s)))}function fm(s){var a=null,l=Ct.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=Ct.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=dm(),Ct.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),u=0;u<s;u++)l[u]=I;return a.index++,l}function xs(s,a){return typeof a=="function"?a(s):a}function qh(s){var a=Ue();return gm(a,le,s)}function gm(s,a,l){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var m=s.baseQueue,p=u.pending;if(p!==null){if(m!==null){var S=m.next;m.next=p.next,p.next=S}a.baseQueue=m=p,u.pending=null}if(p=s.baseState,m===null)s.memoizedState=p;else{a=m.next;var T=S=null,L=null,G=a,nt=!1;do{var at=G.lane&-536870913;if(at!==G.lane?(Pt&at)===at:(cr&at)===at){var X=G.revertLane;if(X===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),at===Oo&&(nt=!0);else if((cr&X)===X){G=G.next,X===Oo&&(nt=!0);continue}else at={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},L===null?(T=L=at,S=p):L=L.next=at,Ct.lanes|=X,pr|=X;at=G.action,Na&&l(p,at),p=G.hasEagerState?G.eagerState:l(p,at)}else X={lane:at,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},L===null?(T=L=X,S=p):L=L.next=X,Ct.lanes|=at,pr|=at;G=G.next}while(G!==null&&G!==a);if(L===null?S=p:L.next=T,!Pn(p,s.memoizedState)&&(Qe=!0,nt&&(l=Do,l!==null)))throw l;s.memoizedState=p,s.baseState=S,s.baseQueue=L,u.lastRenderedState=p}return m===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function mm(s){var a=Ue(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var u=l.dispatch,m=l.pending,p=a.memoizedState;if(m!==null){l.pending=null;var S=m=m.next;do p=s(p,S.action),S=S.next;while(S!==m);Pn(p,a.memoizedState)||(Qe=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),l.lastRenderedState=p}return[p,u]}function J0(s,a,l){var u=Ct,m=Ue(),p=Yt;if(p){if(l===void 0)throw Error(i(407));l=l()}else l=a();var S=!Pn((le||m).memoizedState,l);S&&(m.memoizedState=l,Qe=!0),m=m.queue;var T=nv.bind(null,u,m,s);if(mc(2048,8,T,[s]),m.getSnapshot!==a||S||Pe!==null&&Pe.memoizedState.tag&1){if(u.flags|=2048,Po(9,Wh(),ev.bind(null,u,m,l,a),null),me===null)throw Error(i(349));p||(cr&124)!==0||tv(u,a,l)}return l}function tv(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=Ct.updateQueue,a===null?(a=dm(),Ct.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function ev(s,a,l,u){a.value=l,a.getSnapshot=u,iv(a)&&sv(s)}function nv(s,a,l){return l(function(){iv(a)&&sv(s)})}function iv(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!Pn(s,l)}catch{return!0}}function sv(s){var a=No(s,2);a!==null&&Vn(a,s,2)}function pm(s){var a=An();if(typeof s=="function"){var l=s;if(s=l(),Na){Ln(!0);try{l()}finally{Ln(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:s},a}function rv(s,a,l,u){return s.baseState=l,gm(s,le,typeof u=="function"?u:xs)}function HC(s,a,l,u,m){if(Gh(s))throw Error(i(485));if(s=a.action,s!==null){var p={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){p.listeners.push(S)}};$.T!==null?l(!0):p.isTransition=!1,u(p),l=a.pending,l===null?(p.next=a.pending=p,av(a,p)):(p.next=l.next,a.pending=l.next=p)}}function av(s,a){var l=a.action,u=a.payload,m=s.state;if(a.isTransition){var p=$.T,S={};$.T=S;try{var T=l(m,u),L=$.S;L!==null&&L(S,T),ov(s,a,T)}catch(G){ym(s,a,G)}finally{$.T=p}}else try{p=l(m,u),ov(s,a,p)}catch(G){ym(s,a,G)}}function ov(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){lv(s,a,u)},function(u){return ym(s,a,u)}):lv(s,a,l)}function lv(s,a,l){a.status="fulfilled",a.value=l,cv(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,av(s,l)))}function ym(s,a,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,cv(a),a=a.next;while(a!==u)}s.action=null}function cv(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function uv(s,a){return a}function hv(s,a){if(Yt){var l=me.formState;if(l!==null){t:{var u=Ct;if(Yt){if(Ne){e:{for(var m=Ne,p=Hi;m.nodeType!==8;){if(!p){m=null;break e}if(m=pi(m.nextSibling),m===null){m=null;break e}}p=m.data,m=p==="F!"||p==="F"?m:null}if(m){Ne=pi(m.nextSibling),u=m.data==="F!";break t}}Ea(u)}u=!1}u&&(a=l[0])}}return l=An(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uv,lastRenderedState:a},l.queue=u,l=Rv.bind(null,Ct,u),u.dispatch=l,u=pm(!1),p=wm.bind(null,Ct,!1,u.queue),u=An(),m={state:a,dispatch:null,action:s,pending:null},u.queue=m,l=HC.bind(null,Ct,m,p,l),m.dispatch=l,u.memoizedState=s,[a,l,!1]}function dv(s){var a=Ue();return fv(a,le,s)}function fv(s,a,l){if(a=gm(s,a,uv)[0],s=qh(xs)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=gc(a)}catch(S){throw S===lc?Uh:S}else u=a;a=Ue();var m=a.queue,p=m.dispatch;return l!==a.memoizedState&&(Ct.flags|=2048,Po(9,Wh(),FC.bind(null,m,l),null)),[u,p,s]}function FC(s,a){s.action=a}function gv(s){var a=Ue(),l=le;if(l!==null)return fv(a,l,s);Ue(),a=a.memoizedState,l=Ue();var u=l.queue.dispatch;return l.memoizedState=s,[a,u,!1]}function Po(s,a,l,u){return s={tag:s,create:l,deps:u,inst:a,next:null},a=Ct.updateQueue,a===null&&(a=dm(),Ct.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,a.lastEffect=s),s}function Wh(){return{destroy:void 0,resource:void 0}}function mv(){return Ue().memoizedState}function Yh(s,a,l,u){var m=An();u=u===void 0?null:u,Ct.flags|=s,m.memoizedState=Po(1|a,Wh(),l,u)}function mc(s,a,l,u){var m=Ue();u=u===void 0?null:u;var p=m.memoizedState.inst;le!==null&&u!==null&&om(u,le.memoizedState.deps)?m.memoizedState=Po(a,p,l,u):(Ct.flags|=s,m.memoizedState=Po(1|a,p,l,u))}function pv(s,a){Yh(8390656,8,s,a)}function yv(s,a){mc(2048,8,s,a)}function _v(s,a){return mc(4,2,s,a)}function vv(s,a){return mc(4,4,s,a)}function bv(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function xv(s,a,l){l=l!=null?l.concat([s]):null,mc(4,4,bv.bind(null,a,s),l)}function _m(){}function wv(s,a){var l=Ue();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&om(a,u[1])?u[0]:(l.memoizedState=[s,a],s)}function Sv(s,a){var l=Ue();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&om(a,u[1]))return u[0];if(u=s(),Na){Ln(!0);try{s()}finally{Ln(!1)}}return l.memoizedState=[u,a],u}function vm(s,a,l){return l===void 0||(cr&1073741824)!==0?s.memoizedState=a:(s.memoizedState=l,s=Cb(),Ct.lanes|=s,pr|=s,l)}function Ev(s,a,l,u){return Pn(l,a)?l:Io.current!==null?(s=vm(s,l,u),Pn(s,a)||(Qe=!0),s):(cr&42)===0?(Qe=!0,s.memoizedState=l):(s=Cb(),Ct.lanes|=s,pr|=s,a)}function Tv(s,a,l,u,m){var p=Z.p;Z.p=p!==0&&8>p?p:8;var S=$.T,T={};$.T=T,wm(s,!1,a,l);try{var L=m(),G=$.S;if(G!==null&&G(T,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var nt=UC(L,u);pc(s,a,nt,Fn(s))}else pc(s,a,u,Fn(s))}catch(at){pc(s,a,{then:function(){},status:"rejected",reason:at},Fn())}finally{Z.p=p,$.T=S}}function VC(){}function bm(s,a,l,u){if(s.tag!==5)throw Error(i(476));var m=Cv(s).queue;Tv(s,m,a,it,l===null?VC:function(){return Av(s),l(u)})}function Cv(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:it,baseState:it,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:it},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function Av(s){var a=Cv(s).next.queue;pc(s,a,{},Fn())}function xm(){return fn(Ic)}function Nv(){return Ue().memoizedState}function kv(){return Ue().memoizedState}function qC(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=Fn();s=or(l);var u=lr(a,s,l);u!==null&&(Vn(u,a,l),uc(u,a,l)),a={cache:Kg()},s.payload=a;return}a=a.return}}function WC(s,a,l){var u=Fn();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Gh(s)?Mv(a,l):(l=Hg(s,a,l,u),l!==null&&(Vn(l,s,u),Ov(l,a,u)))}function Rv(s,a,l){var u=Fn();pc(s,a,l,u)}function pc(s,a,l,u){var m={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Gh(s))Mv(a,m);else{var p=s.alternate;if(s.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var S=a.lastRenderedState,T=p(S,l);if(m.hasEagerState=!0,m.eagerState=T,Pn(T,S))return Rh(s,a,m,0),me===null&&kh(),!1}catch{}finally{}if(l=Hg(s,a,m,u),l!==null)return Vn(l,s,u),Ov(l,a,u),!0}return!1}function wm(s,a,l,u){if(u={lane:2,revertLane:tp(),action:u,hasEagerState:!1,eagerState:null,next:null},Gh(s)){if(a)throw Error(i(479))}else a=Hg(s,l,u,2),a!==null&&Vn(a,s,2)}function Gh(s){var a=s.alternate;return s===Ct||a!==null&&a===Ct}function Mv(s,a){Lo=Hh=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function Ov(s,a,l){if((l&4194048)!==0){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,zl(s,l)}}var $h={readContext:fn,use:Vh,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useLayoutEffect:Oe,useInsertionEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useSyncExternalStore:Oe,useId:Oe,useHostTransitionStatus:Oe,useFormState:Oe,useActionState:Oe,useOptimistic:Oe,useMemoCache:Oe,useCacheRefresh:Oe},Dv={readContext:fn,use:Vh,useCallback:function(s,a){return An().memoizedState=[s,a===void 0?null:a],s},useContext:fn,useEffect:pv,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,Yh(4194308,4,bv.bind(null,a,s),l)},useLayoutEffect:function(s,a){return Yh(4194308,4,s,a)},useInsertionEffect:function(s,a){Yh(4,2,s,a)},useMemo:function(s,a){var l=An();a=a===void 0?null:a;var u=s();if(Na){Ln(!0);try{s()}finally{Ln(!1)}}return l.memoizedState=[u,a],u},useReducer:function(s,a,l){var u=An();if(l!==void 0){var m=l(a);if(Na){Ln(!0);try{l(a)}finally{Ln(!1)}}}else m=a;return u.memoizedState=u.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},u.queue=s,s=s.dispatch=WC.bind(null,Ct,s),[u.memoizedState,s]},useRef:function(s){var a=An();return s={current:s},a.memoizedState=s},useState:function(s){s=pm(s);var a=s.queue,l=Rv.bind(null,Ct,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:_m,useDeferredValue:function(s,a){var l=An();return vm(l,s,a)},useTransition:function(){var s=pm(!1);return s=Tv.bind(null,Ct,s.queue,!0,!1),An().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var u=Ct,m=An();if(Yt){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),me===null)throw Error(i(349));(Pt&124)!==0||tv(u,a,l)}m.memoizedState=l;var p={value:l,getSnapshot:a};return m.queue=p,pv(nv.bind(null,u,p,s),[s]),u.flags|=2048,Po(9,Wh(),ev.bind(null,u,p,l,a),null),l},useId:function(){var s=An(),a=me.identifierPrefix;if(Yt){var l=_s,u=ys;l=(u&~(1<<32-dn(u)-1)).toString(32)+l,a=""+a+"R"+l,l=Fh++,0<l&&(a+="H"+l.toString(32)),a+=""}else l=zC++,a=""+a+"r"+l.toString(32)+"";return s.memoizedState=a},useHostTransitionStatus:xm,useFormState:hv,useActionState:hv,useOptimistic:function(s){var a=An();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=wm.bind(null,Ct,!0,l),l.dispatch=a,[s,a]},useMemoCache:fm,useCacheRefresh:function(){return An().memoizedState=qC.bind(null,Ct)}},Iv={readContext:fn,use:Vh,useCallback:wv,useContext:fn,useEffect:yv,useImperativeHandle:xv,useInsertionEffect:_v,useLayoutEffect:vv,useMemo:Sv,useReducer:qh,useRef:mv,useState:function(){return qh(xs)},useDebugValue:_m,useDeferredValue:function(s,a){var l=Ue();return Ev(l,le.memoizedState,s,a)},useTransition:function(){var s=qh(xs)[0],a=Ue().memoizedState;return[typeof s=="boolean"?s:gc(s),a]},useSyncExternalStore:J0,useId:Nv,useHostTransitionStatus:xm,useFormState:dv,useActionState:dv,useOptimistic:function(s,a){var l=Ue();return rv(l,le,s,a)},useMemoCache:fm,useCacheRefresh:kv},YC={readContext:fn,use:Vh,useCallback:wv,useContext:fn,useEffect:yv,useImperativeHandle:xv,useInsertionEffect:_v,useLayoutEffect:vv,useMemo:Sv,useReducer:mm,useRef:mv,useState:function(){return mm(xs)},useDebugValue:_m,useDeferredValue:function(s,a){var l=Ue();return le===null?vm(l,s,a):Ev(l,le.memoizedState,s,a)},useTransition:function(){var s=mm(xs)[0],a=Ue().memoizedState;return[typeof s=="boolean"?s:gc(s),a]},useSyncExternalStore:J0,useId:Nv,useHostTransitionStatus:xm,useFormState:gv,useActionState:gv,useOptimistic:function(s,a){var l=Ue();return le!==null?rv(l,le,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:fm,useCacheRefresh:kv},Uo=null,yc=0;function Xh(s){var a=yc;return yc+=1,Uo===null&&(Uo=[]),W0(Uo,s,a)}function _c(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function Qh(s,a){throw a.$$typeof===b?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function Lv(s){var a=s._init;return a(s._payload)}function jv(s){function a(F,H){if(s){var q=F.deletions;q===null?(F.deletions=[H],F.flags|=16):q.push(H)}}function l(F,H){if(!s)return null;for(;H!==null;)a(F,H),H=H.sibling;return null}function u(F){for(var H=new Map;F!==null;)F.key!==null?H.set(F.key,F):H.set(F.index,F),F=F.sibling;return H}function m(F,H){return F=ps(F,H),F.index=0,F.sibling=null,F}function p(F,H,q){return F.index=q,s?(q=F.alternate,q!==null?(q=q.index,q<H?(F.flags|=67108866,H):q):(F.flags|=67108866,H)):(F.flags|=1048576,H)}function S(F){return s&&F.alternate===null&&(F.flags|=67108866),F}function T(F,H,q,st){return H===null||H.tag!==6?(H=Vg(q,F.mode,st),H.return=F,H):(H=m(H,q),H.return=F,H)}function L(F,H,q,st){var pt=q.type;return pt===A?nt(F,H,q.props.children,st,q.key):H!==null&&(H.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===C&&Lv(pt)===H.type)?(H=m(H,q.props),_c(H,q),H.return=F,H):(H=Oh(q.type,q.key,q.props,null,F.mode,st),_c(H,q),H.return=F,H)}function G(F,H,q,st){return H===null||H.tag!==4||H.stateNode.containerInfo!==q.containerInfo||H.stateNode.implementation!==q.implementation?(H=qg(q,F.mode,st),H.return=F,H):(H=m(H,q.children||[]),H.return=F,H)}function nt(F,H,q,st,pt){return H===null||H.tag!==7?(H=ba(q,F.mode,st,pt),H.return=F,H):(H=m(H,q),H.return=F,H)}function at(F,H,q){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Vg(""+H,F.mode,q),H.return=F,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case x:return q=Oh(H.type,H.key,H.props,null,F.mode,q),_c(q,H),q.return=F,q;case E:return H=qg(H,F.mode,q),H.return=F,H;case C:var st=H._init;return H=st(H._payload),at(F,H,q)}if(yt(H)||U(H))return H=ba(H,F.mode,q,null),H.return=F,H;if(typeof H.then=="function")return at(F,Xh(H),q);if(H.$$typeof===Y)return at(F,jh(F,H),q);Qh(F,H)}return null}function X(F,H,q,st){var pt=H!==null?H.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return pt!==null?null:T(F,H,""+q,st);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case x:return q.key===pt?L(F,H,q,st):null;case E:return q.key===pt?G(F,H,q,st):null;case C:return pt=q._init,q=pt(q._payload),X(F,H,q,st)}if(yt(q)||U(q))return pt!==null?null:nt(F,H,q,st,null);if(typeof q.then=="function")return X(F,H,Xh(q),st);if(q.$$typeof===Y)return X(F,H,jh(F,q),st);Qh(F,q)}return null}function Q(F,H,q,st,pt){if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return F=F.get(q)||null,T(H,F,""+st,pt);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case x:return F=F.get(st.key===null?q:st.key)||null,L(H,F,st,pt);case E:return F=F.get(st.key===null?q:st.key)||null,G(H,F,st,pt);case C:var At=st._init;return st=At(st._payload),Q(F,H,q,st,pt)}if(yt(st)||U(st))return F=F.get(q)||null,nt(H,F,st,pt,null);if(typeof st.then=="function")return Q(F,H,q,Xh(st),pt);if(st.$$typeof===Y)return Q(F,H,q,jh(H,st),pt);Qh(H,st)}return null}function St(F,H,q,st){for(var pt=null,At=null,_t=H,bt=H=0,Ze=null;_t!==null&&bt<q.length;bt++){_t.index>bt?(Ze=_t,_t=null):Ze=_t.sibling;var qt=X(F,_t,q[bt],st);if(qt===null){_t===null&&(_t=Ze);break}s&&_t&&qt.alternate===null&&a(F,_t),H=p(qt,H,bt),At===null?pt=qt:At.sibling=qt,At=qt,_t=Ze}if(bt===q.length)return l(F,_t),Yt&&wa(F,bt),pt;if(_t===null){for(;bt<q.length;bt++)_t=at(F,q[bt],st),_t!==null&&(H=p(_t,H,bt),At===null?pt=_t:At.sibling=_t,At=_t);return Yt&&wa(F,bt),pt}for(_t=u(_t);bt<q.length;bt++)Ze=Q(_t,F,bt,q[bt],st),Ze!==null&&(s&&Ze.alternate!==null&&_t.delete(Ze.key===null?bt:Ze.key),H=p(Ze,H,bt),At===null?pt=Ze:At.sibling=Ze,At=Ze);return s&&_t.forEach(function(Tr){return a(F,Tr)}),Yt&&wa(F,bt),pt}function vt(F,H,q,st){if(q==null)throw Error(i(151));for(var pt=null,At=null,_t=H,bt=H=0,Ze=null,qt=q.next();_t!==null&&!qt.done;bt++,qt=q.next()){_t.index>bt?(Ze=_t,_t=null):Ze=_t.sibling;var Tr=X(F,_t,qt.value,st);if(Tr===null){_t===null&&(_t=Ze);break}s&&_t&&Tr.alternate===null&&a(F,_t),H=p(Tr,H,bt),At===null?pt=Tr:At.sibling=Tr,At=Tr,_t=Ze}if(qt.done)return l(F,_t),Yt&&wa(F,bt),pt;if(_t===null){for(;!qt.done;bt++,qt=q.next())qt=at(F,qt.value,st),qt!==null&&(H=p(qt,H,bt),At===null?pt=qt:At.sibling=qt,At=qt);return Yt&&wa(F,bt),pt}for(_t=u(_t);!qt.done;bt++,qt=q.next())qt=Q(_t,F,bt,qt.value,st),qt!==null&&(s&&qt.alternate!==null&&_t.delete(qt.key===null?bt:qt.key),H=p(qt,H,bt),At===null?pt=qt:At.sibling=qt,At=qt);return s&&_t.forEach(function(GA){return a(F,GA)}),Yt&&wa(F,bt),pt}function ue(F,H,q,st){if(typeof q=="object"&&q!==null&&q.type===A&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case x:t:{for(var pt=q.key;H!==null;){if(H.key===pt){if(pt=q.type,pt===A){if(H.tag===7){l(F,H.sibling),st=m(H,q.props.children),st.return=F,F=st;break t}}else if(H.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===C&&Lv(pt)===H.type){l(F,H.sibling),st=m(H,q.props),_c(st,q),st.return=F,F=st;break t}l(F,H);break}else a(F,H);H=H.sibling}q.type===A?(st=ba(q.props.children,F.mode,st,q.key),st.return=F,F=st):(st=Oh(q.type,q.key,q.props,null,F.mode,st),_c(st,q),st.return=F,F=st)}return S(F);case E:t:{for(pt=q.key;H!==null;){if(H.key===pt)if(H.tag===4&&H.stateNode.containerInfo===q.containerInfo&&H.stateNode.implementation===q.implementation){l(F,H.sibling),st=m(H,q.children||[]),st.return=F,F=st;break t}else{l(F,H);break}else a(F,H);H=H.sibling}st=qg(q,F.mode,st),st.return=F,F=st}return S(F);case C:return pt=q._init,q=pt(q._payload),ue(F,H,q,st)}if(yt(q))return St(F,H,q,st);if(U(q)){if(pt=U(q),typeof pt!="function")throw Error(i(150));return q=pt.call(q),vt(F,H,q,st)}if(typeof q.then=="function")return ue(F,H,Xh(q),st);if(q.$$typeof===Y)return ue(F,H,jh(F,q),st);Qh(F,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,H!==null&&H.tag===6?(l(F,H.sibling),st=m(H,q),st.return=F,F=st):(l(F,H),st=Vg(q,F.mode,st),st.return=F,F=st),S(F)):l(F,H)}return function(F,H,q,st){try{yc=0;var pt=ue(F,H,q,st);return Uo=null,pt}catch(_t){if(_t===lc||_t===Uh)throw _t;var At=Un(29,_t,null,F.mode);return At.lanes=st,At.return=F,At}finally{}}}var zo=jv(!0),Pv=jv(!1),ti=et(null),Fi=null;function ur(s){var a=s.alternate;rt(Ve,Ve.current&1),rt(ti,s),Fi===null&&(a===null||Io.current!==null||a.memoizedState!==null)&&(Fi=s)}function Uv(s){if(s.tag===22){if(rt(Ve,Ve.current),rt(ti,s),Fi===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(Fi=s)}}else hr()}function hr(){rt(Ve,Ve.current),rt(ti,ti.current)}function ws(s){lt(ti),Fi===s&&(Fi=null),lt(Ve)}var Ve=et(0);function Kh(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||dp(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Sm(s,a,l,u){a=s.memoizedState,l=l(u,a),l=l==null?a:y({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Em={enqueueSetState:function(s,a,l){s=s._reactInternals;var u=Fn(),m=or(u);m.payload=a,l!=null&&(m.callback=l),a=lr(s,m,u),a!==null&&(Vn(a,s,u),uc(a,s,u))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var u=Fn(),m=or(u);m.tag=1,m.payload=a,l!=null&&(m.callback=l),a=lr(s,m,u),a!==null&&(Vn(a,s,u),uc(a,s,u))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=Fn(),u=or(l);u.tag=2,a!=null&&(u.callback=a),a=lr(s,u,l),a!==null&&(Vn(a,s,l),uc(a,s,l))}};function zv(s,a,l,u,m,p,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,p,S):a.prototype&&a.prototype.isPureReactComponent?!tc(l,u)||!tc(m,p):!0}function Bv(s,a,l,u){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==s&&Em.enqueueReplaceState(a,a.state,null)}function ka(s,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(s=s.defaultProps){l===a&&(l=y({},l));for(var m in s)l[m]===void 0&&(l[m]=s[m])}return l}var Zh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function Hv(s){Zh(s)}function Fv(s){console.error(s)}function Vv(s){Zh(s)}function Jh(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function qv(s,a,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Tm(s,a,l){return l=or(l),l.tag=3,l.payload={element:null},l.callback=function(){Jh(s,a)},l}function Wv(s){return s=or(s),s.tag=3,s}function Yv(s,a,l,u){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var p=u.value;s.payload=function(){return m(p)},s.callback=function(){qv(a,l,u)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(s.callback=function(){qv(a,l,u),typeof m!="function"&&(yr===null?yr=new Set([this]):yr.add(this));var T=u.stack;this.componentDidCatch(u.value,{componentStack:T!==null?T:""})})}function GC(s,a,l,u,m){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&rc(a,l,m,!0),l=ti.current,l!==null){switch(l.tag){case 13:return Fi===null?Xm():l.alternate===null&&ke===0&&(ke=3),l.flags&=-257,l.flags|=65536,l.lanes=m,u===tm?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),Km(s,u,m)),!1;case 22:return l.flags|=65536,u===tm?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),Km(s,u,m)),!1}throw Error(i(435,l.tag))}return Km(s,u,m),Xm(),!1}if(Yt)return a=ti.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,u!==Gg&&(s=Error(i(422),{cause:u}),sc(Qn(s,l)))):(u!==Gg&&(a=Error(i(423),{cause:u}),sc(Qn(a,l))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,u=Qn(u,l),m=Tm(s.stateNode,u,m),im(s,m),ke!==4&&(ke=2)),!1;var p=Error(i(520),{cause:u});if(p=Qn(p,l),Tc===null?Tc=[p]:Tc.push(p),ke!==4&&(ke=2),a===null)return!0;u=Qn(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=m&-m,l.lanes|=s,s=Tm(l.stateNode,u,s),im(l,s),!1;case 1:if(a=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(yr===null||!yr.has(p))))return l.flags|=65536,m&=-m,l.lanes|=m,m=Wv(m),Yv(m,s,l,u),im(l,m),!1}l=l.return}while(l!==null);return!1}var Gv=Error(i(461)),Qe=!1;function rn(s,a,l,u){a.child=s===null?Pv(a,null,l,u):zo(a,s.child,l,u)}function $v(s,a,l,u,m){l=l.render;var p=a.ref;if("ref"in u){var S={};for(var T in u)T!=="ref"&&(S[T]=u[T])}else S=u;return Ca(a),u=lm(s,a,l,S,p,m),T=cm(),s!==null&&!Qe?(um(s,a,m),Ss(s,a,m)):(Yt&&T&&Wg(a),a.flags|=1,rn(s,a,u,m),a.child)}function Xv(s,a,l,u,m){if(s===null){var p=l.type;return typeof p=="function"&&!Fg(p)&&p.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=p,Qv(s,a,p,u,m)):(s=Oh(l.type,null,u,a,a.mode,m),s.ref=a.ref,s.return=a,a.child=s)}if(p=s.child,!Dm(s,m)){var S=p.memoizedProps;if(l=l.compare,l=l!==null?l:tc,l(S,u)&&s.ref===a.ref)return Ss(s,a,m)}return a.flags|=1,s=ps(p,u),s.ref=a.ref,s.return=a,a.child=s}function Qv(s,a,l,u,m){if(s!==null){var p=s.memoizedProps;if(tc(p,u)&&s.ref===a.ref)if(Qe=!1,a.pendingProps=u=p,Dm(s,m))(s.flags&131072)!==0&&(Qe=!0);else return a.lanes=s.lanes,Ss(s,a,m)}return Cm(s,a,l,u,m)}function Kv(s,a,l){var u=a.pendingProps,m=u.children,p=s!==null?s.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=p!==null?p.baseLanes|l:l,s!==null){for(m=a.child=s.child,p=0;m!==null;)p=p|m.lanes|m.childLanes,m=m.sibling;a.childLanes=p&~u}else a.childLanes=0,a.child=null;return Zv(s,a,u,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Ph(a,p!==null?p.cachePool:null),p!==null?Q0(a,p):rm(),Uv(a);else return a.lanes=a.childLanes=536870912,Zv(s,a,p!==null?p.baseLanes|l:l,l)}else p!==null?(Ph(a,p.cachePool),Q0(a,p),hr(),a.memoizedState=null):(s!==null&&Ph(a,null),rm(),hr());return rn(s,a,m,l),a.child}function Zv(s,a,l,u){var m=Jg();return m=m===null?null:{parent:Fe._currentValue,pool:m},a.memoizedState={baseLanes:l,cachePool:m},s!==null&&Ph(a,null),rm(),Uv(a),s!==null&&rc(s,a,u,!0),null}function td(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function Cm(s,a,l,u,m){return Ca(a),l=lm(s,a,l,u,void 0,m),u=cm(),s!==null&&!Qe?(um(s,a,m),Ss(s,a,m)):(Yt&&u&&Wg(a),a.flags|=1,rn(s,a,l,m),a.child)}function Jv(s,a,l,u,m,p){return Ca(a),a.updateQueue=null,l=Z0(a,u,l,m),K0(s),u=cm(),s!==null&&!Qe?(um(s,a,p),Ss(s,a,p)):(Yt&&u&&Wg(a),a.flags|=1,rn(s,a,l,p),a.child)}function tb(s,a,l,u,m){if(Ca(a),a.stateNode===null){var p=ko,S=l.contextType;typeof S=="object"&&S!==null&&(p=fn(S)),p=new l(u,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Em,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=u,p.state=a.memoizedState,p.refs={},em(a),S=l.contextType,p.context=typeof S=="object"&&S!==null?fn(S):ko,p.state=a.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(Sm(a,l,S,u),p.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(S=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),S!==p.state&&Em.enqueueReplaceState(p,p.state,null),dc(a,u,p,m),hc(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(s===null){p=a.stateNode;var T=a.memoizedProps,L=ka(l,T);p.props=L;var G=p.context,nt=l.contextType;S=ko,typeof nt=="object"&&nt!==null&&(S=fn(nt));var at=l.getDerivedStateFromProps;nt=typeof at=="function"||typeof p.getSnapshotBeforeUpdate=="function",T=a.pendingProps!==T,nt||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T||G!==S)&&Bv(a,p,u,S),ar=!1;var X=a.memoizedState;p.state=X,dc(a,u,p,m),hc(),G=a.memoizedState,T||X!==G||ar?(typeof at=="function"&&(Sm(a,l,at,u),G=a.memoizedState),(L=ar||zv(a,l,L,u,X,G,S))?(nt||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=G),p.props=u,p.state=G,p.context=S,u=L):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{p=a.stateNode,nm(s,a),S=a.memoizedProps,nt=ka(l,S),p.props=nt,at=a.pendingProps,X=p.context,G=l.contextType,L=ko,typeof G=="object"&&G!==null&&(L=fn(G)),T=l.getDerivedStateFromProps,(G=typeof T=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S!==at||X!==L)&&Bv(a,p,u,L),ar=!1,X=a.memoizedState,p.state=X,dc(a,u,p,m),hc();var Q=a.memoizedState;S!==at||X!==Q||ar||s!==null&&s.dependencies!==null&&Lh(s.dependencies)?(typeof T=="function"&&(Sm(a,l,T,u),Q=a.memoizedState),(nt=ar||zv(a,l,nt,u,X,Q,L)||s!==null&&s.dependencies!==null&&Lh(s.dependencies))?(G||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,Q,L),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,Q,L)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||S===s.memoizedProps&&X===s.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===s.memoizedProps&&X===s.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=Q),p.props=u,p.state=Q,p.context=L,u=nt):(typeof p.componentDidUpdate!="function"||S===s.memoizedProps&&X===s.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===s.memoizedProps&&X===s.memoizedState||(a.flags|=1024),u=!1)}return p=u,td(s,a),u=(a.flags&128)!==0,p||u?(p=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,s!==null&&u?(a.child=zo(a,s.child,null,m),a.child=zo(a,null,l,m)):rn(s,a,l,m),a.memoizedState=p.state,s=a.child):s=Ss(s,a,m),s}function eb(s,a,l,u){return ic(),a.flags|=256,rn(s,a,l,u),a.child}var Am={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nm(s){return{baseLanes:s,cachePool:F0()}}function km(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=ei),s}function nb(s,a,l){var u=a.pendingProps,m=!1,p=(a.flags&128)!==0,S;if((S=p)||(S=s!==null&&s.memoizedState===null?!1:(Ve.current&2)!==0),S&&(m=!0,a.flags&=-129),S=(a.flags&32)!==0,a.flags&=-33,s===null){if(Yt){if(m?ur(a):hr(),Yt){var T=Ne,L;if(L=T){t:{for(L=T,T=Hi;L.nodeType!==8;){if(!T){T=null;break t}if(L=pi(L.nextSibling),L===null){T=null;break t}}T=L}T!==null?(a.memoizedState={dehydrated:T,treeContext:xa!==null?{id:ys,overflow:_s}:null,retryLane:536870912,hydrationErrors:null},L=Un(18,null,null,0),L.stateNode=T,L.return=a,a.child=L,vn=a,Ne=null,L=!0):L=!1}L||Ea(a)}if(T=a.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return dp(T)?a.lanes=32:a.lanes=536870912,null;ws(a)}return T=u.children,u=u.fallback,m?(hr(),m=a.mode,T=ed({mode:"hidden",children:T},m),u=ba(u,m,l,null),T.return=a,u.return=a,T.sibling=u,a.child=T,m=a.child,m.memoizedState=Nm(l),m.childLanes=km(s,S,l),a.memoizedState=Am,u):(ur(a),Rm(a,T))}if(L=s.memoizedState,L!==null&&(T=L.dehydrated,T!==null)){if(p)a.flags&256?(ur(a),a.flags&=-257,a=Mm(s,a,l)):a.memoizedState!==null?(hr(),a.child=s.child,a.flags|=128,a=null):(hr(),m=u.fallback,T=a.mode,u=ed({mode:"visible",children:u.children},T),m=ba(m,T,l,null),m.flags|=2,u.return=a,m.return=a,u.sibling=m,a.child=u,zo(a,s.child,null,l),u=a.child,u.memoizedState=Nm(l),u.childLanes=km(s,S,l),a.memoizedState=Am,a=m);else if(ur(a),dp(T)){if(S=T.nextSibling&&T.nextSibling.dataset,S)var G=S.dgst;S=G,u=Error(i(419)),u.stack="",u.digest=S,sc({value:u,source:null,stack:null}),a=Mm(s,a,l)}else if(Qe||rc(s,a,l,!1),S=(l&s.childLanes)!==0,Qe||S){if(S=me,S!==null&&(u=l&-l,u=(u&42)!==0?1:na(u),u=(u&(S.suspendedLanes|l))!==0?0:u,u!==0&&u!==L.retryLane))throw L.retryLane=u,No(s,u),Vn(S,s,u),Gv;T.data==="$?"||Xm(),a=Mm(s,a,l)}else T.data==="$?"?(a.flags|=192,a.child=s.child,a=null):(s=L.treeContext,Ne=pi(T.nextSibling),vn=a,Yt=!0,Sa=null,Hi=!1,s!==null&&(Zn[Jn++]=ys,Zn[Jn++]=_s,Zn[Jn++]=xa,ys=s.id,_s=s.overflow,xa=a),a=Rm(a,u.children),a.flags|=4096);return a}return m?(hr(),m=u.fallback,T=a.mode,L=s.child,G=L.sibling,u=ps(L,{mode:"hidden",children:u.children}),u.subtreeFlags=L.subtreeFlags&65011712,G!==null?m=ps(G,m):(m=ba(m,T,l,null),m.flags|=2),m.return=a,u.return=a,u.sibling=m,a.child=u,u=m,m=a.child,T=s.child.memoizedState,T===null?T=Nm(l):(L=T.cachePool,L!==null?(G=Fe._currentValue,L=L.parent!==G?{parent:G,pool:G}:L):L=F0(),T={baseLanes:T.baseLanes|l,cachePool:L}),m.memoizedState=T,m.childLanes=km(s,S,l),a.memoizedState=Am,u):(ur(a),l=s.child,s=l.sibling,l=ps(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,s!==null&&(S=a.deletions,S===null?(a.deletions=[s],a.flags|=16):S.push(s)),a.child=l,a.memoizedState=null,l)}function Rm(s,a){return a=ed({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function ed(s,a){return s=Un(22,s,null,a),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Mm(s,a,l){return zo(a,s.child,null,l),s=Rm(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function ib(s,a,l){s.lanes|=a;var u=s.alternate;u!==null&&(u.lanes|=a),Xg(s.return,a,l)}function Om(s,a,l,u,m){var p=s.memoizedState;p===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:m}:(p.isBackwards=a,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=l,p.tailMode=m)}function sb(s,a,l){var u=a.pendingProps,m=u.revealOrder,p=u.tail;if(rn(s,a,u.children,l),u=Ve.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&ib(s,l,a);else if(s.tag===19)ib(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}u&=1}switch(rt(Ve,u),m){case"forwards":for(l=a.child,m=null;l!==null;)s=l.alternate,s!==null&&Kh(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=a.child,a.child=null):(m=l.sibling,l.sibling=null),Om(a,!1,m,l,p);break;case"backwards":for(l=null,m=a.child,a.child=null;m!==null;){if(s=m.alternate,s!==null&&Kh(s)===null){a.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}Om(a,!0,l,null,p);break;case"together":Om(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ss(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),pr|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(rc(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,l=ps(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=ps(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function Dm(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&Lh(s)))}function $C(s,a,l){switch(a.tag){case 3:Kt(a,a.stateNode.containerInfo),rr(a,Fe,s.memoizedState.cache),ic();break;case 27:case 5:Mi(a);break;case 4:Kt(a,a.stateNode.containerInfo);break;case 10:rr(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(ur(a),a.flags|=128,null):(l&a.child.childLanes)!==0?nb(s,a,l):(ur(a),s=Ss(s,a,l),s!==null?s.sibling:null);ur(a);break;case 19:var m=(s.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(rc(s,a,l,!1),u=(l&a.childLanes)!==0),m){if(u)return sb(s,a,l);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),rt(Ve,Ve.current),u)break;return null;case 22:case 23:return a.lanes=0,Kv(s,a,l);case 24:rr(a,Fe,s.memoizedState.cache)}return Ss(s,a,l)}function rb(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)Qe=!0;else{if(!Dm(s,l)&&(a.flags&128)===0)return Qe=!1,$C(s,a,l);Qe=(s.flags&131072)!==0}else Qe=!1,Yt&&(a.flags&1048576)!==0&&L0(a,Ih,a.index);switch(a.lanes=0,a.tag){case 16:t:{s=a.pendingProps;var u=a.elementType,m=u._init;if(u=m(u._payload),a.type=u,typeof u=="function")Fg(u)?(s=ka(u,s),a.tag=1,a=tb(null,a,u,s,l)):(a.tag=0,a=Cm(null,a,u,s,l));else{if(u!=null){if(m=u.$$typeof,m===tt){a.tag=11,a=$v(null,a,u,s,l);break t}else if(m===O){a.tag=14,a=Xv(null,a,u,s,l);break t}}throw a=Tt(u)||u,Error(i(306,a,""))}}return a;case 0:return Cm(s,a,a.type,a.pendingProps,l);case 1:return u=a.type,m=ka(u,a.pendingProps),tb(s,a,u,m,l);case 3:t:{if(Kt(a,a.stateNode.containerInfo),s===null)throw Error(i(387));u=a.pendingProps;var p=a.memoizedState;m=p.element,nm(s,a),dc(a,u,null,l);var S=a.memoizedState;if(u=S.cache,rr(a,Fe,u),u!==p.cache&&Qg(a,[Fe],l,!0),hc(),u=S.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:S.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=eb(s,a,u,l);break t}else if(u!==m){m=Qn(Error(i(424)),a),sc(m),a=eb(s,a,u,l);break t}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Ne=pi(s.firstChild),vn=a,Yt=!0,Sa=null,Hi=!0,l=Pv(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ic(),u===m){a=Ss(s,a,l);break t}rn(s,a,u,l)}a=a.child}return a;case 26:return td(s,a),s===null?(l=cx(a.type,null,a.pendingProps,null))?a.memoizedState=l:Yt||(l=a.type,s=a.pendingProps,u=md(mt.current).createElement(l),u[He]=a,u[Le]=s,on(u,l,s),Me(u),a.stateNode=u):a.memoizedState=cx(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Mi(a),s===null&&Yt&&(u=a.stateNode=ax(a.type,a.pendingProps,mt.current),vn=a,Hi=!0,m=Ne,br(a.type)?(fp=m,Ne=pi(u.firstChild)):Ne=m),rn(s,a,a.pendingProps.children,l),td(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Yt&&((m=u=Ne)&&(u=wA(u,a.type,a.pendingProps,Hi),u!==null?(a.stateNode=u,vn=a,Ne=pi(u.firstChild),Hi=!1,m=!0):m=!1),m||Ea(a)),Mi(a),m=a.type,p=a.pendingProps,S=s!==null?s.memoizedProps:null,u=p.children,cp(m,p)?u=null:S!==null&&cp(m,S)&&(a.flags|=32),a.memoizedState!==null&&(m=lm(s,a,BC,null,null,l),Ic._currentValue=m),td(s,a),rn(s,a,u,l),a.child;case 6:return s===null&&Yt&&((s=l=Ne)&&(l=SA(l,a.pendingProps,Hi),l!==null?(a.stateNode=l,vn=a,Ne=null,s=!0):s=!1),s||Ea(a)),null;case 13:return nb(s,a,l);case 4:return Kt(a,a.stateNode.containerInfo),u=a.pendingProps,s===null?a.child=zo(a,null,u,l):rn(s,a,u,l),a.child;case 11:return $v(s,a,a.type,a.pendingProps,l);case 7:return rn(s,a,a.pendingProps,l),a.child;case 8:return rn(s,a,a.pendingProps.children,l),a.child;case 12:return rn(s,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,rr(a,a.type,u.value),rn(s,a,u.children,l),a.child;case 9:return m=a.type._context,u=a.pendingProps.children,Ca(a),m=fn(m),u=u(m),a.flags|=1,rn(s,a,u,l),a.child;case 14:return Xv(s,a,a.type,a.pendingProps,l);case 15:return Qv(s,a,a.type,a.pendingProps,l);case 19:return sb(s,a,l);case 31:return u=a.pendingProps,l=a.mode,u={mode:u.mode,children:u.children},s===null?(l=ed(u,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=ps(s.child,u),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return Kv(s,a,l);case 24:return Ca(a),u=fn(Fe),s===null?(m=Jg(),m===null&&(m=me,p=Kg(),m.pooledCache=p,p.refCount++,p!==null&&(m.pooledCacheLanes|=l),m=p),a.memoizedState={parent:u,cache:m},em(a),rr(a,Fe,m)):((s.lanes&l)!==0&&(nm(s,a),dc(a,null,null,l),hc()),m=s.memoizedState,p=a.memoizedState,m.parent!==u?(m={parent:u,cache:u},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),rr(a,Fe,u)):(u=p.cache,rr(a,Fe,u),u!==m.cache&&Qg(a,[Fe],l,!0))),rn(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Es(s){s.flags|=4}function ab(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!gx(a)){if(a=ti.current,a!==null&&((Pt&4194048)===Pt?Fi!==null:(Pt&62914560)!==Pt&&(Pt&536870912)===0||a!==Fi))throw cc=tm,V0;s.flags|=8192}}function nd(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?ah():536870912,s.lanes|=a,Vo|=a)}function vc(s,a){if(!Yt)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function Ee(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(a)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=u,s.childLanes=l,a}function XC(s,a,l){var u=a.pendingProps;switch(Yg(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ee(a),null;case 1:return Ee(a),null;case 3:return l=a.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),bs(Fe),qn(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(nc(a)?Es(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,U0())),Ee(a),null;case 26:return l=a.memoizedState,s===null?(Es(a),l!==null?(Ee(a),ab(a,l)):(Ee(a),a.flags&=-16777217)):l?l!==s.memoizedState?(Es(a),Ee(a),ab(a,l)):(Ee(a),a.flags&=-16777217):(s.memoizedProps!==u&&Es(a),Ee(a),a.flags&=-16777217),null;case 27:ft(a),l=mt.current;var m=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==u&&Es(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return Ee(a),null}s=ht.current,nc(a)?j0(a):(s=ax(m,u,l),a.stateNode=s,Es(a))}return Ee(a),null;case 5:if(ft(a),l=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&Es(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return Ee(a),null}if(s=ht.current,nc(a))j0(a);else{switch(m=md(mt.current),s){case 1:s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=m.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof u.is=="string"?m.createElement("select",{is:u.is}):m.createElement("select"),u.multiple?s.multiple=!0:u.size&&(s.size=u.size);break;default:s=typeof u.is=="string"?m.createElement(l,{is:u.is}):m.createElement(l)}}s[He]=a,s[Le]=u;t:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)s.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break t;for(;m.sibling===null;){if(m.return===null||m.return===a)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=s;t:switch(on(s,l,u),l){case"button":case"input":case"select":case"textarea":s=!!u.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&Es(a)}}return Ee(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==u&&Es(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(s=mt.current,nc(a)){if(s=a.stateNode,l=a.memoizedProps,u=null,m=vn,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}s[He]=a,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||Jb(s.nodeValue,l)),s||Ea(a)}else s=md(s).createTextNode(u),s[He]=a,a.stateNode=s}return Ee(a),null;case 13:if(u=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=nc(a),u!==null&&u.dehydrated!==null){if(s===null){if(!m)throw Error(i(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[He]=a}else ic(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ee(a),m=!1}else m=U0(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(ws(a),a):(ws(a),null)}if(ws(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=u!==null,s=s!==null&&s.memoizedState!==null,l){u=a.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==m&&(u.flags|=2048)}return l!==s&&l&&(a.child.flags|=8192),nd(a,a.updateQueue),Ee(a),null;case 4:return qn(),s===null&&sp(a.stateNode.containerInfo),Ee(a),null;case 10:return bs(a.type),Ee(a),null;case 19:if(lt(Ve),m=a.memoizedState,m===null)return Ee(a),null;if(u=(a.flags&128)!==0,p=m.rendering,p===null)if(u)vc(m,!1);else{if(ke!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(p=Kh(s),p!==null){for(a.flags|=128,vc(m,!1),s=p.updateQueue,a.updateQueue=s,nd(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)I0(l,s),l=l.sibling;return rt(Ve,Ve.current&1|2),a.child}s=s.sibling}m.tail!==null&&Lt()>rd&&(a.flags|=128,u=!0,vc(m,!1),a.lanes=4194304)}else{if(!u)if(s=Kh(p),s!==null){if(a.flags|=128,u=!0,s=s.updateQueue,a.updateQueue=s,nd(a,s),vc(m,!0),m.tail===null&&m.tailMode==="hidden"&&!p.alternate&&!Yt)return Ee(a),null}else 2*Lt()-m.renderingStartTime>rd&&l!==536870912&&(a.flags|=128,u=!0,vc(m,!1),a.lanes=4194304);m.isBackwards?(p.sibling=a.child,a.child=p):(s=m.last,s!==null?s.sibling=p:a.child=p,m.last=p)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=Lt(),a.sibling=null,s=Ve.current,rt(Ve,u?s&1|2:s&1),a):(Ee(a),null);case 22:case 23:return ws(a),am(),u=a.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(Ee(a),a.subtreeFlags&6&&(a.flags|=8192)):Ee(a),l=a.updateQueue,l!==null&&nd(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),s!==null&&lt(Aa),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),bs(Fe),Ee(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function QC(s,a){switch(Yg(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return bs(Fe),qn(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return ft(a),null;case 13:if(ws(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));ic()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return lt(Ve),null;case 4:return qn(),null;case 10:return bs(a.type),null;case 22:case 23:return ws(a),am(),s!==null&&lt(Aa),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return bs(Fe),null;case 25:return null;default:return null}}function ob(s,a){switch(Yg(a),a.tag){case 3:bs(Fe),qn();break;case 26:case 27:case 5:ft(a);break;case 4:qn();break;case 13:ws(a);break;case 19:lt(Ve);break;case 10:bs(a.type);break;case 22:case 23:ws(a),am(),s!==null&&lt(Aa);break;case 24:bs(Fe)}}function bc(s,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var m=u.next;l=m;do{if((l.tag&s)===s){u=void 0;var p=l.create,S=l.inst;u=p(),S.destroy=u}l=l.next}while(l!==m)}}catch(T){fe(a,a.return,T)}}function dr(s,a,l){try{var u=a.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var p=m.next;u=p;do{if((u.tag&s)===s){var S=u.inst,T=S.destroy;if(T!==void 0){S.destroy=void 0,m=a;var L=l,G=T;try{G()}catch(nt){fe(m,L,nt)}}}u=u.next}while(u!==p)}}catch(nt){fe(a,a.return,nt)}}function lb(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{X0(a,l)}catch(u){fe(s,s.return,u)}}}function cb(s,a,l){l.props=ka(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){fe(s,a,u)}}function xc(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(m){fe(s,a,m)}}function Vi(s,a){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(m){fe(s,a,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){fe(s,a,m)}else l.current=null}function ub(s){var a=s.type,l=s.memoizedProps,u=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(m){fe(s,s.return,m)}}function Im(s,a,l){try{var u=s.stateNode;yA(u,s.type,l,a),u[Le]=a}catch(m){fe(s,s.return,m)}}function hb(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&br(s.type)||s.tag===4}function Lm(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||hb(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&br(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function jm(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=gd));else if(u!==4&&(u===27&&br(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for(jm(s,a,l),s=s.sibling;s!==null;)jm(s,a,l),s=s.sibling}function id(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(u!==4&&(u===27&&br(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(id(s,a,l),s=s.sibling;s!==null;)id(s,a,l),s=s.sibling}function db(s){var a=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);on(a,u,l),a[He]=s,a[Le]=l}catch(p){fe(s,s.return,p)}}var Ts=!1,De=!1,Pm=!1,fb=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function KC(s,a){if(s=s.containerInfo,op=xd,s=E0(s),Lg(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var m=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break t}var S=0,T=-1,L=-1,G=0,nt=0,at=s,X=null;e:for(;;){for(var Q;at!==l||m!==0&&at.nodeType!==3||(T=S+m),at!==p||u!==0&&at.nodeType!==3||(L=S+u),at.nodeType===3&&(S+=at.nodeValue.length),(Q=at.firstChild)!==null;)X=at,at=Q;for(;;){if(at===s)break e;if(X===l&&++G===m&&(T=S),X===p&&++nt===u&&(L=S),(Q=at.nextSibling)!==null)break;at=X,X=at.parentNode}at=Q}l=T===-1||L===-1?null:{start:T,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for(lp={focusedElem:s,selectionRange:l},xd=!1,Ke=a;Ke!==null;)if(a=Ke,s=a.child,(a.subtreeFlags&1024)!==0&&s!==null)s.return=a,Ke=s;else for(;Ke!==null;){switch(a=Ke,p=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&p!==null){s=void 0,l=a,m=p.memoizedProps,p=p.memoizedState,u=l.stateNode;try{var St=ka(l.type,m,l.elementType===l.type);s=u.getSnapshotBeforeUpdate(St,p),u.__reactInternalSnapshotBeforeUpdate=s}catch(vt){fe(l,l.return,vt)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)hp(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":hp(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,Ke=s;break}Ke=a.return}}function gb(s,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:fr(s,l),u&4&&bc(5,l);break;case 1:if(fr(s,l),u&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(S){fe(l,l.return,S)}else{var m=ka(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(m,a,s.__reactInternalSnapshotBeforeUpdate)}catch(S){fe(l,l.return,S)}}u&64&&lb(l),u&512&&xc(l,l.return);break;case 3:if(fr(s,l),u&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{X0(s,a)}catch(S){fe(l,l.return,S)}}break;case 27:a===null&&u&4&&db(l);case 26:case 5:fr(s,l),a===null&&u&4&&ub(l),u&512&&xc(l,l.return);break;case 12:fr(s,l);break;case 13:fr(s,l),u&4&&yb(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=aA.bind(null,l),EA(s,l))));break;case 22:if(u=l.memoizedState!==null||Ts,!u){a=a!==null&&a.memoizedState!==null||De,m=Ts;var p=De;Ts=u,(De=a)&&!p?gr(s,l,(l.subtreeFlags&8772)!==0):fr(s,l),Ts=m,De=p}break;case 30:break;default:fr(s,l)}}function mb(s){var a=s.alternate;a!==null&&(s.alternate=null,mb(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&sa(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var we=null,Nn=!1;function Cs(s,a,l){for(l=l.child;l!==null;)pb(s,a,l),l=l.sibling}function pb(s,a,l){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(Ae,l)}catch{}switch(l.tag){case 26:De||Vi(l,a),Cs(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:De||Vi(l,a);var u=we,m=Nn;br(l.type)&&(we=l.stateNode,Nn=!1),Cs(s,a,l),Rc(l.stateNode),we=u,Nn=m;break;case 5:De||Vi(l,a);case 6:if(u=we,m=Nn,we=null,Cs(s,a,l),we=u,Nn=m,we!==null)if(Nn)try{(we.nodeType===9?we.body:we.nodeName==="HTML"?we.ownerDocument.body:we).removeChild(l.stateNode)}catch(p){fe(l,a,p)}else try{we.removeChild(l.stateNode)}catch(p){fe(l,a,p)}break;case 18:we!==null&&(Nn?(s=we,sx(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),Uc(s)):sx(we,l.stateNode));break;case 4:u=we,m=Nn,we=l.stateNode.containerInfo,Nn=!0,Cs(s,a,l),we=u,Nn=m;break;case 0:case 11:case 14:case 15:De||dr(2,l,a),De||dr(4,l,a),Cs(s,a,l);break;case 1:De||(Vi(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&cb(l,a,u)),Cs(s,a,l);break;case 21:Cs(s,a,l);break;case 22:De=(u=De)||l.memoizedState!==null,Cs(s,a,l),De=u;break;default:Cs(s,a,l)}}function yb(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Uc(s)}catch(l){fe(a,a.return,l)}}function ZC(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new fb),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new fb),a;default:throw Error(i(435,s.tag))}}function Um(s,a){var l=ZC(s);a.forEach(function(u){var m=oA.bind(null,s,u);l.has(u)||(l.add(u),u.then(m,m))})}function zn(s,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var m=l[u],p=s,S=a,T=S;t:for(;T!==null;){switch(T.tag){case 27:if(br(T.type)){we=T.stateNode,Nn=!1;break t}break;case 5:we=T.stateNode,Nn=!1;break t;case 3:case 4:we=T.stateNode.containerInfo,Nn=!0;break t}T=T.return}if(we===null)throw Error(i(160));pb(p,S,m),we=null,Nn=!1,p=m.alternate,p!==null&&(p.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)_b(a,s),a=a.sibling}var mi=null;function _b(s,a){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:zn(a,s),Bn(s),u&4&&(dr(3,s,s.return),bc(3,s),dr(5,s,s.return));break;case 1:zn(a,s),Bn(s),u&512&&(De||l===null||Vi(l,l.return)),u&64&&Ts&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var m=mi;if(zn(a,s),Bn(s),u&512&&(De||l===null||Vi(l,l.return)),u&4){var p=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){t:{u=s.type,l=s.memoizedProps,m=m.ownerDocument||m;e:switch(u){case"title":p=m.getElementsByTagName("title")[0],(!p||p[ia]||p[He]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=m.createElement(u),m.head.insertBefore(p,m.querySelector("head > title"))),on(p,u,l),p[He]=s,Me(p),u=p;break t;case"link":var S=dx("link","href",m).get(u+(l.href||""));if(S){for(var T=0;T<S.length;T++)if(p=S[T],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(T,1);break e}}p=m.createElement(u),on(p,u,l),m.head.appendChild(p);break;case"meta":if(S=dx("meta","content",m).get(u+(l.content||""))){for(T=0;T<S.length;T++)if(p=S[T],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(T,1);break e}}p=m.createElement(u),on(p,u,l),m.head.appendChild(p);break;default:throw Error(i(468,u))}p[He]=s,Me(p),u=p}s.stateNode=u}else fx(m,s.type,s.stateNode);else s.stateNode=hx(m,u,s.memoizedProps);else p!==u?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,u===null?fx(m,s.type,s.stateNode):hx(m,u,s.memoizedProps)):u===null&&s.stateNode!==null&&Im(s,s.memoizedProps,l.memoizedProps)}break;case 27:zn(a,s),Bn(s),u&512&&(De||l===null||Vi(l,l.return)),l!==null&&u&4&&Im(s,s.memoizedProps,l.memoizedProps);break;case 5:if(zn(a,s),Bn(s),u&512&&(De||l===null||Vi(l,l.return)),s.flags&32){m=s.stateNode;try{Yn(m,"")}catch(Q){fe(s,s.return,Q)}}u&4&&s.stateNode!=null&&(m=s.memoizedProps,Im(s,m,l!==null?l.memoizedProps:m)),u&1024&&(Pm=!0);break;case 6:if(zn(a,s),Bn(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(Q){fe(s,s.return,Q)}}break;case 3:if(_d=null,m=mi,mi=pd(a.containerInfo),zn(a,s),mi=m,Bn(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Uc(a.containerInfo)}catch(Q){fe(s,s.return,Q)}Pm&&(Pm=!1,vb(s));break;case 4:u=mi,mi=pd(s.stateNode.containerInfo),zn(a,s),Bn(s),mi=u;break;case 12:zn(a,s),Bn(s);break;case 13:zn(a,s),Bn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(qm=Lt()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Um(s,u)));break;case 22:m=s.memoizedState!==null;var L=l!==null&&l.memoizedState!==null,G=Ts,nt=De;if(Ts=G||m,De=nt||L,zn(a,s),De=nt,Ts=G,Bn(s),u&8192)t:for(a=s.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(l===null||L||Ts||De||Ra(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){L=l=a;try{if(p=L.stateNode,m)S=p.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{T=L.stateNode;var at=L.memoizedProps.style,X=at!=null&&at.hasOwnProperty("display")?at.display:null;T.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(Q){fe(L,L.return,Q)}}}else if(a.tag===6){if(l===null){L=a;try{L.stateNode.nodeValue=m?"":L.memoizedProps}catch(Q){fe(L,L.return,Q)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Um(s,l))));break;case 19:zn(a,s),Bn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Um(s,u)));break;case 30:break;case 21:break;default:zn(a,s),Bn(s)}}function Bn(s){var a=s.flags;if(a&2){try{for(var l,u=s.return;u!==null;){if(hb(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var m=l.stateNode,p=Lm(s);id(s,p,m);break;case 5:var S=l.stateNode;l.flags&32&&(Yn(S,""),l.flags&=-33);var T=Lm(s);id(s,T,S);break;case 3:case 4:var L=l.stateNode.containerInfo,G=Lm(s);jm(s,G,L);break;default:throw Error(i(161))}}catch(nt){fe(s,s.return,nt)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function vb(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;vb(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function fr(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)gb(s,a.alternate,a),a=a.sibling}function Ra(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:dr(4,a,a.return),Ra(a);break;case 1:Vi(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&cb(a,a.return,l),Ra(a);break;case 27:Rc(a.stateNode);case 26:case 5:Vi(a,a.return),Ra(a);break;case 22:a.memoizedState===null&&Ra(a);break;case 30:Ra(a);break;default:Ra(a)}s=s.sibling}}function gr(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,m=s,p=a,S=p.flags;switch(p.tag){case 0:case 11:case 15:gr(m,p,l),bc(4,p);break;case 1:if(gr(m,p,l),u=p,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(G){fe(u,u.return,G)}if(u=p,m=u.updateQueue,m!==null){var T=u.stateNode;try{var L=m.shared.hiddenCallbacks;if(L!==null)for(m.shared.hiddenCallbacks=null,m=0;m<L.length;m++)$0(L[m],T)}catch(G){fe(u,u.return,G)}}l&&S&64&&lb(p),xc(p,p.return);break;case 27:db(p);case 26:case 5:gr(m,p,l),l&&u===null&&S&4&&ub(p),xc(p,p.return);break;case 12:gr(m,p,l);break;case 13:gr(m,p,l),l&&S&4&&yb(m,p);break;case 22:p.memoizedState===null&&gr(m,p,l),xc(p,p.return);break;case 30:break;default:gr(m,p,l)}a=a.sibling}}function zm(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&ac(l))}function Bm(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&ac(s))}function qi(s,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)bb(s,a,l,u),a=a.sibling}function bb(s,a,l,u){var m=a.flags;switch(a.tag){case 0:case 11:case 15:qi(s,a,l,u),m&2048&&bc(9,a);break;case 1:qi(s,a,l,u);break;case 3:qi(s,a,l,u),m&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&ac(s)));break;case 12:if(m&2048){qi(s,a,l,u),s=a.stateNode;try{var p=a.memoizedProps,S=p.id,T=p.onPostCommit;typeof T=="function"&&T(S,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(L){fe(a,a.return,L)}}else qi(s,a,l,u);break;case 13:qi(s,a,l,u);break;case 23:break;case 22:p=a.stateNode,S=a.alternate,a.memoizedState!==null?p._visibility&2?qi(s,a,l,u):wc(s,a):p._visibility&2?qi(s,a,l,u):(p._visibility|=2,Bo(s,a,l,u,(a.subtreeFlags&10256)!==0)),m&2048&&zm(S,a);break;case 24:qi(s,a,l,u),m&2048&&Bm(a.alternate,a);break;default:qi(s,a,l,u)}}function Bo(s,a,l,u,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var p=s,S=a,T=l,L=u,G=S.flags;switch(S.tag){case 0:case 11:case 15:Bo(p,S,T,L,m),bc(8,S);break;case 23:break;case 22:var nt=S.stateNode;S.memoizedState!==null?nt._visibility&2?Bo(p,S,T,L,m):wc(p,S):(nt._visibility|=2,Bo(p,S,T,L,m)),m&&G&2048&&zm(S.alternate,S);break;case 24:Bo(p,S,T,L,m),m&&G&2048&&Bm(S.alternate,S);break;default:Bo(p,S,T,L,m)}a=a.sibling}}function wc(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,u=a,m=u.flags;switch(u.tag){case 22:wc(l,u),m&2048&&zm(u.alternate,u);break;case 24:wc(l,u),m&2048&&Bm(u.alternate,u);break;default:wc(l,u)}a=a.sibling}}var Sc=8192;function Ho(s){if(s.subtreeFlags&Sc)for(s=s.child;s!==null;)xb(s),s=s.sibling}function xb(s){switch(s.tag){case 26:Ho(s),s.flags&Sc&&s.memoizedState!==null&&PA(mi,s.memoizedState,s.memoizedProps);break;case 5:Ho(s);break;case 3:case 4:var a=mi;mi=pd(s.stateNode.containerInfo),Ho(s),mi=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=Sc,Sc=16777216,Ho(s),Sc=a):Ho(s));break;default:Ho(s)}}function wb(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Ec(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Ke=u,Eb(u,s)}wb(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Sb(s),s=s.sibling}function Sb(s){switch(s.tag){case 0:case 11:case 15:Ec(s),s.flags&2048&&dr(9,s,s.return);break;case 3:Ec(s);break;case 12:Ec(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,sd(s)):Ec(s);break;default:Ec(s)}}function sd(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Ke=u,Eb(u,s)}wb(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:dr(8,a,a.return),sd(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,sd(a));break;default:sd(a)}s=s.sibling}}function Eb(s,a){for(;Ke!==null;){var l=Ke;switch(l.tag){case 0:case 11:case 15:dr(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:ac(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Ke=u;else t:for(l=s;Ke!==null;){u=Ke;var m=u.sibling,p=u.return;if(mb(u),u===l){Ke=null;break t}if(m!==null){m.return=p,Ke=m;break t}Ke=p}}}var JC={getCacheForType:function(s){var a=fn(Fe),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l}},tA=typeof WeakMap=="function"?WeakMap:Map,te=0,me=null,Mt=null,Pt=0,ee=0,Hn=null,mr=!1,Fo=!1,Hm=!1,As=0,ke=0,pr=0,Ma=0,Fm=0,ei=0,Vo=0,Tc=null,kn=null,Vm=!1,qm=0,rd=1/0,ad=null,yr=null,an=0,_r=null,qo=null,Wo=0,Wm=0,Ym=null,Tb=null,Cc=0,Gm=null;function Fn(){if((te&2)!==0&&Pt!==0)return Pt&-Pt;if($.T!==null){var s=Oo;return s!==0?s:tp()}return Zs()}function Cb(){ei===0&&(ei=(Pt&536870912)===0||Yt?Pl():536870912);var s=ti.current;return s!==null&&(s.flags|=32),ei}function Vn(s,a,l){(s===me&&(ee===2||ee===9)||s.cancelPendingCommit!==null)&&(Yo(s,0),vr(s,Pt,ei,!1)),ss(s,l),((te&2)===0||s!==me)&&(s===me&&((te&2)===0&&(Ma|=l),ke===4&&vr(s,Pt,ei,!1)),Wi(s))}function Ab(s,a,l){if((te&6)!==0)throw Error(i(327));var u=!l&&(a&124)===0&&(a&s.expiredLanes)===0||ea(s,a),m=u?iA(s,a):Qm(s,a,!0),p=u;do{if(m===0){Fo&&!u&&vr(s,a,0,!1);break}else{if(l=s.current.alternate,p&&!eA(l)){m=Qm(s,a,!1),p=!1;continue}if(m===2){if(p=a,s.errorRecoveryDisabledLanes&p)var S=0;else S=s.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){a=S;t:{var T=s;m=Tc;var L=T.current.memoizedState.isDehydrated;if(L&&(Yo(T,S).flags|=256),S=Qm(T,S,!1),S!==2){if(Hm&&!L){T.errorRecoveryDisabledLanes|=p,Ma|=p,m=4;break t}p=kn,kn=m,p!==null&&(kn===null?kn=p:kn.push.apply(kn,p))}m=S}if(p=!1,m!==2)continue}}if(m===1){Yo(s,0),vr(s,a,0,!0);break}t:{switch(u=s,p=m,p){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:vr(u,a,ei,!mr);break t;case 2:kn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(m=qm+300-Lt(),10<m)){if(vr(u,a,ei,!mr),co(u,0,!0)!==0)break t;u.timeoutHandle=nx(Nb.bind(null,u,l,kn,ad,Vm,a,ei,Ma,Vo,mr,p,2,-0,0),m);break t}Nb(u,l,kn,ad,Vm,a,ei,Ma,Vo,mr,p,0,-0,0)}}break}while(!0);Wi(s)}function Nb(s,a,l,u,m,p,S,T,L,G,nt,at,X,Q){if(s.timeoutHandle=-1,at=a.subtreeFlags,(at&8192||(at&16785408)===16785408)&&(Dc={stylesheets:null,count:0,unsuspend:jA},xb(a),at=UA(),at!==null)){s.cancelPendingCommit=at(Lb.bind(null,s,a,p,l,u,m,S,T,L,nt,1,X,Q)),vr(s,p,S,!G);return}Lb(s,a,p,l,u,m,S,T,L)}function eA(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var m=l[u],p=m.getSnapshot;m=m.value;try{if(!Pn(p(),m))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function vr(s,a,l,u){a&=~Fm,a&=~Ma,s.suspendedLanes|=a,s.pingedLanes&=~a,u&&(s.warmLanes|=a),u=s.expirationTimes;for(var m=a;0<m;){var p=31-dn(m),S=1<<p;u[p]=-1,m&=~S}l!==0&&rs(s,l,a)}function od(){return(te&6)===0?(Ac(0),!1):!0}function $m(){if(Mt!==null){if(ee===0)var s=Mt.return;else s=Mt,vs=Ta=null,hm(s),Uo=null,yc=0,s=Mt;for(;s!==null;)ob(s.alternate,s),s=s.return;Mt=null}}function Yo(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,vA(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),$m(),me=s,Mt=l=ps(s.current,null),Pt=a,ee=0,Hn=null,mr=!1,Fo=ea(s,a),Hm=!1,Vo=ei=Fm=Ma=pr=ke=0,kn=Tc=null,Vm=!1,(a&8)!==0&&(a|=a&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=a;0<u;){var m=31-dn(u),p=1<<m;a|=s[m],u&=~p}return As=a,kh(),l}function kb(s,a){Ct=null,$.H=$h,a===lc||a===Uh?(a=Y0(),ee=3):a===V0?(a=Y0(),ee=4):ee=a===Gv?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Hn=a,Mt===null&&(ke=1,Jh(s,Qn(a,s.current)))}function Rb(){var s=$.H;return $.H=$h,s===null?$h:s}function Mb(){var s=$.A;return $.A=JC,s}function Xm(){ke=4,mr||(Pt&4194048)!==Pt&&ti.current!==null||(Fo=!0),(pr&134217727)===0&&(Ma&134217727)===0||me===null||vr(me,Pt,ei,!1)}function Qm(s,a,l){var u=te;te|=2;var m=Rb(),p=Mb();(me!==s||Pt!==a)&&(ad=null,Yo(s,a)),a=!1;var S=ke;t:do try{if(ee!==0&&Mt!==null){var T=Mt,L=Hn;switch(ee){case 8:$m(),S=6;break t;case 3:case 2:case 9:case 6:ti.current===null&&(a=!0);var G=ee;if(ee=0,Hn=null,Go(s,T,L,G),l&&Fo){S=0;break t}break;default:G=ee,ee=0,Hn=null,Go(s,T,L,G)}}nA(),S=ke;break}catch(nt){kb(s,nt)}while(!0);return a&&s.shellSuspendCounter++,vs=Ta=null,te=u,$.H=m,$.A=p,Mt===null&&(me=null,Pt=0,kh()),S}function nA(){for(;Mt!==null;)Ob(Mt)}function iA(s,a){var l=te;te|=2;var u=Rb(),m=Mb();me!==s||Pt!==a?(ad=null,rd=Lt()+500,Yo(s,a)):Fo=ea(s,a);t:do try{if(ee!==0&&Mt!==null){a=Mt;var p=Hn;e:switch(ee){case 1:ee=0,Hn=null,Go(s,a,p,1);break;case 2:case 9:if(q0(p)){ee=0,Hn=null,Db(a);break}a=function(){ee!==2&&ee!==9||me!==s||(ee=7),Wi(s)},p.then(a,a);break t;case 3:ee=7;break t;case 4:ee=5;break t;case 7:q0(p)?(ee=0,Hn=null,Db(a)):(ee=0,Hn=null,Go(s,a,p,7));break;case 5:var S=null;switch(Mt.tag){case 26:S=Mt.memoizedState;case 5:case 27:var T=Mt;if(!S||gx(S)){ee=0,Hn=null;var L=T.sibling;if(L!==null)Mt=L;else{var G=T.return;G!==null?(Mt=G,ld(G)):Mt=null}break e}}ee=0,Hn=null,Go(s,a,p,5);break;case 6:ee=0,Hn=null,Go(s,a,p,6);break;case 8:$m(),ke=6;break t;default:throw Error(i(462))}}sA();break}catch(nt){kb(s,nt)}while(!0);return vs=Ta=null,$.H=u,$.A=m,te=l,Mt!==null?0:(me=null,Pt=0,kh(),ke)}function sA(){for(;Mt!==null&&!he();)Ob(Mt)}function Ob(s){var a=rb(s.alternate,s,As);s.memoizedProps=s.pendingProps,a===null?ld(s):Mt=a}function Db(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=Jv(l,a,a.pendingProps,a.type,void 0,Pt);break;case 11:a=Jv(l,a,a.pendingProps,a.type.render,a.ref,Pt);break;case 5:hm(a);default:ob(l,a),a=Mt=I0(a,As),a=rb(l,a,As)}s.memoizedProps=s.pendingProps,a===null?ld(s):Mt=a}function Go(s,a,l,u){vs=Ta=null,hm(a),Uo=null,yc=0;var m=a.return;try{if(GC(s,m,a,l,Pt)){ke=1,Jh(s,Qn(l,s.current)),Mt=null;return}}catch(p){if(m!==null)throw Mt=m,p;ke=1,Jh(s,Qn(l,s.current)),Mt=null;return}a.flags&32768?(Yt||u===1?s=!0:Fo||(Pt&536870912)!==0?s=!1:(mr=s=!0,(u===2||u===9||u===3||u===6)&&(u=ti.current,u!==null&&u.tag===13&&(u.flags|=16384))),Ib(a,s)):ld(a)}function ld(s){var a=s;do{if((a.flags&32768)!==0){Ib(a,mr);return}s=a.return;var l=XC(a.alternate,a,As);if(l!==null){Mt=l;return}if(a=a.sibling,a!==null){Mt=a;return}Mt=a=s}while(a!==null);ke===0&&(ke=5)}function Ib(s,a){do{var l=QC(s.alternate,s);if(l!==null){l.flags&=32767,Mt=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){Mt=s;return}Mt=s=l}while(s!==null);ke=6,Mt=null}function Lb(s,a,l,u,m,p,S,T,L){s.cancelPendingCommit=null;do cd();while(an!==0);if((te&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(p=a.lanes|a.childLanes,p|=Bg,Ul(s,l,p,S,T,L),s===me&&(Mt=me=null,Pt=0),qo=a,_r=s,Wo=l,Wm=p,Ym=m,Tb=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,lA(Kr,function(){return Bb(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=$.T,$.T=null,m=Z.p,Z.p=2,S=te,te|=4;try{KC(s,a,l)}finally{te=S,Z.p=m,$.T=u}}an=1,jb(),Pb(),Ub()}}function jb(){if(an===1){an=0;var s=_r,a=qo,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=$.T,$.T=null;var u=Z.p;Z.p=2;var m=te;te|=4;try{_b(a,s);var p=lp,S=E0(s.containerInfo),T=p.focusedElem,L=p.selectionRange;if(S!==T&&T&&T.ownerDocument&&S0(T.ownerDocument.documentElement,T)){if(L!==null&&Lg(T)){var G=L.start,nt=L.end;if(nt===void 0&&(nt=G),"selectionStart"in T)T.selectionStart=G,T.selectionEnd=Math.min(nt,T.value.length);else{var at=T.ownerDocument||document,X=at&&at.defaultView||window;if(X.getSelection){var Q=X.getSelection(),St=T.textContent.length,vt=Math.min(L.start,St),ue=L.end===void 0?vt:Math.min(L.end,St);!Q.extend&&vt>ue&&(S=ue,ue=vt,vt=S);var F=w0(T,vt),H=w0(T,ue);if(F&&H&&(Q.rangeCount!==1||Q.anchorNode!==F.node||Q.anchorOffset!==F.offset||Q.focusNode!==H.node||Q.focusOffset!==H.offset)){var q=at.createRange();q.setStart(F.node,F.offset),Q.removeAllRanges(),vt>ue?(Q.addRange(q),Q.extend(H.node,H.offset)):(q.setEnd(H.node,H.offset),Q.addRange(q))}}}}for(at=[],Q=T;Q=Q.parentNode;)Q.nodeType===1&&at.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<at.length;T++){var st=at[T];st.element.scrollLeft=st.left,st.element.scrollTop=st.top}}xd=!!op,lp=op=null}finally{te=m,Z.p=u,$.T=l}}s.current=a,an=2}}function Pb(){if(an===2){an=0;var s=_r,a=qo,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=$.T,$.T=null;var u=Z.p;Z.p=2;var m=te;te|=4;try{gb(s,a.alternate,a)}finally{te=m,Z.p=u,$.T=l}}an=3}}function Ub(){if(an===4||an===3){an=0,hn();var s=_r,a=qo,l=Wo,u=Tb;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?an=5:(an=0,qo=_r=null,zb(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(yr=null),uo(l),a=a.stateNode,Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(Ae,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=$.T,m=Z.p,Z.p=2,$.T=null;try{for(var p=s.onRecoverableError,S=0;S<u.length;S++){var T=u[S];p(T.value,{componentStack:T.stack})}}finally{$.T=a,Z.p=m}}(Wo&3)!==0&&cd(),Wi(s),m=s.pendingLanes,(l&4194090)!==0&&(m&42)!==0?s===Gm?Cc++:(Cc=0,Gm=s):Cc=0,Ac(0)}}function zb(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,ac(a)))}function cd(s){return jb(),Pb(),Ub(),Bb()}function Bb(){if(an!==5)return!1;var s=_r,a=Wm;Wm=0;var l=uo(Wo),u=$.T,m=Z.p;try{Z.p=32>l?32:l,$.T=null,l=Ym,Ym=null;var p=_r,S=Wo;if(an=0,qo=_r=null,Wo=0,(te&6)!==0)throw Error(i(331));var T=te;if(te|=4,Sb(p.current),bb(p,p.current,S,l),te=T,Ac(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(Ae,p)}catch{}return!0}finally{Z.p=m,$.T=u,zb(s,a)}}function Hb(s,a,l){a=Qn(l,a),a=Tm(s.stateNode,a,2),s=lr(s,a,2),s!==null&&(ss(s,2),Wi(s))}function fe(s,a,l){if(s.tag===3)Hb(s,s,l);else for(;a!==null;){if(a.tag===3){Hb(a,s,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(yr===null||!yr.has(u))){s=Qn(l,s),l=Wv(2),u=lr(a,l,2),u!==null&&(Yv(l,u,a,s),ss(u,2),Wi(u));break}}a=a.return}}function Km(s,a,l){var u=s.pingCache;if(u===null){u=s.pingCache=new tA;var m=new Set;u.set(a,m)}else m=u.get(a),m===void 0&&(m=new Set,u.set(a,m));m.has(l)||(Hm=!0,m.add(l),s=rA.bind(null,s,a,l),a.then(s,s))}function rA(s,a,l){var u=s.pingCache;u!==null&&u.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,me===s&&(Pt&l)===l&&(ke===4||ke===3&&(Pt&62914560)===Pt&&300>Lt()-qm?(te&2)===0&&Yo(s,0):Fm|=l,Vo===Pt&&(Vo=0)),Wi(s)}function Fb(s,a){a===0&&(a=ah()),s=No(s,a),s!==null&&(ss(s,a),Wi(s))}function aA(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),Fb(s,l)}function oA(s,a){var l=0;switch(s.tag){case 13:var u=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),Fb(s,l)}function lA(s,a){return ae(s,a)}var ud=null,$o=null,Zm=!1,hd=!1,Jm=!1,Oa=0;function Wi(s){s!==$o&&s.next===null&&($o===null?ud=$o=s:$o=$o.next=s),hd=!0,Zm||(Zm=!0,uA())}function Ac(s,a){if(!Jm&&hd){Jm=!0;do for(var l=!1,u=ud;u!==null;){if(s!==0){var m=u.pendingLanes;if(m===0)var p=0;else{var S=u.suspendedLanes,T=u.pingedLanes;p=(1<<31-dn(42|s)+1)-1,p&=m&~(S&~T),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,Yb(u,p))}else p=Pt,p=co(u,u===me?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||ea(u,p)||(l=!0,Yb(u,p));u=u.next}while(l);Jm=!1}}function cA(){Vb()}function Vb(){hd=Zm=!1;var s=0;Oa!==0&&(_A()&&(s=Oa),Oa=0);for(var a=Lt(),l=null,u=ud;u!==null;){var m=u.next,p=qb(u,a);p===0?(u.next=null,l===null?ud=m:l.next=m,m===null&&($o=l)):(l=u,(s!==0||(p&3)!==0)&&(hd=!0)),u=m}Ac(s)}function qb(s,a){for(var l=s.suspendedLanes,u=s.pingedLanes,m=s.expirationTimes,p=s.pendingLanes&-62914561;0<p;){var S=31-dn(p),T=1<<S,L=m[S];L===-1?((T&l)===0||(T&u)!==0)&&(m[S]=jl(T,a)):L<=a&&(s.expiredLanes|=T),p&=~T}if(a=me,l=Pt,l=co(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===a&&(ee===2||ee===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&ve(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||ea(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(u!==null&&ve(u),uo(l)){case 2:case 8:l=Ks;break;case 32:l=Kr;break;case 268435456:l=lo;break;default:l=Kr}return u=Wb.bind(null,s),l=ae(l,u),s.callbackPriority=a,s.callbackNode=l,a}return u!==null&&u!==null&&ve(u),s.callbackPriority=2,s.callbackNode=null,2}function Wb(s,a){if(an!==0&&an!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(cd()&&s.callbackNode!==l)return null;var u=Pt;return u=co(s,s===me?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(Ab(s,u,a),qb(s,Lt()),s.callbackNode!=null&&s.callbackNode===l?Wb.bind(null,s):null)}function Yb(s,a){if(cd())return null;Ab(s,a,!0)}function uA(){bA(function(){(te&6)!==0?ae(En,cA):Vb()})}function tp(){return Oa===0&&(Oa=Pl()),Oa}function Gb(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:yo(""+s)}function $b(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function hA(s,a,l,u,m){if(a==="submit"&&l&&l.stateNode===m){var p=Gb((m[Le]||null).action),S=u.submitter;S&&(a=(a=S[Le]||null)?Gb(a.formAction):S.getAttribute("formAction"),a!==null&&(p=a,S=null));var T=new _o("action","action",null,u,m);s.push({event:T,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Oa!==0){var L=S?$b(m,S):new FormData(m);bm(l,{pending:!0,data:L,method:m.method,action:p},null,L)}}else typeof p=="function"&&(T.preventDefault(),L=S?$b(m,S):new FormData(m),bm(l,{pending:!0,data:L,method:m.method,action:p},p,L))},currentTarget:m}]})}}for(var ep=0;ep<zg.length;ep++){var np=zg[ep],dA=np.toLowerCase(),fA=np[0].toUpperCase()+np.slice(1);gi(dA,"on"+fA)}gi(A0,"onAnimationEnd"),gi(N0,"onAnimationIteration"),gi(k0,"onAnimationStart"),gi("dblclick","onDoubleClick"),gi("focusin","onFocus"),gi("focusout","onBlur"),gi(RC,"onTransitionRun"),gi(MC,"onTransitionStart"),gi(OC,"onTransitionCancel"),gi(R0,"onTransitionEnd"),as("onMouseEnter",["mouseout","mouseover"]),as("onMouseLeave",["mouseout","mouseover"]),as("onPointerEnter",["pointerout","pointerover"]),as("onPointerLeave",["pointerout","pointerover"]),di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),di("onBeforeInput",["compositionend","keypress","textInput","paste"]),di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nc));function Xb(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],m=u.event;u=u.listeners;t:{var p=void 0;if(a)for(var S=u.length-1;0<=S;S--){var T=u[S],L=T.instance,G=T.currentTarget;if(T=T.listener,L!==p&&m.isPropagationStopped())break t;p=T,m.currentTarget=G;try{p(m)}catch(nt){Zh(nt)}m.currentTarget=null,p=L}else for(S=0;S<u.length;S++){if(T=u[S],L=T.instance,G=T.currentTarget,T=T.listener,L!==p&&m.isPropagationStopped())break t;p=T,m.currentTarget=G;try{p(m)}catch(nt){Zh(nt)}m.currentTarget=null,p=L}}}}function Ot(s,a){var l=a[Bl];l===void 0&&(l=a[Bl]=new Set);var u=s+"__bubble";l.has(u)||(Qb(a,s,2,!1),l.add(u))}function ip(s,a,l){var u=0;a&&(u|=4),Qb(l,s,u,a)}var dd="_reactListening"+Math.random().toString(36).slice(2);function sp(s){if(!s[dd]){s[dd]=!0,Hl.forEach(function(l){l!=="selectionchange"&&(gA.has(l)||ip(l,!1,s),ip(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[dd]||(a[dd]=!0,ip("selectionchange",!1,a))}}function Qb(s,a,l,u){switch(bx(a)){case 2:var m=HA;break;case 8:m=FA;break;default:m=_p}l=m.bind(null,a,l,s),m=void 0,!$n||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),u?m!==void 0?s.addEventListener(a,l,{capture:!0,passive:m}):s.addEventListener(a,l,!0):m!==void 0?s.addEventListener(a,l,{passive:m}):s.addEventListener(a,l,!1)}function rp(s,a,l,u,m){var p=u;if((a&1)===0&&(a&2)===0&&u!==null)t:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var T=u.stateNode.containerInfo;if(T===m)break;if(S===4)for(S=u.return;S!==null;){var L=S.tag;if((L===3||L===4)&&S.stateNode.containerInfo===m)return;S=S.return}for(;T!==null;){if(S=tr(T),S===null)return;if(L=S.tag,L===5||L===6||L===26||L===27){u=p=S;continue t}T=T.parentNode}}u=u.return}gh(function(){var G=p,nt=Gn(l),at=[];t:{var X=M0.get(s);if(X!==void 0){var Q=_o,St=s;switch(s){case"keypress":if(Pi(l)===0)break t;case"keydown":case"keyup":Q=Eo;break;case"focusin":St="focus",Q=xo;break;case"focusout":St="blur",Q=xo;break;case"beforeblur":case"afterblur":Q=xo;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Xn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Mg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=wh;break;case A0:case N0:case k0:Q=wo;break;case R0:Q=Eh;break;case"scroll":case"scrollend":Q=mh;break;case"wheel":Q=Tn;break;case"copy":case"cut":case"paste":Q=So;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Jl;break;case"toggle":case"beforetoggle":Q=Ah}var vt=(a&4)!==0,ue=!vt&&(s==="scroll"||s==="scrollend"),F=vt?X!==null?X+"Capture":null:X;vt=[];for(var H=G,q;H!==null;){var st=H;if(q=st.stateNode,st=st.tag,st!==5&&st!==26&&st!==27||q===null||F===null||(st=ha(H,F),st!=null&&vt.push(kc(H,st,q))),ue)break;H=H.return}0<vt.length&&(X=new Q(X,St,null,l,nt),at.push({event:X,listeners:vt}))}}if((a&7)===0){t:{if(X=s==="mouseover"||s==="pointerover",Q=s==="mouseout"||s==="pointerout",X&&l!==cs&&(St=l.relatedTarget||l.fromElement)&&(tr(St)||St[Wn]))break t;if((Q||X)&&(X=nt.window===nt?nt:(X=nt.ownerDocument)?X.defaultView||X.parentWindow:window,Q?(St=l.relatedTarget||l.toElement,Q=G,St=St?tr(St):null,St!==null&&(ue=o(St),vt=St.tag,St!==ue||vt!==5&&vt!==27&&vt!==6)&&(St=null)):(Q=null,St=G),Q!==St)){if(vt=Xn,st="onMouseLeave",F="onMouseEnter",H="mouse",(s==="pointerout"||s==="pointerover")&&(vt=Jl,st="onPointerLeave",F="onPointerEnter",H="pointer"),ue=Q==null?X:Di(Q),q=St==null?X:Di(St),X=new vt(st,H+"leave",Q,l,nt),X.target=ue,X.relatedTarget=q,st=null,tr(nt)===G&&(vt=new vt(F,H+"enter",St,l,nt),vt.target=q,vt.relatedTarget=ue,st=vt),ue=st,Q&&St)e:{for(vt=Q,F=St,H=0,q=vt;q;q=Xo(q))H++;for(q=0,st=F;st;st=Xo(st))q++;for(;0<H-q;)vt=Xo(vt),H--;for(;0<q-H;)F=Xo(F),q--;for(;H--;){if(vt===F||F!==null&&vt===F.alternate)break e;vt=Xo(vt),F=Xo(F)}vt=null}else vt=null;Q!==null&&Kb(at,X,Q,vt,!1),St!==null&&ue!==null&&Kb(at,ue,St,vt,!0)}}t:{if(X=G?Di(G):window,Q=X.nodeName&&X.nodeName.toLowerCase(),Q==="select"||Q==="input"&&X.type==="file")var pt=p0;else if(gs(X))if(y0)pt=AC;else{pt=TC;var At=EC}else Q=X.nodeName,!Q||Q.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?G&&Yl(G.elementType)&&(pt=p0):pt=CC;if(pt&&(pt=pt(s,G))){Cn(at,pt,l,nt);break t}At&&At(s,X,G),s==="focusout"&&G&&X.type==="number"&&G.memoizedProps.value!=null&&nr(X,"number",X.value)}switch(At=G?Di(G):window,s){case"focusin":(gs(At)||At.contentEditable==="true")&&(To=At,jg=G,ec=null);break;case"focusout":ec=jg=To=null;break;case"mousedown":Pg=!0;break;case"contextmenu":case"mouseup":case"dragend":Pg=!1,T0(at,l,nt);break;case"selectionchange":if(kC)break;case"keydown":case"keyup":T0(at,l,nt)}var _t;if(f)t:{switch(s){case"compositionstart":var bt="onCompositionStart";break t;case"compositionend":bt="onCompositionEnd";break t;case"compositionupdate":bt="onCompositionUpdate";break t}bt=void 0}else xe?dt(s,l)&&(bt="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(bt="onCompositionStart");bt&&(N&&l.locale!=="ko"&&(xe||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&xe&&(_t=$l()):(ji=nt,ir="value"in ji?ji.value:ji.textContent,xe=!0)),At=fd(G,bt),0<At.length&&(bt=new Kl(bt,s,null,l,nt),at.push({event:bt,listeners:At}),_t?bt.data=_t:(_t=Xt(l),_t!==null&&(bt.data=_t)))),(_t=w?jt(s,l):$e(s,l))&&(bt=fd(G,"onBeforeInput"),0<bt.length&&(At=new Kl("onBeforeInput","beforeinput",null,l,nt),at.push({event:At,listeners:bt}),At.data=_t)),hA(at,s,G,l,nt)}Xb(at,a)})}function kc(s,a,l){return{instance:s,listener:a,currentTarget:l}}function fd(s,a){for(var l=a+"Capture",u=[];s!==null;){var m=s,p=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||p===null||(m=ha(s,l),m!=null&&u.unshift(kc(s,m,p)),m=ha(s,a),m!=null&&u.push(kc(s,m,p))),s.tag===3)return u;s=s.return}return[]}function Xo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Kb(s,a,l,u,m){for(var p=a._reactName,S=[];l!==null&&l!==u;){var T=l,L=T.alternate,G=T.stateNode;if(T=T.tag,L!==null&&L===u)break;T!==5&&T!==26&&T!==27||G===null||(L=G,m?(G=ha(l,p),G!=null&&S.unshift(kc(l,G,L))):m||(G=ha(l,p),G!=null&&S.push(kc(l,G,L)))),l=l.return}S.length!==0&&s.push({event:a,listeners:S})}var mA=/\r\n?/g,pA=/\u0000|\uFFFD/g;function Zb(s){return(typeof s=="string"?s:""+s).replace(mA,`
`).replace(pA,"")}function Jb(s,a){return a=Zb(a),Zb(s)===a}function gd(){}function ce(s,a,l,u,m,p){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||Yn(s,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&Yn(s,""+u);break;case"className":Ii(s,"class",u);break;case"tabIndex":Ii(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ii(s,l,u);break;case"style":Wl(s,u,p);break;case"data":if(a!=="object"){Ii(s,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=yo(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(a!=="input"&&ce(s,a,"name",m.name,m,null),ce(s,a,"formEncType",m.formEncType,m,null),ce(s,a,"formMethod",m.formMethod,m,null),ce(s,a,"formTarget",m.formTarget,m,null)):(ce(s,a,"encType",m.encType,m,null),ce(s,a,"method",m.method,m,null),ce(s,a,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=yo(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=gd);break;case"onScroll":u!=null&&Ot("scroll",s);break;case"onScrollEnd":u!=null&&Ot("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=yo(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":Ot("beforetoggle",s),Ot("toggle",s),er(s,"popover",u);break;case"xlinkActuate":sn(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":sn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":sn(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":sn(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":sn(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":sn(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":sn(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":sn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":sn(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":er(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=kg.get(l)||l,er(s,l,u))}}function ap(s,a,l,u,m,p){switch(l){case"style":Wl(s,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof u=="string"?Yn(s,u):(typeof u=="number"||typeof u=="bigint")&&Yn(s,""+u);break;case"onScroll":u!=null&&Ot("scroll",s);break;case"onScrollEnd":u!=null&&Ot("scrollend",s);break;case"onClick":u!=null&&(s.onclick=gd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ho.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),a=l.slice(2,m?l.length-7:void 0),p=s[Le]||null,p=p!=null?p[l]:null,typeof p=="function"&&s.removeEventListener(a,p,m),typeof u=="function")){typeof p!="function"&&p!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,u,m);break t}l in s?s[l]=u:u===!0?s.setAttribute(l,""):er(s,l,u)}}}function on(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",s),Ot("load",s);var u=!1,m=!1,p;for(p in l)if(l.hasOwnProperty(p)){var S=l[p];if(S!=null)switch(p){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ce(s,a,p,S,l,null)}}m&&ce(s,a,"srcSet",l.srcSet,l,null),u&&ce(s,a,"src",l.src,l,null);return;case"input":Ot("invalid",s);var T=p=S=m=null,L=null,G=null;for(u in l)if(l.hasOwnProperty(u)){var nt=l[u];if(nt!=null)switch(u){case"name":m=nt;break;case"type":S=nt;break;case"checked":L=nt;break;case"defaultChecked":G=nt;break;case"value":p=nt;break;case"defaultValue":T=nt;break;case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(i(137,a));break;default:ce(s,a,u,nt,l,null)}}la(s,p,T,L,G,S,m,!1),po(s);return;case"select":Ot("invalid",s),u=S=p=null;for(m in l)if(l.hasOwnProperty(m)&&(T=l[m],T!=null))switch(m){case"value":p=T;break;case"defaultValue":S=T;break;case"multiple":u=T;default:ce(s,a,m,T,l,null)}a=p,l=S,s.multiple=!!u,a!=null?ls(s,!!u,a,!1):l!=null&&ls(s,!!u,l,!0);return;case"textarea":Ot("invalid",s),p=m=u=null;for(S in l)if(l.hasOwnProperty(S)&&(T=l[S],T!=null))switch(S){case"value":u=T;break;case"defaultValue":m=T;break;case"children":p=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(i(91));break;default:ce(s,a,S,T,l,null)}ca(s,u,m,p),po(s);return;case"option":for(L in l)if(l.hasOwnProperty(L)&&(u=l[L],u!=null))switch(L){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ce(s,a,L,u,l,null)}return;case"dialog":Ot("beforetoggle",s),Ot("toggle",s),Ot("cancel",s),Ot("close",s);break;case"iframe":case"object":Ot("load",s);break;case"video":case"audio":for(u=0;u<Nc.length;u++)Ot(Nc[u],s);break;case"image":Ot("error",s),Ot("load",s);break;case"details":Ot("toggle",s);break;case"embed":case"source":case"link":Ot("error",s),Ot("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in l)if(l.hasOwnProperty(G)&&(u=l[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ce(s,a,G,u,l,null)}return;default:if(Yl(a)){for(nt in l)l.hasOwnProperty(nt)&&(u=l[nt],u!==void 0&&ap(s,a,nt,u,l,void 0));return}}for(T in l)l.hasOwnProperty(T)&&(u=l[T],u!=null&&ce(s,a,T,u,l,null))}function yA(s,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,p=null,S=null,T=null,L=null,G=null,nt=null;for(Q in l){var at=l[Q];if(l.hasOwnProperty(Q)&&at!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":L=at;default:u.hasOwnProperty(Q)||ce(s,a,Q,null,u,at)}}for(var X in u){var Q=u[X];if(at=l[X],u.hasOwnProperty(X)&&(Q!=null||at!=null))switch(X){case"type":p=Q;break;case"name":m=Q;break;case"checked":G=Q;break;case"defaultChecked":nt=Q;break;case"value":S=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,a));break;default:Q!==at&&ce(s,a,X,Q,u,at)}}jn(s,S,T,L,G,nt,p,m);return;case"select":Q=S=T=X=null;for(p in l)if(L=l[p],l.hasOwnProperty(p)&&L!=null)switch(p){case"value":break;case"multiple":Q=L;default:u.hasOwnProperty(p)||ce(s,a,p,null,u,L)}for(m in u)if(p=u[m],L=l[m],u.hasOwnProperty(m)&&(p!=null||L!=null))switch(m){case"value":X=p;break;case"defaultValue":T=p;break;case"multiple":S=p;default:p!==L&&ce(s,a,m,p,u,L)}a=T,l=S,u=Q,X!=null?ls(s,!!l,X,!1):!!u!=!!l&&(a!=null?ls(s,!!l,a,!0):ls(s,!!l,l?[]:"",!1));return;case"textarea":Q=X=null;for(T in l)if(m=l[T],l.hasOwnProperty(T)&&m!=null&&!u.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ce(s,a,T,null,u,m)}for(S in u)if(m=u[S],p=l[S],u.hasOwnProperty(S)&&(m!=null||p!=null))switch(S){case"value":X=m;break;case"defaultValue":Q=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==p&&ce(s,a,S,m,u,p)}oe(s,X,Q);return;case"option":for(var St in l)if(X=l[St],l.hasOwnProperty(St)&&X!=null&&!u.hasOwnProperty(St))switch(St){case"selected":s.selected=!1;break;default:ce(s,a,St,null,u,X)}for(L in u)if(X=u[L],Q=l[L],u.hasOwnProperty(L)&&X!==Q&&(X!=null||Q!=null))switch(L){case"selected":s.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:ce(s,a,L,X,u,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in l)X=l[vt],l.hasOwnProperty(vt)&&X!=null&&!u.hasOwnProperty(vt)&&ce(s,a,vt,null,u,X);for(G in u)if(X=u[G],Q=l[G],u.hasOwnProperty(G)&&X!==Q&&(X!=null||Q!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,a));break;default:ce(s,a,G,X,u,Q)}return;default:if(Yl(a)){for(var ue in l)X=l[ue],l.hasOwnProperty(ue)&&X!==void 0&&!u.hasOwnProperty(ue)&&ap(s,a,ue,void 0,u,X);for(nt in u)X=u[nt],Q=l[nt],!u.hasOwnProperty(nt)||X===Q||X===void 0&&Q===void 0||ap(s,a,nt,X,u,Q);return}}for(var F in l)X=l[F],l.hasOwnProperty(F)&&X!=null&&!u.hasOwnProperty(F)&&ce(s,a,F,null,u,X);for(at in u)X=u[at],Q=l[at],!u.hasOwnProperty(at)||X===Q||X==null&&Q==null||ce(s,a,at,X,u,Q)}var op=null,lp=null;function md(s){return s.nodeType===9?s:s.ownerDocument}function tx(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ex(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function cp(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var up=null;function _A(){var s=window.event;return s&&s.type==="popstate"?s===up?!1:(up=s,!0):(up=null,!1)}var nx=typeof setTimeout=="function"?setTimeout:void 0,vA=typeof clearTimeout=="function"?clearTimeout:void 0,ix=typeof Promise=="function"?Promise:void 0,bA=typeof queueMicrotask=="function"?queueMicrotask:typeof ix<"u"?function(s){return ix.resolve(null).then(s).catch(xA)}:nx;function xA(s){setTimeout(function(){throw s})}function br(s){return s==="head"}function sx(s,a){var l=a,u=0,m=0;do{var p=l.nextSibling;if(s.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(0<u&&8>u){l=u;var S=s.ownerDocument;if(l&1&&Rc(S.documentElement),l&2&&Rc(S.body),l&4)for(l=S.head,Rc(l),S=l.firstChild;S;){var T=S.nextSibling,L=S.nodeName;S[ia]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&S.rel.toLowerCase()==="stylesheet"||l.removeChild(S),S=T}}if(m===0){s.removeChild(p),Uc(a);return}m--}else l==="$"||l==="$?"||l==="$!"?m++:u=l.charCodeAt(0)-48;else u=0;l=p}while(l);Uc(a)}function hp(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":hp(l),sa(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function wA(s,a,l,u){for(;s.nodeType===1;){var m=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[ia])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(p=s.getAttribute("rel"),p==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(p!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(p=s.getAttribute("src"),(p!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&p&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var p=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===p)return s}else return s;if(s=pi(s.nextSibling),s===null)break}return null}function SA(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=pi(s.nextSibling),s===null))return null;return s}function dp(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function EA(s,a){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function pi(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}var fp=null;function rx(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return s;a--}else l==="/$"&&a++}s=s.previousSibling}return null}function ax(s,a,l){switch(a=md(l),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Rc(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);sa(s)}var ni=new Map,ox=new Set;function pd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ns=Z.d;Z.d={f:TA,r:CA,D:AA,C:NA,L:kA,m:RA,X:OA,S:MA,M:DA};function TA(){var s=Ns.f(),a=od();return s||a}function CA(s){var a=Oi(s);a!==null&&a.tag===5&&a.type==="form"?Av(a):Ns.r(s)}var Qo=typeof document>"u"?null:document;function lx(s,a,l){var u=Qo;if(u&&typeof a=="string"&&a){var m=je(a);m='link[rel="'+s+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),ox.has(m)||(ox.add(m),s={rel:s,crossOrigin:l,href:a},u.querySelector(m)===null&&(a=u.createElement("link"),on(a,"link",s),Me(a),u.head.appendChild(a)))}}function AA(s){Ns.D(s),lx("dns-prefetch",s,null)}function NA(s,a){Ns.C(s,a),lx("preconnect",s,a)}function kA(s,a,l){Ns.L(s,a,l);var u=Qo;if(u&&s&&a){var m='link[rel="preload"][as="'+je(a)+'"]';a==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+je(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+je(l.imageSizes)+'"]')):m+='[href="'+je(s)+'"]';var p=m;switch(a){case"style":p=Ko(s);break;case"script":p=Zo(s)}ni.has(p)||(s=y({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),ni.set(p,s),u.querySelector(m)!==null||a==="style"&&u.querySelector(Mc(p))||a==="script"&&u.querySelector(Oc(p))||(a=u.createElement("link"),on(a,"link",s),Me(a),u.head.appendChild(a)))}}function RA(s,a){Ns.m(s,a);var l=Qo;if(l&&s){var u=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+je(u)+'"][href="'+je(s)+'"]',p=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Zo(s)}if(!ni.has(p)&&(s=y({rel:"modulepreload",href:s},a),ni.set(p,s),l.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Oc(p)))return}u=l.createElement("link"),on(u,"link",s),Me(u),l.head.appendChild(u)}}}function MA(s,a,l){Ns.S(s,a,l);var u=Qo;if(u&&s){var m=yn(u).hoistableStyles,p=Ko(s);a=a||"default";var S=m.get(p);if(!S){var T={loading:0,preload:null};if(S=u.querySelector(Mc(p)))T.loading=5;else{s=y({rel:"stylesheet",href:s,"data-precedence":a},l),(l=ni.get(p))&&gp(s,l);var L=S=u.createElement("link");Me(L),on(L,"link",s),L._p=new Promise(function(G,nt){L.onload=G,L.onerror=nt}),L.addEventListener("load",function(){T.loading|=1}),L.addEventListener("error",function(){T.loading|=2}),T.loading|=4,yd(S,a,u)}S={type:"stylesheet",instance:S,count:1,state:T},m.set(p,S)}}}function OA(s,a){Ns.X(s,a);var l=Qo;if(l&&s){var u=yn(l).hoistableScripts,m=Zo(s),p=u.get(m);p||(p=l.querySelector(Oc(m)),p||(s=y({src:s,async:!0},a),(a=ni.get(m))&&mp(s,a),p=l.createElement("script"),Me(p),on(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(m,p))}}function DA(s,a){Ns.M(s,a);var l=Qo;if(l&&s){var u=yn(l).hoistableScripts,m=Zo(s),p=u.get(m);p||(p=l.querySelector(Oc(m)),p||(s=y({src:s,async:!0,type:"module"},a),(a=ni.get(m))&&mp(s,a),p=l.createElement("script"),Me(p),on(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(m,p))}}function cx(s,a,l,u){var m=(m=mt.current)?pd(m):null;if(!m)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Ko(l.href),l=yn(m).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Ko(l.href);var p=yn(m).hoistableStyles,S=p.get(s);if(S||(m=m.ownerDocument||m,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(s,S),(p=m.querySelector(Mc(s)))&&!p._p&&(S.instance=p,S.state.loading=5),ni.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ni.set(s,l),p||IA(m,s,l,S.state))),a&&u===null)throw Error(i(528,""));return S}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Zo(l),l=yn(m).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Ko(s){return'href="'+je(s)+'"'}function Mc(s){return'link[rel="stylesheet"]['+s+"]"}function ux(s){return y({},s,{"data-precedence":s.precedence,precedence:null})}function IA(s,a,l,u){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=s.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),on(a,"link",l),Me(a),s.head.appendChild(a))}function Zo(s){return'[src="'+je(s)+'"]'}function Oc(s){return"script[async]"+s}function hx(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=s.querySelector('style[data-href~="'+je(l.href)+'"]');if(u)return a.instance=u,Me(u),u;var m=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Me(u),on(u,"style",m),yd(u,l.precedence,s),a.instance=u;case"stylesheet":m=Ko(l.href);var p=s.querySelector(Mc(m));if(p)return a.state.loading|=4,a.instance=p,Me(p),p;u=ux(l),(m=ni.get(m))&&gp(u,m),p=(s.ownerDocument||s).createElement("link"),Me(p);var S=p;return S._p=new Promise(function(T,L){S.onload=T,S.onerror=L}),on(p,"link",u),a.state.loading|=4,yd(p,l.precedence,s),a.instance=p;case"script":return p=Zo(l.src),(m=s.querySelector(Oc(p)))?(a.instance=m,Me(m),m):(u=l,(m=ni.get(p))&&(u=y({},l),mp(u,m)),s=s.ownerDocument||s,m=s.createElement("script"),Me(m),on(m,"link",u),s.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,yd(u,l.precedence,s));return a.instance}function yd(s,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,p=m,S=0;S<u.length;S++){var T=u[S];if(T.dataset.precedence===a)p=T;else if(p!==m)break}p?p.parentNode.insertBefore(s,p.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function gp(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function mp(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var _d=null;function dx(s,a,l){if(_d===null){var u=new Map,m=_d=new Map;m.set(l,u)}else m=_d,u=m.get(l),u||(u=new Map,m.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),m=0;m<l.length;m++){var p=l[m];if(!(p[ia]||p[He]||s==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var S=p.getAttribute(a)||"";S=s+S;var T=u.get(S);T?T.push(p):u.set(S,[p])}}return u}function fx(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function LA(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function gx(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Dc=null;function jA(){}function PA(s,a,l){if(Dc===null)throw Error(i(475));var u=Dc;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=Ko(l.href),p=s.querySelector(Mc(m));if(p){s=p._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(u.count++,u=vd.bind(u),s.then(u,u)),a.state.loading|=4,a.instance=p,Me(p);return}p=s.ownerDocument||s,l=ux(l),(m=ni.get(m))&&gp(l,m),p=p.createElement("link"),Me(p);var S=p;S._p=new Promise(function(T,L){S.onload=T,S.onerror=L}),on(p,"link",l),a.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=vd.bind(u),s.addEventListener("load",a),s.addEventListener("error",a))}}function UA(){if(Dc===null)throw Error(i(475));var s=Dc;return s.stylesheets&&s.count===0&&pp(s,s.stylesheets),0<s.count?function(a){var l=setTimeout(function(){if(s.stylesheets&&pp(s,s.stylesheets),s.unsuspend){var u=s.unsuspend;s.unsuspend=null,u()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(l)}}:null}function vd(){if(this.count--,this.count===0){if(this.stylesheets)pp(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var bd=null;function pp(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,bd=new Map,a.forEach(zA,s),bd=null,vd.call(s))}function zA(s,a){if(!(a.state.loading&4)){var l=bd.get(s);if(l)var u=l.get(null);else{l=new Map,bd.set(s,l);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<m.length;p++){var S=m[p];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),u=S)}u&&l.set(null,u)}m=a.instance,S=m.getAttribute("data-precedence"),p=l.get(S)||u,p===u&&l.set(null,m),l.set(S,m),this.count++,u=vd.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),p?p.parentNode.insertBefore(m,p.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),a.state.loading|=4}}var Ic={$$typeof:Y,Provider:null,Consumer:null,_currentValue:it,_currentValue2:it,_threadCount:0};function BA(s,a,l,u,m,p,S,T){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=is(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=is(0),this.hiddenUpdates=is(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=p,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function mx(s,a,l,u,m,p,S,T,L,G,nt,at){return s=new BA(s,a,l,S,T,L,G,at),a=1,p===!0&&(a|=24),p=Un(3,null,null,a),s.current=p,p.stateNode=s,a=Kg(),a.refCount++,s.pooledCache=a,a.refCount++,p.memoizedState={element:u,isDehydrated:l,cache:a},em(p),s}function px(s){return s?(s=ko,s):ko}function yx(s,a,l,u,m,p){m=px(m),u.context===null?u.context=m:u.pendingContext=m,u=or(a),u.payload={element:l},p=p===void 0?null:p,p!==null&&(u.callback=p),l=lr(s,u,a),l!==null&&(Vn(l,s,a),uc(l,s,a))}function _x(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function yp(s,a){_x(s,a),(s=s.alternate)&&_x(s,a)}function vx(s){if(s.tag===13){var a=No(s,67108864);a!==null&&Vn(a,s,67108864),yp(s,67108864)}}var xd=!0;function HA(s,a,l,u){var m=$.T;$.T=null;var p=Z.p;try{Z.p=2,_p(s,a,l,u)}finally{Z.p=p,$.T=m}}function FA(s,a,l,u){var m=$.T;$.T=null;var p=Z.p;try{Z.p=8,_p(s,a,l,u)}finally{Z.p=p,$.T=m}}function _p(s,a,l,u){if(xd){var m=vp(u);if(m===null)rp(s,a,u,wd,l),xx(s,u);else if(qA(m,s,a,l,u))u.stopPropagation();else if(xx(s,u),a&4&&-1<VA.indexOf(s)){for(;m!==null;){var p=Oi(m);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var S=hi(p.pendingLanes);if(S!==0){var T=p;for(T.pendingLanes|=2,T.entangledLanes|=2;S;){var L=1<<31-dn(S);T.entanglements[1]|=L,S&=~L}Wi(p),(te&6)===0&&(rd=Lt()+500,Ac(0))}}break;case 13:T=No(p,2),T!==null&&Vn(T,p,2),od(),yp(p,2)}if(p=vp(u),p===null&&rp(s,a,u,wd,l),p===m)break;m=p}m!==null&&u.stopPropagation()}else rp(s,a,u,null,l)}}function vp(s){return s=Gn(s),bp(s)}var wd=null;function bp(s){if(wd=null,s=tr(s),s!==null){var a=o(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=c(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return wd=s,null}function bx(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(de()){case En:return 2;case Ks:return 8;case Kr:case Eg:return 32;case lo:return 268435456;default:return 32}default:return 32}}var xp=!1,xr=null,wr=null,Sr=null,Lc=new Map,jc=new Map,Er=[],VA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xx(s,a){switch(s){case"focusin":case"focusout":xr=null;break;case"dragenter":case"dragleave":wr=null;break;case"mouseover":case"mouseout":Sr=null;break;case"pointerover":case"pointerout":Lc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":jc.delete(a.pointerId)}}function Pc(s,a,l,u,m,p){return s===null||s.nativeEvent!==p?(s={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:p,targetContainers:[m]},a!==null&&(a=Oi(a),a!==null&&vx(a)),s):(s.eventSystemFlags|=u,a=s.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),s)}function qA(s,a,l,u,m){switch(a){case"focusin":return xr=Pc(xr,s,a,l,u,m),!0;case"dragenter":return wr=Pc(wr,s,a,l,u,m),!0;case"mouseover":return Sr=Pc(Sr,s,a,l,u,m),!0;case"pointerover":var p=m.pointerId;return Lc.set(p,Pc(Lc.get(p)||null,s,a,l,u,m)),!0;case"gotpointercapture":return p=m.pointerId,jc.set(p,Pc(jc.get(p)||null,s,a,l,u,m)),!0}return!1}function wx(s){var a=tr(s.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){s.blockedOn=a,oh(s.priority,function(){if(l.tag===13){var u=Fn();u=na(u);var m=No(l,u);m!==null&&Vn(m,l,u),yp(l,u)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Sd(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=vp(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);cs=u,l.target.dispatchEvent(u),cs=null}else return a=Oi(l),a!==null&&vx(a),s.blockedOn=l,!1;a.shift()}return!0}function Sx(s,a,l){Sd(s)&&l.delete(a)}function WA(){xp=!1,xr!==null&&Sd(xr)&&(xr=null),wr!==null&&Sd(wr)&&(wr=null),Sr!==null&&Sd(Sr)&&(Sr=null),Lc.forEach(Sx),jc.forEach(Sx)}function Ed(s,a){s.blockedOn===a&&(s.blockedOn=null,xp||(xp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,WA)))}var Td=null;function Ex(s){Td!==s&&(Td=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Td===s&&(Td=null);for(var a=0;a<s.length;a+=3){var l=s[a],u=s[a+1],m=s[a+2];if(typeof u!="function"){if(bp(u||l)===null)continue;break}var p=Oi(l);p!==null&&(s.splice(a,3),a-=3,bm(p,{pending:!0,data:m,method:l.method,action:u},u,m))}}))}function Uc(s){function a(L){return Ed(L,s)}xr!==null&&Ed(xr,s),wr!==null&&Ed(wr,s),Sr!==null&&Ed(Sr,s),Lc.forEach(a),jc.forEach(a);for(var l=0;l<Er.length;l++){var u=Er[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<Er.length&&(l=Er[0],l.blockedOn===null);)wx(l),l.blockedOn===null&&Er.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var m=l[u],p=l[u+1],S=m[Le]||null;if(typeof p=="function")S||Ex(l);else if(S){var T=null;if(p&&p.hasAttribute("formAction")){if(m=p,S=p[Le]||null)T=S.formAction;else if(bp(m)!==null)continue}else T=S.action;typeof T=="function"?l[u+1]=T:(l.splice(u,3),u-=3),Ex(l)}}}function wp(s){this._internalRoot=s}Cd.prototype.render=wp.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,u=Fn();yx(l,u,s,a,null,null)},Cd.prototype.unmount=wp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;yx(s.current,2,null,s,null,null),od(),a[Wn]=null}};function Cd(s){this._internalRoot=s}Cd.prototype.unstable_scheduleHydration=function(s){if(s){var a=Zs();s={blockedOn:null,target:s,priority:a};for(var l=0;l<Er.length&&a!==0&&a<Er[l].priority;l++);Er.splice(l,0,s),l===0&&wx(s)}};var Tx=t.version;if(Tx!=="19.1.0")throw Error(i(527,Tx,"19.1.0"));Z.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=d(a),s=s!==null?g(s):null,s=s===null?null:s.stateNode,s};var YA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ad.isDisabled&&Ad.supportsFiber)try{Ae=Ad.inject(YA),Zt=Ad}catch{}}return Bc.createRoot=function(s,a){if(!r(s))throw Error(i(299));var l=!1,u="",m=Hv,p=Fv,S=Vv,T=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(T=a.unstable_transitionCallbacks)),a=mx(s,1,!1,null,null,l,u,m,p,S,T,null),s[Wn]=a.current,sp(s),new wp(a)},Bc.hydrateRoot=function(s,a,l){if(!r(s))throw Error(i(299));var u=!1,m="",p=Hv,S=Fv,T=Vv,L=null,G=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(T=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(L=l.unstable_transitionCallbacks),l.formState!==void 0&&(G=l.formState)),a=mx(s,1,!0,a,l??null,u,m,p,S,T,L,G),a.context=px(null),l=a.current,u=Fn(),u=na(u),m=or(u),m.callback=null,lr(l,m,u),l=u,a.current.lanes=l,ss(a,l),Wi(a),s[Wn]=a.current,sp(s),new Cd(a)},Bc.version="19.1.0",Bc}var Lx;function iN(){if(Lx)return Tp.exports;Lx=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Tp.exports=nN(),Tp.exports}var sN=iN();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var jx="popstate";function rN(n={}){function t(i,r){let{pathname:o,search:c,hash:h}=i.location;return ay("",{pathname:o,search:c,hash:h},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function e(i,r){return typeof r=="string"?r:vu(r)}return oN(t,e,null,n)}function Se(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Ai(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function aN(){return Math.random().toString(36).substring(2,10)}function Px(n,t){return{usr:n.state,key:n.key,idx:t}}function ay(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?wl(t):t,state:e,key:t&&t.key||i||aN()}}function vu({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function wl(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function oN(n,t,e,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,c=r.history,h="POP",d=null,g=y();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function y(){return(c.state||{idx:null}).idx}function b(){h="POP";let R=y(),B=R==null?null:R-g;g=R,d&&d({action:h,location:M.location,delta:B})}function x(R,B){h="PUSH";let W=ay(M.location,R,B);g=y()+1;let Y=Px(W,g),tt=M.createHref(W);try{c.pushState(Y,"",tt)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;r.location.assign(tt)}o&&d&&d({action:h,location:M.location,delta:1})}function E(R,B){h="REPLACE";let W=ay(M.location,R,B);g=y();let Y=Px(W,g),tt=M.createHref(W);c.replaceState(Y,"",tt),o&&d&&d({action:h,location:M.location,delta:0})}function A(R){return lN(R)}let M={get action(){return h},get location(){return n(r,c)},listen(R){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(jx,b),d=R,()=>{r.removeEventListener(jx,b),d=null}},createHref(R){return t(r,R)},createURL:A,encodeLocation(R){let B=A(R);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:x,replace:E,go(R){return c.go(R)}};return M}function lN(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),Se(e,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:vu(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function US(n,t,e="/"){return cN(n,t,e,!1)}function cN(n,t,e,i){let r=typeof t=="string"?wl(t):t,o=Vs(r.pathname||"/",e);if(o==null)return null;let c=zS(n);uN(c);let h=null;for(let d=0;h==null&&d<c.length;++d){let g=xN(o);h=vN(c[d],g,i)}return h}function zS(n,t=[],e=[],i=""){let r=(o,c,h)=>{let d={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};d.relativePath.startsWith("/")&&(Se(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length));let g=Bs([i,d.relativePath]),y=e.concat(d);o.children&&o.children.length>0&&(Se(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),zS(o.children,t,y,g)),!(o.path==null&&!o.index)&&t.push({path:g,score:yN(g,o.index),routesMeta:y})};return n.forEach((o,c)=>{if(o.path===""||!o.path?.includes("?"))r(o,c);else for(let h of BS(o.path))r(o,c,h)}),t}function BS(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,r=e.endsWith("?"),o=e.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let c=BS(i.join("/")),h=[];return h.push(...c.map(d=>d===""?o:[o,d].join("/"))),r&&h.push(...c),h.map(d=>n.startsWith("/")&&d===""?"/":d)}function uN(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:_N(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var hN=/^:[\w-]+$/,dN=3,fN=2,gN=1,mN=10,pN=-2,Ux=n=>n==="*";function yN(n,t){let e=n.split("/"),i=e.length;return e.some(Ux)&&(i+=pN),t&&(i+=fN),e.filter(r=>!Ux(r)).reduce((r,o)=>r+(hN.test(o)?dN:o===""?gN:mN),i)}function _N(n,t){return n.length===t.length&&n.slice(0,-1).every((i,r)=>i===t[r])?n[n.length-1]-t[t.length-1]:0}function vN(n,t,e=!1){let{routesMeta:i}=n,r={},o="/",c=[];for(let h=0;h<i.length;++h){let d=i[h],g=h===i.length-1,y=o==="/"?t:t.slice(o.length)||"/",b=of({path:d.relativePath,caseSensitive:d.caseSensitive,end:g},y),x=d.route;if(!b&&g&&e&&!i[i.length-1].route.index&&(b=of({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!b)return null;Object.assign(r,b.params),c.push({params:r,pathname:Bs([o,b.pathname]),pathnameBase:TN(Bs([o,b.pathnameBase])),route:x}),b.pathnameBase!=="/"&&(o=Bs([o,b.pathnameBase]))}return c}function of(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=bN(n.path,n.caseSensitive,n.end),r=t.match(e);if(!r)return null;let o=r[0],c=o.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:i.reduce((g,{paramName:y,isOptional:b},x)=>{if(y==="*"){let A=h[x]||"";c=o.slice(0,o.length-A.length).replace(/(.)\/+$/,"$1")}const E=h[x];return b&&!E?g[y]=void 0:g[y]=(E||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:c,pattern:n}}function bN(n,t=!1,e=!0){Ai(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,d)=>(i.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function xN(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ai(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Vs(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}function wN(n,t="/"){let{pathname:e,search:i="",hash:r=""}=typeof n=="string"?wl(n):n;return{pathname:e?e.startsWith("/")?e:SN(e,t):t,search:CN(i),hash:AN(r)}}function SN(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function kp(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function EN(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function By(n){let t=EN(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function Hy(n,t,e,i=!1){let r;typeof n=="string"?r=wl(n):(r={...n},Se(!r.pathname||!r.pathname.includes("?"),kp("?","pathname","search",r)),Se(!r.pathname||!r.pathname.includes("#"),kp("#","pathname","hash",r)),Se(!r.search||!r.search.includes("#"),kp("#","search","hash",r)));let o=n===""||r.pathname==="",c=o?"/":r.pathname,h;if(c==null)h=e;else{let b=t.length-1;if(!i&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),b-=1;r.pathname=x.join("/")}h=b>=0?t[b]:"/"}let d=wN(r,h),g=c&&c!=="/"&&c.endsWith("/"),y=(o||c===".")&&e.endsWith("/");return!d.pathname.endsWith("/")&&(g||y)&&(d.pathname+="/"),d}var Bs=n=>n.join("/").replace(/\/\/+/g,"/"),TN=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),CN=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,AN=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function NN(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var HS=["POST","PUT","PATCH","DELETE"];new Set(HS);var kN=["GET",...HS];new Set(kN);var Sl=z.createContext(null);Sl.displayName="DataRouter";var Xf=z.createContext(null);Xf.displayName="DataRouterState";z.createContext(!1);var FS=z.createContext({isTransitioning:!1});FS.displayName="ViewTransition";var RN=z.createContext(new Map);RN.displayName="Fetchers";var MN=z.createContext(null);MN.displayName="Await";var Ni=z.createContext(null);Ni.displayName="Navigation";var zu=z.createContext(null);zu.displayName="Location";var ki=z.createContext({outlet:null,matches:[],isDataRoute:!1});ki.displayName="Route";var Fy=z.createContext(null);Fy.displayName="RouteError";function ON(n,{relative:t}={}){Se(El(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=z.useContext(Ni),{hash:r,pathname:o,search:c}=Bu(n,{relative:t}),h=o;return e!=="/"&&(h=o==="/"?e:Bs([e,o])),i.createHref({pathname:h,search:c,hash:r})}function El(){return z.useContext(zu)!=null}function es(){return Se(El(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(zu).location}var VS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qS(n){z.useContext(Ni).static||z.useLayoutEffect(n)}function Gs(){let{isDataRoute:n}=z.useContext(ki);return n?YN():DN()}function DN(){Se(El(),"useNavigate() may be used only in the context of a <Router> component.");let n=z.useContext(Sl),{basename:t,navigator:e}=z.useContext(Ni),{matches:i}=z.useContext(ki),{pathname:r}=es(),o=JSON.stringify(By(i)),c=z.useRef(!1);return qS(()=>{c.current=!0}),z.useCallback((d,g={})=>{if(Ai(c.current,VS),!c.current)return;if(typeof d=="number"){e.go(d);return}let y=Hy(d,JSON.parse(o),r,g.relative==="path");n==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:Bs([t,y.pathname])),(g.replace?e.replace:e.push)(y,g.state,g)},[t,e,o,r,n])}z.createContext(null);function IN(){let{matches:n}=z.useContext(ki),t=n[n.length-1];return t?t.params:{}}function Bu(n,{relative:t}={}){let{matches:e}=z.useContext(ki),{pathname:i}=es(),r=JSON.stringify(By(e));return z.useMemo(()=>Hy(n,JSON.parse(r),i,t==="path"),[n,r,i,t])}function LN(n,t){return WS(n,t)}function WS(n,t,e,i){Se(El(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=z.useContext(Ni),{matches:o}=z.useContext(ki),c=o[o.length-1],h=c?c.params:{},d=c?c.pathname:"/",g=c?c.pathnameBase:"/",y=c&&c.route;{let B=y&&y.path||"";YS(d,!y||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let b=es(),x;if(t){let B=typeof t=="string"?wl(t):t;Se(g==="/"||B.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${B.pathname}" was given in the \`location\` prop.`),x=B}else x=b;let E=x.pathname||"/",A=E;if(g!=="/"){let B=g.replace(/^\//,"").split("/");A="/"+E.replace(/^\//,"").split("/").slice(B.length).join("/")}let M=US(n,{pathname:A});Ai(y||M!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Ai(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=BN(M&&M.map(B=>Object.assign({},B,{params:Object.assign({},h,B.params),pathname:Bs([g,r.encodeLocation?r.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?g:Bs([g,r.encodeLocation?r.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),o,e,i);return t&&R?z.createElement(zu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},R):R}function jN(){let n=WN(),t=NN(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:o},"ErrorBoundary")," or"," ",z.createElement("code",{style:o},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},t),e?z.createElement("pre",{style:r},e):null,c)}var PN=z.createElement(jN,null),UN=class extends z.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?z.createElement(ki.Provider,{value:this.props.routeContext},z.createElement(Fy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zN({routeContext:n,match:t,children:e}){let i=z.useContext(Sl);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),z.createElement(ki.Provider,{value:n},e)}function BN(n,t=[],e=null,i=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let r=n,o=e?.errors;if(o!=null){let d=r.findIndex(g=>g.route.id&&o?.[g.route.id]!==void 0);Se(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,d+1))}let c=!1,h=-1;if(e)for(let d=0;d<r.length;d++){let g=r[d];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=d),g.route.id){let{loaderData:y,errors:b}=e,x=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||x){c=!0,h>=0?r=r.slice(0,h+1):r=[r[0]];break}}}return r.reduceRight((d,g,y)=>{let b,x=!1,E=null,A=null;e&&(b=o&&g.route.id?o[g.route.id]:void 0,E=g.route.errorElement||PN,c&&(h<0&&y===0?(YS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,A=null):h===y&&(x=!0,A=g.route.hydrateFallbackElement||null)));let M=t.concat(r.slice(0,y+1)),R=()=>{let B;return b?B=E:x?B=A:g.route.Component?B=z.createElement(g.route.Component,null):g.route.element?B=g.route.element:B=d,z.createElement(zN,{match:g,routeContext:{outlet:d,matches:M,isDataRoute:e!=null},children:B})};return e&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?z.createElement(UN,{location:e.location,revalidation:e.revalidation,component:E,error:b,children:R(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):R()},null)}function Vy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HN(n){let t=z.useContext(Sl);return Se(t,Vy(n)),t}function FN(n){let t=z.useContext(Xf);return Se(t,Vy(n)),t}function VN(n){let t=z.useContext(ki);return Se(t,Vy(n)),t}function qy(n){let t=VN(n),e=t.matches[t.matches.length-1];return Se(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function qN(){return qy("useRouteId")}function WN(){let n=z.useContext(Fy),t=FN("useRouteError"),e=qy("useRouteError");return n!==void 0?n:t.errors?.[e]}function YN(){let{router:n}=HN("useNavigate"),t=qy("useNavigate"),e=z.useRef(!1);return qS(()=>{e.current=!0}),z.useCallback(async(r,o={})=>{Ai(e.current,VS),e.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:t,...o}))},[n,t])}var zx={};function YS(n,t,e){!t&&!zx[n]&&(zx[n]=!0,Ai(!1,e))}z.memo(GN);function GN({routes:n,future:t,state:e}){return WS(n,void 0,e,t)}function GS({to:n,replace:t,state:e,relative:i}){Se(El(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=z.useContext(Ni);Ai(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=z.useContext(ki),{pathname:c}=es(),h=Gs(),d=Hy(n,By(o),c,i==="path"),g=JSON.stringify(d);return z.useEffect(()=>{h(JSON.parse(g),{replace:t,state:e,relative:i})},[h,g,i,t,e]),null}function yi(n){Se(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $N({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:r,static:o=!1}){Se(!El(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),h=z.useMemo(()=>({basename:c,navigator:r,static:o,future:{}}),[c,r,o]);typeof e=="string"&&(e=wl(e));let{pathname:d="/",search:g="",hash:y="",state:b=null,key:x="default"}=e,E=z.useMemo(()=>{let A=Vs(d,c);return A==null?null:{location:{pathname:A,search:g,hash:y,state:b,key:x},navigationType:i}},[c,d,g,y,b,x,i]);return Ai(E!=null,`<Router basename="${c}"> is not able to match the URL "${d}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:z.createElement(Ni.Provider,{value:h},z.createElement(zu.Provider,{children:t,value:E}))}function XN({children:n,location:t}){return LN(oy(n),t)}function oy(n,t=[]){let e=[];return z.Children.forEach(n,(i,r)=>{if(!z.isValidElement(i))return;let o=[...t,r];if(i.type===z.Fragment){e.push.apply(e,oy(i.props.children,o));return}Se(i.type===yi,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Se(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=oy(i.props.children,o)),e.push(c)}),e}var Xd="get",Qd="application/x-www-form-urlencoded";function Qf(n){return n!=null&&typeof n.tagName=="string"}function QN(n){return Qf(n)&&n.tagName.toLowerCase()==="button"}function KN(n){return Qf(n)&&n.tagName.toLowerCase()==="form"}function ZN(n){return Qf(n)&&n.tagName.toLowerCase()==="input"}function JN(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function tk(n,t){return n.button===0&&(!t||t==="_self")&&!JN(n)}var Nd=null;function ek(){if(Nd===null)try{new FormData(document.createElement("form"),0),Nd=!1}catch{Nd=!0}return Nd}var nk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rp(n){return n!=null&&!nk.has(n)?(Ai(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qd}"`),null):n}function ik(n,t){let e,i,r,o,c;if(KN(n)){let h=n.getAttribute("action");i=h?Vs(h,t):null,e=n.getAttribute("method")||Xd,r=Rp(n.getAttribute("enctype"))||Qd,o=new FormData(n)}else if(QN(n)||ZN(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||h.getAttribute("action");if(i=d?Vs(d,t):null,e=n.getAttribute("formmethod")||h.getAttribute("method")||Xd,r=Rp(n.getAttribute("formenctype"))||Rp(h.getAttribute("enctype"))||Qd,o=new FormData(h,n),!ek()){let{name:g,type:y,value:b}=n;if(y==="image"){let x=g?`${g}.`:"";o.append(`${x}x`,"0"),o.append(`${x}y`,"0")}else g&&o.append(g,b)}}else{if(Qf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Xd,i=null,r=Qd,c=n}return o&&r==="text/plain"&&(c=o,o=void 0),{action:i,method:e.toLowerCase(),encType:r,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Wy(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function sk(n,t,e){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${e}`:t&&Vs(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${e}`,i}async function rk(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ak(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function ok(n,t,e){let i=await Promise.all(n.map(async r=>{let o=t.routes[r.route.id];if(o){let c=await rk(o,e);return c.links?c.links():[]}return[]}));return hk(i.flat(1).filter(ak).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function Bx(n,t,e,i,r,o){let c=(d,g)=>e[g]?d.route.id!==e[g].route.id:!0,h=(d,g)=>e[g].pathname!==d.pathname||e[g].route.path?.endsWith("*")&&e[g].params["*"]!==d.params["*"];return o==="assets"?t.filter((d,g)=>c(d,g)||h(d,g)):o==="data"?t.filter((d,g)=>{let y=i.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(c(d,g)||h(d,g))return!0;if(d.route.shouldRevalidate){let b=d.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function lk(n,t,{includeHydrateFallback:e}={}){return ck(n.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function ck(n){return[...new Set(n)]}function uk(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function hk(n,t){let e=new Set;return new Set(t),n.reduce((i,r)=>{let o=JSON.stringify(uk(r));return e.has(o)||(e.add(o),i.push({key:o,link:r})),i},[])}function $S(){let n=z.useContext(Sl);return Wy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function dk(){let n=z.useContext(Xf);return Wy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Yy=z.createContext(void 0);Yy.displayName="FrameworkContext";function XS(){let n=z.useContext(Yy);return Wy(n,"You must render this element inside a <HydratedRouter> element"),n}function fk(n,t){let e=z.useContext(Yy),[i,r]=z.useState(!1),[o,c]=z.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:g,onMouseLeave:y,onTouchStart:b}=t,x=z.useRef(null);z.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let M=B=>{B.forEach(W=>{c(W.isIntersecting)})},R=new IntersectionObserver(M,{threshold:.5});return x.current&&R.observe(x.current),()=>{R.disconnect()}}},[n]),z.useEffect(()=>{if(i){let M=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(M)}}},[i]);let E=()=>{r(!0)},A=()=>{r(!1),c(!1)};return e?n!=="intent"?[o,x,{}]:[o,x,{onFocus:Hc(h,E),onBlur:Hc(d,A),onMouseEnter:Hc(g,E),onMouseLeave:Hc(y,A),onTouchStart:Hc(b,E)}]:[!1,x,{}]}function Hc(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function gk({page:n,...t}){let{router:e}=$S(),i=z.useMemo(()=>US(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?z.createElement(pk,{page:n,matches:i,...t}):null}function mk(n){let{manifest:t,routeModules:e}=XS(),[i,r]=z.useState([]);return z.useEffect(()=>{let o=!1;return ok(n,t,e).then(c=>{o||r(c)}),()=>{o=!0}},[n,t,e]),i}function pk({page:n,matches:t,...e}){let i=es(),{manifest:r,routeModules:o}=XS(),{basename:c}=$S(),{loaderData:h,matches:d}=dk(),g=z.useMemo(()=>Bx(n,t,d,r,i,"data"),[n,t,d,r,i]),y=z.useMemo(()=>Bx(n,t,d,r,i,"assets"),[n,t,d,r,i]),b=z.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let A=new Set,M=!1;if(t.forEach(B=>{let W=r.routes[B.route.id];!W||!W.hasLoader||(!g.some(Y=>Y.route.id===B.route.id)&&B.route.id in h&&o[B.route.id]?.shouldRevalidate||W.hasClientLoader?M=!0:A.add(B.route.id))}),A.size===0)return[];let R=sk(n,c,"data");return M&&A.size>0&&R.searchParams.set("_routes",t.filter(B=>A.has(B.route.id)).map(B=>B.route.id).join(",")),[R.pathname+R.search]},[c,h,i,r,g,t,n,o]),x=z.useMemo(()=>lk(y,r),[y,r]),E=mk(y);return z.createElement(z.Fragment,null,b.map(A=>z.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...e})),x.map(A=>z.createElement("link",{key:A,rel:"modulepreload",href:A,...e})),E.map(({key:A,link:M})=>z.createElement("link",{key:A,...M})))}function yk(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var QS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{QS&&(window.__reactRouterVersion="7.7.1")}catch{}function _k({basename:n,children:t,window:e}){let i=z.useRef();i.current==null&&(i.current=rN({window:e,v5Compat:!0}));let r=i.current,[o,c]=z.useState({action:r.action,location:r.location}),h=z.useCallback(d=>{z.startTransition(()=>c(d))},[c]);return z.useLayoutEffect(()=>r.listen(h),[r,h]),z.createElement($N,{basename:n,children:t,location:o.location,navigationType:o.action,navigator:r})}var KS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ie=z.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:r,reloadDocument:o,replace:c,state:h,target:d,to:g,preventScrollReset:y,viewTransition:b,...x},E){let{basename:A}=z.useContext(Ni),M=typeof g=="string"&&KS.test(g),R,B=!1;if(typeof g=="string"&&M&&(R=g,QS))try{let k=new URL(window.location.href),I=g.startsWith("//")?new URL(k.protocol+g):new URL(g),j=Vs(I.pathname,A);I.origin===k.origin&&j!=null?g=j+I.search+I.hash:B=!0}catch{Ai(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=ON(g,{relative:r}),[Y,tt,K]=fk(i,x),ot=wk(g,{replace:c,state:h,target:d,preventScrollReset:y,relative:r,viewTransition:b});function O(k){t&&t(k),k.defaultPrevented||ot(k)}let C=z.createElement("a",{...x,...K,href:R||W,onClick:B||o?t:O,ref:yk(E,tt),target:d,"data-discover":!M&&e==="render"?"true":void 0});return Y&&!M?z.createElement(z.Fragment,null,C,z.createElement(gk,{page:W})):C});ie.displayName="Link";var vk=z.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:r=!1,style:o,to:c,viewTransition:h,children:d,...g},y){let b=Bu(c,{relative:g.relative}),x=es(),E=z.useContext(Xf),{navigator:A,basename:M}=z.useContext(Ni),R=E!=null&&Ak(b)&&h===!0,B=A.encodeLocation?A.encodeLocation(b).pathname:b.pathname,W=x.pathname,Y=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;e||(W=W.toLowerCase(),Y=Y?Y.toLowerCase():null,B=B.toLowerCase()),Y&&M&&(Y=Vs(Y,M)||Y);const tt=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let K=W===B||!r&&W.startsWith(B)&&W.charAt(tt)==="/",ot=Y!=null&&(Y===B||!r&&Y.startsWith(B)&&Y.charAt(B.length)==="/"),O={isActive:K,isPending:ot,isTransitioning:R},C=K?t:void 0,k;typeof i=="function"?k=i(O):k=[i,K?"active":null,ot?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let I=typeof o=="function"?o(O):o;return z.createElement(ie,{...g,"aria-current":C,className:k,ref:y,style:I,to:c,viewTransition:h},typeof d=="function"?d(O):d)});vk.displayName="NavLink";var bk=z.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:r,state:o,method:c=Xd,action:h,onSubmit:d,relative:g,preventScrollReset:y,viewTransition:b,...x},E)=>{let A=Tk(),M=Ck(h,{relative:g}),R=c.toLowerCase()==="get"?"get":"post",B=typeof h=="string"&&KS.test(h),W=Y=>{if(d&&d(Y),Y.defaultPrevented)return;Y.preventDefault();let tt=Y.nativeEvent.submitter,K=tt?.getAttribute("formmethod")||c;A(tt||Y.currentTarget,{fetcherKey:t,method:K,navigate:e,replace:r,state:o,relative:g,preventScrollReset:y,viewTransition:b})};return z.createElement("form",{ref:E,method:R,action:M,onSubmit:i?d:W,...x,"data-discover":!B&&n==="render"?"true":void 0})});bk.displayName="Form";function xk(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZS(n){let t=z.useContext(Sl);return Se(t,xk(n)),t}function wk(n,{target:t,replace:e,state:i,preventScrollReset:r,relative:o,viewTransition:c}={}){let h=Gs(),d=es(),g=Bu(n,{relative:o});return z.useCallback(y=>{if(tk(y,t)){y.preventDefault();let b=e!==void 0?e:vu(d)===vu(g);h(n,{replace:b,state:i,preventScrollReset:r,relative:o,viewTransition:c})}},[d,h,g,e,i,t,n,r,o,c])}var Sk=0,Ek=()=>`__${String(++Sk)}__`;function Tk(){let{router:n}=ZS("useSubmit"),{basename:t}=z.useContext(Ni),e=qN();return z.useCallback(async(i,r={})=>{let{action:o,method:c,encType:h,formData:d,body:g}=ik(i,t);if(r.navigate===!1){let y=r.fetcherKey||Ek();await n.fetch(y,e,r.action||o,{preventScrollReset:r.preventScrollReset,formData:d,body:g,formMethod:r.method||c,formEncType:r.encType||h,flushSync:r.flushSync})}else await n.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:d,body:g,formMethod:r.method||c,formEncType:r.encType||h,replace:r.replace,state:r.state,fromRouteId:e,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,t,e])}function Ck(n,{relative:t}={}){let{basename:e}=z.useContext(Ni),i=z.useContext(ki);Se(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...Bu(n||".",{relative:t})},c=es();if(n==null){o.search=c.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(y=>y==="")){h.delete("index"),d.filter(b=>b).forEach(b=>h.append("index",b));let y=h.toString();o.search=y?`?${y}`:""}}return(!n||n===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:Bs([e,o.pathname])),vu(o)}function Ak(n,{relative:t}={}){let e=z.useContext(FS);Se(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=ZS("useViewTransitionState"),r=Bu(n,{relative:t});if(!e.isTransitioning)return!1;let o=Vs(e.currentLocation.pathname,i)||e.currentLocation.pathname,c=Vs(e.nextLocation.pathname,i)||e.nextLocation.pathname;return of(r.pathname,c)!=null||of(r.pathname,o)!=null}const JS=z.createContext();function tE({children:n}){const[t,e]=z.useState(()=>{const i=localStorage.getItem("darkMode");return i?JSON.parse(i):!1});return z.useEffect(()=>{document.documentElement.classList.toggle("dark",t),localStorage.setItem("darkMode",JSON.stringify(t))},[t]),_.jsx(JS.Provider,{value:{darkMode:t,setDarkMode:e},children:n})}function Tl(){return z.useContext(JS)}const Nk=()=>{};var Hx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ut=function(n,t){if(!n)throw Cl(t)},Cl=function(n){return new Error("Firebase Database ("+eE.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},kk=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[e++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[e++],c=n[e++],h=n[e++],d=((r&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(d>>10)),t[i++]=String.fromCharCode(56320+(d&1023))}else{const o=n[e++],c=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|c&63)}}return t.join("")},Gy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],c=r+1<n.length,h=c?n[r+1]:0,d=r+2<n.length,g=d?n[r+2]:0,y=o>>2,b=(o&3)<<4|h>>4;let x=(h&15)<<2|g>>6,E=g&63;d||(E=64,c||(x=64)),i.push(e[y],e[b],e[x],e[E])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(nE(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):kk(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=e[n.charAt(r++)],h=r<n.length?e[n.charAt(r)]:0;++r;const g=r<n.length?e[n.charAt(r)]:64;++r;const b=r<n.length?e[n.charAt(r)]:64;if(++r,o==null||h==null||g==null||b==null)throw new Rk;const x=o<<2|h>>4;if(i.push(x),g!==64){const E=h<<4&240|g>>2;if(i.push(E),b!==64){const A=g<<6&192|b;i.push(A)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Rk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iE=function(n){const t=nE(n);return Gy.encodeByteArray(t,!0)},lf=function(n){return iE(n).replace(/\./g,"")},cf=function(n){try{return Gy.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(n){return sE(void 0,n)}function sE(n,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const e=t;return new Date(e.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return t}for(const e in t)!t.hasOwnProperty(e)||!Ok(e)||(n[e]=sE(n[e],t[e]));return n}function Ok(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik=()=>Dk().__FIREBASE_DEFAULTS__,Lk=()=>{if(typeof process>"u"||typeof Hx>"u")return;const n=Hx.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},jk=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&cf(n[1]);return t&&JSON.parse(t)},$y=()=>{try{return Nk()||Ik()||Lk()||jk()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},rE=n=>$y()?.emulatorHosts?.[n],aE=n=>{const t=rE(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},oE=()=>$y()?.config,lE=n=>$y()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function io(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Xy(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[lf(JSON.stringify(e)),lf(JSON.stringify(c)),""].join(".")}const ru={};function Pk(){const n={prod:[],emulator:[]};for(const t of Object.keys(ru))ru[t]?n.emulator.push(t):n.prod.push(t);return n}function Uk(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let Fx=!1;function Qy(n,t){if(typeof window>"u"||typeof document>"u"||!io(window.location.host)||ru[n]===t||ru[n]||Fx)return;ru[n]=t;function e(x){return`__firebase__banner__${x}`}const i="__firebase__banner",o=Pk().prod.length>0;function c(){const x=document.getElementById(i);x&&x.remove()}function h(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function d(x,E){x.setAttribute("width","24"),x.setAttribute("id",E),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function g(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Fx=!0,c()},x}function y(x,E){x.setAttribute("id",E),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=Uk(i),E=e("text"),A=document.getElementById(E)||document.createElement("span"),M=e("learnmore"),R=document.getElementById(M)||document.createElement("a"),B=e("preprendIcon"),W=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const Y=x.element;h(Y),y(R,M);const tt=g();d(W,B),Y.append(W,A,R,tt),document.body.appendChild(Y)}o?(A.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ky(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sn())}function zk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Bk(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function uE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Hk(){const n=Sn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Fk(){return eE.NODE_ADMIN===!0}function Vk(){try{return typeof indexedDB=="object"}catch{return!1}}function qk(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{t(r.error?.message||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk="FirebaseError";class $s extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=Wk,Object.setPrototypeOf(this,$s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fu.prototype.create)}}class Fu{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],c=o?Yk(o,i):"Error",h=`${this.serviceName}: ${c} (${r}).`;return new $s(r,h,i)}}function Yk(n,t){return n.replace(Gk,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const Gk=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(n){return JSON.parse(n)}function We(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE=function(n){let t={},e={},i={},r="";try{const o=n.split(".");t=bu(cf(o[0])||""),e=bu(cf(o[1])||""),r=o[2],i=e.d||{},delete e.d}catch{}return{header:t,claims:e,data:i,signature:r}},$k=function(n){const t=hE(n),e=t.claims;return!!e&&typeof e=="object"&&e.hasOwnProperty("iat")},Xk=function(n){const t=hE(n).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function gl(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]}function ly(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function uf(n,t,e){const i={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=t.call(e,n[r],r,n));return i}function zr(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const o=n[r],c=t[r];if(Vx(o)&&Vx(c)){if(!zr(o,c))return!1}else if(o!==c)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function Vx(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function tu(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(o)}}),t}function eu(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,e){e||(e=0);const i=this.W_;if(typeof t=="string")for(let b=0;b<16;b++)i[b]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(let b=0;b<16;b++)i[b]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(let b=16;b<80;b++){const x=i[b-3]^i[b-8]^i[b-14]^i[b-16];i[b]=(x<<1|x>>>31)&4294967295}let r=this.chain_[0],o=this.chain_[1],c=this.chain_[2],h=this.chain_[3],d=this.chain_[4],g,y;for(let b=0;b<80;b++){b<40?b<20?(g=h^o&(c^h),y=1518500249):(g=o^c^h,y=1859775393):b<60?(g=o&c|h&(o|c),y=2400959708):(g=o^c^h,y=3395469782);const x=(r<<5|r>>>27)+g+d+y+i[b]&4294967295;d=h,h=c,c=(o<<30|o>>>2)&4294967295,o=r,r=x}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(t,e){if(t==null)return;e===void 0&&(e=t.length);const i=e-this.blockSize;let r=0;const o=this.buf_;let c=this.inbuf_;for(;r<e;){if(c===0)for(;r<=i;)this.compress_(t,r),r+=this.blockSize;if(typeof t=="string"){for(;r<e;)if(o[c]=t.charCodeAt(r),++c,++r,c===this.blockSize){this.compress_(o),c=0;break}}else for(;r<e;)if(o[c]=t[r],++c,++r,c===this.blockSize){this.compress_(o),c=0;break}}this.inbuf_=c,this.total_+=e}digest(){const t=[];let e=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=e&255,e/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let o=24;o>=0;o-=8)t[i]=this.chain_[r]>>o&255,++i;return t}}function Kk(n,t){const e=new Zk(n,t);return e.subscribe.bind(e)}class Zk{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");Jk(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=Mp),r.error===void 0&&(r.error=Mp),r.complete===void 0&&(r.complete=Mp);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Jk(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Mp(){}function Kf(n,t){return`${n} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);if(r>=55296&&r<=56319){const o=r-55296;i++,ut(i<n.length,"Surrogate pair missing trail surrogate.");const c=n.charCodeAt(i)-56320;r=65536+(o<<10)+c}r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):r<65536?(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},Zf=function(n){let t=0;for(let e=0;e<n.length;e++){const i=n.charCodeAt(e);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,e++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(n){return n&&n._delegate?n._delegate:n}class Br{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new Hu;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(iR(t))try{this.getOrInitializeService({instanceIdentifier:ja})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=ja){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ja){return this.instances.has(t)}getOptions(t=ja){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&c.resolve(r)}return r}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),r=this.onInitCallbacks.get(i)??new Set;r.add(t),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&t(o,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:nR(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=ja){return this.component?this.component.multipleInstances?t:ja:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nR(n){return n===ja?void 0:n}function iR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new eR(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Gt||(Gt={}));const rR={debug:Gt.DEBUG,verbose:Gt.VERBOSE,info:Gt.INFO,warn:Gt.WARN,error:Gt.ERROR,silent:Gt.SILENT},aR=Gt.INFO,oR={[Gt.DEBUG]:"log",[Gt.VERBOSE]:"log",[Gt.INFO]:"info",[Gt.WARN]:"warn",[Gt.ERROR]:"error"},lR=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=oR[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Jf{constructor(t){this.name=t,this._logLevel=aR,this._logHandler=lR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Gt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?rR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Gt.DEBUG,...t),this._logHandler(this,Gt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Gt.VERBOSE,...t),this._logHandler(this,Gt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Gt.INFO,...t),this._logHandler(this,Gt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Gt.WARN,...t),this._logHandler(this,Gt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Gt.ERROR,...t),this._logHandler(this,Gt.ERROR,...t)}}const cR=(n,t)=>t.some(e=>n instanceof e);let qx,Wx;function uR(){return qx||(qx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hR(){return Wx||(Wx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dE=new WeakMap,cy=new WeakMap,fE=new WeakMap,Op=new WeakMap,Zy=new WeakMap;function dR(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{e(Ir(n.result)),r()},c=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&dE.set(e,n)}).catch(()=>{}),Zy.set(t,n),t}function fR(n){if(cy.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{e(),r()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});cy.set(n,t)}let uy={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return cy.get(n);if(t==="objectStoreNames")return n.objectStoreNames||fE.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Ir(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function gR(n){uy=n(uy)}function mR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Dp(this),t,...e);return fE.set(i,t.sort?t.sort():[t]),Ir(i)}:hR().includes(n)?function(...t){return n.apply(Dp(this),t),Ir(dE.get(this))}:function(...t){return Ir(n.apply(Dp(this),t))}}function pR(n){return typeof n=="function"?mR(n):(n instanceof IDBTransaction&&fR(n),cR(n,uR())?new Proxy(n,uy):n)}function Ir(n){if(n instanceof IDBRequest)return dR(n);if(Op.has(n))return Op.get(n);const t=pR(n);return t!==n&&(Op.set(n,t),Zy.set(t,n)),t}const Dp=n=>Zy.get(n);function yR(n,t,{blocked:e,upgrade:i,blocking:r,terminated:o}={}){const c=indexedDB.open(n,t),h=Ir(c);return i&&c.addEventListener("upgradeneeded",d=>{i(Ir(c.result),d.oldVersion,d.newVersion,Ir(c.transaction),d)}),e&&c.addEventListener("blocked",d=>e(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),r&&d.addEventListener("versionchange",g=>r(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const _R=["get","getKey","getAll","getAllKeys","count"],vR=["put","add","delete","clear"],Ip=new Map;function Yx(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Ip.get(t))return Ip.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=vR.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||_R.includes(e)))return;const o=async function(c,...h){const d=this.transaction(c,r?"readwrite":"readonly");let g=d.store;return i&&(g=g.index(h.shift())),(await Promise.all([g[e](...h),r&&d.done]))[0]};return Ip.set(t,o),o}gR(n=>({...n,get:(t,e,i)=>Yx(t,e)||n.get(t,e,i),has:(t,e)=>!!Yx(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(xR(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function xR(n){return n.getComponent()?.type==="VERSION"}const hy="@firebase/app",Gx="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=new Jf("@firebase/app"),wR="@firebase/app-compat",SR="@firebase/analytics-compat",ER="@firebase/analytics",TR="@firebase/app-check-compat",CR="@firebase/app-check",AR="@firebase/auth",NR="@firebase/auth-compat",kR="@firebase/database",RR="@firebase/data-connect",MR="@firebase/database-compat",OR="@firebase/functions",DR="@firebase/functions-compat",IR="@firebase/installations",LR="@firebase/installations-compat",jR="@firebase/messaging",PR="@firebase/messaging-compat",UR="@firebase/performance",zR="@firebase/performance-compat",BR="@firebase/remote-config",HR="@firebase/remote-config-compat",FR="@firebase/storage",VR="@firebase/storage-compat",qR="@firebase/firestore",WR="@firebase/ai",YR="@firebase/firestore-compat",GR="firebase",$R="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy="[DEFAULT]",XR={[hy]:"fire-core",[wR]:"fire-core-compat",[ER]:"fire-analytics",[SR]:"fire-analytics-compat",[CR]:"fire-app-check",[TR]:"fire-app-check-compat",[AR]:"fire-auth",[NR]:"fire-auth-compat",[kR]:"fire-rtdb",[RR]:"fire-data-connect",[MR]:"fire-rtdb-compat",[OR]:"fire-fn",[DR]:"fire-fn-compat",[IR]:"fire-iid",[LR]:"fire-iid-compat",[jR]:"fire-fcm",[PR]:"fire-fcm-compat",[UR]:"fire-perf",[zR]:"fire-perf-compat",[BR]:"fire-rc",[HR]:"fire-rc-compat",[FR]:"fire-gcs",[VR]:"fire-gcs-compat",[qR]:"fire-fst",[YR]:"fire-fst-compat",[WR]:"fire-vertex","fire-js":"fire-js",[GR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf=new Map,QR=new Map,fy=new Map;function $x(n,t){try{n.container.addComponent(t)}catch(e){qs.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Xa(n){const t=n.name;if(fy.has(t))return qs.debug(`There were multiple attempts to register component ${t}.`),!1;fy.set(t,n);for(const e of hf.values())$x(e,n);for(const e of QR.values())$x(e,n);return!0}function tg(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Mn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Lr=new Fu("app","Firebase",KR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Br("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Lr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=$R;function gE(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:dy,automaticDataCollectionEnabled:!0,...t},r=i.name;if(typeof r!="string"||!r)throw Lr.create("bad-app-name",{appName:String(r)});if(e||(e=oE()),!e)throw Lr.create("no-options");const o=hf.get(r);if(o){if(zr(e,o.options)&&zr(i,o.config))return o;throw Lr.create("duplicate-app",{appName:r})}const c=new sR(r);for(const d of fy.values())c.addComponent(d);const h=new ZR(e,i,c);return hf.set(r,h),h}function Jy(n=dy){const t=hf.get(n);if(!t&&n===dy&&oE())return gE();if(!t)throw Lr.create("no-app",{appName:n});return t}function Ji(n,t,e){let i=XR[n]??n;e&&(i+=`-${e}`);const r=i.match(/\s|\//),o=t.match(/\s|\//);if(r||o){const c=[`Unable to register library "${i}" with version "${t}":`];r&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&c.push("and"),o&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),qs.warn(c.join(" "));return}Xa(new Br(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="firebase-heartbeat-database",tM=1,xu="firebase-heartbeat-store";let Lp=null;function mE(){return Lp||(Lp=yR(JR,tM,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(xu)}catch(e){console.warn(e)}}}}).catch(n=>{throw Lr.create("idb-open",{originalErrorMessage:n.message})})),Lp}async function eM(n){try{const e=(await mE()).transaction(xu),i=await e.objectStore(xu).get(pE(n));return await e.done,i}catch(t){if(t instanceof $s)qs.warn(t.message);else{const e=Lr.create("idb-get",{originalErrorMessage:t?.message});qs.warn(e.message)}}}async function Xx(n,t){try{const i=(await mE()).transaction(xu,"readwrite");await i.objectStore(xu).put(t,pE(n)),await i.done}catch(e){if(e instanceof $s)qs.warn(e.message);else{const i=Lr.create("idb-set",{originalErrorMessage:e?.message});qs.warn(i.message)}}}function pE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM=1024,iM=30;class sM{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new aM(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Qx();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>iM){const r=oM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){qs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Qx(),{heartbeatsToSend:e,unsentEntries:i}=rM(this._heartbeatsCache.heartbeats),r=lf(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return qs.warn(t),""}}}function Qx(){return new Date().toISOString().substring(0,10)}function rM(n,t=nM){const e=[];let i=n.slice();for(const r of n){const o=e.find(c=>c.agent===r.agent);if(o){if(o.dates.push(r.date),Kx(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),Kx(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class aM{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Vk()?qk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await eM(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Xx(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Xx(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Kx(n){return lf(JSON.stringify({version:2,heartbeats:n})).length}function oM(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(n){Xa(new Br("platform-logger",t=>new bR(t),"PRIVATE")),Xa(new Br("heartbeat",t=>new sM(t),"PRIVATE")),Ji(hy,Gx,n),Ji(hy,Gx,"esm2020"),Ji("fire-js","")}lM("");var cM="firebase",uM="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ji(cM,uM,"app");function yE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hM=yE,_E=new Fu("auth","Firebase",yE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df=new Jf("@firebase/auth");function dM(n,...t){df.logLevel<=Gt.WARN&&df.warn(`Auth (${so}): ${n}`,...t)}function Kd(n,...t){df.logLevel<=Gt.ERROR&&df.error(`Auth (${so}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(n,...t){throw e_(n,...t)}function Ti(n,...t){return e_(n,...t)}function t_(n,t,e){const i={...hM(),[t]:e};return new Fu("auth","Firebase",i).create(t,{appName:n.name})}function Hs(n){return t_(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fM(n,t,e){const i=e;if(!(t instanceof i))throw i.name!==t.constructor.name&&oi(n,"argument-error"),t_(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function e_(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return _E.create(n,...t)}function xt(n,t,...e){if(!n)throw e_(t,...e)}function Ls(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Kd(t),new Error(t)}function Ws(n,t){n||Ls(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(){return typeof self<"u"&&self.location?.href||""}function gM(){return Zx()==="http:"||Zx()==="https:"}function Zx(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gM()||Bk()||"connection"in navigator)?navigator.onLine:!0}function pM(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(t,e){this.shortDelay=t,this.longDelay=e,Ws(e>t,"Short delay should be less than long delay!"),this.isMobile=Ky()||uE()}get(){return mM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(n,t){Ws(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ls("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ls("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ls("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],vM=new Vu(3e4,6e4);function Xr(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function Xs(n,t,e,i,r={}){return bE(n,r,async()=>{let o={},c={};i&&(t==="GET"?c=i:o={body:JSON.stringify(i)});const h=Al({key:n.config.apiKey,...c}).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const g={method:t,headers:d,...o};return zk()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&io(n.emulatorConfig.host)&&(g.credentials="include"),vE.fetch()(await xE(n,n.config.apiHost,e,h),g)})}async function bE(n,t,e){n._canInitEmulator=!1;const i={...yM,...t};try{const r=new xM(n),o=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw kd(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[d,g]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw kd(n,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw kd(n,"email-already-in-use",c);if(d==="USER_DISABLED")throw kd(n,"user-disabled",c);const y=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw t_(n,y,g);oi(n,y)}}catch(r){if(r instanceof $s)throw r;oi(n,"network-request-failed",{message:String(r)})}}async function qu(n,t,e,i,r={}){const o=await Xs(n,t,e,i,r);return"mfaPendingCredential"in o&&oi(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function xE(n,t,e,i){const r=`${t}${e}?${i}`,o=n,c=o.config.emulator?n_(n.config,r):`${n.config.apiScheme}://${r}`;return _M.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function bM(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class xM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Ti(this.auth,"network-request-failed")),vM.get())})}}function kd(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=Ti(n,t,i);return r.customData._tokenResponse=e,r}function Jx(n){return n!==void 0&&n.enterprise!==void 0}class wM{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return bM(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function SM(n,t){return Xs(n,"GET","/v2/recaptchaConfig",Xr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EM(n,t){return Xs(n,"POST","/v1/accounts:delete",t)}async function ff(n,t){return Xs(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function TM(n,t=!1){const e=nn(n),i=await e.getIdToken(t),r=i_(i);xt(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,c=o?.sign_in_provider;return{claims:r,token:i,authTime:au(jp(r.auth_time)),issuedAtTime:au(jp(r.iat)),expirationTime:au(jp(r.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function jp(n){return Number(n)*1e3}function i_(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return Kd("JWT malformed, contained fewer than 3 sections"),null;try{const r=cf(e);return r?JSON.parse(r):(Kd("Failed to decode base64 JWT payload"),null)}catch(r){return Kd("Caught error parsing JWT payload as JSON",r?.toString()),null}}function tw(n){const t=i_(n);return xt(t,"internal-error"),xt(typeof t.exp<"u","internal-error"),xt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof $s&&CM(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function CM({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=au(this.lastLoginAt),this.creationTime=au(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gf(n){const t=n.auth,e=await n.getIdToken(),i=await ml(n,ff(t,{idToken:e}));xt(i?.users.length,t,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const o=r.providerUserInfo?.length?wE(r.providerUserInfo):[],c=kM(n.providerData,o),h=n.isAnonymous,d=!(n.email&&r.passwordHash)&&!c?.length,g=h?d:!1,y={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:c,metadata:new my(r.createdAt,r.lastLoginAt),isAnonymous:g};Object.assign(n,y)}async function NM(n){const t=nn(n);await gf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function kM(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function wE(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RM(n,t){const e=await bE(n,{},async()=>{const i=Al({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,c=await xE(n,r,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:i};return n.emulatorConfig&&io(n.emulatorConfig.host)&&(d.credentials="include"),vE.fetch()(c,d)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function MM(n,t){return Xs(n,"POST","/v2/accounts:revokeToken",Xr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){xt(t.idToken,"internal-error"),xt(typeof t.idToken<"u","internal-error"),xt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):tw(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){xt(t.length!==0,"internal-error");const e=tw(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(xt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:o}=await RM(t,e);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:o}=e,c=new al;return i&&(xt(typeof i=="string","internal-error",{appName:t}),c.refreshToken=i),r&&(xt(typeof r=="string","internal-error",{appName:t}),c.accessToken=r),o&&(xt(typeof o=="number","internal-error",{appName:t}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new al,this.toJSON())}_performRefresh(){return Ls("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(n,t){xt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class wi{constructor({uid:t,auth:e,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new AM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new my(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const e=await ml(this,this.stsTokenManager.getToken(this.auth,t));return xt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return TM(this,t)}reload(){return NM(this)}_assign(t){this!==t&&(xt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new wi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){xt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await gf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mn(this.auth.app))return Promise.reject(Hs(this.auth));const t=await this.getIdToken();return await ml(this,EM(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,r=e.email??void 0,o=e.phoneNumber??void 0,c=e.photoURL??void 0,h=e.tenantId??void 0,d=e._redirectEventId??void 0,g=e.createdAt??void 0,y=e.lastLoginAt??void 0,{uid:b,emailVerified:x,isAnonymous:E,providerData:A,stsTokenManager:M}=e;xt(b&&M,t,"internal-error");const R=al.fromJSON(this.name,M);xt(typeof b=="string",t,"internal-error"),Cr(i,t.name),Cr(r,t.name),xt(typeof x=="boolean",t,"internal-error"),xt(typeof E=="boolean",t,"internal-error"),Cr(o,t.name),Cr(c,t.name),Cr(h,t.name),Cr(d,t.name),Cr(g,t.name),Cr(y,t.name);const B=new wi({uid:b,auth:t,email:r,emailVerified:x,displayName:i,isAnonymous:E,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:R,createdAt:g,lastLoginAt:y});return A&&Array.isArray(A)&&(B.providerData=A.map(W=>({...W}))),d&&(B._redirectEventId=d),B}static async _fromIdTokenResponse(t,e,i=!1){const r=new al;r.updateFromServerResponse(e);const o=new wi({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await gf(o),o}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];xt(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?wE(r.providerUserInfo):[],c=!(r.email&&r.passwordHash)&&!o?.length,h=new al;h.updateFromIdToken(i);const d=new wi({uid:r.localId,auth:t,stsTokenManager:h,isAnonymous:c}),g={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new my(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(d,g),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew=new Map;function js(n){Ws(n instanceof Function,"Expected a class definition");let t=ew.get(n);return t?(Ws(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,ew.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}SE.type="NONE";const nw=SE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(n,t,e){return`firebase:${n}:${t}:${e}`}class ol{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=Zd(this.userKey,r.apiKey,o),this.fullPersistenceKey=Zd("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await ff(this.auth,{idToken:t}).catch(()=>{});return e?wi._fromGetAccountInfoResponse(this.auth,e,t):null}return wi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new ol(js(nw),t,i);const r=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let o=r[0]||js(nw);const c=Zd(i,t.config.apiKey,t.name);let h=null;for(const g of e)try{const y=await g._get(c);if(y){let b;if(typeof y=="string"){const x=await ff(t,{idToken:y}).catch(()=>{});if(!x)break;b=await wi._fromGetAccountInfoResponse(t,x,y)}else b=wi._fromJSON(t,y);g!==o&&(h=b),o=g;break}}catch{}const d=r.filter(g=>g._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new ol(o,t,i):(o=d[0],h&&await o._set(c,h.toJSON()),await Promise.all(e.map(async g=>{if(g!==o)try{await g._remove(c)}catch{}})),new ol(o,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(AE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(EE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(kE(t))return"Blackberry";if(RE(t))return"Webos";if(TE(t))return"Safari";if((t.includes("chrome/")||CE(t))&&!t.includes("edge/"))return"Chrome";if(NE(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function EE(n=Sn()){return/firefox\//i.test(n)}function TE(n=Sn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function CE(n=Sn()){return/crios\//i.test(n)}function AE(n=Sn()){return/iemobile/i.test(n)}function NE(n=Sn()){return/android/i.test(n)}function kE(n=Sn()){return/blackberry/i.test(n)}function RE(n=Sn()){return/webos/i.test(n)}function s_(n=Sn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function OM(n=Sn()){return s_(n)&&!!window.navigator?.standalone}function DM(){return Hk()&&document.documentMode===10}function ME(n=Sn()){return s_(n)||NE(n)||RE(n)||kE(n)||/windows phone/i.test(n)||AE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(n,t=[]){let e;switch(n){case"Browser":e=iw(Sn());break;case"Worker":e=`${iw(Sn())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${so}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((c,h)=>{try{const d=t(o);c(d)}catch(d){h(d)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LM(n,t={}){return Xs(n,"GET","/v2/passwordPolicy",Xr(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM=6;class PM{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??jM,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sw(this),this.idTokenSubscription=new sw(this),this.beforeStateQueue=new IM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_E,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=js(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ol.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await ff(this,{idToken:t}),i=await wi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Mn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=i?._redirectEventId,h=await this.tryRedirectSignIn(t);(!o||o===c)&&h?.user&&(i=h.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return xt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await gf(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=pM()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Mn(this.app))return Promise.reject(Hs(this));const e=t?nn(t):null;return e&&xt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&xt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Mn(this.app)?Promise.reject(Hs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Mn(this.app)?Promise.reject(Hs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(js(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await LM(this),e=new PM(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Fu("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await MM(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&js(t)||this._popupRedirectResolver;xt(e,this,"argument-error"),this.redirectPersistenceManager=await ol.create(this,[js(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(xt(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof e=="function"){const d=t.addObserver(e,i,r);return()=>{c=!0,d()}}else{const d=t.addObserver(e);return()=>{c=!0,d()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return xt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=OE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(Mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&dM(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Qr(n){return nn(n)}class sw{constructor(t){this.auth=t,this.observer=null,this.addObserver=Kk(e=>this.observer=e)}get next(){return xt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zM(n){eg=n}function DE(n){return eg.loadJS(n)}function BM(){return eg.recaptchaEnterpriseScript}function HM(){return eg.gapiScript}function FM(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class VM{constructor(){this.enterprise=new qM}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class qM{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const WM="recaptcha-enterprise",IE="NO_RECAPTCHA";class YM{constructor(t){this.type=WM,this.auth=Qr(t)}async verify(t="verify",e=!1){async function i(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,h)=>{SM(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const g=new wM(d);return o.tenantId==null?o._agentRecaptchaConfig=g:o._tenantRecaptchaConfigs[o.tenantId]=g,c(g.siteKey)}}).catch(d=>{h(d)})})}function r(o,c,h){const d=window.grecaptcha;Jx(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:t}).then(g=>{c(g)}).catch(()=>{c(IE)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new VM().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{i(this.auth).then(h=>{if(!e&&Jx(window.grecaptcha))r(h,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let d=BM();d.length!==0&&(d+=h),DE(d).then(()=>{r(h,o,c)}).catch(g=>{c(g)})}}).catch(h=>{c(h)})})}}async function rw(n,t,e,i=!1,r=!1){const o=new YM(n);let c;if(r)c=IE;else try{c=await o.verify(e)}catch{c=await o.verify(e,!0)}const h={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,g=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function py(n,t,e,i,r){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await rw(n,t,e,e==="getOobCode");return i(n,o)}else return i(n,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await rw(n,t,e,e==="getOobCode");return i(n,c)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(n,t){const e=tg(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),o=e.getOptions();if(zr(o,t??{}))return r;oi(r,"already-initialized")}return e.initialize({options:t})}function $M(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(js);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function XM(n,t,e){const i=Qr(n);xt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,o=LE(t),{host:c,port:h}=QM(t),d=h===null?"":`:${h}`,g={url:`${o}//${c}${d}/`},y=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){xt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),xt(zr(g,i.config.emulator)&&zr(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,io(c)?(Xy(`${o}//${c}${d}`),Qy("Auth",!0)):KM()}function LE(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function QM(n){const t=LE(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:aw(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:aw(c)}}}function aw(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function KM(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Ls("not implemented")}_getIdTokenResponse(t){return Ls("not implemented")}_linkToIdToken(t,e){return Ls("not implemented")}_getReauthenticationResolver(t){return Ls("not implemented")}}async function ZM(n,t){return Xs(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JM(n,t){return qu(n,"POST","/v1/accounts:signInWithPassword",Xr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tO(n,t){return qu(n,"POST","/v1/accounts:signInWithEmailLink",Xr(n,t))}async function eO(n,t){return qu(n,"POST","/v1/accounts:signInWithEmailLink",Xr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends r_{constructor(t,e,i,r=null){super("password",i),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new wu(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new wu(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return py(t,e,"signInWithPassword",JM);case"emailLink":return tO(t,{email:this._email,oobCode:this._password});default:oi(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return py(t,i,"signUpPassword",ZM);case"emailLink":return eO(t,{idToken:e,email:this._email,oobCode:this._password});default:oi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ll(n,t){return qu(n,"POST","/v1/accounts:signInWithIdp",Xr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO="http://localhost";class Qa extends r_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Qa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):oi("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r,...o}=e;if(!i||!r)return null;const c=new Qa(i,r);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return ll(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,ll(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,ll(t,e)}buildRequest(){const t={requestUri:nO,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Al(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function sO(n){const t=tu(eu(n)).link,e=t?tu(eu(t)).deep_link_id:null,i=tu(eu(n)).deep_link_id;return(i?tu(eu(i)).link:null)||i||e||t||n}class a_{constructor(t){const e=tu(eu(t)),i=e.apiKey??null,r=e.oobCode??null,o=iO(e.mode??null);xt(i&&r&&o,"argument-error"),this.apiKey=i,this.operation=o,this.code=r,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=sO(t);try{return new a_(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(){this.providerId=Nl.PROVIDER_ID}static credential(t,e){return wu._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=a_.parseLink(e);return xt(i,"argument-error"),wu._fromEmailAndCode(t,i.code,i.tenantId)}}Nl.PROVIDER_ID="password";Nl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Nl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu extends o_{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends Wu{constructor(){super("facebook.com")}static credential(t){return Qa._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Nr.credentialFromTaggedObject(t)}static credentialFromError(t){return Nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Nr.credential(t.oauthAccessToken)}catch{return null}}}Nr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Nr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends Wu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Qa._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Ds.credentialFromTaggedObject(t)}static credentialFromError(t){return Ds.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return Ds.credential(e,i)}catch{return null}}}Ds.GOOGLE_SIGN_IN_METHOD="google.com";Ds.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends Wu{constructor(){super("github.com")}static credential(t){return Qa._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return kr.credentialFromTaggedObject(t)}static credentialFromError(t){return kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return kr.credential(t.oauthAccessToken)}catch{return null}}}kr.GITHUB_SIGN_IN_METHOD="github.com";kr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends Wu{constructor(){super("twitter.com")}static credential(t,e){return Qa._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Rr.credentialFromTaggedObject(t)}static credentialFromError(t){return Rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return Rr.credential(e,i)}catch{return null}}}Rr.TWITTER_SIGN_IN_METHOD="twitter.com";Rr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rO(n,t){return qu(n,"POST","/v1/accounts:signUp",Xr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const o=await wi._fromIdTokenResponse(t,i,r),c=ow(i);return new Ka({user:o,providerId:c,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=ow(i);return new Ka({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function ow(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf extends $s{constructor(t,e,i,r){super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,mf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new mf(t,e,i,r)}}function jE(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?mf._fromErrorAndOperation(n,o,t,i):o})}async function aO(n,t,e=!1){const i=await ml(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Ka._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oO(n,t,e=!1){const{auth:i}=n;if(Mn(i.app))return Promise.reject(Hs(i));const r="reauthenticate";try{const o=await ml(n,jE(i,r,t,n),e);xt(o.idToken,i,"internal-error");const c=i_(o.idToken);xt(c,i,"internal-error");const{sub:h}=c;return xt(n.uid===h,i,"user-mismatch"),Ka._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&oi(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PE(n,t,e=!1){if(Mn(n.app))return Promise.reject(Hs(n));const i="signIn",r=await jE(n,i,t),o=await Ka._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(o.user),o}async function lO(n,t){return PE(Qr(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UE(n){const t=Qr(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function cO(n,t,e){if(Mn(n.app))return Promise.reject(Hs(n));const i=Qr(n),c=await py(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",rO).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&UE(n),d}),h=await Ka._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(h.user),h}function uO(n,t,e){return Mn(n.app)?Promise.reject(Hs(n)):lO(nn(n),Nl.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&UE(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hO(n,t){return Xs(n,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zE(n,{displayName:t,photoURL:e}){if(t===void 0&&e===void 0)return;const i=nn(n),o={idToken:await i.getIdToken(),displayName:t,photoUrl:e,returnSecureToken:!0},c=await ml(i,hO(i.auth,o));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const h=i.providerData.find(({providerId:d})=>d==="password");h&&(h.displayName=i.displayName,h.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function dO(n,t,e,i){return nn(n).onIdTokenChanged(t,e,i)}function fO(n,t,e){return nn(n).beforeAuthStateChanged(t,e)}function BE(n,t,e,i){return nn(n).onAuthStateChanged(t,e,i)}function HE(n){return nn(n).signOut()}const pf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(pf,"1"),this.storage.removeItem(pf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=1e3,mO=10;class VE extends FE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ME(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,h,d)=>{this.notifyListeners(c,d)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const c=this.storage.getItem(i);!e&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);DM()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,mO):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},gO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}VE.type="LOCAL";const pO=VE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE extends FE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}qE.type="SESSION";const WE=qE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new ng(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:o}=e.data,c=this.handlersMap[r];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const h=Array.from(c).map(async g=>g(e.origin,o)),d=await yO(h);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:d})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ng.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,c;return new Promise((h,d)=>{const g=l_("",20);r.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},i);c={messageChannel:r,onMessage(b){const x=b;if(x.data.eventId===g)switch(x.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(x.data.response);break;default:clearTimeout(y),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(c),r.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[r.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(){return window}function vO(n){ts().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(){return typeof ts().WorkerGlobalScope<"u"&&typeof ts().importScripts=="function"}async function bO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xO(){return navigator?.serviceWorker?.controller||null}function wO(){return YE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="firebaseLocalStorageDb",SO=1,yf="firebaseLocalStorage",$E="fbase_key";class Yu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function ig(n,t){return n.transaction([yf],t?"readwrite":"readonly").objectStore(yf)}function EO(){const n=indexedDB.deleteDatabase(GE);return new Yu(n).toPromise()}function yy(){const n=indexedDB.open(GE,SO);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(yf,{keyPath:$E})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(yf)?t(i):(i.close(),await EO(),t(await yy()))})})}async function lw(n,t,e){const i=ig(n,!0).put({[$E]:t,value:e});return new Yu(i).toPromise()}async function TO(n,t){const e=ig(n,!1).get(t),i=await new Yu(e).toPromise();return i===void 0?null:i.value}function cw(n,t){const e=ig(n,!0).delete(t);return new Yu(e).toPromise()}const CO=800,AO=3;class XE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yy(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>AO)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return YE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ng._getInstance(wO()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await bO(),!this.activeServiceWorker)return;this.sender=new _O(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||xO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await yy();return await lw(t,pf,"1"),await cw(t,pf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>lw(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>TO(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>cw(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const o=ig(r,!1).getAll();return new Yu(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:o}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}XE.type="LOCAL";const NO=XE;new Vu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(n,t){return t?js(t):(xt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_ extends r_{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ll(t,this._buildIdpRequest())}_linkToIdToken(t,e){return ll(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return ll(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function kO(n){return PE(n.auth,new c_(n),n.bypassAuthState)}function RO(n){const{auth:t,user:e}=n;return xt(e,t,"internal-error"),oO(e,new c_(n),n.bypassAuthState)}async function MO(n){const{auth:t,user:e}=n;return xt(e,t,"internal-error"),aO(e,new c_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(t,e,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:o,error:c,type:h}=t;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return kO;case"linkViaPopup":case"linkViaRedirect":return MO;case"reauthViaPopup":case"reauthViaRedirect":return RO;default:oi(this.auth,"internal-error")}}resolve(t){Ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO=new Vu(2e3,1e4);async function DO(n,t,e){if(Mn(n.app))return Promise.reject(Ti(n,"operation-not-supported-in-this-environment"));const i=Qr(n);fM(n,t,o_);const r=QE(i,e);return new Ha(i,"signInViaPopup",t,r).executeNotNull()}class Ha extends KE{constructor(t,e,i,r,o){super(t,e,r,o),this.provider=i,this.authWindow=null,this.pollId=null,Ha.currentPopupAction&&Ha.currentPopupAction.cancel(),Ha.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return xt(t,this.auth,"internal-error"),t}async onExecution(){Ws(this.filter.length===1,"Popup operations only handle one event");const t=l_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ha.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,OO.get())};t()}}Ha.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO="pendingRedirect",Jd=new Map;class LO extends KE{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=Jd.get(this.auth._key());if(!t){try{const i=await jO(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}Jd.set(this.auth._key(),t)}return this.bypassAuthState||Jd.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jO(n,t){const e=zO(t),i=UO(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function PO(n,t){Jd.set(n._key(),t)}function UO(n){return js(n._redirectPersistence)}function zO(n){return Zd(IO,n.config.apiKey,n.name)}async function BO(n,t,e=!1){if(Mn(n.app))return Promise.reject(Hs(n));const i=Qr(n),r=QE(i,t),c=await new LO(i,r,e).execute();return c&&!e&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO=600*1e3;class FO{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!VO(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!ZE(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(Ti(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=HO&&this.cachedEventUids.clear(),this.cachedEventUids.has(uw(t))}saveEventToCache(t){this.cachedEventUids.add(uw(t)),this.lastProcessedEventTime=Date.now()}}function uw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function ZE({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function VO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qO(n,t={}){return Xs(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YO=/^https?/;async function GO(n){if(n.config.emulator)return;const{authorizedDomains:t}=await qO(n);for(const e of t)try{if($O(e))return}catch{}oi(n,"unauthorized-domain")}function $O(n){const t=gy(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===i}if(!YO.test(e))return!1;if(WO.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO=new Vu(3e4,6e4);function hw(){const n=ts().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function QO(n){return new Promise((t,e)=>{function i(){hw(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{hw(),e(Ti(n,"network-request-failed"))},timeout:XO.get()})}if(ts().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ts().gapi?.load)i();else{const r=FM("iframefcb");return ts()[r]=()=>{gapi.load?i():e(Ti(n,"network-request-failed"))},DE(`${HM()}?onload=${r}`).catch(o=>e(o))}}).catch(t=>{throw tf=null,t})}let tf=null;function KO(n){return tf=tf||QO(n),tf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO=new Vu(5e3,15e3),JO="__/auth/iframe",tD="emulator/auth/iframe",eD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iD(n){const t=n.config;xt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?n_(t,tD):`https://${n.config.authDomain}/${JO}`,i={apiKey:t.apiKey,appName:n.name,v:so},r=nD.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${Al(i).slice(1)}`}async function sD(n){const t=await KO(n),e=ts().gapi;return xt(e,n,"internal-error"),t.open({where:document.body,url:iD(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eD,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const c=Ti(n,"network-request-failed"),h=ts().setTimeout(()=>{o(c)},ZO.get());function d(){ts().clearTimeout(h),r(i)}i.ping(d).then(d,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},aD=500,oD=600,lD="_blank",cD="http://localhost";class dw{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uD(n,t,e,i=aD,r=oD){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const d={...rD,width:i.toString(),height:r.toString(),top:o,left:c},g=Sn().toLowerCase();e&&(h=CE(g)?lD:e),EE(g)&&(t=t||cD,d.scrollbars="yes");const y=Object.entries(d).reduce((x,[E,A])=>`${x}${E}=${A},`,"");if(OM(g)&&h!=="_self")return hD(t||"",h),new dw(null);const b=window.open(t||"",h,y);xt(b,n,"popup-blocked");try{b.focus()}catch{}return new dw(b)}function hD(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD="__/auth/handler",fD="emulator/auth/handler",gD=encodeURIComponent("fac");async function fw(n,t,e,i,r,o){xt(n.config.authDomain,n,"auth-domain-config-required"),xt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:so,eventId:r};if(t instanceof o_){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",ly(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,b]of Object.entries({}))c[y]=b}if(t instanceof Wu){const y=t.getScopes().filter(b=>b!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const d=await n._getAppCheckToken(),g=d?`#${gD}=${encodeURIComponent(d)}`:"";return`${mD(n)}?${Al(h).slice(1)}${g}`}function mD({config:n}){return n.emulator?n_(n,fD):`https://${n.authDomain}/${dD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="webStorageSupport";class pD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=WE,this._completeRedirectFn=BO,this._overrideRedirectResult=PO}async _openPopup(t,e,i,r){Ws(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await fw(t,e,i,gy(),r);return uD(t,o,l_())}async _openRedirect(t,e,i,r){await this._originValidation(t);const o=await fw(t,e,i,gy(),r);return vO(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:o}=this.eventManagers[e];return r?Promise.resolve(r):(Ws(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await sD(t),i=new FO(t);return e.register("authEvent",r=>(xt(r?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Pp,{type:Pp},r=>{const o=r?.[0]?.[Pp];o!==void 0&&e(!!o),oi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=GO(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return ME()||TE()||s_()}}const yD=pD;var gw="@firebase/auth",mw="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){xt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bD(n){Xa(new Br("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;xt(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:OE(n)},g=new UM(i,r,o,d);return $M(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Xa(new Br("auth-internal",t=>{const e=Qr(t.getProvider("auth").getImmediate());return(i=>new _D(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ji(gw,mw,vD(n)),Ji(gw,mw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD=300,wD=lE("authIdTokenMaxAge")||xD;let pw=null;const SD=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>wD)return;const r=e?.token;pw!==r&&(pw=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function JE(n=Jy()){const t=tg(n,"auth");if(t.isInitialized())return t.getImmediate();const e=GM(n,{popupRedirectResolver:yD,persistence:[NO,pO,WE]}),i=lE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=SD(o.toString());fO(e,c,()=>c(e.currentUser)),dO(e,h=>c(h))}}const r=rE("auth");return r&&XM(e,`http://${r}`),e}function ED(){return document.getElementsByTagName("head")?.[0]??document}zM({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const o=Ti("internal-error");o.customData=r,e(o)},i.type="text/javascript",i.charset="UTF-8",ED().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bD("Browser");var yw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var u_;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,C){function k(){}k.prototype=C.prototype,O.D=C.prototype,O.prototype=new k,O.prototype.constructor=O,O.C=function(I,j,U){for(var D=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)D[Tt-2]=arguments[Tt];return C.prototype[j].apply(I,D)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(O,C,k){k||(k=0);var I=Array(16);if(typeof C=="string")for(var j=0;16>j;++j)I[j]=C.charCodeAt(k++)|C.charCodeAt(k++)<<8|C.charCodeAt(k++)<<16|C.charCodeAt(k++)<<24;else for(j=0;16>j;++j)I[j]=C[k++]|C[k++]<<8|C[k++]<<16|C[k++]<<24;C=O.g[0],k=O.g[1],j=O.g[2];var U=O.g[3],D=C+(U^k&(j^U))+I[0]+3614090360&4294967295;C=k+(D<<7&4294967295|D>>>25),D=U+(j^C&(k^j))+I[1]+3905402710&4294967295,U=C+(D<<12&4294967295|D>>>20),D=j+(k^U&(C^k))+I[2]+606105819&4294967295,j=U+(D<<17&4294967295|D>>>15),D=k+(C^j&(U^C))+I[3]+3250441966&4294967295,k=j+(D<<22&4294967295|D>>>10),D=C+(U^k&(j^U))+I[4]+4118548399&4294967295,C=k+(D<<7&4294967295|D>>>25),D=U+(j^C&(k^j))+I[5]+1200080426&4294967295,U=C+(D<<12&4294967295|D>>>20),D=j+(k^U&(C^k))+I[6]+2821735955&4294967295,j=U+(D<<17&4294967295|D>>>15),D=k+(C^j&(U^C))+I[7]+4249261313&4294967295,k=j+(D<<22&4294967295|D>>>10),D=C+(U^k&(j^U))+I[8]+1770035416&4294967295,C=k+(D<<7&4294967295|D>>>25),D=U+(j^C&(k^j))+I[9]+2336552879&4294967295,U=C+(D<<12&4294967295|D>>>20),D=j+(k^U&(C^k))+I[10]+4294925233&4294967295,j=U+(D<<17&4294967295|D>>>15),D=k+(C^j&(U^C))+I[11]+2304563134&4294967295,k=j+(D<<22&4294967295|D>>>10),D=C+(U^k&(j^U))+I[12]+1804603682&4294967295,C=k+(D<<7&4294967295|D>>>25),D=U+(j^C&(k^j))+I[13]+4254626195&4294967295,U=C+(D<<12&4294967295|D>>>20),D=j+(k^U&(C^k))+I[14]+2792965006&4294967295,j=U+(D<<17&4294967295|D>>>15),D=k+(C^j&(U^C))+I[15]+1236535329&4294967295,k=j+(D<<22&4294967295|D>>>10),D=C+(j^U&(k^j))+I[1]+4129170786&4294967295,C=k+(D<<5&4294967295|D>>>27),D=U+(k^j&(C^k))+I[6]+3225465664&4294967295,U=C+(D<<9&4294967295|D>>>23),D=j+(C^k&(U^C))+I[11]+643717713&4294967295,j=U+(D<<14&4294967295|D>>>18),D=k+(U^C&(j^U))+I[0]+3921069994&4294967295,k=j+(D<<20&4294967295|D>>>12),D=C+(j^U&(k^j))+I[5]+3593408605&4294967295,C=k+(D<<5&4294967295|D>>>27),D=U+(k^j&(C^k))+I[10]+38016083&4294967295,U=C+(D<<9&4294967295|D>>>23),D=j+(C^k&(U^C))+I[15]+3634488961&4294967295,j=U+(D<<14&4294967295|D>>>18),D=k+(U^C&(j^U))+I[4]+3889429448&4294967295,k=j+(D<<20&4294967295|D>>>12),D=C+(j^U&(k^j))+I[9]+568446438&4294967295,C=k+(D<<5&4294967295|D>>>27),D=U+(k^j&(C^k))+I[14]+3275163606&4294967295,U=C+(D<<9&4294967295|D>>>23),D=j+(C^k&(U^C))+I[3]+4107603335&4294967295,j=U+(D<<14&4294967295|D>>>18),D=k+(U^C&(j^U))+I[8]+1163531501&4294967295,k=j+(D<<20&4294967295|D>>>12),D=C+(j^U&(k^j))+I[13]+2850285829&4294967295,C=k+(D<<5&4294967295|D>>>27),D=U+(k^j&(C^k))+I[2]+4243563512&4294967295,U=C+(D<<9&4294967295|D>>>23),D=j+(C^k&(U^C))+I[7]+1735328473&4294967295,j=U+(D<<14&4294967295|D>>>18),D=k+(U^C&(j^U))+I[12]+2368359562&4294967295,k=j+(D<<20&4294967295|D>>>12),D=C+(k^j^U)+I[5]+4294588738&4294967295,C=k+(D<<4&4294967295|D>>>28),D=U+(C^k^j)+I[8]+2272392833&4294967295,U=C+(D<<11&4294967295|D>>>21),D=j+(U^C^k)+I[11]+1839030562&4294967295,j=U+(D<<16&4294967295|D>>>16),D=k+(j^U^C)+I[14]+4259657740&4294967295,k=j+(D<<23&4294967295|D>>>9),D=C+(k^j^U)+I[1]+2763975236&4294967295,C=k+(D<<4&4294967295|D>>>28),D=U+(C^k^j)+I[4]+1272893353&4294967295,U=C+(D<<11&4294967295|D>>>21),D=j+(U^C^k)+I[7]+4139469664&4294967295,j=U+(D<<16&4294967295|D>>>16),D=k+(j^U^C)+I[10]+3200236656&4294967295,k=j+(D<<23&4294967295|D>>>9),D=C+(k^j^U)+I[13]+681279174&4294967295,C=k+(D<<4&4294967295|D>>>28),D=U+(C^k^j)+I[0]+3936430074&4294967295,U=C+(D<<11&4294967295|D>>>21),D=j+(U^C^k)+I[3]+3572445317&4294967295,j=U+(D<<16&4294967295|D>>>16),D=k+(j^U^C)+I[6]+76029189&4294967295,k=j+(D<<23&4294967295|D>>>9),D=C+(k^j^U)+I[9]+3654602809&4294967295,C=k+(D<<4&4294967295|D>>>28),D=U+(C^k^j)+I[12]+3873151461&4294967295,U=C+(D<<11&4294967295|D>>>21),D=j+(U^C^k)+I[15]+530742520&4294967295,j=U+(D<<16&4294967295|D>>>16),D=k+(j^U^C)+I[2]+3299628645&4294967295,k=j+(D<<23&4294967295|D>>>9),D=C+(j^(k|~U))+I[0]+4096336452&4294967295,C=k+(D<<6&4294967295|D>>>26),D=U+(k^(C|~j))+I[7]+1126891415&4294967295,U=C+(D<<10&4294967295|D>>>22),D=j+(C^(U|~k))+I[14]+2878612391&4294967295,j=U+(D<<15&4294967295|D>>>17),D=k+(U^(j|~C))+I[5]+4237533241&4294967295,k=j+(D<<21&4294967295|D>>>11),D=C+(j^(k|~U))+I[12]+1700485571&4294967295,C=k+(D<<6&4294967295|D>>>26),D=U+(k^(C|~j))+I[3]+2399980690&4294967295,U=C+(D<<10&4294967295|D>>>22),D=j+(C^(U|~k))+I[10]+4293915773&4294967295,j=U+(D<<15&4294967295|D>>>17),D=k+(U^(j|~C))+I[1]+2240044497&4294967295,k=j+(D<<21&4294967295|D>>>11),D=C+(j^(k|~U))+I[8]+1873313359&4294967295,C=k+(D<<6&4294967295|D>>>26),D=U+(k^(C|~j))+I[15]+4264355552&4294967295,U=C+(D<<10&4294967295|D>>>22),D=j+(C^(U|~k))+I[6]+2734768916&4294967295,j=U+(D<<15&4294967295|D>>>17),D=k+(U^(j|~C))+I[13]+1309151649&4294967295,k=j+(D<<21&4294967295|D>>>11),D=C+(j^(k|~U))+I[4]+4149444226&4294967295,C=k+(D<<6&4294967295|D>>>26),D=U+(k^(C|~j))+I[11]+3174756917&4294967295,U=C+(D<<10&4294967295|D>>>22),D=j+(C^(U|~k))+I[2]+718787259&4294967295,j=U+(D<<15&4294967295|D>>>17),D=k+(U^(j|~C))+I[9]+3951481745&4294967295,O.g[0]=O.g[0]+C&4294967295,O.g[1]=O.g[1]+(j+(D<<21&4294967295|D>>>11))&4294967295,O.g[2]=O.g[2]+j&4294967295,O.g[3]=O.g[3]+U&4294967295}i.prototype.u=function(O,C){C===void 0&&(C=O.length);for(var k=C-this.blockSize,I=this.B,j=this.h,U=0;U<C;){if(j==0)for(;U<=k;)r(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<C;)if(I[j++]=O.charCodeAt(U++),j==this.blockSize){r(this,I),j=0;break}}else for(;U<C;)if(I[j++]=O[U++],j==this.blockSize){r(this,I),j=0;break}}this.h=j,this.o+=C},i.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var C=1;C<O.length-8;++C)O[C]=0;var k=8*this.o;for(C=O.length-8;C<O.length;++C)O[C]=k&255,k/=256;for(this.u(O),O=Array(16),C=k=0;4>C;++C)for(var I=0;32>I;I+=8)O[k++]=this.g[C]>>>I&255;return O};function o(O,C){var k=h;return Object.prototype.hasOwnProperty.call(k,O)?k[O]:k[O]=C(O)}function c(O,C){this.h=C;for(var k=[],I=!0,j=O.length-1;0<=j;j--){var U=O[j]|0;I&&U==C||(k[j]=U,I=!1)}this.g=k}var h={};function d(O){return-128<=O&&128>O?o(O,function(C){return new c([C|0],0>C?-1:0)}):new c([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return b;if(0>O)return R(g(-O));for(var C=[],k=1,I=0;O>=k;I++)C[I]=O/k|0,k*=4294967296;return new c(C,0)}function y(O,C){if(O.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(O.charAt(0)=="-")return R(y(O.substring(1),C));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=g(Math.pow(C,8)),I=b,j=0;j<O.length;j+=8){var U=Math.min(8,O.length-j),D=parseInt(O.substring(j,j+U),C);8>U?(U=g(Math.pow(C,U)),I=I.j(U).add(g(D))):(I=I.j(k),I=I.add(g(D)))}return I}var b=d(0),x=d(1),E=d(16777216);n=c.prototype,n.m=function(){if(M(this))return-R(this).m();for(var O=0,C=1,k=0;k<this.g.length;k++){var I=this.i(k);O+=(0<=I?I:4294967296+I)*C,C*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(A(this))return"0";if(M(this))return"-"+R(this).toString(O);for(var C=g(Math.pow(O,6)),k=this,I="";;){var j=tt(k,C).g;k=B(k,j.j(C));var U=((0<k.g.length?k.g[0]:k.h)>>>0).toString(O);if(k=j,A(k))return U+I;for(;6>U.length;)U="0"+U;I=U+I}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function A(O){if(O.h!=0)return!1;for(var C=0;C<O.g.length;C++)if(O.g[C]!=0)return!1;return!0}function M(O){return O.h==-1}n.l=function(O){return O=B(this,O),M(O)?-1:A(O)?0:1};function R(O){for(var C=O.g.length,k=[],I=0;I<C;I++)k[I]=~O.g[I];return new c(k,~O.h).add(x)}n.abs=function(){return M(this)?R(this):this},n.add=function(O){for(var C=Math.max(this.g.length,O.g.length),k=[],I=0,j=0;j<=C;j++){var U=I+(this.i(j)&65535)+(O.i(j)&65535),D=(U>>>16)+(this.i(j)>>>16)+(O.i(j)>>>16);I=D>>>16,U&=65535,D&=65535,k[j]=D<<16|U}return new c(k,k[k.length-1]&-2147483648?-1:0)};function B(O,C){return O.add(R(C))}n.j=function(O){if(A(this)||A(O))return b;if(M(this))return M(O)?R(this).j(R(O)):R(R(this).j(O));if(M(O))return R(this.j(R(O)));if(0>this.l(E)&&0>O.l(E))return g(this.m()*O.m());for(var C=this.g.length+O.g.length,k=[],I=0;I<2*C;I++)k[I]=0;for(I=0;I<this.g.length;I++)for(var j=0;j<O.g.length;j++){var U=this.i(I)>>>16,D=this.i(I)&65535,Tt=O.i(j)>>>16,yt=O.i(j)&65535;k[2*I+2*j]+=D*yt,W(k,2*I+2*j),k[2*I+2*j+1]+=U*yt,W(k,2*I+2*j+1),k[2*I+2*j+1]+=D*Tt,W(k,2*I+2*j+1),k[2*I+2*j+2]+=U*Tt,W(k,2*I+2*j+2)}for(I=0;I<C;I++)k[I]=k[2*I+1]<<16|k[2*I];for(I=C;I<2*C;I++)k[I]=0;return new c(k,0)};function W(O,C){for(;(O[C]&65535)!=O[C];)O[C+1]+=O[C]>>>16,O[C]&=65535,C++}function Y(O,C){this.g=O,this.h=C}function tt(O,C){if(A(C))throw Error("division by zero");if(A(O))return new Y(b,b);if(M(O))return C=tt(R(O),C),new Y(R(C.g),R(C.h));if(M(C))return C=tt(O,R(C)),new Y(R(C.g),C.h);if(30<O.g.length){if(M(O)||M(C))throw Error("slowDivide_ only works with positive integers.");for(var k=x,I=C;0>=I.l(O);)k=K(k),I=K(I);var j=ot(k,1),U=ot(I,1);for(I=ot(I,2),k=ot(k,2);!A(I);){var D=U.add(I);0>=D.l(O)&&(j=j.add(k),U=D),I=ot(I,1),k=ot(k,1)}return C=B(O,j.j(C)),new Y(j,C)}for(j=b;0<=O.l(C);){for(k=Math.max(1,Math.floor(O.m()/C.m())),I=Math.ceil(Math.log(k)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),U=g(k),D=U.j(C);M(D)||0<D.l(O);)k-=I,U=g(k),D=U.j(C);A(U)&&(U=x),j=j.add(U),O=B(O,D)}return new Y(j,O)}n.A=function(O){return tt(this,O).h},n.and=function(O){for(var C=Math.max(this.g.length,O.g.length),k=[],I=0;I<C;I++)k[I]=this.i(I)&O.i(I);return new c(k,this.h&O.h)},n.or=function(O){for(var C=Math.max(this.g.length,O.g.length),k=[],I=0;I<C;I++)k[I]=this.i(I)|O.i(I);return new c(k,this.h|O.h)},n.xor=function(O){for(var C=Math.max(this.g.length,O.g.length),k=[],I=0;I<C;I++)k[I]=this.i(I)^O.i(I);return new c(k,this.h^O.h)};function K(O){for(var C=O.g.length+1,k=[],I=0;I<C;I++)k[I]=O.i(I)<<1|O.i(I-1)>>>31;return new c(k,O.h)}function ot(O,C){var k=C>>5;C%=32;for(var I=O.g.length-k,j=[],U=0;U<I;U++)j[U]=0<C?O.i(U+k)>>>C|O.i(U+k+1)<<32-C:O.i(U+k);return new c(j,O.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=y,u_=c}).apply(typeof yw<"u"?yw:typeof self<"u"?self:typeof window<"u"?window:{});var Rd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,v,w){return f==Array.prototype||f==Object.prototype||(f[v]=w.value),f};function e(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rd=="object"&&Rd];for(var v=0;v<f.length;++v){var w=f[v];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=e(this);function r(f,v){if(v)t:{var w=i;f=f.split(".");for(var N=0;N<f.length-1;N++){var V=f[N];if(!(V in w))break t;w=w[V]}f=f[f.length-1],N=w[f],v=v(N),v!=N&&v!=null&&t(w,f,{configurable:!0,writable:!0,value:v})}}function o(f,v){f instanceof String&&(f+="");var w=0,N=!1,V={next:function(){if(!N&&w<f.length){var J=w++;return{value:v(J,f[J]),done:!1}}return N=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}r("Array.prototype.values",function(f){return f||function(){return o(this,function(v,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function d(f){var v=typeof f;return v=v!="object"?v:f?Array.isArray(f)?"array":v:"null",v=="array"||v=="object"&&typeof f.length=="number"}function g(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function y(f,v,w){return f.call.apply(f.bind,arguments)}function b(f,v,w){if(!f)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,N),f.apply(v,V)}}return function(){return f.apply(v,arguments)}}function x(f,v,w){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:b,x.apply(null,arguments)}function E(f,v){var w=Array.prototype.slice.call(arguments,1);return function(){var N=w.slice();return N.push.apply(N,arguments),f.apply(this,N)}}function A(f,v){function w(){}w.prototype=v.prototype,f.aa=v.prototype,f.prototype=new w,f.prototype.constructor=f,f.Qb=function(N,V,J){for(var dt=Array(arguments.length-2),Xt=2;Xt<arguments.length;Xt++)dt[Xt-2]=arguments[Xt];return v.prototype[V].apply(N,dt)}}function M(f){const v=f.length;if(0<v){const w=Array(v);for(let N=0;N<v;N++)w[N]=f[N];return w}return[]}function R(f,v){for(let w=1;w<arguments.length;w++){const N=arguments[w];if(d(N)){const V=f.length||0,J=N.length||0;f.length=V+J;for(let dt=0;dt<J;dt++)f[V+dt]=N[dt]}else f.push(N)}}class B{constructor(v,w){this.i=v,this.j=w,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function W(f){return/^[\s\xa0]*$/.test(f)}function Y(){var f=h.navigator;return f&&(f=f.userAgent)?f:""}function tt(f){return tt[" "](f),f}tt[" "]=function(){};var K=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function ot(f,v,w){for(const N in f)v.call(w,f[N],N,f)}function O(f,v){for(const w in f)v.call(void 0,f[w],w,f)}function C(f){const v={};for(const w in f)v[w]=f[w];return v}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(f,v){let w,N;for(let V=1;V<arguments.length;V++){N=arguments[V];for(w in N)f[w]=N[w];for(let J=0;J<k.length;J++)w=k[J],Object.prototype.hasOwnProperty.call(N,w)&&(f[w]=N[w])}}function j(f){var v=1;f=f.split(":");const w=[];for(;0<v&&f.length;)w.push(f.shift()),v--;return f.length&&w.push(f.join(":")),w}function U(f){h.setTimeout(()=>{throw f},0)}function D(){var f=ct;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class Tt{constructor(){this.h=this.g=null}add(v,w){const N=yt.get();N.set(v,w),this.h?this.h.next=N:this.g=N,this.h=N}}var yt=new B(()=>new $,f=>f.reset());class ${constructor(){this.next=this.g=this.h=null}set(v,w){this.h=v,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,it=!1,ct=new Tt,P=()=>{const f=h.Promise.resolve(void 0);Z=()=>{f.then(et)}};var et=()=>{for(var f;f=D();){try{f.h.call(f.g)}catch(w){U(w)}var v=yt;v.j(f),100>v.h&&(v.h++,f.next=v.g,v.g=f)}it=!1};function lt(){this.s=this.s,this.C=this.C}lt.prototype.s=!1,lt.prototype.ma=function(){this.s||(this.s=!0,this.N())},lt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function rt(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}rt.prototype.h=function(){this.defaultPrevented=!0};var ht=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const w=()=>{};h.addEventListener("test",w,v),h.removeEventListener("test",w,v)}catch{}return f}();function gt(f,v){if(rt.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var w=this.type=f.type,N=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget){if(K){t:{try{tt(v.nodeName);var V=!0;break t}catch{}V=!1}V||(v=null)}}else w=="mouseover"?v=f.fromElement:w=="mouseout"&&(v=f.toElement);this.relatedTarget=v,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:mt[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&gt.aa.h.call(this)}}A(gt,rt);var mt={2:"touch",3:"pen",4:"mouse"};gt.prototype.h=function(){gt.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var $t="closure_listenable_"+(1e6*Math.random()|0),Kt=0;function qn(f,v,w,N,V){this.listener=f,this.proxy=null,this.src=v,this.type=w,this.capture=!!N,this.ha=V,this.key=++Kt,this.da=this.fa=!1}function Mi(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ft(f){this.src=f,this.g={},this.h=0}ft.prototype.add=function(f,v,w,N,V){var J=f.toString();f=this.g[J],f||(f=this.g[J]=[],this.h++);var dt=ae(f,v,N,V);return-1<dt?(v=f[dt],w||(v.fa=!1)):(v=new qn(v,this.src,J,!!N,V),v.fa=w,f.push(v)),v};function Dt(f,v){var w=v.type;if(w in f.g){var N=f.g[w],V=Array.prototype.indexOf.call(N,v,void 0),J;(J=0<=V)&&Array.prototype.splice.call(N,V,1),J&&(Mi(v),f.g[w].length==0&&(delete f.g[w],f.h--))}}function ae(f,v,w,N){for(var V=0;V<f.length;++V){var J=f[V];if(!J.da&&J.listener==v&&J.capture==!!w&&J.ha==N)return V}return-1}var ve="closure_lm_"+(1e6*Math.random()|0),he={};function hn(f,v,w,N,V){if(Array.isArray(v)){for(var J=0;J<v.length;J++)hn(f,v[J],w,N,V);return null}return w=sh(w),f&&f[$t]?f.K(v,w,g(N)?!!N.capture:!1,V):Lt(f,v,w,!1,N,V)}function Lt(f,v,w,N,V,J){if(!v)throw Error("Invalid event type");var dt=g(V)?!!V.capture:!!V,Xt=lo(f);if(Xt||(f[ve]=Xt=new ft(f)),w=Xt.add(v,w,N,dt,J),w.proxy)return w;if(N=de(),w.proxy=N,N.src=f,N.listener=w,f.addEventListener)ht||(V=dt),V===void 0&&(V=!1),f.addEventListener(v.toString(),N,V);else if(f.attachEvent)f.attachEvent(Kr(v.toString()),N);else if(f.addListener&&f.removeListener)f.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return w}function de(){function f(w){return v.call(f.src,f.listener,w)}const v=Eg;return f}function En(f,v,w,N,V){if(Array.isArray(v))for(var J=0;J<v.length;J++)En(f,v[J],w,N,V);else N=g(N)?!!N.capture:!!N,w=sh(w),f&&f[$t]?(f=f.i,v=String(v).toString(),v in f.g&&(J=f.g[v],w=ae(J,w,N,V),-1<w&&(Mi(J[w]),Array.prototype.splice.call(J,w,1),J.length==0&&(delete f.g[v],f.h--)))):f&&(f=lo(f))&&(v=f.g[v.toString()],f=-1,v&&(f=ae(v,w,N,V)),(w=-1<f?v[f]:null)&&Ks(w))}function Ks(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[$t])Dt(v.i,f);else{var w=f.type,N=f.proxy;v.removeEventListener?v.removeEventListener(w,N,f.capture):v.detachEvent?v.detachEvent(Kr(w),N):v.addListener&&v.removeListener&&v.removeListener(N),(w=lo(v))?(Dt(w,f),w.h==0&&(w.src=null,v[ve]=null)):Mi(f)}}}function Kr(f){return f in he?he[f]:he[f]="on"+f}function Eg(f,v){if(f.da)f=!0;else{v=new gt(v,this);var w=f.listener,N=f.ha||f.src;f.fa&&Ks(f),f=w.call(N,v)}return f}function lo(f){return f=f[ve],f instanceof ft?f:null}var Ll="__closure_events_fn_"+(1e9*Math.random()>>>0);function sh(f){return typeof f=="function"?f:(f[Ll]||(f[Ll]=function(v){return f.handleEvent(v)}),f[Ll])}function Ae(){lt.call(this),this.i=new ft(this),this.M=this,this.F=null}A(Ae,lt),Ae.prototype[$t]=!0,Ae.prototype.removeEventListener=function(f,v,w,N){En(this,f,v,w,N)};function Zt(f,v){var w,N=f.F;if(N)for(w=[];N;N=N.F)w.push(N);if(f=f.M,N=v.type||v,typeof v=="string")v=new rt(v,f);else if(v instanceof rt)v.target=v.target||f;else{var V=v;v=new rt(N,f),I(v,V)}if(V=!0,w)for(var J=w.length-1;0<=J;J--){var dt=v.g=w[J];V=Ln(dt,N,!0,v)&&V}if(dt=v.g=f,V=Ln(dt,N,!0,v)&&V,V=Ln(dt,N,!1,v)&&V,w)for(J=0;J<w.length;J++)dt=v.g=w[J],V=Ln(dt,N,!1,v)&&V}Ae.prototype.N=function(){if(Ae.aa.N.call(this),this.i){var f=this.i,v;for(v in f.g){for(var w=f.g[v],N=0;N<w.length;N++)Mi(w[N]);delete f.g[v],f.h--}}this.F=null},Ae.prototype.K=function(f,v,w,N){return this.i.add(String(f),v,!1,w,N)},Ae.prototype.L=function(f,v,w,N){return this.i.add(String(f),v,!0,w,N)};function Ln(f,v,w,N){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();for(var V=!0,J=0;J<v.length;++J){var dt=v[J];if(dt&&!dt.da&&dt.capture==w){var Xt=dt.listener,xe=dt.ha||dt.src;dt.fa&&Dt(f.i,dt),V=Xt.call(xe,N)!==!1&&V}}return V&&!N.defaultPrevented}function dn(f,v,w){if(typeof f=="function")w&&(f=x(f,w));else if(f&&typeof f.handleEvent=="function")f=x(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:h.setTimeout(f,v||0)}function rh(f){f.g=dn(()=>{f.g=null,f.i&&(f.i=!1,rh(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class Tg extends lt{constructor(v,w){super(),this.m=v,this.l=w,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:rh(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zr(f){lt.call(this),this.h=f,this.g={}}A(Zr,lt);var Jr=[];function ta(f){ot(f.g,function(v,w){this.g.hasOwnProperty(w)&&Ks(v)},f),f.g={}}Zr.prototype.N=function(){Zr.aa.N.call(this),ta(this)},Zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hi=h.JSON.stringify,co=h.JSON.parse,ea=class{stringify(f){return h.JSON.stringify(f,void 0)}parse(f){return h.JSON.parse(f,void 0)}};function jl(){}jl.prototype.h=null;function Pl(f){return f.h||(f.h=f.i())}function ah(){}var is={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ss(){rt.call(this,"d")}A(ss,rt);function Ul(){rt.call(this,"c")}A(Ul,rt);var rs={},zl=null;function na(){return zl=zl||new Ae}rs.La="serverreachability";function uo(f){rt.call(this,rs.La,f)}A(uo,rt);function Zs(f){const v=na();Zt(v,new uo(v))}rs.STAT_EVENT="statevent";function oh(f,v){rt.call(this,rs.STAT_EVENT,f),this.stat=v}A(oh,rt);function be(f){const v=na();Zt(v,new oh(v,f))}rs.Ma="timingevent";function He(f,v){rt.call(this,rs.Ma,f),this.size=v}A(He,rt);function Le(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){f()},v)}function Wn(){this.g=!0}Wn.prototype.xa=function(){this.g=!1};function Bl(f,v,w,N,V,J){f.info(function(){if(f.g)if(J)for(var dt="",Xt=J.split("&"),xe=0;xe<Xt.length;xe++){var jt=Xt[xe].split("=");if(1<jt.length){var $e=jt[0];jt=jt[1];var Xe=$e.split("_");dt=2<=Xe.length&&Xe[1]=="type"?dt+($e+"="+jt+"&"):dt+($e+"=redacted&")}}else dt=null;else dt=J;return"XMLHTTP REQ ("+N+") [attempt "+V+"]: "+v+`
`+w+`
`+dt})}function Cg(f,v,w,N,V,J,dt){f.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+V+"]: "+v+`
`+w+`
`+J+" "+dt})}function Js(f,v,w,N){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+ia(f,w)+(N?" "+N:"")})}function lh(f,v){f.info(function(){return"TIMEOUT: "+v})}Wn.prototype.info=function(){};function ia(f,v){if(!f.g)return v;if(!v)return null;try{var w=JSON.parse(v);if(w){for(f=0;f<w.length;f++)if(Array.isArray(w[f])){var N=w[f];if(!(2>N.length)){var V=N[1];if(Array.isArray(V)&&!(1>V.length)){var J=V[0];if(J!="noop"&&J!="stop"&&J!="close")for(var dt=1;dt<V.length;dt++)V[dt]=""}}}}return hi(w)}catch{return v}}var sa={NO_ERROR:0,TIMEOUT:8},tr={},Oi;function Di(){}A(Di,jl),Di.prototype.g=function(){return new XMLHttpRequest},Di.prototype.i=function(){return{}},Oi=new Di;function yn(f,v,w,N){this.j=f,this.i=v,this.l=w,this.R=N||1,this.U=new Zr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Me}function Me(){this.i=null,this.g="",this.h=!1}var Hl={},ho={};function di(f,v,w){f.L=1,f.v=ca(jn(v)),f.m=w,f.P=!0,as(f,null)}function as(f,v){f.F=Date.now(),ra(f),f.A=jn(f.v);var w=f.A,N=f.R;Array.isArray(N)||(N=[String(N)]),Gl(w.i,"t",N),f.C=0,w=f.j.J,f.h=new Me,f.g=Eh(f.j,w?v:null,!f.m),0<f.O&&(f.M=new Tg(x(f.Y,f,f.g),f.O)),v=f.U,w=f.g,N=f.ca;var V="readystatechange";Array.isArray(V)||(V&&(Jr[0]=V.toString()),V=Jr);for(var J=0;J<V.length;J++){var dt=hn(w,V[J],N||v.handleEvent,!1,v.h||v);if(!dt)break;v.g[dt.key]=dt}v=f.H?C(f.H):{},f.m?(f.u||(f.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,v)):(f.u="GET",f.g.ea(f.A,f.u,null,v)),Zs(),Bl(f.i,f.u,f.A,f.l,f.R,f.m)}yn.prototype.ca=function(f){f=f.target;const v=this.M;v&&Xn(f)==3?v.j():this.Y(f)},yn.prototype.Y=function(f){try{if(f==this.g)t:{const Xe=Xn(this.g);var v=this.g.Ba();const gs=this.g.Z();if(!(3>Xe)&&(Xe!=3||this.g&&(this.h.h||this.g.oa()||ph(this.g)))){this.J||Xe!=4||v==7||(v==8||0>=gs?Zs(3):Zs(2)),er(this);var w=this.g.Z();this.X=w;e:if(ch(this)){var N=ph(this.g);f="";var V=N.length,J=Xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sn(this),Ii(this);var dt="";break e}this.h.i=new h.TextDecoder}for(v=0;v<V;v++)this.h.h=!0,f+=this.h.i.decode(N[v],{stream:!(J&&v==V-1)});N.length=0,this.h.g+=f,this.C=0,dt=this.h.g}else dt=this.g.oa();if(this.o=w==200,Cg(this.i,this.u,this.A,this.l,this.R,Xe,w),this.o){if(this.T&&!this.K){e:{if(this.g){var Xt,xe=this.g;if((Xt=xe.g?xe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Xt)){var jt=Xt;break e}}jt=null}if(w=jt)Js(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,aa(this,w);else{this.o=!1,this.s=3,be(12),sn(this),Ii(this);break t}}if(this.P){w=!0;let Cn;for(;!this.J&&this.C<dt.length;)if(Cn=uh(this,dt),Cn==ho){Xe==4&&(this.s=4,be(14),w=!1),Js(this.i,this.l,null,"[Incomplete Response]");break}else if(Cn==Hl){this.s=4,be(15),Js(this.i,this.l,dt,"[Invalid Chunk]"),w=!1;break}else Js(this.i,this.l,Cn,null),aa(this,Cn);if(ch(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xe!=4||dt.length!=0||this.h.h||(this.s=1,be(16),w=!1),this.o=this.o&&w,!w)Js(this.i,this.l,dt,"[Invalid Chunked Response]"),sn(this),Ii(this);else if(0<dt.length&&!this.W){this.W=!0;var $e=this.j;$e.g==this&&$e.ba&&!$e.M&&($e.j.info("Great, no buffering proxy detected. Bytes received: "+dt.length),ya($e),$e.M=!0,be(11))}}else Js(this.i,this.l,dt,null),aa(this,dt);Xe==4&&sn(this),this.o&&!this.J&&(Xe==4?xh(this.j,this):(this.o=!1,ra(this)))}else Mg(this.g),w==400&&0<dt.indexOf("Unknown SID")?(this.s=3,be(12)):(this.s=0,be(13)),sn(this),Ii(this)}}}catch{}finally{}};function ch(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function uh(f,v){var w=f.C,N=v.indexOf(`
`,w);return N==-1?ho:(w=Number(v.substring(w,N)),isNaN(w)?Hl:(N+=1,N+w>v.length?ho:(v=v.slice(N,N+w),f.C=N+w,v)))}yn.prototype.cancel=function(){this.J=!0,sn(this)};function ra(f){f.S=Date.now()+f.I,hh(f,f.I)}function hh(f,v){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Le(x(f.ba,f),v)}function er(f){f.B&&(h.clearTimeout(f.B),f.B=null)}yn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(lh(this.i,this.A),this.L!=2&&(Zs(),be(17)),sn(this),this.s=2,Ii(this)):hh(this,this.S-f)};function Ii(f){f.j.G==0||f.J||xh(f.j,f)}function sn(f){er(f);var v=f.M;v&&typeof v.ma=="function"&&v.ma(),f.M=null,ta(f.U),f.g&&(v=f.g,f.g=null,v.abort(),v.ma())}function aa(f,v){try{var w=f.j;if(w.G!=0&&(w.g==f||Fl(w.h,f))){if(!f.K&&Fl(w.h,f)&&w.G==3){try{var N=w.Da.g.parse(v)}catch{N=null}if(Array.isArray(N)&&N.length==3){var V=N;if(V[0]==0){t:if(!w.u){if(w.g)if(w.g.F+3e3<f.F)Eo(w),wo(w);else break t;Zl(w),be(18)}}else w.za=V[1],0<w.za-w.T&&37500>V[2]&&w.F&&w.v==0&&!w.C&&(w.C=Le(x(w.Za,w),6e3));if(1>=go(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else fs(w,11)}else if((f.K||w.g==f)&&Eo(w),!W(v))for(V=w.Da.g.parse(v),v=0;v<V.length;v++){let jt=V[v];if(w.T=jt[0],jt=jt[1],w.G==2)if(jt[0]=="c"){w.K=jt[1],w.ia=jt[2];const $e=jt[3];$e!=null&&(w.la=$e,w.j.info("VER="+w.la));const Xe=jt[4];Xe!=null&&(w.Aa=Xe,w.j.info("SVER="+w.Aa));const gs=jt[5];gs!=null&&typeof gs=="number"&&0<gs&&(N=1.5*gs,w.L=N,w.j.info("backChannelRequestTimeoutMs_="+N)),N=w;const Cn=f.g;if(Cn){const Bi=Cn.g?Cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bi){var J=N.h;J.g||Bi.indexOf("spdy")==-1&&Bi.indexOf("quic")==-1&&Bi.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(mo(J,J.h),J.h=null))}if(N.D){const ms=Cn.g?Cn.g.getResponseHeader("X-HTTP-Session-Id"):null;ms&&(N.ya=ms,oe(N.I,N.D,ms))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-f.F,w.j.info("Handshake RTT: "+w.R+"ms")),N=w;var dt=f;if(N.qa=Sh(N,N.J?N.ia:null,N.W),dt.K){_n(N.h,dt);var Xt=dt,xe=N.L;xe&&(Xt.I=xe),Xt.B&&(er(Xt),ra(Xt)),N.g=dt}else vh(N);0<w.i.length&&So(w)}else jt[0]!="stop"&&jt[0]!="close"||fs(w,7);else w.G==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?fs(w,7):Ql(w):jt[0]!="noop"&&w.l&&w.l.ta(jt),w.v=0)}}Zs(4)}catch{}}var dh=class{constructor(f,v){this.g=f,this.map=v}};function os(f){this.l=f||10,h.PerformanceNavigationTiming?(f=h.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fo(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function go(f){return f.h?1:f.g?f.g.size:0}function Fl(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function mo(f,v){f.g?f.g.add(v):f.h=v}function _n(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}os.prototype.cancel=function(){if(this.i=Vl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Vl(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const w of f.g.values())v=v.concat(w.D);return v}return M(f.i)}function Ag(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var v=[],w=f.length,N=0;N<w;N++)v.push(f[N]);return v}v=[],w=0;for(N in f)v[w++]=f[N];return v}function po(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var v=[];f=f.length;for(var w=0;w<f;w++)v.push(w);return v}v=[],w=0;for(const N in f)v[w++]=N;return v}}}function ql(f,v){if(f.forEach&&typeof f.forEach=="function")f.forEach(v,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,v,void 0);else for(var w=po(f),N=Ag(f),V=N.length,J=0;J<V;J++)v.call(void 0,N[J],w&&w[J],f)}var oa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ng(f,v){if(f){f=f.split("&");for(var w=0;w<f.length;w++){var N=f[w].indexOf("="),V=null;if(0<=N){var J=f[w].substring(0,N);V=f[w].substring(N+1)}else J=f[w];v(J,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function je(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof je){this.h=f.h,la(this,f.j),this.o=f.o,this.g=f.g,nr(this,f.s),this.l=f.l;var v=f.i,w=new cs;w.i=v.i,v.g&&(w.g=new Map(v.g),w.h=v.h),ls(this,w),this.m=f.m}else f&&(v=String(f).match(oa))?(this.h=!1,la(this,v[1]||"",!0),this.o=Yn(v[2]||""),this.g=Yn(v[3]||"",!0),nr(this,v[4]),this.l=Yn(v[5]||"",!0),ls(this,v[6]||"",!0),this.m=Yn(v[7]||"")):(this.h=!1,this.i=new cs(null,this.h))}je.prototype.toString=function(){var f=[],v=this.j;v&&f.push(ua(v,Wl,!0),":");var w=this.g;return(w||v=="file")&&(f.push("//"),(v=this.o)&&f.push(ua(v,Wl,!0),"@"),f.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&f.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&f.push("/"),f.push(ua(w,w.charAt(0)=="/"?kg:Yl,!0))),(w=this.i.toString())&&f.push("?",w),(w=this.m)&&f.push("#",ua(w,yo)),f.join("")};function jn(f){return new je(f)}function la(f,v,w){f.j=w?Yn(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function nr(f,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);f.s=v}else f.s=null}function ls(f,v,w){v instanceof cs?(f.i=v,gh(f.i,f.h)):(w||(v=ua(v,Rg)),f.i=new cs(v,f.h))}function oe(f,v,w){f.i.set(v,w)}function ca(f){return oe(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Yn(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ua(f,v,w){return typeof f=="string"?(f=encodeURI(f).replace(v,fh),w&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function fh(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Wl=/[#\/\?@]/g,Yl=/[#\?:]/g,kg=/[#\?]/g,Rg=/[#\?@]/g,yo=/#/g;function cs(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function Gn(f){f.g||(f.g=new Map,f.h=0,f.i&&Ng(f.i,function(v,w){f.add(decodeURIComponent(v.replace(/\+/g," ")),w)}))}n=cs.prototype,n.add=function(f,v){Gn(this),this.i=null,f=Li(this,f);var w=this.g.get(f);return w||this.g.set(f,w=[]),w.push(v),this.h+=1,this};function us(f,v){Gn(f),v=Li(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function hs(f,v){return Gn(f),v=Li(f,v),f.g.has(v)}n.forEach=function(f,v){Gn(this),this.g.forEach(function(w,N){w.forEach(function(V){f.call(v,V,N,this)},this)},this)},n.na=function(){Gn(this);const f=Array.from(this.g.values()),v=Array.from(this.g.keys()),w=[];for(let N=0;N<v.length;N++){const V=f[N];for(let J=0;J<V.length;J++)w.push(v[N])}return w},n.V=function(f){Gn(this);let v=[];if(typeof f=="string")hs(this,f)&&(v=v.concat(this.g.get(Li(this,f))));else{f=Array.from(this.g.values());for(let w=0;w<f.length;w++)v=v.concat(f[w])}return v},n.set=function(f,v){return Gn(this),this.i=null,f=Li(this,f),hs(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},n.get=function(f,v){return f?(f=this.V(f),0<f.length?String(f[0]):v):v};function Gl(f,v,w){us(f,v),0<w.length&&(f.i=null,f.g.set(Li(f,v),M(w)),f.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(var w=0;w<v.length;w++){var N=v[w];const J=encodeURIComponent(String(N)),dt=this.V(N);for(N=0;N<dt.length;N++){var V=J;dt[N]!==""&&(V+="="+encodeURIComponent(String(dt[N]))),f.push(V)}}return this.i=f.join("&")};function Li(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function gh(f,v){v&&!f.j&&(Gn(f),f.i=null,f.g.forEach(function(w,N){var V=N.toLowerCase();N!=V&&(us(this,N),Gl(this,V,w))},f)),f.j=v}function ha(f,v){const w=new Wn;if(h.Image){const N=new Image;N.onload=E($n,w,"TestLoadImage: loaded",!0,v,N),N.onerror=E($n,w,"TestLoadImage: error",!1,v,N),N.onabort=E($n,w,"TestLoadImage: abort",!1,v,N),N.ontimeout=E($n,w,"TestLoadImage: timeout",!1,v,N),h.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=f}else v(!1)}function fi(f,v){const w=new Wn,N=new AbortController,V=setTimeout(()=>{N.abort(),$n(w,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:N.signal}).then(J=>{clearTimeout(V),J.ok?$n(w,"TestPingServer: ok",!0,v):$n(w,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(V),$n(w,"TestPingServer: error",!1,v)})}function $n(f,v,w,N,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),N(w)}catch{}}function da(){this.g=new ea}function ji(f,v,w){const N=w||"";try{ql(f,function(V,J){let dt=V;g(V)&&(dt=hi(V)),v.push(N+J+"="+encodeURIComponent(dt))})}catch(V){throw v.push(N+"type="+encodeURIComponent("_badmap")),V}}function ir(f){this.l=f.Ub||null,this.j=f.eb||!1}A(ir,jl),ir.prototype.g=function(){return new ds(this.l,this.j)},ir.prototype.i=function(f){return function(){return f}}({});function ds(f,v){Ae.call(this),this.D=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(ds,Ae),n=ds.prototype,n.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=v,this.readyState=1,Ui(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(v.body=f),(this.D||h).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pi(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Ui(this)),this.g&&(this.readyState=3,Ui(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$l(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function $l(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?Pi(this):Ui(this),this.readyState==3&&$l(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,Pi(this))},n.Qa=function(f){this.g&&(this.response=f,Pi(this))},n.ga=function(){this.g&&Pi(this)};function Pi(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Ui(f)}n.setRequestHeader=function(f,v){this.u.append(f,v)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var w=v.next();!w.done;)w=w.value,f.push(w[0]+": "+w[1]),w=v.next();return f.join(`\r
`)};function Ui(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ds.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Xl(f){let v="";return ot(f,function(w,N){v+=N,v+=":",v+=w,v+=`\r
`}),v}function Ge(f,v,w){t:{for(N in w){var N=!1;break t}N=!0}N||(w=Xl(w),typeof f=="string"?w!=null&&encodeURIComponent(String(w)):oe(f,v,w))}function Jt(f){Ae.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Jt,Ae);var _o=/^https?$/i,fa=["POST","PUT"];n=Jt.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,v,w,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Oi.g(),this.v=this.o?Pl(this.o):Pl(Oi),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(J){mh(this,J);return}if(f=w||"",w=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var V in N)w.set(V,N[V]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const J of N.keys())w.set(J,N.get(J));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(w.keys()).find(J=>J.toLowerCase()=="content-type"),V=h.FormData&&f instanceof h.FormData,!(0<=Array.prototype.indexOf.call(fa,v,void 0))||N||V||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,dt]of w)this.g.setRequestHeader(J,dt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ga(this),this.u=!0,this.g.send(f),this.u=!1}catch(J){mh(this,J)}};function mh(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.m=5,vo(f),zi(f)}function vo(f){f.A||(f.A=!0,Zt(f,"complete"),Zt(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Zt(this,"complete"),Zt(this,"abort"),zi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zi(this,!0)),Jt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?bo(this):this.bb())},n.bb=function(){bo(this)};function bo(f){if(f.h&&typeof c<"u"&&(!f.v[1]||Xn(f)!=4||f.Z()!=2)){if(f.u&&Xn(f)==4)dn(f.Ea,0,f);else if(Zt(f,"readystatechange"),Xn(f)==4){f.h=!1;try{const dt=f.Z();t:switch(dt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var w;if(!(w=v)){var N;if(N=dt===0){var V=String(f.D).match(oa)[1]||null;!V&&h.self&&h.self.location&&(V=h.self.location.protocol.slice(0,-1)),N=!_o.test(V?V.toLowerCase():"")}w=N}if(w)Zt(f,"complete"),Zt(f,"success");else{f.m=6;try{var J=2<Xn(f)?f.g.statusText:""}catch{J=""}f.l=J+" ["+f.Z()+"]",vo(f)}}finally{zi(f)}}}}function zi(f,v){if(f.g){ga(f);const w=f.g,N=f.v[0]?()=>{}:null;f.g=null,f.v=null,v||Zt(f,"ready");try{w.onreadystatechange=N}catch{}}}function ga(f){f.I&&(h.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function Xn(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<Xn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),co(v)}};function ph(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Mg(f){const v={};f=(f.g&&2<=Xn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<f.length;N++){if(W(f[N]))continue;var w=j(f[N]);const V=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const J=v[V]||[];v[V]=J,J.push(w)}O(v,function(N){return N.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ma(f,v,w){return w&&w.internalChannelParams&&w.internalChannelParams[f]||v}function xo(f){this.Aa=0,this.i=[],this.j=new Wn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ma("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ma("baseRetryDelayMs",5e3,f),this.cb=ma("retryDelaySeedMs",1e4,f),this.Wa=ma("forwardChannelMaxRetries",2,f),this.wa=ma("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new os(f&&f.concurrentRequestLimit),this.Da=new da,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=xo.prototype,n.la=8,n.G=1,n.connect=function(f,v,w,N){be(0),this.W=f,this.H=v||{},w&&N!==void 0&&(this.H.OSID=w,this.H.OAID=N),this.F=this.X,this.I=Sh(this,null,this.W),So(this)};function Ql(f){if(yh(f),f.G==3){var v=f.U++,w=jn(f.I);if(oe(w,"SID",f.K),oe(w,"RID",v),oe(w,"TYPE","terminate"),pa(f,w),v=new yn(f,f.j,v),v.L=2,v.v=ca(jn(w)),w=!1,h.navigator&&h.navigator.sendBeacon)try{w=h.navigator.sendBeacon(v.v.toString(),"")}catch{}!w&&h.Image&&(new Image().src=v.v,w=!0),w||(v.g=Eh(v.j,null),v.g.ea(v.v)),v.F=Date.now(),ra(v)}wh(f)}function wo(f){f.g&&(ya(f),f.g.cancel(),f.g=null)}function yh(f){wo(f),f.u&&(h.clearTimeout(f.u),f.u=null),Eo(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&h.clearTimeout(f.s),f.s=null)}function So(f){if(!fo(f.h)&&!f.s){f.s=!0;var v=f.Ga;Z||P(),it||(Z(),it=!0),ct.add(v,f),f.B=0}}function Og(f,v){return go(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=v.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Le(x(f.Ga,f,v),Jl(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const V=new yn(this,this.j,f);let J=this.o;if(this.S&&(J?(J=C(J),I(J,this.S)):J=this.S),this.m!==null||this.O||(V.H=J,J=null),this.P)t:{for(var v=0,w=0;w<this.i.length;w++){e:{var N=this.i[w];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break e}N=void 0}if(N===void 0)break;if(v+=N,4096<v){v=w;break t}if(v===4096||w===this.i.length-1){v=w+1;break t}}v=1e3}else v=1e3;v=_h(this,V,v),w=jn(this.I),oe(w,"RID",f),oe(w,"CVER",22),this.D&&oe(w,"X-HTTP-Session-Id",this.D),pa(this,w),J&&(this.O?v="headers="+encodeURIComponent(String(Xl(J)))+"&"+v:this.m&&Ge(w,this.m,J)),mo(this.h,V),this.Ua&&oe(w,"TYPE","init"),this.P?(oe(w,"$req",v),oe(w,"SID","null"),V.T=!0,di(V,w,null)):di(V,w,v),this.G=2}}else this.G==3&&(f?Kl(this,f):this.i.length==0||fo(this.h)||Kl(this))};function Kl(f,v){var w;v?w=v.l:w=f.U++;const N=jn(f.I);oe(N,"SID",f.K),oe(N,"RID",w),oe(N,"AID",f.T),pa(f,N),f.m&&f.o&&Ge(N,f.m,f.o),w=new yn(f,f.j,w,f.B+1),f.m===null&&(w.H=f.o),v&&(f.i=v.D.concat(f.i)),v=_h(f,w,1e3),w.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),mo(f.h,w),di(w,N,v)}function pa(f,v){f.H&&ot(f.H,function(w,N){oe(v,N,w)}),f.l&&ql({},function(w,N){oe(v,N,w)})}function _h(f,v,w){w=Math.min(f.i.length,w);var N=f.l?x(f.l.Na,f.l,f):null;t:{var V=f.i;let J=-1;for(;;){const dt=["count="+w];J==-1?0<w?(J=V[0].g,dt.push("ofs="+J)):J=0:dt.push("ofs="+J);let Xt=!0;for(let xe=0;xe<w;xe++){let jt=V[xe].g;const $e=V[xe].map;if(jt-=J,0>jt)J=Math.max(0,V[xe].g-100),Xt=!1;else try{ji($e,dt,"req"+jt+"_")}catch{N&&N($e)}}if(Xt){N=dt.join("&");break t}}}return f=f.i.splice(0,w),v.D=f,N}function vh(f){if(!f.g&&!f.u){f.Y=1;var v=f.Fa;Z||P(),it||(Z(),it=!0),ct.add(v,f),f.v=0}}function Zl(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Le(x(f.Fa,f),Jl(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,bh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Le(x(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,be(10),wo(this),bh(this))};function ya(f){f.A!=null&&(h.clearTimeout(f.A),f.A=null)}function bh(f){f.g=new yn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var v=jn(f.qa);oe(v,"RID","rpc"),oe(v,"SID",f.K),oe(v,"AID",f.T),oe(v,"CI",f.F?"0":"1"),!f.F&&f.ja&&oe(v,"TO",f.ja),oe(v,"TYPE","xmlhttp"),pa(f,v),f.m&&f.o&&Ge(v,f.m,f.o),f.L&&(f.g.I=f.L);var w=f.g;f=f.ia,w.L=1,w.v=ca(jn(v)),w.m=null,w.P=!0,as(w,f)}n.Za=function(){this.C!=null&&(this.C=null,wo(this),Zl(this),be(19))};function Eo(f){f.C!=null&&(h.clearTimeout(f.C),f.C=null)}function xh(f,v){var w=null;if(f.g==v){Eo(f),ya(f),f.g=null;var N=2}else if(Fl(f.h,v))w=v.D,_n(f.h,v),N=1;else return;if(f.G!=0){if(v.o)if(N==1){w=v.m?v.m.length:0,v=Date.now()-v.F;var V=f.B;N=na(),Zt(N,new He(N,w)),So(f)}else vh(f);else if(V=v.s,V==3||V==0&&0<v.X||!(N==1&&Og(f,v)||N==2&&Zl(f)))switch(w&&0<w.length&&(v=f.h,v.i=v.i.concat(w)),V){case 1:fs(f,5);break;case 4:fs(f,10);break;case 3:fs(f,6);break;default:fs(f,2)}}}function Jl(f,v){let w=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(w*=2),w*v}function fs(f,v){if(f.j.info("Error code "+v),v==2){var w=x(f.fb,f),N=f.Xa;const V=!N;N=new je(N||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||la(N,"https"),ca(N),V?ha(N.toString(),w):fi(N.toString(),w)}else be(2);f.G=0,f.l&&f.l.sa(v),wh(f),yh(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))};function wh(f){if(f.G=0,f.ka=[],f.l){const v=Vl(f.h);(v.length!=0||f.i.length!=0)&&(R(f.ka,v),R(f.ka,f.i),f.h.i.length=0,M(f.i),f.i.length=0),f.l.ra()}}function Sh(f,v,w){var N=w instanceof je?jn(w):new je(w);if(N.g!="")v&&(N.g=v+"."+N.g),nr(N,N.s);else{var V=h.location;N=V.protocol,v=v?v+"."+V.hostname:V.hostname,V=+V.port;var J=new je(null);N&&la(J,N),v&&(J.g=v),V&&nr(J,V),w&&(J.l=w),N=J}return w=f.D,v=f.ya,w&&v&&oe(N,w,v),oe(N,"VER",f.la),pa(f,N),N}function Eh(f,v,w){if(v&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Ca&&!f.pa?new Jt(new ir({eb:w})):new Jt(f.pa),v.Ha(f.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Th(){}n=Th.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Tn(f,v){Ae.call(this),this.g=new xo(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(f?f["X-WebChannel-Client-Profile"]=v.va:f={"X-WebChannel-Client-Profile":v.va}),this.g.S=f,(f=v&&v.Sb)&&!W(f)&&(this.g.m=f),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!W(v)&&(this.g.D=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new sr(this)}A(Tn,Ae),Tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){Ql(this.g)},Tn.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var w={};w.__data__=f,f=w}else this.u&&(w={},w.__data__=hi(f),f=w);v.i.push(new dh(v.Ya++,f)),v.G==3&&So(v)},Tn.prototype.N=function(){this.g.l=null,delete this.j,Ql(this.g),delete this.g,Tn.aa.N.call(this)};function Ch(f){ss.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){t:{for(const w in v){f=w;break t}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}A(Ch,ss);function Ah(){Ul.call(this),this.status=1}A(Ah,Ul);function sr(f){this.g=f}A(sr,Th),sr.prototype.ua=function(){Zt(this.g,"a")},sr.prototype.ta=function(f){Zt(this.g,new Ch(f))},sr.prototype.sa=function(f){Zt(this.g,new Ah)},sr.prototype.ra=function(){Zt(this.g,"b")},Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,sa.NO_ERROR=0,sa.TIMEOUT=8,sa.HTTP_ERROR=6,tr.COMPLETE="complete",ah.EventType=is,is.OPEN="a",is.CLOSE="b",is.ERROR="c",is.MESSAGE="d",Ae.prototype.listen=Ae.prototype.K,Jt.prototype.listenOnce=Jt.prototype.L,Jt.prototype.getLastError=Jt.prototype.Ka,Jt.prototype.getLastErrorCode=Jt.prototype.Ba,Jt.prototype.getStatus=Jt.prototype.Z,Jt.prototype.getResponseJson=Jt.prototype.Oa,Jt.prototype.getResponseText=Jt.prototype.oa,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Ha}).apply(typeof Rd<"u"?Rd:typeof self<"u"?self:typeof window<"u"?window:{});const _w="@firebase/firestore",vw="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}bn.UNAUTHENTICATED=new bn(null),bn.GOOGLE_CREDENTIALS=new bn("google-credentials-uid"),bn.FIRST_PARTY=new bn("first-party-uid"),bn.MOCK_USER=new bn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gu="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=new Jf("@firebase/firestore");function Si(n,...t){if(pl.logLevel<=Gt.DEBUG){const e=t.map(h_);pl.debug(`Firestore (${Gu}): ${n}`,...e)}}function tT(n,...t){if(pl.logLevel<=Gt.ERROR){const e=t.map(h_);pl.error(`Firestore (${Gu}): ${n}`,...e)}}function TD(n,...t){if(pl.logLevel<=Gt.WARN){const e=t.map(h_);pl.warn(`Firestore (${Gu}): ${n}`,...e)}}function h_(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,eT(n,i,e)}function eT(n,t,e){let i=`FIRESTORE (${Gu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw tT(i),new Error(i)}function ou(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||eT(t,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ht={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class Ft extends $s{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class CD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(bn.UNAUTHENTICATED))}shutdown(){}}class AD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class ND{constructor(t){this.t=t,this.currentUser=bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){ou(this.o===void 0,42304);let i=this.i;const r=d=>this.i!==i?(i=this.i,e(d)):Promise.resolve();let o=new lu;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new lu,t.enqueueRetryable(()=>r(this.currentUser))};const c=()=>{const d=o;t.enqueueRetryable(async()=>{await d.promise,await r(this.currentUser)})},h=d=>{Si("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(Si("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new lu)}},0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Si("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ou(typeof i.accessToken=="string",31837,{l:i}),new nT(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ou(t===null||typeof t=="string",2055,{h:t}),new bn(t)}}class kD{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=bn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class RD{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new kD(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bw{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MD{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){ou(this.o===void 0,3512);const i=o=>{o.error!=null&&Si("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,Si("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{Si("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):Si("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new bw(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(ou(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new bw(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=OD(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%62))}return i}}function Hr(n,t){return n<t?-1:n>t?1:0}function ID(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const r=n.charAt(i),o=t.charAt(i);if(r!==o)return Up(r)===Up(o)?Hr(r,o):Up(r)?1:-1}return Hr(n.length,t.length)}const LD=55296,jD=57343;function Up(n){const t=n.charCodeAt(0);return t>=LD&&t<=jD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="__name__";class Xi{constructor(t,e,i){e===void 0?e=0:e>t.length&&Su(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&Su(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Xi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Xi?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=Xi.compareSegments(t.get(r),e.get(r));if(o!==0)return o}return Hr(t.length,e.length)}static compareSegments(t,e){const i=Xi.isNumericId(t),r=Xi.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?Xi.extractNumericId(t).compare(Xi.extractNumericId(e)):ID(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return u_.fromString(t.substring(4,t.length-2))}}class _i extends Xi{construct(t,e,i){return new _i(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Ft(Ht.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new _i(e)}static emptyPath(){return new _i([])}}const PD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ba extends Xi{construct(t,e,i){return new Ba(t,e,i)}static isValidIdentifier(t){return PD.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ba.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xw}static keyField(){return new Ba([xw])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(i.length===0)throw new Ft(Ht.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const h=t[r];if(h==="\\"){if(r+1===t.length)throw new Ft(Ht.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const d=t[r+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Ft(Ht.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=d,r+=2}else h==="`"?(c=!c,r++):h!=="."||c?(i+=h,r++):(o(),r++)}if(o(),c)throw new Ft(Ht.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ba(e)}static emptyPath(){return new Ba([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(t){this.path=t}static fromPath(t){return new Fa(_i.fromString(t))}static fromName(t){return new Fa(_i.fromString(t).popFirst(5))}static empty(){return new Fa(_i.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&_i.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return _i.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Fa(new _i(t.slice()))}}function UD(n,t,e,i){if(t===!0&&i===!0)throw new Ft(Ht.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function zD(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function BD(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Su(12329,{type:typeof n})}function HD(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Ft(Ht.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=BD(n);throw new Ft(Ht.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(n,t){const e={typeString:n};return t&&(e.value=t),e}function $u(n,t){if(!zD(n))throw new Ft(Ht.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const r=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const c=n[i];if(r&&typeof c!==r){e=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&c!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new Ft(Ht.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww=-62135596800,Sw=1e6;class Ki{static now(){return Ki.fromMillis(Date.now())}static fromDate(t){return Ki.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*Sw);return new Ki(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ft(Ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ft(Ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<ww)throw new Ft(Ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ft(Ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Sw}_compareTo(t){return this.seconds===t.seconds?Hr(this.nanoseconds,t.nanoseconds):Hr(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ki._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if($u(t,Ki._jsonSchema))return new Ki(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-ww;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ki._jsonSchemaVersion="firestore/timestamp/1.0",Ki._jsonSchema={type:ze("string",Ki._jsonSchemaVersion),seconds:ze("number"),nanoseconds:ze("number")};function FD(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new VD("Invalid base64 string: "+o):o}}(t);return new Za(e)}static fromUint8Array(t){const e=function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o}(t);return new Za(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Hr(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Za.EMPTY_BYTE_STRING=new Za("");const _y="(default)";class _f{constructor(t,e){this.projectId=t,this.database=e||_y}static empty(){return new _f("","")}get isDefaultDatabase(){return this.database===_y}isEqual(t){return t instanceof _f&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(t,e=null,i=[],r=[],o=null,c="F",h=null,d=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function WD(n){return new qD(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ew,Ut;(Ut=Ew||(Ew={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new u_([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=1048576;function zp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Mi=t,this.timerId=e,this.d_=i,this.A_=r,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,e-i);r>0&&Si("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new lu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const c=Date.now()+i,h=new d_(t,e,c,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ft(Ht.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var Tw,Cw;(Cw=Tw||(Tw={})).Ma="default",Cw.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="firestore.googleapis.com",Nw=!0;class kw{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Ft(Ht.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iT,this.ssl=Nw}else this.host=t.host,this.ssl=t.ssl??Nw;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=YD;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<GD)throw new Ft(Ht.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}UD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XD(t.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Ft(Ht.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ft(Ht.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ft(Ht.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class sT{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ft(Ht.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Ft(Ht.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kw(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new CD;switch(i.type){case"firstParty":return new RD(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ft(Ht.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=Aw.get(e);i&&(Si("ComponentProvider","Removing Datastore"),Aw.delete(e),i.terminate())}(this),Promise.resolve()}}function QD(n,t,e,i={}){n=HD(n,sT);const r=io(t),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},h=`${t}:${e}`;r&&(Xy(`https://${h}`),Qy("Firestore",!0)),o.host!==iT&&o.host!==h&&TD("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:h,ssl:r,emulatorOptions:i};if(!zr(d,c)&&(n._setSettings(d),i.mockUserToken)){let g,y;if(typeof i.mockUserToken=="string")g=i.mockUserToken,y=bn.MOCK_USER;else{g=cE(i.mockUserToken,n._app?.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new Ft(Ht.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new bn(b)}n._authCredentials=new AD(new nT(g,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new f_(this.firestore,t,this._query)}}class Zi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new g_(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Zi(this.firestore,t,this._key)}toJSON(){return{type:Zi._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if($u(e,Zi._jsonSchema))return new Zi(t,i||null,new Fa(_i.fromString(e.referencePath)))}}Zi._jsonSchemaVersion="firestore/documentReference/1.0",Zi._jsonSchema={type:ze("string",Zi._jsonSchemaVersion),referencePath:ze("string")};class g_ extends f_{constructor(t,e,i){super(t,e,WD(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Zi(this.firestore,null,new Fa(t))}withConverter(t){return new g_(this.firestore,t,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw="AsyncQueue";class Mw{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $D(this,"async_queue_retry"),this._c=()=>{const i=zp();i&&Si(Rw,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=zp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=zp();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const e=new lu;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!FD(t))throw t;Si(Rw,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const e=this.ac.then(()=>(this.rc=!0,t().catch(i=>{throw this.nc=i,this.rc=!1,tT("INTERNAL UNHANDLED ERROR: ",Ow(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const r=d_.createAndSchedule(this,t,e,i,o=>this.hc(o));return this.tc.push(r),r}uc(){this.nc&&Su(47125,{Pc:Ow(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function Ow(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class KD extends sT{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new Mw,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Mw(t),this._firestoreClient=void 0,await t}}}function ZD(n,t){const e=typeof n=="object"?n:Jy(),i=typeof n=="string"?n:_y,r=tg(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=aE("firestore");o&&QD(r,...o)}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Is(Za.fromBase64String(t))}catch(e){throw new Ft(Ht.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Is(Za.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Is._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if($u(t,Is._jsonSchema))return Is.fromBase64String(t.bytes)}}Is._jsonSchemaVersion="firestore/bytes/1.0",Is._jsonSchema={type:ze("string",Is._jsonSchemaVersion),bytes:ze("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new Ft(Ht.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ba(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ft(Ht.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ft(Ht.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Hr(this._lat,t._lat)||Hr(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Wa._jsonSchemaVersion}}static fromJSON(t){if($u(t,Wa._jsonSchema))return new Wa(t.latitude,t.longitude)}}Wa._jsonSchemaVersion="firestore/geoPoint/1.0",Wa._jsonSchema={type:ze("string",Wa._jsonSchemaVersion),latitude:ze("number"),longitude:ze("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Ya._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if($u(t,Ya._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(e=>typeof e=="number"))return new Ya(t.vectorValues);throw new Ft(Ht.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ya._jsonSchemaVersion="firestore/vectorValue/1.0",Ya._jsonSchema={type:ze("string",Ya._jsonSchemaVersion),vectorValues:ze("object")};const JD=new RegExp("[~\\*/\\[\\]]");function tI(n,t,e){if(t.search(JD)>=0)throw Dw(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n);try{return new rT(...t.split("."))._internalPath}catch{throw Dw(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n)}}function Dw(n,t,e,i,r){let o=`Function ${t}() called with invalid data`;o+=". ";let c="";return new Ft(Ht.INVALID_ARGUMENT,o+n+c)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Zi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new eI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(oT("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class eI extends aT{data(){return super.data()}}function oT(n,t){return typeof t=="string"?tI(n,t):t instanceof rT?t._internalPath:t._delegate._internalPath}class Md{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class cl extends aT{constructor(t,e,i,r,o,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new ef(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(oT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ft(Ht.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=cl._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}cl._jsonSchemaVersion="firestore/documentSnapshot/1.0",cl._jsonSchema={type:ze("string",cl._jsonSchemaVersion),bundleSource:ze("string","DocumentSnapshot"),bundleName:ze("string"),bundle:ze("string")};class ef extends cl{data(t={}){return super.data(t)}}class cu{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Md(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new ef(this._firestore,this._userDataWriter,i.key,i,new Md(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ft(Ht.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map(h=>{const d=new ef(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Md(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}})}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const d=new ef(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Md(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let g=-1,y=-1;return h.type!==0&&(g=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),y=c.indexOf(h.doc.key)),{type:nI(h.type),doc:d,oldIndex:g,newIndex:y}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ft(Ht.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=cu._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=DD.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],r=[];return this.docs.forEach(o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function nI(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Su(61501,{type:n})}}cu._jsonSchemaVersion="firestore/querySnapshot/1.0",cu._jsonSchema={type:ze("string",cu._jsonSchemaVersion),bundleSource:ze("string","QuerySnapshot"),bundleName:ze("string"),bundle:ze("string")};(function(t,e=!0){(function(r){Gu=r})(so),Xa(new Br("firestore",(i,{instanceIdentifier:r,options:o})=>{const c=i.getProvider("app").getImmediate(),h=new KD(new ND(i.getProvider("auth-internal")),new MD(c,i.getProvider("app-check-internal")),function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Ft(Ht.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _f(g.options.projectId,y)}(c,r),c);return o={useFetchStreams:e,...o},h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),Ji(_w,vw,t),Ji(_w,vw,"esm2020")})();var Iw={};const Lw="@firebase/database",jw="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lT="";function iI(n){lT=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){e==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),We(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return e==null?null:bu(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){e==null?delete this.cache_[t]:this.cache_[t]=e}get(t){return ns(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new sI(t)}}catch{}return new rI},Va=cT("localStorage"),aI=cT("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul=new Jf("@firebase/database"),oI=function(){let n=1;return function(){return n++}}(),uT=function(n){const t=tR(n),e=new Qk;e.update(t);const i=e.digest();return Gy.encodeByteArray(i)},Xu=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?t+=Xu.apply(null,i):typeof i=="object"?t+=We(i):t+=i,t+=" "}return t};let uu=null,Pw=!0;const lI=function(n,t){ut(!0,"Can't turn on custom loggers persistently."),ul.logLevel=Gt.VERBOSE,uu=ul.log.bind(ul)},ln=function(...n){if(Pw===!0&&(Pw=!1,uu===null&&aI.get("logging_enabled")===!0&&lI()),uu){const t=Xu.apply(null,n);uu(t)}},Qu=function(n){return function(...t){ln(n,...t)}},vy=function(...n){const t="FIREBASE INTERNAL ERROR: "+Xu(...n);ul.error(t)},Ys=function(...n){const t=`FIREBASE FATAL ERROR: ${Xu(...n)}`;throw ul.error(t),new Error(t)},wn=function(...n){const t="FIREBASE WARNING: "+Xu(...n);ul.warn(t)},cI=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&wn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},m_=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},uI=function(n){if(document.readyState==="complete")n();else{let t=!1;const e=function(){if(!document.body){setTimeout(e,Math.floor(10));return}t||(t=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&e()}),window.attachEvent("onload",e))}},Ja="[MIN_NAME]",Fr="[MAX_NAME]",ro=function(n,t){if(n===t)return 0;if(n===Ja||t===Fr)return-1;if(t===Ja||n===Fr)return 1;{const e=Uw(n),i=Uw(t);return e!==null?i!==null?e-i===0?n.length-t.length:e-i:-1:i!==null?1:n<t?-1:1}},hI=function(n,t){return n===t?0:n<t?-1:1},Fc=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+We(t))},p_=function(n){if(typeof n!="object"||n===null)return We(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)i!==0&&(e+=","),e+=We(t[i]),e+=":",e+=p_(n[t[i]]);return e+="}",e},hT=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)r+t>e?i.push(n.substring(r,e)):i.push(n.substring(r,r+t));return i};function un(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const dT=function(n){ut(!m_(n),"Invalid JSON number");const t=11,e=52,i=(1<<t-1)-1;let r,o,c,h,d;n===0?(o=0,c=0,r=1/n===-1/0?1:0):(r=n<0,n=Math.abs(n),n>=Math.pow(2,1-i)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=h+i,c=Math.round(n*Math.pow(2,e-h)-Math.pow(2,e))):(o=0,c=Math.round(n/Math.pow(2,1-i-e))));const g=[];for(d=e;d;d-=1)g.push(c%2?1:0),c=Math.floor(c/2);for(d=t;d;d-=1)g.push(o%2?1:0),o=Math.floor(o/2);g.push(r?1:0),g.reverse();const y=g.join("");let b="";for(d=0;d<64;d+=8){let x=parseInt(y.substr(d,8),2).toString(16);x.length===1&&(x="0"+x),b=b+x}return b.toLowerCase()},dI=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},fI=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function gI(n,t){let e="Unknown Error";n==="too_big"?e="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?e="Client doesn't have permission to access the desired data.":n==="unavailable"&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}const mI=new RegExp("^-?(0*)\\d{1,10}$"),pI=-2147483648,yI=2147483647,Uw=function(n){if(mI.test(n)){const t=Number(n);if(t>=pI&&t<=yI)return t}return null},kl=function(n){try{n()}catch(t){setTimeout(()=>{const e=t.stack||"";throw wn("Exception was thrown by user callback.",e),t},Math.floor(0))}},_I=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},hu=function(n,t){const e=setTimeout(n,t);return typeof e=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):typeof e=="object"&&e.unref&&e.unref(),e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(t,e){this.appCheckProvider=e,this.appName=t.name,Mn(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(e=>e.addTokenListener(t))}notifyForInvalidToken(){wn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&e.code==="auth/token-not-initialized"?(ln("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',wn(t)}}class nf{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}nf.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="5",fT="v",gT="s",mT="r",pT="f",yT=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,_T="ls",vT="p",by="ac",bT="websocket",xT="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(t,e,i,r,o=!1,c="",h=!1,d=!1,g=null){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=d,this.emulatorOptions=g,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Va.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Va.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",e=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${e}`}}function xI(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function ST(n,t,e){ut(typeof t=="string","typeof type must == string"),ut(typeof e=="object","typeof params must == object");let i;if(t===bT)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(t===xT)i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);xI(n)&&(e.ns=n.namespace);const r=[];return un(e,(o,c)=>{r.push(o+"="+c)}),i+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(){this.counters_={}}incrementCounter(t,e=1){ns(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return Mk(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp={},Hp={};function __(n){const t=n.toString();return Bp[t]||(Bp[t]=new wI),Bp[t]}function SI(n,t){const e=n.toString();return Hp[e]||(Hp[e]=t()),Hp[e]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&kl(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw="start",TI="close",CI="pLPCommand",AI="pRTLPCB",ET="id",TT="pw",CT="ser",NI="cb",kI="seg",RI="ts",MI="d",OI="dframe",AT=1870,NT=30,DI=AT-NT,II=25e3,LI=3e4;class sl{constructor(t,e,i,r,o,c,h){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Qu(t),this.stats_=__(e),this.urlFn=d=>(this.appCheckToken&&(d[by]=this.appCheckToken),ST(e,xT,d))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new EI(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(LI)),uI(()=>{if(this.isClosed_)return;this.scriptTagHolder=new v_((...o)=>{const[c,h,d,g,y]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===zw)this.id=h,this.password=d;else if(c===TI)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...o)=>{const[c,h]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const i={};i[zw]="t",i[CT]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[NI]=this.scriptTagHolder.uniqueCallbackIdentifier),i[fT]=y_,this.transportSessionId&&(i[gT]=this.transportSessionId),this.lastSessionId&&(i[_T]=this.lastSessionId),this.applicationId&&(i[vT]=this.applicationId),this.appCheckToken&&(i[by]=this.appCheckToken),typeof location<"u"&&location.hostname&&yT.test(location.hostname)&&(i[mT]=pT);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){sl.forceAllow_=!0}static forceDisallow(){sl.forceDisallow_=!0}static isAvailable(){return sl.forceAllow_?!0:!sl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!dI()&&!fI()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=We(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=iE(e),r=hT(i,DI);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,e){this.myDisconnFrame=document.createElement("iframe");const i={};i[OI]="t",i[ET]=t,i[TT]=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=We(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class v_{constructor(t,e,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=oI(),window[CI+this.uniqueCallbackIdentifier]=t,window[AI+this.uniqueCallbackIdentifier]=e,this.myIFrame=v_.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){ln("frame writing exception"),h.stack&&ln(h.stack),ln(h)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||ln("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[ET]=this.myID,t[TT]=this.myPW,t[CT]=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+NT+i.length<=AT;){const c=this.pendingSegs.shift();i=i+"&"+kI+r+"="+c.seg+"&"+RI+r+"="+c.ts+"&"+MI+r+"="+c.d,r++}return e=e+i,this.addLongPollTag_(e,this.currentSerial),!0}else return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(II)),o=()=>{clearTimeout(r),i()};this.addTag(t,o)}addTag(t,e){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{ln("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=16384,PI=45e3;let vf=null;typeof MozWebSocket<"u"?vf=MozWebSocket:typeof WebSocket<"u"&&(vf=WebSocket);class bi{constructor(t,e,i,r,o,c,h){this.connId=t,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Qu(this.connId),this.stats_=__(e),this.connURL=bi.connectionURL_(e,c,h,r,i),this.nodeAdmin=e.nodeAdmin}static connectionURL_(t,e,i,r,o){const c={};return c[fT]=y_,typeof location<"u"&&location.hostname&&yT.test(location.hostname)&&(c[mT]=pT),e&&(c[gT]=e),i&&(c[_T]=i),r&&(c[by]=r),o&&(c[vT]=o),ST(t,bT,c)}open(t,e){this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Va.set("previous_websocket_failure",!0);try{let i;Fk(),this.mySock=new vf(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){bi.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const e=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(e);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&vf!==null&&!bi.forceDisallow_}static previouslyFailed(){return Va.isInMemoryStorage||Va.get("previous_websocket_failure")===!0}markConnectionHealthy(){Va.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const i=bu(e);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(ut(this.frames===null,"We already have a frame buffer"),t.length<=6){const e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(e);else{const i=this.extractFrameCount_(e);i!==null&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const e=We(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=hT(e,jI);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(PI))}sendString_(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}bi.responsesRequiredToBeHealthy=2;bi.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{static get ALL_TRANSPORTS(){return[sl,bi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const e=bi&&bi.isAvailable();let i=e&&!bi.previouslyFailed();if(t.webSocketOnly&&(e||wn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[bi];else{const r=this.transports_=[];for(const o of Eu.ALL_TRANSPORTS)o&&o.isAvailable()&&r.push(o);Eu.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Eu.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=6e4,zI=5e3,BI=10*1024,HI=100*1024,Fp="t",Bw="d",FI="s",Hw="r",VI="e",Fw="o",Vw="a",qw="n",Ww="p",qI="h";class WI{constructor(t,e,i,r,o,c,h,d,g,y){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=d,this.onKill_=g,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Qu("c:"+this.id+":"),this.transportManager_=new Eu(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=hu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>HI?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>BI?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){const e={t:"d",d:t};this.sendData_(e)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Fp in t){const e=t[Fp];e===Vw?this.upgradeIfSecondaryHealthy_():e===Hw?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):e===Fw&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Fc("t",t),i=Fc("d",t);if(e==="c")this.onSecondaryControl_(i);else if(e==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+e)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Ww,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Vw,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:qw,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Fc("t",t),i=Fc("d",t);e==="c"?this.onControl_(i):e==="d"&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Fc(Fp,t);if(Bw in t){const i=t[Bw];if(e===qI){const r={...i};this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(e===qw){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else e===FI?this.onConnectionShutdown_(i):e===Hw?this.onReset_(i):e===VI?vy("Server Error: "+i):e===Fw?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):vy("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),y_!==i&&wn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),hu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(UI))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):hu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(zI))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Ww,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Va.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(t){this.allowedEvents_=t,this.listeners_={},ut(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===e&&(!i||i===r[o].context)){r.splice(o,1);return}}validateEventType_(t){ut(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf extends RT{static getInstance(){return new bf}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ky()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return ut(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=32,Gw=768;class re{constructor(t,e){if(e===void 0){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)this.pieces_[e]!==""&&(t+="/"+this.pieces_[e]);return t||"/"}}function Wt(){return new re("")}function Nt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Vr(n){return n.pieces_.length-n.pieceNum_}function ye(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new re(n.pieces_,t)}function b_(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function YI(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)n.pieces_[e]!==""&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}function Tu(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function MT(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new re(t,0)}function Re(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof re)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new re(e,0)}function kt(n){return n.pieceNum_>=n.pieces_.length}function xn(n,t){const e=Nt(n),i=Nt(t);if(e===null)return t;if(e===i)return xn(ye(n),ye(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function GI(n,t){const e=Tu(n,0),i=Tu(t,0);for(let r=0;r<e.length&&r<i.length;r++){const o=ro(e[r],i[r]);if(o!==0)return o}return e.length===i.length?0:e.length<i.length?-1:1}function x_(n,t){if(Vr(n)!==Vr(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function si(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(Vr(n)>Vr(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class $I{constructor(t,e){this.errorPrefix_=e,this.parts_=Tu(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Zf(this.parts_[i]);OT(this)}}function XI(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=Zf(t),OT(n)}function QI(n){const t=n.parts_.pop();n.byteLength_-=Zf(t),n.parts_.length>0&&(n.byteLength_-=1)}function OT(n){if(n.byteLength_>Gw)throw new Error(n.errorPrefix_+"has a key path longer than "+Gw+" bytes ("+n.byteLength_+").");if(n.parts_.length>Yw)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Yw+") or object contains a cycle "+Pa(n))}function Pa(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_ extends RT{static getInstance(){return new w_}constructor(){super(["visible"]);let t,e;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(t){return ut(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc=1e3,KI=300*1e3,$w=30*1e3,ZI=1.3,JI=3e4,t4="server_kill",Xw=3;class Fs extends kT{constructor(t,e,i,r,o,c,h,d){if(super(),this.repoInfo_=t,this.applicationId_=e,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=o,this.authTokenProvider_=c,this.appCheckTokenProvider_=h,this.authOverride_=d,this.id=Fs.nextPersistentConnectionId_++,this.log_=Qu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Vc,this.maxReconnectDelay_=KI,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");w_.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&bf.getInstance().on("online",this.onOnline_,this)}sendRequest(t,e,i){const r=++this.requestNumber_,o={r,a:t,b:e};this.log_(We(o)),ut(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[r]=i)}get(t){this.initConnection_();const e=new Hu,r={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:c=>{const h=c.d;c.s==="ok"?e.resolve(h):e.reject(h)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),e.promise}listen(t,e,i,r){this.initConnection_();const o=t._queryIdentifier,c=t._path.toString();this.log_("Listen called for "+c+" "+o),this.listens.has(c)||this.listens.set(c,new Map),ut(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ut(!this.listens.get(c).has(o),"listen() called twice for same path/queryId.");const h={onComplete:r,hashFn:e,query:t,tag:i};this.listens.get(c).set(o,h),this.connected_&&this.sendListen_(h)}sendGet_(t){const e=this.outstandingGets_[t];this.sendRequest("g",e.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),e.onComplete&&e.onComplete(i)})}sendListen_(t){const e=t.query,i=e._path.toString(),r=e._queryIdentifier;this.log_("Listen on "+i+" for "+r);const o={p:i},c="q";t.tag&&(o.q=e._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest(c,o,h=>{const d=h.d,g=h.s;Fs.warnOnListenWarnings_(d,e),(this.listens.get(i)&&this.listens.get(i).get(r))===t&&(this.log_("listen response",h),g!=="ok"&&this.removeListen_(i,r),t.onComplete&&t.onComplete(g,d))})}static warnOnListenWarnings_(t,e){if(t&&typeof t=="object"&&ns(t,"w")){const i=gl(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+e._queryParams.getIndex().toString()+'"',o=e._path.toString();wn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||Xk(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=$w)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,e=$k(t)?"auth":"gauth",i={cred:t};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(e,i,r=>{const o=r.s,c=r.d||"error";this.authToken_===t&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const e=t.s,i=t.d||"error";e==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(e,i)})}unlisten(t,e){const i=t._path.toString(),r=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),ut(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,t._queryObject,e)}sendUnlisten_(t,e,i,r){this.log_("Unlisten on "+t+" for "+e);const o={p:t},c="n";r&&(o.q=i,o.t=r),this.sendRequest(c,o)}onDisconnectPut(t,e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,e,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:i})}onDisconnectMerge(t,e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,e,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:i})}onDisconnectCancel(t,e){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})}sendOnDisconnect_(t,e,i,r){const o={p:e,d:i};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,c=>{r&&setTimeout(()=>{r(c.s,c.d)},Math.floor(0))})}put(t,e,i,r){this.putInternal("p",t,e,i,r)}merge(t,e,i,r){this.putInternal("m",t,e,i,r)}putInternal(t,e,i,r,o){this.initConnection_();const c={p:e,d:i};o!==void 0&&(c.h=o),this.outstandingPuts_.push({action:t,request:c,onComplete:r}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+e)}sendPut_(t){const e=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,r=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(e,i,o=>{this.log_(e+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(o.s,o.d)})}reportStats(t){if(this.connected_){const e={c:t};this.log_("reportStats",e),this.sendRequest("s",e,i=>{if(i.s!=="ok"){const o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+We(t));const e=t.r,i=this.requestCBHash_[e];i&&(delete this.requestCBHash_[e],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,e){this.log_("handleServerMessage",t,e),t==="d"?this.onDataUpdate_(e.p,e.d,!1,e.t):t==="m"?this.onDataUpdate_(e.p,e.d,!0,e.t):t==="c"?this.onListenRevoked_(e.p,e.q):t==="ac"?this.onAuthRevoked_(e.s,e.d):t==="apc"?this.onAppCheckRevoked_(e.s,e.d):t==="sd"?this.onSecurityDebugPacket_(e):vy("Unrecognized action received from server: "+We(t)+`
Are you using the latest client?`)}onReady_(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){ut(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Vc,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Vc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>JI&&(this.reconnectDelay_=Vc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*ZI)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),e=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Fs.nextConnectionId_++,o=this.lastSessionId;let c=!1,h=null;const d=function(){h?h.close():(c=!0,i())},g=function(b){ut(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(b)};this.realtime_={close:d,sendRequest:g};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[b,x]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);c?ln("getToken() completed but was canceled"):(ln("getToken() completed. Creating connection."),this.authToken_=b&&b.accessToken,this.appCheckToken_=x&&x.token,h=new WI(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,e,i,E=>{wn(E+" ("+this.repoInfo_.toString()+")"),this.interrupt(t4)},o))}catch(b){this.log_("Failed to get token: "+b),c||(this.repoInfo_.nodeAdmin&&wn(b),d())}}}interrupt(t){ln("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){ln("Resuming connection for reason: "+t),delete this.interruptReasons_[t],ly(this.interruptReasons_)&&(this.reconnectDelay_=Vc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const e=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:e})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,e){let i;e?i=e.map(o=>p_(o)).join("$"):i="default";const r=this.removeListen_(t,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(t,e){const i=new re(t).toString();let r;if(this.listens.has(i)){const o=this.listens.get(i);r=o.get(e),o.delete(e),o.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(t,e){ln("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Xw&&(this.reconnectDelay_=$w,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,e){ln("App check token revoked: "+t+"/"+e),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Xw&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const e of t.values())this.sendListen_(e);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let e="js";t["sdk."+e+"."+lT.replace(/\./g,"-")]=1,Ky()?t["framework.cordova"]=1:uE()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=bf.getInstance().currentlyOnline();return ly(this.interruptReasons_)&&t}}Fs.nextPersistentConnectionId_=0;Fs.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Rt(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new Rt(Ja,t),r=new Rt(Ja,e);return this.compare(i,r)!==0}minPost(){return Rt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Od;class DT extends sg{static get __EMPTY_NODE(){return Od}static set __EMPTY_NODE(t){Od=t}compare(t,e){return ro(t.name,e.name)}isDefinedOn(t){throw Cl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Rt.MIN}maxPost(){return new Rt(Fr,Od)}makePost(t,e){return ut(typeof t=="string","KeyIndex indexValue must always be a string."),new Rt(t,Od)}toString(){return".key"}}const Ga=new DT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(t,e,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let c=1;for(;!t.isEmpty();)if(t=t,c=e?i(t.key,e):1,r&&(c*=-1),c<0)this.isReverse_?t=t.left:t=t.right;else if(c===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),e;if(this.resultGenerator_?e=this.resultGenerator_(t.key,t.value):e={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class tn{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??tn.RED,this.left=r??Dn.EMPTY_NODE,this.right=o??Dn.EMPTY_NODE}copy(t,e,i,r,o){return new tn(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return o<0?r=r.copy(null,null,null,r.left.insert(t,e,i),null):o===0?r=r.copy(null,e,null,null,null):r=r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Dn.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,e){let i,r;if(i=this,e(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),e(t,i.key)===0){if(i.right.isEmpty())return Dn.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}tn.RED=!0;tn.BLACK=!1;class e4{copy(t,e,i,r,o){return this}insert(t,e,i){return new tn(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Dn{constructor(t,e=Dn.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Dn(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,tn.BLACK,null,null))}remove(t){return new Dn(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,tn.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),e===0)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();)if(e=this.comparator_(t,i.key),e===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else e<0?i=i.left:e>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Dd(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Dd(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Dd(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Dd(this.root_,null,this.comparator_,!0,t)}}Dn.EMPTY_NODE=new e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(n,t){return ro(n.name,t.name)}function S_(n,t){return ro(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xy;function i4(n){xy=n}const IT=function(n){return typeof n=="number"?"number:"+dT(n):"string:"+n},LT=function(n){if(n.isLeafNode()){const t=n.val();ut(typeof t=="string"||typeof t=="number"||typeof t=="object"&&ns(t,".sv"),"Priority must be a string or number.")}else ut(n===xy||n.isEmpty(),"priority of unexpected type.");ut(n===xy||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qw;class Je{static set __childrenNodeConstructor(t){Qw=t}static get __childrenNodeConstructor(){return Qw}constructor(t,e=Je.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=e,this.lazyHash_=null,ut(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),LT(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Je(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Je.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return kt(t)?this:Nt(t)===".priority"?this.priorityNode_:Je.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,e){return null}updateImmediateChild(t,e){return t===".priority"?this.updatePriority(e):e.isEmpty()&&t!==".priority"?this:Je.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,e).updatePriority(this.priorityNode_)}updateChild(t,e){const i=Nt(t);return i===null?e:e.isEmpty()&&i!==".priority"?this:(ut(i!==".priority"||Vr(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Je.__childrenNodeConstructor.EMPTY_NODE.updateChild(ye(t),e)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,e){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+IT(this.priorityNode_.val())+":");const e=typeof this.value_;t+=e+":",e==="number"?t+=dT(this.value_):t+=this.value_,this.lazyHash_=uT(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Je.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Je.__childrenNodeConstructor?-1:(ut(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const e=typeof t.value_,i=typeof this.value_,r=Je.VALUE_TYPE_ORDER.indexOf(e),o=Je.VALUE_TYPE_ORDER.indexOf(i);return ut(r>=0,"Unknown leaf type: "+e),ut(o>=0,"Unknown leaf type: "+i),r===o?i==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-r}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}else return!1}}Je.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jT,PT;function s4(n){jT=n}function r4(n){PT=n}class a4 extends sg{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),o=i.compareTo(r);return o===0?ro(t.name,e.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Rt.MIN}maxPost(){return new Rt(Fr,new Je("[PRIORITY-POST]",PT))}makePost(t,e){const i=jT(t);return new Rt(e,new Je("[PRIORITY-POST]",i))}toString(){return".priority"}}const Ce=new a4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4=Math.log(2);class l4{constructor(t){const e=o=>parseInt(Math.log(o)/o4,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=e(t+1),this.current_=this.count-1;const r=i(this.count);this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const xf=function(n,t,e,i){n.sort(t);const r=function(d,g){const y=g-d;let b,x;if(y===0)return null;if(y===1)return b=n[d],x=e?e(b):b,new tn(x,b.node,tn.BLACK,null,null);{const E=parseInt(y/2,10)+d,A=r(d,E),M=r(E+1,g);return b=n[E],x=e?e(b):b,new tn(x,b.node,tn.BLACK,A,M)}},o=function(d){let g=null,y=null,b=n.length;const x=function(A,M){const R=b-A,B=b;b-=A;const W=r(R+1,B),Y=n[R],tt=e?e(Y):Y;E(new tn(tt,Y.node,M,null,W))},E=function(A){g?(g.left=A,g=A):(y=A,g=A)};for(let A=0;A<d.count;++A){const M=d.nextBitIsOne(),R=Math.pow(2,d.count-(A+1));M?x(R,tn.BLACK):(x(R,tn.BLACK),x(R,tn.RED))}return y},c=new l4(n.length),h=o(c);return new Dn(i||t,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vp;const Jo={};class Ps{static get Default(){return ut(Jo&&Ce,"ChildrenNode.ts has not been loaded"),Vp=Vp||new Ps({".priority":Jo},{".priority":Ce}),Vp}constructor(t,e){this.indexes_=t,this.indexSet_=e}get(t){const e=gl(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Dn?e:null}hasIndex(t){return ns(this.indexSet_,t.toString())}addIndex(t,e){ut(t!==Ga,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=e.getIterator(Rt.Wrap);let c=o.getNext();for(;c;)r=r||t.isDefinedOn(c.node),i.push(c),c=o.getNext();let h;r?h=xf(i,t.getCompare()):h=Jo;const d=t.toString(),g={...this.indexSet_};g[d]=t;const y={...this.indexes_};return y[d]=h,new Ps(y,g)}addToIndexes(t,e){const i=uf(this.indexes_,(r,o)=>{const c=gl(this.indexSet_,o);if(ut(c,"Missing index implementation for "+o),r===Jo)if(c.isDefinedOn(t.node)){const h=[],d=e.getIterator(Rt.Wrap);let g=d.getNext();for(;g;)g.name!==t.name&&h.push(g),g=d.getNext();return h.push(t),xf(h,c.getCompare())}else return Jo;else{const h=e.get(t.name);let d=r;return h&&(d=d.remove(new Rt(t.name,h))),d.insert(t,t.node)}});return new Ps(i,this.indexSet_)}removeFromIndexes(t,e){const i=uf(this.indexes_,r=>{if(r===Jo)return r;{const o=e.get(t.name);return o?r.remove(new Rt(t.name,o)):r}});return new Ps(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qc;class wt{static get EMPTY_NODE(){return qc||(qc=new wt(new Dn(S_),null,Ps.Default))}constructor(t,e,i){this.children_=t,this.priorityNode_=e,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&LT(this.priorityNode_),this.children_.isEmpty()&&ut(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||qc}updatePriority(t){return this.children_.isEmpty()?this:new wt(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const e=this.children_.get(t);return e===null?qc:e}}getChild(t){const e=Nt(t);return e===null?this:this.getImmediateChild(e).getChild(ye(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,e){if(ut(e,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(e);{const i=new Rt(t,e);let r,o;e.isEmpty()?(r=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(t,e),o=this.indexMap_.addToIndexes(i,this.children_));const c=r.isEmpty()?qc:this.priorityNode_;return new wt(r,c,o)}}updateChild(t,e){const i=Nt(t);if(i===null)return e;{ut(Nt(t)!==".priority"||Vr(t)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild(ye(t),e);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const e={};let i=0,r=0,o=!0;if(this.forEachChild(Ce,(c,h)=>{e[c]=h.val(t),i++,o&&wt.INTEGER_REGEXP_.test(c)?r=Math.max(r,Number(c)):o=!1}),!t&&o&&r<2*i){const c=[];for(const h in e)c[h]=e[h];return c}else return t&&!this.getPriority().isEmpty()&&(e[".priority"]=this.getPriority().val()),e}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+IT(this.getPriority().val())+":"),this.forEachChild(Ce,(e,i)=>{const r=i.hash();r!==""&&(t+=":"+e+":"+r)}),this.lazyHash_=t===""?"":uT(t)}return this.lazyHash_}getPredecessorChildName(t,e,i){const r=this.resolveIndex_(i);if(r){const o=r.getPredecessorKey(new Rt(t,e));return o?o.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const e=this.resolveIndex_(t);if(e){const i=e.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(t){const e=this.getFirstChildName(t);return e?new Rt(e,this.children_.get(e)):null}getLastChildName(t){const e=this.resolveIndex_(t);if(e){const i=e.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(t){const e=this.getLastChildName(t);return e?new Rt(e,this.children_.get(e)):null}forEachChild(t,e){const i=this.resolveIndex_(t);return i?i.inorderTraversal(r=>e(r.name,r.node)):this.children_.inorderTraversal(e)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,e){const i=this.resolveIndex_(e);if(i)return i.getIteratorFrom(t,r=>r);{const r=this.children_.getIteratorFrom(t.name,Rt.Wrap);let o=r.peek();for(;o!=null&&e.compare(o,t)<0;)r.getNext(),o=r.peek();return r}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,e){const i=this.resolveIndex_(e);if(i)return i.getReverseIteratorFrom(t,r=>r);{const r=this.children_.getReverseIteratorFrom(t.name,Rt.Wrap);let o=r.peek();for(;o!=null&&e.compare(o,t)>0;)r.getNext(),o=r.peek();return r}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Ku?-1:0}withIndex(t){if(t===Ga||this.indexMap_.hasIndex(t))return this;{const e=this.indexMap_.addIndex(t,this.children_);return new wt(this.children_,this.priorityNode_,e)}}isIndexed(t){return t===Ga||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const e=t;if(this.getPriority().equals(e.getPriority()))if(this.children_.count()===e.children_.count()){const i=this.getIterator(Ce),r=e.getIterator(Ce);let o=i.getNext(),c=r.getNext();for(;o&&c;){if(o.name!==c.name||!o.node.equals(c.node))return!1;o=i.getNext(),c=r.getNext()}return o===null&&c===null}else return!1;else return!1}}resolveIndex_(t){return t===Ga?null:this.indexMap_.get(t.toString())}}wt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class c4 extends wt{constructor(){super(new Dn(S_),wt.EMPTY_NODE,Ps.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return wt.EMPTY_NODE}isEmpty(){return!1}}const Ku=new c4;Object.defineProperties(Rt,{MIN:{value:new Rt(Ja,wt.EMPTY_NODE)},MAX:{value:new Rt(Fr,Ku)}});DT.__EMPTY_NODE=wt.EMPTY_NODE;Je.__childrenNodeConstructor=wt;i4(Ku);r4(Ku);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4=!0;function qe(n,t=null){if(n===null)return wt.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(t=n[".priority"]),ut(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const e=n;return new Je(e,qe(t))}if(!(n instanceof Array)&&u4){const e=[];let i=!1;if(un(n,(c,h)=>{if(c.substring(0,1)!=="."){const d=qe(h);d.isEmpty()||(i=i||!d.getPriority().isEmpty(),e.push(new Rt(c,d)))}}),e.length===0)return wt.EMPTY_NODE;const o=xf(e,n4,c=>c.name,S_);if(i){const c=xf(e,Ce.getCompare());return new wt(o,qe(t),new Ps({".priority":c},{".priority":Ce}))}else return new wt(o,qe(t),Ps.Default)}else{let e=wt.EMPTY_NODE;return un(n,(i,r)=>{if(ns(n,i)&&i.substring(0,1)!=="."){const o=qe(r);(o.isLeafNode()||!o.isEmpty())&&(e=e.updateImmediateChild(i,o))}}),e.updatePriority(qe(t))}}s4(qe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_ extends sg{constructor(t){super(),this.indexPath_=t,ut(!kt(t)&&Nt(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),o=i.compareTo(r);return o===0?ro(t.name,e.name):o}makePost(t,e){const i=qe(t),r=wt.EMPTY_NODE.updateChild(this.indexPath_,i);return new Rt(e,r)}maxPost(){const t=wt.EMPTY_NODE.updateChild(this.indexPath_,Ku);return new Rt(Fr,t)}toString(){return Tu(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4 extends sg{compare(t,e){const i=t.node.compareTo(e.node);return i===0?ro(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Rt.MIN}maxPost(){return Rt.MAX}makePost(t,e){const i=qe(t);return new Rt(e,i)}toString(){return".value"}}const UT=new h4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(n){return{type:"value",snapshotNode:n}}function yl(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function Cu(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function Au(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}function d4(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(t){this.index_=t}updateChild(t,e,i,r,o,c){ut(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=t.getImmediateChild(e);return h.getChild(r).equals(i.getChild(r))&&h.isEmpty()===i.isEmpty()||(c!=null&&(i.isEmpty()?t.hasChild(e)?c.trackChildChange(Cu(e,h)):ut(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?c.trackChildChange(yl(e,i)):c.trackChildChange(Au(e,i,h))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return i!=null&&(t.isLeafNode()||t.forEachChild(Ce,(r,o)=>{e.hasChild(r)||i.trackChildChange(Cu(r,o))}),e.isLeafNode()||e.forEachChild(Ce,(r,o)=>{if(t.hasChild(r)){const c=t.getImmediateChild(r);c.equals(o)||i.trackChildChange(Au(r,o,c))}else i.trackChildChange(yl(r,o))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?wt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(t){this.indexedFilter_=new T_(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Nu.getStartPost_(t),this.endPost_=Nu.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,r,o,c){return this.matches(new Rt(e,i))||(i=wt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,o,c)}updateFullNode(t,e,i){e.isLeafNode()&&(e=wt.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(wt.EMPTY_NODE);const o=this;return e.forEachChild(Ce,(c,h)=>{o.matches(new Rt(c,h))||(r=r.updateImmediateChild(c,wt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Nu(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,r,o,c){return this.rangedFilter_.matches(new Rt(e,i))||(i=wt.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,o,c):this.fullLimitUpdateChild_(t,e,i,o,c)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=wt.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<e.numChildren()&&e.isIndexed(this.index_)){r=wt.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;o.hasNext()&&c<this.limit_;){const h=o.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))r=r.updateImmediateChild(h.name,h.node),c++;else break;else continue}}else{r=e.withIndex(this.index_),r=r.updatePriority(wt.EMPTY_NODE);let o;this.reverse_?o=r.getReverseIterator(this.index_):o=r.getIterator(this.index_);let c=0;for(;o.hasNext();){const h=o.getNext();c<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?c++:r=r.updateImmediateChild(h.name,wt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,o){let c;if(this.reverse_){const b=this.index_.getCompare();c=(x,E)=>b(E,x)}else c=this.index_.getCompare();const h=t;ut(h.numChildren()===this.limit_,"");const d=new Rt(e,i),g=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),y=this.rangedFilter_.matches(d);if(h.hasChild(e)){const b=h.getImmediateChild(e);let x=r.getChildAfterChild(this.index_,g,this.reverse_);for(;x!=null&&(x.name===e||h.hasChild(x.name));)x=r.getChildAfterChild(this.index_,x,this.reverse_);const E=x==null?1:c(x,d);if(y&&!i.isEmpty()&&E>=0)return o?.trackChildChange(Au(e,i,b)),h.updateImmediateChild(e,i);{o?.trackChildChange(Cu(e,b));const M=h.updateImmediateChild(e,wt.EMPTY_NODE);return x!=null&&this.rangedFilter_.matches(x)?(o?.trackChildChange(yl(x.name,x.node)),M.updateImmediateChild(x.name,x.node)):M}}else return i.isEmpty()?t:y&&c(g,d)>=0?(o!=null&&(o.trackChildChange(Cu(g.name,g.node)),o.trackChildChange(yl(e,i))),h.updateImmediateChild(e,i).updateImmediateChild(g.name,wt.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ce}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ut(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ut(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ja}hasEnd(){return this.endSet_}getIndexEndValue(){return ut(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ut(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Fr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ut(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ce}copy(){const t=new C_;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function g4(n){return n.loadsAllData()?new T_(n.getIndex()):n.hasLimit()?new f4(n):new Nu(n)}function m4(n,t,e){const i=n.copy();return i.startSet_=!0,t===void 0&&(t=null),i.indexStartValue_=t,e!=null?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function p4(n,t,e){const i=n.copy();return i.endSet_=!0,t===void 0&&(t=null),i.indexEndValue_=t,e!==void 0?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function y4(n,t){const e=n.copy();return e.index_=t,e}function Kw(n){const t={};if(n.isDefault())return t;let e;if(n.index_===Ce?e="$priority":n.index_===UT?e="$value":n.index_===Ga?e="$key":(ut(n.index_ instanceof E_,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=We(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=We(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+We(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=We(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+We(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function Zw(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;e===""&&(n.isViewFromLeft()?e="l":e="r"),t.vf=e}return n.index_!==Ce&&(t.i=n.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf extends kT{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return e!==void 0?"tag$"+e:(ut(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Qu("p:rest:"),this.listens_={}}listen(t,e,i,r){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const c=wf.getListenId_(t,i),h={};this.listens_[c]=h;const d=Kw(t._queryParams);this.restRequest_(o+".json",d,(g,y)=>{let b=y;if(g===404&&(b=null,g=null),g===null&&this.onDataUpdate_(o,b,!1,i),gl(this.listens_,c)===h){let x;g?g===401?x="permission_denied":x="rest_error:"+g:x="ok",r(x,null)}})}unlisten(t,e){const i=wf.getListenId_(t,e);delete this.listens_[i]}get(t){const e=Kw(t._queryParams),i=t._path.toString(),r=new Hu;return this.restRequest_(i+".json",e,(o,c)=>{let h=c;o===404&&(h=null,o=null),o===null?(this.onDataUpdate_(i,h,!1,null),r.resolve(h)):r.reject(new Error(h))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(e.auth=r.accessToken),o&&o.token&&(e.ac=o.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Al(e);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(i&&h.readyState===4){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let d=null;if(h.status>=200&&h.status<300){try{d=bu(h.responseText)}catch{wn("Failed to parse JSON response for "+c+": "+h.responseText)}i(null,d)}else h.status!==401&&h.status!==404&&wn("Got unsuccessful REST response for "+c+" Status: "+h.status),i(h.status);i=null}},h.open("GET",c,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(){this.rootNode_=wt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(){return{value:null,children:new Map}}function BT(n,t,e){if(kt(t))n.value=e,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(t,e);else{const i=Nt(t);n.children.has(i)||n.children.set(i,Sf());const r=n.children.get(i);t=ye(t),BT(r,t,e)}}function wy(n,t,e){n.value!==null?e(t,n.value):v4(n,(i,r)=>{const o=new re(t.toString()+"/"+i);wy(r,o,e)})}function v4(n,t){n.children.forEach((e,i)=>{t(i,e)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e={...t};return this.last_&&un(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=10*1e3,x4=30*1e3,w4=300*1e3;class S4{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new b4(t);const i=Jw+(x4-Jw)*Math.random();hu(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;un(t,(r,o)=>{o>0&&ns(this.statsToReport_,r)&&(e[r]=o,i=!0)}),i&&this.server_.reportStats(e),hu(this.reportStats_.bind(this),Math.floor(Math.random()*2*w4))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ei;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ei||(Ei={}));function A_(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function N_(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function k_(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=Ei.ACK_USER_WRITE,this.source=A_()}operationForChild(t){if(kt(this.path)){if(this.affectedTree.value!=null)return ut(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new re(t));return new Ef(Wt(),e,this.revert)}}else return ut(Nt(this.path)===t,"operationForChild called for unrelated child."),new Ef(ye(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(t,e){this.source=t,this.path=e,this.type=Ei.LISTEN_COMPLETE}operationForChild(t){return kt(this.path)?new ku(this.source,Wt()):new ku(this.source,ye(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=Ei.OVERWRITE}operationForChild(t){return kt(this.path)?new to(this.source,Wt(),this.snap.getImmediateChild(t)):new to(this.source,ye(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=Ei.MERGE}operationForChild(t){if(kt(this.path)){const e=this.children.subtree(new re(t));return e.isEmpty()?null:e.value?new to(this.source,Wt(),e.value):new _l(this.source,Wt(),e)}else return ut(Nt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new _l(this.source,ye(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(kt(t))return this.isFullyInitialized()&&!this.filtered_;const e=Nt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function T4(n,t,e,i){const r=[],o=[];return t.forEach(c=>{c.type==="child_changed"&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&o.push(d4(c.childName,c.snapshotNode))}),Wc(n,r,"child_removed",t,i,e),Wc(n,r,"child_added",t,i,e),Wc(n,r,"child_moved",o,i,e),Wc(n,r,"child_changed",t,i,e),Wc(n,r,"value",t,i,e),r}function Wc(n,t,e,i,r,o){const c=i.filter(h=>h.type===e);c.sort((h,d)=>A4(n,h,d)),c.forEach(h=>{const d=C4(n,h,o);r.forEach(g=>{g.respondsTo(h.type)&&t.push(g.createEvent(d,n.query_))})})}function C4(n,t,e){return t.type==="value"||t.type==="child_removed"||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}function A4(n,t,e){if(t.childName==null||e.childName==null)throw Cl("Should only compare child_ events.");const i=new Rt(t.childName,t.snapshotNode),r=new Rt(e.childName,e.snapshotNode);return n.index_.compare(i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(n,t){return{eventCache:n,serverCache:t}}function du(n,t,e,i){return rg(new qr(t,e,i),n.serverCache)}function HT(n,t,e,i){return rg(n.eventCache,new qr(t,e,i))}function Tf(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function eo(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qp;const N4=()=>(qp||(qp=new Dn(hI)),qp);class pe{static fromObject(t){let e=new pe(null);return un(t,(i,r)=>{e=e.set(new re(i),r)}),e}constructor(t,e=N4()){this.value=t,this.children=e}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(this.value!=null&&e(this.value))return{path:Wt(),value:this.value};if(kt(t))return null;{const i=Nt(t),r=this.children.get(i);if(r!==null){const o=r.findRootMostMatchingPathAndValue(ye(t),e);return o!=null?{path:Re(new re(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(kt(t))return this;{const e=Nt(t),i=this.children.get(e);return i!==null?i.subtree(ye(t)):new pe(null)}}set(t,e){if(kt(t))return new pe(e,this.children);{const i=Nt(t),o=(this.children.get(i)||new pe(null)).set(ye(t),e),c=this.children.insert(i,o);return new pe(this.value,c)}}remove(t){if(kt(t))return this.children.isEmpty()?new pe(null):new pe(null,this.children);{const e=Nt(t),i=this.children.get(e);if(i){const r=i.remove(ye(t));let o;return r.isEmpty()?o=this.children.remove(e):o=this.children.insert(e,r),this.value===null&&o.isEmpty()?new pe(null):new pe(this.value,o)}else return this}}get(t){if(kt(t))return this.value;{const e=Nt(t),i=this.children.get(e);return i?i.get(ye(t)):null}}setTree(t,e){if(kt(t))return e;{const i=Nt(t),o=(this.children.get(i)||new pe(null)).setTree(ye(t),e);let c;return o.isEmpty()?c=this.children.remove(i):c=this.children.insert(i,o),new pe(this.value,c)}}fold(t){return this.fold_(Wt(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(Re(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,Wt(),e)}findOnPath_(t,e,i){const r=this.value?i(e,this.value):!1;if(r)return r;if(kt(t))return null;{const o=Nt(t),c=this.children.get(o);return c?c.findOnPath_(ye(t),Re(e,o),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Wt(),e)}foreachOnPath_(t,e,i){if(kt(t))return this;{this.value&&i(e,this.value);const r=Nt(t),o=this.children.get(r);return o?o.foreachOnPath_(ye(t),Re(e,r),i):new pe(null)}}foreach(t){this.foreach_(Wt(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(Re(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(t){this.writeTree_=t}static empty(){return new Ci(new pe(null))}}function fu(n,t,e){if(kt(t))return new Ci(new pe(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(i!=null){const r=i.path;let o=i.value;const c=xn(r,t);return o=o.updateChild(c,e),new Ci(n.writeTree_.set(r,o))}else{const r=new pe(e),o=n.writeTree_.setTree(t,r);return new Ci(o)}}}function Sy(n,t,e){let i=n;return un(e,(r,o)=>{i=fu(i,Re(t,r),o)}),i}function t1(n,t){if(kt(t))return Ci.empty();{const e=n.writeTree_.setTree(t,new pe(null));return new Ci(e)}}function Ey(n,t){return ao(n,t)!=null}function ao(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return e!=null?n.writeTree_.get(e.path).getChild(xn(e.path,t)):null}function e1(n){const t=[],e=n.writeTree_.value;return e!=null?e.isLeafNode()||e.forEachChild(Ce,(i,r)=>{t.push(new Rt(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&t.push(new Rt(i,r.value))}),t}function jr(n,t){if(kt(t))return n;{const e=ao(n,t);return e!=null?new Ci(new pe(e)):new Ci(n.writeTree_.subtree(t))}}function Ty(n){return n.writeTree_.isEmpty()}function vl(n,t){return FT(Wt(),n.writeTree_,t)}function FT(n,t,e){if(t.value!=null)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,o)=>{r===".priority"?(ut(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):e=FT(Re(n,r),o,e)}),!e.getChild(n).isEmpty()&&i!==null&&(e=e.updateChild(Re(n,".priority"),i)),e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(n,t){return YT(t,n)}function k4(n,t,e,i,r){ut(i>n.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=fu(n.visibleWrites,t,e)),n.lastWriteId=i}function R4(n,t,e,i){ut(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=Sy(n.visibleWrites,t,e),n.lastWriteId=i}function M4(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}function O4(n,t){const e=n.allWrites.findIndex(h=>h.writeId===t);ut(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,o=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const h=n.allWrites[c];h.visible&&(c>=e&&D4(h,i.path)?r=!1:si(i.path,h.path)&&(o=!0)),c--}if(r){if(o)return I4(n),!0;if(i.snap)n.visibleWrites=t1(n.visibleWrites,i.path);else{const h=i.children;un(h,d=>{n.visibleWrites=t1(n.visibleWrites,Re(i.path,d))})}return!0}else return!1}function D4(n,t){if(n.snap)return si(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&si(Re(n.path,e),t))return!0;return!1}function I4(n){n.visibleWrites=VT(n.allWrites,L4,Wt()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function L4(n){return n.visible}function VT(n,t,e){let i=Ci.empty();for(let r=0;r<n.length;++r){const o=n[r];if(t(o)){const c=o.path;let h;if(o.snap)si(e,c)?(h=xn(e,c),i=fu(i,h,o.snap)):si(c,e)&&(h=xn(c,e),i=fu(i,Wt(),o.snap.getChild(h)));else if(o.children){if(si(e,c))h=xn(e,c),i=Sy(i,h,o.children);else if(si(c,e))if(h=xn(c,e),kt(h))i=Sy(i,Wt(),o.children);else{const d=gl(o.children,Nt(h));if(d){const g=d.getChild(ye(h));i=fu(i,Wt(),g)}}}else throw Cl("WriteRecord should have .snap or .children")}}return i}function qT(n,t,e,i,r){if(!i&&!r){const o=ao(n.visibleWrites,t);if(o!=null)return o;{const c=jr(n.visibleWrites,t);if(Ty(c))return e;if(e==null&&!Ey(c,Wt()))return null;{const h=e||wt.EMPTY_NODE;return vl(c,h)}}}else{const o=jr(n.visibleWrites,t);if(!r&&Ty(o))return e;if(!r&&e==null&&!Ey(o,Wt()))return null;{const c=function(g){return(g.visible||r)&&(!i||!~i.indexOf(g.writeId))&&(si(g.path,t)||si(t,g.path))},h=VT(n.allWrites,c,t),d=e||wt.EMPTY_NODE;return vl(h,d)}}}function j4(n,t,e){let i=wt.EMPTY_NODE;const r=ao(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(Ce,(o,c)=>{i=i.updateImmediateChild(o,c)}),i;if(e){const o=jr(n.visibleWrites,t);return e.forEachChild(Ce,(c,h)=>{const d=vl(jr(o,new re(c)),h);i=i.updateImmediateChild(c,d)}),e1(o).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}else{const o=jr(n.visibleWrites,t);return e1(o).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}}function P4(n,t,e,i,r){ut(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=Re(t,e);if(Ey(n.visibleWrites,o))return null;{const c=jr(n.visibleWrites,o);return Ty(c)?r.getChild(e):vl(c,r.getChild(e))}}function U4(n,t,e,i){const r=Re(t,e),o=ao(n.visibleWrites,r);if(o!=null)return o;if(i.isCompleteForChild(e)){const c=jr(n.visibleWrites,r);return vl(c,i.getNode().getImmediateChild(e))}else return null}function z4(n,t){return ao(n.visibleWrites,t)}function B4(n,t,e,i,r,o,c){let h;const d=jr(n.visibleWrites,t),g=ao(d,Wt());if(g!=null)h=g;else if(e!=null)h=vl(d,e);else return[];if(h=h.withIndex(c),!h.isEmpty()&&!h.isLeafNode()){const y=[],b=c.getCompare(),x=o?h.getReverseIteratorFrom(i,c):h.getIteratorFrom(i,c);let E=x.getNext();for(;E&&y.length<r;)b(E,i)!==0&&y.push(E),E=x.getNext();return y}else return[]}function H4(){return{visibleWrites:Ci.empty(),allWrites:[],lastWriteId:-1}}function Cf(n,t,e,i){return qT(n.writeTree,n.treePath,t,e,i)}function R_(n,t){return j4(n.writeTree,n.treePath,t)}function n1(n,t,e,i){return P4(n.writeTree,n.treePath,t,e,i)}function Af(n,t){return z4(n.writeTree,Re(n.treePath,t))}function F4(n,t,e,i,r,o){return B4(n.writeTree,n.treePath,t,e,i,r,o)}function M_(n,t,e){return U4(n.writeTree,n.treePath,t,e)}function WT(n,t){return YT(Re(n.treePath,t),n.writeTree)}function YT(n,t){return{treePath:n,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;ut(e==="child_added"||e==="child_changed"||e==="child_removed","Only child changes supported for tracking"),ut(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if(e==="child_added"&&o==="child_removed")this.changeMap.set(i,Au(i,t.snapshotNode,r.snapshotNode));else if(e==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(e==="child_removed"&&o==="child_changed")this.changeMap.set(i,Cu(i,r.oldSnap));else if(e==="child_changed"&&o==="child_added")this.changeMap.set(i,yl(i,t.snapshotNode));else if(e==="child_changed"&&o==="child_changed")this.changeMap.set(i,Au(i,t.snapshotNode,r.oldSnap));else throw Cl("Illegal combination of changes: "+t+" occurred after "+r)}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}}const GT=new q4;class O_{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=this.optCompleteServerCache_!=null?new qr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return M_(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:eo(this.viewCache_),o=F4(this.writes_,r,e,1,i,t);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(n){return{filter:n}}function Y4(n,t){ut(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),ut(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function G4(n,t,e,i,r){const o=new V4;let c,h;if(e.type===Ei.OVERWRITE){const g=e;g.source.fromUser?c=Cy(n,t,g.path,g.snap,i,r,o):(ut(g.source.fromServer,"Unknown source."),h=g.source.tagged||t.serverCache.isFiltered()&&!kt(g.path),c=Nf(n,t,g.path,g.snap,i,r,h,o))}else if(e.type===Ei.MERGE){const g=e;g.source.fromUser?c=X4(n,t,g.path,g.children,i,r,o):(ut(g.source.fromServer,"Unknown source."),h=g.source.tagged||t.serverCache.isFiltered(),c=Ay(n,t,g.path,g.children,i,r,h,o))}else if(e.type===Ei.ACK_USER_WRITE){const g=e;g.revert?c=Z4(n,t,g.path,i,r,o):c=Q4(n,t,g.path,g.affectedTree,i,r,o)}else if(e.type===Ei.LISTEN_COMPLETE)c=K4(n,t,e.path,i,o);else throw Cl("Unknown operation type: "+e.type);const d=o.getChanges();return $4(t,c,d),{viewCache:c,changes:d}}function $4(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=Tf(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&e.push(zT(Tf(t)))}}function $T(n,t,e,i,r,o){const c=t.eventCache;if(Af(i,e)!=null)return t;{let h,d;if(kt(e))if(ut(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const g=eo(t),y=g instanceof wt?g:wt.EMPTY_NODE,b=R_(i,y);h=n.filter.updateFullNode(t.eventCache.getNode(),b,o)}else{const g=Cf(i,eo(t));h=n.filter.updateFullNode(t.eventCache.getNode(),g,o)}else{const g=Nt(e);if(g===".priority"){ut(Vr(e)===1,"Can't have a priority with additional path components");const y=c.getNode();d=t.serverCache.getNode();const b=n1(i,e,y,d);b!=null?h=n.filter.updatePriority(y,b):h=c.getNode()}else{const y=ye(e);let b;if(c.isCompleteForChild(g)){d=t.serverCache.getNode();const x=n1(i,e,c.getNode(),d);x!=null?b=c.getNode().getImmediateChild(g).updateChild(y,x):b=c.getNode().getImmediateChild(g)}else b=M_(i,g,t.serverCache);b!=null?h=n.filter.updateChild(c.getNode(),g,b,y,r,o):h=c.getNode()}}return du(t,h,c.isFullyInitialized()||kt(e),n.filter.filtersNodes())}}function Nf(n,t,e,i,r,o,c,h){const d=t.serverCache;let g;const y=c?n.filter:n.filter.getIndexedFilter();if(kt(e))g=y.updateFullNode(d.getNode(),i,null);else if(y.filtersNodes()&&!d.isFiltered()){const E=d.getNode().updateChild(e,i);g=y.updateFullNode(d.getNode(),E,null)}else{const E=Nt(e);if(!d.isCompleteForPath(e)&&Vr(e)>1)return t;const A=ye(e),R=d.getNode().getImmediateChild(E).updateChild(A,i);E===".priority"?g=y.updatePriority(d.getNode(),R):g=y.updateChild(d.getNode(),E,R,A,GT,null)}const b=HT(t,g,d.isFullyInitialized()||kt(e),y.filtersNodes()),x=new O_(r,b,o);return $T(n,b,e,r,x,h)}function Cy(n,t,e,i,r,o,c){const h=t.eventCache;let d,g;const y=new O_(r,t,o);if(kt(e))g=n.filter.updateFullNode(t.eventCache.getNode(),i,c),d=du(t,g,!0,n.filter.filtersNodes());else{const b=Nt(e);if(b===".priority")g=n.filter.updatePriority(t.eventCache.getNode(),i),d=du(t,g,h.isFullyInitialized(),h.isFiltered());else{const x=ye(e),E=h.getNode().getImmediateChild(b);let A;if(kt(x))A=i;else{const M=y.getCompleteChild(b);M!=null?b_(x)===".priority"&&M.getChild(MT(x)).isEmpty()?A=M:A=M.updateChild(x,i):A=wt.EMPTY_NODE}if(E.equals(A))d=t;else{const M=n.filter.updateChild(h.getNode(),b,A,x,y,c);d=du(t,M,h.isFullyInitialized(),n.filter.filtersNodes())}}}return d}function i1(n,t){return n.eventCache.isCompleteForChild(t)}function X4(n,t,e,i,r,o,c){let h=t;return i.foreach((d,g)=>{const y=Re(e,d);i1(t,Nt(y))&&(h=Cy(n,h,y,g,r,o,c))}),i.foreach((d,g)=>{const y=Re(e,d);i1(t,Nt(y))||(h=Cy(n,h,y,g,r,o,c))}),h}function s1(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function Ay(n,t,e,i,r,o,c,h){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let d=t,g;kt(e)?g=i:g=new pe(null).setTree(e,i);const y=t.serverCache.getNode();return g.children.inorderTraversal((b,x)=>{if(y.hasChild(b)){const E=t.serverCache.getNode().getImmediateChild(b),A=s1(n,E,x);d=Nf(n,d,new re(b),A,r,o,c,h)}}),g.children.inorderTraversal((b,x)=>{const E=!t.serverCache.isCompleteForChild(b)&&x.value===null;if(!y.hasChild(b)&&!E){const A=t.serverCache.getNode().getImmediateChild(b),M=s1(n,A,x);d=Nf(n,d,new re(b),M,r,o,c,h)}}),d}function Q4(n,t,e,i,r,o,c){if(Af(r,e)!=null)return t;const h=t.serverCache.isFiltered(),d=t.serverCache;if(i.value!=null){if(kt(e)&&d.isFullyInitialized()||d.isCompleteForPath(e))return Nf(n,t,e,d.getNode().getChild(e),r,o,h,c);if(kt(e)){let g=new pe(null);return d.getNode().forEachChild(Ga,(y,b)=>{g=g.set(new re(y),b)}),Ay(n,t,e,g,r,o,h,c)}else return t}else{let g=new pe(null);return i.foreach((y,b)=>{const x=Re(e,y);d.isCompleteForPath(x)&&(g=g.set(y,d.getNode().getChild(x)))}),Ay(n,t,e,g,r,o,h,c)}}function K4(n,t,e,i,r){const o=t.serverCache,c=HT(t,o.getNode(),o.isFullyInitialized()||kt(e),o.isFiltered());return $T(n,c,e,i,GT,r)}function Z4(n,t,e,i,r,o){let c;if(Af(i,e)!=null)return t;{const h=new O_(i,t,r),d=t.eventCache.getNode();let g;if(kt(e)||Nt(e)===".priority"){let y;if(t.serverCache.isFullyInitialized())y=Cf(i,eo(t));else{const b=t.serverCache.getNode();ut(b instanceof wt,"serverChildren would be complete if leaf node"),y=R_(i,b)}y=y,g=n.filter.updateFullNode(d,y,o)}else{const y=Nt(e);let b=M_(i,y,t.serverCache);b==null&&t.serverCache.isCompleteForChild(y)&&(b=d.getImmediateChild(y)),b!=null?g=n.filter.updateChild(d,y,b,ye(e),h,o):t.eventCache.getNode().hasChild(y)?g=n.filter.updateChild(d,y,wt.EMPTY_NODE,ye(e),h,o):g=d,g.isEmpty()&&t.serverCache.isFullyInitialized()&&(c=Cf(i,eo(t)),c.isLeafNode()&&(g=n.filter.updateFullNode(g,c,o)))}return c=t.serverCache.isFullyInitialized()||Af(i,Wt())!=null,du(t,g,c,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new T_(i.getIndex()),o=g4(i);this.processor_=W4(o);const c=e.serverCache,h=e.eventCache,d=r.updateFullNode(wt.EMPTY_NODE,c.getNode(),null),g=o.updateFullNode(wt.EMPTY_NODE,h.getNode(),null),y=new qr(d,c.isFullyInitialized(),r.filtersNodes()),b=new qr(g,h.isFullyInitialized(),o.filtersNodes());this.viewCache_=rg(b,y),this.eventGenerator_=new E4(this.query_)}get query(){return this.query_}}function tL(n){return n.viewCache_.serverCache.getNode()}function eL(n){return Tf(n.viewCache_)}function nL(n,t){const e=eo(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!kt(t)&&!e.getImmediateChild(Nt(t)).isEmpty())?e.getChild(t):null}function r1(n){return n.eventRegistrations_.length===0}function iL(n,t){n.eventRegistrations_.push(t)}function a1(n,t,e){const i=[];if(e){ut(t==null,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(o=>{const c=o.createCancelEvent(e,r);c&&i.push(c)})}if(t){let r=[];for(let o=0;o<n.eventRegistrations_.length;++o){const c=n.eventRegistrations_[o];if(!c.matches(t))r.push(c);else if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(o+1));break}}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function o1(n,t,e,i){t.type===Ei.MERGE&&t.source.queryId!==null&&(ut(eo(n.viewCache_),"We should always have a full cache before handling merges"),ut(Tf(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=G4(n.processor_,r,t,e,i);return Y4(n.processor_,o.viewCache),ut(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,XT(n,o.changes,o.viewCache.eventCache.getNode(),null)}function sL(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Ce,(o,c)=>{i.push(yl(o,c))}),e.isFullyInitialized()&&i.push(zT(e.getNode())),XT(n,i,e.getNode(),t)}function XT(n,t,e,i){const r=i?[i]:n.eventRegistrations_;return T4(n.eventGenerator_,t,e,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kf;class QT{constructor(){this.views=new Map}}function rL(n){ut(!kf,"__referenceConstructor has already been defined"),kf=n}function aL(){return ut(kf,"Reference.ts has not been loaded"),kf}function oL(n){return n.views.size===0}function D_(n,t,e,i){const r=t.source.queryId;if(r!==null){const o=n.views.get(r);return ut(o!=null,"SyncTree gave us an op for an invalid query."),o1(o,t,e,i)}else{let o=[];for(const c of n.views.values())o=o.concat(o1(c,t,e,i));return o}}function KT(n,t,e,i,r){const o=t._queryIdentifier,c=n.views.get(o);if(!c){let h=Cf(e,r?i:null),d=!1;h?d=!0:i instanceof wt?(h=R_(e,i),d=!1):(h=wt.EMPTY_NODE,d=!1);const g=rg(new qr(h,d,!1),new qr(i,r,!1));return new J4(t,g)}return c}function lL(n,t,e,i,r,o){const c=KT(n,t,i,r,o);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,c),iL(c,e),sL(c,e)}function cL(n,t,e,i){const r=t._queryIdentifier,o=[];let c=[];const h=Wr(n);if(r==="default")for(const[d,g]of n.views.entries())c=c.concat(a1(g,e,i)),r1(g)&&(n.views.delete(d),g.query._queryParams.loadsAllData()||o.push(g.query));else{const d=n.views.get(r);d&&(c=c.concat(a1(d,e,i)),r1(d)&&(n.views.delete(r),d.query._queryParams.loadsAllData()||o.push(d.query)))}return h&&!Wr(n)&&o.push(new(aL())(t._repo,t._path)),{removed:o,events:c}}function ZT(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Pr(n,t){let e=null;for(const i of n.views.values())e=e||nL(i,t);return e}function JT(n,t){if(t._queryParams.loadsAllData())return og(n);{const i=t._queryIdentifier;return n.views.get(i)}}function t2(n,t){return JT(n,t)!=null}function Wr(n){return og(n)!=null}function og(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rf;function uL(n){ut(!Rf,"__referenceConstructor has already been defined"),Rf=n}function hL(){return ut(Rf,"Reference.ts has not been loaded"),Rf}let dL=1;class l1{constructor(t){this.listenProvider_=t,this.syncPointTree_=new pe(null),this.pendingWriteTree_=H4(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function e2(n,t,e,i,r){return k4(n.pendingWriteTree_,t,e,i,r),r?Rl(n,new to(A_(),t,e)):[]}function fL(n,t,e,i){R4(n.pendingWriteTree_,t,e,i);const r=pe.fromObject(e);return Rl(n,new _l(A_(),t,r))}function Mr(n,t,e=!1){const i=M4(n.pendingWriteTree_,t);if(O4(n.pendingWriteTree_,t)){let o=new pe(null);return i.snap!=null?o=o.set(Wt(),!0):un(i.children,c=>{o=o.set(new re(c),!0)}),Rl(n,new Ef(i.path,o,e))}else return[]}function Zu(n,t,e){return Rl(n,new to(N_(),t,e))}function gL(n,t,e){const i=pe.fromObject(e);return Rl(n,new _l(N_(),t,i))}function mL(n,t){return Rl(n,new ku(N_(),t))}function pL(n,t,e){const i=L_(n,e);if(i){const r=j_(i),o=r.path,c=r.queryId,h=xn(o,t),d=new ku(k_(c),h);return P_(n,o,d)}else return[]}function Mf(n,t,e,i,r=!1){const o=t._path,c=n.syncPointTree_.get(o);let h=[];if(c&&(t._queryIdentifier==="default"||t2(c,t))){const d=cL(c,t,e,i);oL(c)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const g=d.removed;if(h=d.events,!r){const y=g.findIndex(x=>x._queryParams.loadsAllData())!==-1,b=n.syncPointTree_.findOnPath(o,(x,E)=>Wr(E));if(y&&!b){const x=n.syncPointTree_.subtree(o);if(!x.isEmpty()){const E=vL(x);for(let A=0;A<E.length;++A){const M=E[A],R=M.query,B=r2(n,M);n.listenProvider_.startListening(gu(R),Ru(n,R),B.hashFn,B.onComplete)}}}!b&&g.length>0&&!i&&(y?n.listenProvider_.stopListening(gu(t),null):g.forEach(x=>{const E=n.queryToTagMap.get(lg(x));n.listenProvider_.stopListening(gu(x),E)}))}bL(n,g)}return h}function n2(n,t,e,i){const r=L_(n,i);if(r!=null){const o=j_(r),c=o.path,h=o.queryId,d=xn(c,t),g=new to(k_(h),d,e);return P_(n,c,g)}else return[]}function yL(n,t,e,i){const r=L_(n,i);if(r){const o=j_(r),c=o.path,h=o.queryId,d=xn(c,t),g=pe.fromObject(e),y=new _l(k_(h),d,g);return P_(n,c,y)}else return[]}function Ny(n,t,e,i=!1){const r=t._path;let o=null,c=!1;n.syncPointTree_.foreachOnPath(r,(x,E)=>{const A=xn(x,r);o=o||Pr(E,A),c=c||Wr(E)});let h=n.syncPointTree_.get(r);h?(c=c||Wr(h),o=o||Pr(h,Wt())):(h=new QT,n.syncPointTree_=n.syncPointTree_.set(r,h));let d;o!=null?d=!0:(d=!1,o=wt.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((E,A)=>{const M=Pr(A,Wt());M&&(o=o.updateImmediateChild(E,M))}));const g=t2(h,t);if(!g&&!t._queryParams.loadsAllData()){const x=lg(t);ut(!n.queryToTagMap.has(x),"View does not exist, but we have a tag");const E=xL();n.queryToTagMap.set(x,E),n.tagToQueryMap.set(E,x)}const y=ag(n.pendingWriteTree_,r);let b=lL(h,t,e,y,o,d);if(!g&&!c&&!i){const x=JT(h,t);b=b.concat(wL(n,t,x))}return b}function I_(n,t,e){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(t,(c,h)=>{const d=xn(c,t),g=Pr(h,d);if(g)return g});return qT(r,t,o,e,!0)}function _L(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(g,y)=>{const b=xn(g,e);i=i||Pr(y,b)});let r=n.syncPointTree_.get(e);r?i=i||Pr(r,Wt()):(r=new QT,n.syncPointTree_=n.syncPointTree_.set(e,r));const o=i!=null,c=o?new qr(i,!0,!1):null,h=ag(n.pendingWriteTree_,t._path),d=KT(r,t,h,o?c.getNode():wt.EMPTY_NODE,o);return eL(d)}function Rl(n,t){return i2(t,n.syncPointTree_,null,ag(n.pendingWriteTree_,Wt()))}function i2(n,t,e,i){if(kt(n.path))return s2(n,t,e,i);{const r=t.get(Wt());e==null&&r!=null&&(e=Pr(r,Wt()));let o=[];const c=Nt(n.path),h=n.operationForChild(c),d=t.children.get(c);if(d&&h){const g=e?e.getImmediateChild(c):null,y=WT(i,c);o=o.concat(i2(h,d,g,y))}return r&&(o=o.concat(D_(r,n,i,e))),o}}function s2(n,t,e,i){const r=t.get(Wt());e==null&&r!=null&&(e=Pr(r,Wt()));let o=[];return t.children.inorderTraversal((c,h)=>{const d=e?e.getImmediateChild(c):null,g=WT(i,c),y=n.operationForChild(c);y&&(o=o.concat(s2(y,h,d,g)))}),r&&(o=o.concat(D_(r,n,i,e))),o}function r2(n,t){const e=t.query,i=Ru(n,e);return{hashFn:()=>(tL(t)||wt.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?pL(n,e._path,i):mL(n,e._path);{const o=gI(r,e);return Mf(n,e,null,o)}}}}function Ru(n,t){const e=lg(t);return n.queryToTagMap.get(e)}function lg(n){return n._path.toString()+"$"+n._queryIdentifier}function L_(n,t){return n.tagToQueryMap.get(t)}function j_(n){const t=n.indexOf("$");return ut(t!==-1&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new re(n.substr(0,t))}}function P_(n,t,e){const i=n.syncPointTree_.get(t);ut(i,"Missing sync point for query tag that we're tracking");const r=ag(n.pendingWriteTree_,t);return D_(i,e,r,null)}function vL(n){return n.fold((t,e,i)=>{if(e&&Wr(e))return[og(e)];{let r=[];return e&&(r=ZT(e)),un(i,(o,c)=>{r=r.concat(c)}),r}})}function gu(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(hL())(n._repo,n._path):n}function bL(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=lg(i),o=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(o)}}}function xL(){return dL++}function wL(n,t,e){const i=t._path,r=Ru(n,t),o=r2(n,e),c=n.listenProvider_.startListening(gu(t),r,o.hashFn,o.onComplete),h=n.syncPointTree_.subtree(i);if(r)ut(!Wr(h.value),"If we're adding a query, it shouldn't be shadowed");else{const d=h.fold((g,y,b)=>{if(!kt(g)&&y&&Wr(y))return[og(y).query];{let x=[];return y&&(x=x.concat(ZT(y).map(E=>E.query))),un(b,(E,A)=>{x=x.concat(A)}),x}});for(let g=0;g<d.length;++g){const y=d[g];n.listenProvider_.stopListening(gu(y),Ru(n,y))}}return c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new U_(e)}node(){return this.node_}}class z_{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Re(this.path_,t);return new z_(this.syncTree_,e)}node(){return I_(this.syncTree_,this.path_)}}const SL=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},c1=function(n,t,e){if(!n||typeof n!="object")return n;if(ut(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return EL(n[".sv"],t,e);if(typeof n[".sv"]=="object")return TL(n[".sv"],t);ut(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},EL=function(n,t,e){switch(n){case"timestamp":return e.timestamp;default:ut(!1,"Unexpected server value: "+n)}},TL=function(n,t,e){n.hasOwnProperty("increment")||ut(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;typeof i!="number"&&ut(!1,"Unexpected increment value: "+i);const r=t.node();if(ut(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return typeof c!="number"?i:c+i},a2=function(n,t,e,i){return B_(t,new z_(e,n),i)},o2=function(n,t,e){return B_(n,new U_(t),e)};function B_(n,t,e){const i=n.getPriority().val(),r=c1(i,t.getImmediateChild(".priority"),e);let o;if(n.isLeafNode()){const c=n,h=c1(c.getValue(),t,e);return h!==c.getValue()||r!==c.getPriority().val()?new Je(h,qe(r)):n}else{const c=n;return o=c,r!==c.getPriority().val()&&(o=o.updatePriority(new Je(r))),c.forEachChild(Ce,(h,d)=>{const g=B_(d,t.getImmediateChild(h),e);g!==d&&(o=o.updateImmediateChild(h,g))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function F_(n,t){let e=t instanceof re?t:new re(t),i=n,r=Nt(e);for(;r!==null;){const o=gl(i.node.children,r)||{children:{},childCount:0};i=new H_(r,i,o),e=ye(e),r=Nt(e)}return i}function Ml(n){return n.node.value}function l2(n,t){n.node.value=t,ky(n)}function c2(n){return n.node.childCount>0}function CL(n){return Ml(n)===void 0&&!c2(n)}function cg(n,t){un(n.node.children,(e,i)=>{t(new H_(e,n,i))})}function u2(n,t,e,i){e&&t(n),cg(n,r=>{u2(r,t,!0)})}function AL(n,t,e){let i=n.parent;for(;i!==null;){if(t(i))return!0;i=i.parent}return!1}function Ju(n){return new re(n.parent===null?n.name:Ju(n.parent)+"/"+n.name)}function ky(n){n.parent!==null&&NL(n.parent,n.name,n)}function NL(n,t,e){const i=CL(e),r=ns(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,ky(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,ky(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL=/[\[\].#$\/\u0000-\u001F\u007F]/,RL=/[\[\].#$\u0000-\u001F\u007F]/,Wp=10*1024*1024,V_=function(n){return typeof n=="string"&&n.length!==0&&!kL.test(n)},h2=function(n){return typeof n=="string"&&n.length!==0&&!RL.test(n)},ML=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),h2(n)},Ry=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!m_(n)||n&&typeof n=="object"&&ns(n,".sv")},th=function(n,t,e,i){i&&t===void 0||ug(Kf(n,"value"),t,e)},ug=function(n,t,e){const i=e instanceof re?new $I(e,n):e;if(t===void 0)throw new Error(n+"contains undefined "+Pa(i));if(typeof t=="function")throw new Error(n+"contains a function "+Pa(i)+" with contents = "+t.toString());if(m_(t))throw new Error(n+"contains "+t.toString()+" "+Pa(i));if(typeof t=="string"&&t.length>Wp/3&&Zf(t)>Wp)throw new Error(n+"contains a string greater than "+Wp+" utf8 bytes "+Pa(i)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let r=!1,o=!1;if(un(t,(c,h)=>{if(c===".value")r=!0;else if(c!==".priority"&&c!==".sv"&&(o=!0,!V_(c)))throw new Error(n+" contains an invalid key ("+c+") "+Pa(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);XI(i,c),ug(n,h,i),QI(i)}),r&&o)throw new Error(n+' contains ".value" child '+Pa(i)+" in addition to actual children.")}},OL=function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const o=Tu(i);for(let c=0;c<o.length;c++)if(!(o[c]===".priority"&&c===o.length-1)){if(!V_(o[c]))throw new Error(n+"contains an invalid key ("+o[c]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(GI);let r=null;for(e=0;e<t.length;e++){if(i=t[e],r!==null&&si(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},DL=function(n,t,e,i){const r=Kf(n,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const o=[];un(t,(c,h)=>{const d=new re(c);if(ug(r,h,Re(e,d)),b_(d)===".priority"&&!Ry(h))throw new Error(r+"contains an invalid value for '"+d.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(d)}),OL(r,o)},q_=function(n,t,e,i){if(!h2(e))throw new Error(Kf(n,t)+'was an invalid path = "'+e+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},IL=function(n,t,e,i){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),q_(n,t,e)},d2=function(n,t){if(Nt(t)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},LL=function(n,t){const e=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!V_(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||e.length!==0&&!ML(e))throw new Error(Kf(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function hg(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],o=r.getPath();e!==null&&!x_(o,e.path)&&(n.eventLists_.push(e),e=null),e===null&&(e={events:[],path:o}),e.events.push(r)}e&&n.eventLists_.push(e)}function f2(n,t,e){hg(n,e),g2(n,i=>x_(i,t))}function li(n,t,e){hg(n,e),g2(n,i=>si(i,t)||si(t,i))}function g2(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];if(r){const o=r.path;t(o)?(PL(n.eventLists_[i]),n.eventLists_[i]=null):e=!1}}e&&(n.eventLists_=[]),n.recursionDepth_--}function PL(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(e!==null){n.events[t]=null;const i=e.getEventRunner();uu&&ln("event: "+e.toString()),kl(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL="repo_interrupt",zL=25;class BL{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new jL,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Sf(),this.transactionQueueTree_=new H_,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function HL(n,t,e){if(n.stats_=__(n.repoInfo_),n.forceRestClient_||_I())n.server_=new wf(n.repoInfo_,(i,r,o,c)=>{u1(n,i,r,o,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>h1(n,!0),0);else{if(typeof e<"u"&&e!==null){if(typeof e!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{We(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Fs(n.repoInfo_,t,(i,r,o,c)=>{u1(n,i,r,o,c)},i=>{h1(n,i)},i=>{FL(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=SI(n.repoInfo_,()=>new S4(n.stats_,n.server_)),n.infoData_=new _4,n.infoSyncTree_=new l1({startListening:(i,r,o,c)=>{let h=[];const d=n.infoData_.getNode(i._path);return d.isEmpty()||(h=Zu(n.infoSyncTree_,i._path,d),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),W_(n,"connected",!1),n.serverSyncTree_=new l1({startListening:(i,r,o,c)=>(n.server_.listen(i,o,r,(h,d)=>{const g=c(h,d);li(n.eventQueue_,i._path,g)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}function m2(n){const e=n.infoData_.getNode(new re(".info/serverTimeOffset")).val()||0;return new Date().getTime()+e}function dg(n){return SL({timestamp:m2(n)})}function u1(n,t,e,i,r){n.dataUpdateCount++;const o=new re(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let c=[];if(r)if(i){const d=uf(e,g=>qe(g));c=yL(n.serverSyncTree_,o,d,r)}else{const d=qe(e);c=n2(n.serverSyncTree_,o,d,r)}else if(i){const d=uf(e,g=>qe(g));c=gL(n.serverSyncTree_,o,d)}else{const d=qe(e);c=Zu(n.serverSyncTree_,o,d)}let h=o;c.length>0&&(h=bl(n,o)),li(n.eventQueue_,h,c)}function h1(n,t){W_(n,"connected",t),t===!1&&YL(n)}function FL(n,t){un(t,(e,i)=>{W_(n,e,i)})}function W_(n,t,e){const i=new re("/.info/"+t),r=qe(e);n.infoData_.updateSnapshot(i,r);const o=Zu(n.infoSyncTree_,i,r);li(n.eventQueue_,i,o)}function Y_(n){return n.nextWriteId_++}function VL(n,t,e){const i=_L(n.serverSyncTree_,t);return i!=null?Promise.resolve(i):n.server_.get(t).then(r=>{const o=qe(r).withIndex(t._queryParams.getIndex());Ny(n.serverSyncTree_,t,e,!0);let c;if(t._queryParams.loadsAllData())c=Zu(n.serverSyncTree_,t._path,o);else{const h=Ru(n.serverSyncTree_,t);c=n2(n.serverSyncTree_,t._path,o,h)}return li(n.eventQueue_,t._path,c),Mf(n.serverSyncTree_,t,e,null,!0),o},r=>(eh(n,"get for query "+We(t)+" failed: "+r),Promise.reject(new Error(r))))}function qL(n,t,e,i,r){eh(n,"set",{path:t.toString(),value:e,priority:i});const o=dg(n),c=qe(e,i),h=I_(n.serverSyncTree_,t),d=o2(c,h,o),g=Y_(n),y=e2(n.serverSyncTree_,t,d,g,!0);hg(n.eventQueue_,y),n.server_.put(t.toString(),c.val(!0),(x,E)=>{const A=x==="ok";A||wn("set at "+t+" failed: "+x);const M=Mr(n.serverSyncTree_,g,!A);li(n.eventQueue_,t,M),My(n,r,x,E)});const b=$_(n,t);bl(n,b),li(n.eventQueue_,b,[])}function WL(n,t,e,i){eh(n,"update",{path:t.toString(),value:e});let r=!0;const o=dg(n),c={};if(un(e,(h,d)=>{r=!1,c[h]=a2(Re(t,h),qe(d),n.serverSyncTree_,o)}),r)ln("update() called with empty data.  Don't do anything."),My(n,i,"ok",void 0);else{const h=Y_(n),d=fL(n.serverSyncTree_,t,c,h);hg(n.eventQueue_,d),n.server_.merge(t.toString(),e,(g,y)=>{const b=g==="ok";b||wn("update at "+t+" failed: "+g);const x=Mr(n.serverSyncTree_,h,!b),E=x.length>0?bl(n,t):t;li(n.eventQueue_,E,x),My(n,i,g,y)}),un(e,g=>{const y=$_(n,Re(t,g));bl(n,y)}),li(n.eventQueue_,t,[])}}function YL(n){eh(n,"onDisconnectEvents");const t=dg(n),e=Sf();wy(n.onDisconnect_,Wt(),(r,o)=>{const c=a2(r,o,n.serverSyncTree_,t);BT(e,r,c)});let i=[];wy(e,Wt(),(r,o)=>{i=i.concat(Zu(n.serverSyncTree_,r,o));const c=$_(n,r);bl(n,c)}),n.onDisconnect_=Sf(),li(n.eventQueue_,Wt(),i)}function GL(n,t,e){let i;Nt(t._path)===".info"?i=Ny(n.infoSyncTree_,t,e):i=Ny(n.serverSyncTree_,t,e),f2(n.eventQueue_,t._path,i)}function d1(n,t,e){let i;Nt(t._path)===".info"?i=Mf(n.infoSyncTree_,t,e):i=Mf(n.serverSyncTree_,t,e),f2(n.eventQueue_,t._path,i)}function $L(n){n.persistentConnection_&&n.persistentConnection_.interrupt(UL)}function eh(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),ln(e,...t)}function My(n,t,e,i){t&&kl(()=>{if(e==="ok")t(null);else{const r=(e||"error").toUpperCase();let o=r;i&&(o+=": "+i);const c=new Error(o);c.code=r,t(c)}})}function p2(n,t,e){return I_(n.serverSyncTree_,t,e)||wt.EMPTY_NODE}function G_(n,t=n.transactionQueueTree_){if(t||fg(n,t),Ml(t)){const e=_2(n,t);ut(e.length>0,"Sending zero length transaction queue"),e.every(r=>r.status===0)&&XL(n,Ju(t),e)}else c2(t)&&cg(t,e=>{G_(n,e)})}function XL(n,t,e){const i=e.map(g=>g.currentWriteId),r=p2(n,t,i);let o=r;const c=r.hash();for(let g=0;g<e.length;g++){const y=e[g];ut(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const b=xn(t,y.path);o=o.updateChild(b,y.currentOutputSnapshotRaw)}const h=o.val(!0),d=t;n.server_.put(d.toString(),h,g=>{eh(n,"transaction put response",{path:d.toString(),status:g});let y=[];if(g==="ok"){const b=[];for(let x=0;x<e.length;x++)e[x].status=2,y=y.concat(Mr(n.serverSyncTree_,e[x].currentWriteId)),e[x].onComplete&&b.push(()=>e[x].onComplete(null,!0,e[x].currentOutputSnapshotResolved)),e[x].unwatcher();fg(n,F_(n.transactionQueueTree_,t)),G_(n,n.transactionQueueTree_),li(n.eventQueue_,t,y);for(let x=0;x<b.length;x++)kl(b[x])}else{if(g==="datastale")for(let b=0;b<e.length;b++)e[b].status===3?e[b].status=4:e[b].status=0;else{wn("transaction at "+d.toString()+" failed: "+g);for(let b=0;b<e.length;b++)e[b].status=4,e[b].abortReason=g}bl(n,t)}},c)}function bl(n,t){const e=y2(n,t),i=Ju(e),r=_2(n,e);return QL(n,r,i),i}function QL(n,t,e){if(t.length===0)return;const i=[];let r=[];const c=t.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<t.length;h++){const d=t[h],g=xn(e,d.path);let y=!1,b;if(ut(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)y=!0,b=d.abortReason,r=r.concat(Mr(n.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=zL)y=!0,b="maxretry",r=r.concat(Mr(n.serverSyncTree_,d.currentWriteId,!0));else{const x=p2(n,d.path,c);d.currentInputSnapshot=x;const E=t[h].update(x.val());if(E!==void 0){ug("transaction failed: Data returned ",E,d.path);let A=qe(E);typeof E=="object"&&E!=null&&ns(E,".priority")||(A=A.updatePriority(x.getPriority()));const R=d.currentWriteId,B=dg(n),W=o2(A,x,B);d.currentOutputSnapshotRaw=A,d.currentOutputSnapshotResolved=W,d.currentWriteId=Y_(n),c.splice(c.indexOf(R),1),r=r.concat(e2(n.serverSyncTree_,d.path,W,d.currentWriteId,d.applyLocally)),r=r.concat(Mr(n.serverSyncTree_,R,!0))}else y=!0,b="nodata",r=r.concat(Mr(n.serverSyncTree_,d.currentWriteId,!0))}li(n.eventQueue_,e,r),r=[],y&&(t[h].status=2,function(x){setTimeout(x,Math.floor(0))}(t[h].unwatcher),t[h].onComplete&&(b==="nodata"?i.push(()=>t[h].onComplete(null,!1,t[h].currentInputSnapshot)):i.push(()=>t[h].onComplete(new Error(b),!1,null))))}fg(n,n.transactionQueueTree_);for(let h=0;h<i.length;h++)kl(i[h]);G_(n,n.transactionQueueTree_)}function y2(n,t){let e,i=n.transactionQueueTree_;for(e=Nt(t);e!==null&&Ml(i)===void 0;)i=F_(i,e),t=ye(t),e=Nt(t);return i}function _2(n,t){const e=[];return v2(n,t,e),e.sort((i,r)=>i.order-r.order),e}function v2(n,t,e){const i=Ml(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);cg(t,r=>{v2(n,r,e)})}function fg(n,t){const e=Ml(t);if(e){let i=0;for(let r=0;r<e.length;r++)e[r].status!==2&&(e[i]=e[r],i++);e.length=i,l2(t,e.length>0?e:void 0)}cg(t,i=>{fg(n,i)})}function $_(n,t){const e=Ju(y2(n,t)),i=F_(n.transactionQueueTree_,t);return AL(i,r=>{Yp(n,r)}),Yp(n,i),u2(i,r=>{Yp(n,r)}),e}function Yp(n,t){const e=Ml(t);if(e){const i=[];let r=[],o=-1;for(let c=0;c<e.length;c++)e[c].status===3||(e[c].status===1?(ut(o===c-1,"All SENT items should be at beginning of queue."),o=c,e[c].status=3,e[c].abortReason="set"):(ut(e[c].status===0,"Unexpected transaction status in abort"),e[c].unwatcher(),r=r.concat(Mr(n.serverSyncTree_,e[c].currentWriteId,!0)),e[c].onComplete&&i.push(e[c].onComplete.bind(null,new Error("set"),!1,null))));o===-1?l2(t,void 0):e.length=o+1,li(n.eventQueue_,Ju(t),r);for(let c=0;c<i.length;c++)kl(i[c])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KL(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}function ZL(n){const t={};n.charAt(0)==="?"&&(n=n.substring(1));for(const e of n.split("&")){if(e.length===0)continue;const i=e.split("=");i.length===2?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):wn(`Invalid query segment '${e}' in query '${n}'`)}return t}const f1=function(n,t){const e=JL(n),i=e.namespace;e.domain==="firebase.com"&&Ys(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&e.domain!=="localhost"&&Ys("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||cI();const r=e.scheme==="ws"||e.scheme==="wss";return{repoInfo:new wT(e.host,e.secure,i,r,t,"",i!==e.subdomain),path:new re(e.pathString)}},JL=function(n){let t="",e="",i="",r="",o="",c=!0,h="https",d=443;if(typeof n=="string"){let g=n.indexOf("//");g>=0&&(h=n.substring(0,g-1),n=n.substring(g+2));let y=n.indexOf("/");y===-1&&(y=n.length);let b=n.indexOf("?");b===-1&&(b=n.length),t=n.substring(0,Math.min(y,b)),y<b&&(r=KL(n.substring(y,b)));const x=ZL(n.substring(Math.min(n.length,b)));g=t.indexOf(":"),g>=0?(c=h==="https"||h==="wss",d=parseInt(t.substring(g+1),10)):g=t.length;const E=t.slice(0,g);if(E.toLowerCase()==="localhost")e="localhost";else if(E.split(".").length<=2)e=E;else{const A=t.indexOf(".");i=t.substring(0,A).toLowerCase(),e=t.substring(A+1),o=i}"ns"in x&&(o=x.ns)}return{host:t,port:d,domain:e,subdomain:i,secure:c,scheme:h,pathString:r,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",tj=function(){let n=0;const t=[];return function(e){const i=e===n;n=e;let r;const o=new Array(8);for(r=7;r>=0;r--)o[r]=g1.charAt(e%64),e=Math.floor(e/64);ut(e===0,"Cannot push at time == 0");let c=o.join("");if(i){for(r=11;r>=0&&t[r]===63;r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)c+=g1.charAt(t[r]);return ut(c.length===20,"nextPushId: Length should be 20."),c}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+We(this.snapshot.exportVal())}}class nj{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return ut(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return kt(this._path)?null:b_(this._path)}get ref(){return new Qs(this._repo,this._path)}get _queryIdentifier(){const t=Zw(this._queryParams),e=p_(t);return e==="{}"?"default":e}get _queryObject(){return Zw(this._queryParams)}isEqual(t){if(t=nn(t),!(t instanceof Ol))return!1;const e=this._repo===t._repo,i=x_(this._path,t._path),r=this._queryIdentifier===t._queryIdentifier;return e&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+YI(this._path)}}function ij(n,t){if(n._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function X_(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Ga){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Ja)throw new Error(i);if(typeof t!="string")throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==Fr)throw new Error(i);if(typeof e!="string")throw new Error(r)}}else if(n.getIndex()===Ce){if(t!=null&&!Ry(t)||e!=null&&!Ry(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(ut(n.getIndex()instanceof E_||n.getIndex()===UT,"unknown index type."),t!=null&&typeof t=="object"||e!=null&&typeof e=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function x2(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Qs extends Ol{constructor(t,e){super(t,e,new C_,!1)}get parent(){const t=MT(this._path);return t===null?null:new Qs(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Mu{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new re(t),i=Ou(this.ref,t);return new Mu(this._node.getChild(e),i,Ce)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>t(new Mu(r,Ou(this.ref,i),Ce)))}hasChild(t){const e=new re(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function zt(n,t){return n=nn(n),n._checkNotDeleted("ref"),t!==void 0?Ou(n._root,t):n._root}function Ou(n,t){return n=nn(n),Nt(n._path)===null?IL("child","path",t):q_("child","path",t),new Qs(n._repo,Re(n._path,t))}function m1(n,t){n=nn(n),d2("push",n._path),th("push",t,n._path,!0);const e=m2(n._repo),i=tj(e),r=Ou(n,i),o=Ou(n,i);let c;return c=Promise.resolve(o),r.then=c.then.bind(c),r.catch=c.then.bind(c,void 0),r}function xi(n,t){n=nn(n),d2("set",n._path),th("set",t,n._path,!1);const e=new Hu;return qL(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function ai(n,t){DL("update",t,n._path);const e=new Hu;return WL(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function il(n){n=nn(n);const t=new b2(()=>{}),e=new gg(t);return VL(n._repo,n,e).then(i=>new Mu(i,new Qs(n._repo,n._path),n._queryParams.getIndex()))}class gg{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,e){const i=e._queryParams.getIndex();return new ej("value",this,new Mu(t.snapshotNode,new Qs(e._repo,e._path),i))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new nj(this,t,e):null}matches(t){return t instanceof gg?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function sj(n,t,e,i,r){let o;if(typeof i=="object"&&(o=void 0,r=i),typeof i=="function"&&(o=i),r&&r.onlyOnce){const d=e,g=(y,b)=>{d1(n._repo,n,h),d(y,b)};g.userCallback=e.userCallback,g.context=e.context,e=g}const c=new b2(e,o||void 0),h=new gg(c);return GL(n._repo,n,h),()=>d1(n._repo,n,h)}function vi(n,t,e,i){return sj(n,"value",t,e,i)}class mg{}class rj extends mg{constructor(t,e){super(),this._value=t,this._key=e,this.type="endAt"}_apply(t){th("endAt",this._value,t._path,!0);const e=p4(t._queryParams,this._value,this._key);if(x2(e),X_(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ol(t._repo,t._path,e,t._orderByCalled)}}class aj extends mg{constructor(t,e){super(),this._value=t,this._key=e,this.type="startAt"}_apply(t){th("startAt",this._value,t._path,!0);const e=m4(t._queryParams,this._value,this._key);if(x2(e),X_(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ol(t._repo,t._path,e,t._orderByCalled)}}class oj extends mg{constructor(t){super(),this._path=t,this.type="orderByChild"}_apply(t){ij(t,"orderByChild");const e=new re(this._path);if(kt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new E_(e),r=y4(t._queryParams,i);return X_(r),new Ol(t._repo,t._path,r,!0)}}function lj(n){return q_("orderByChild","path",n),new oj(n)}class cj extends mg{constructor(t,e){super(),this._value=t,this._key=e,this.type="equalTo"}_apply(t){if(th("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new rj(this._value,this._key)._apply(new aj(this._value,this._key)._apply(t))}}function uj(n,t){return new cj(n,t)}function hj(n,...t){let e=nn(n);for(const i of t)e=i._apply(e);return e}rL(Qs);uL(Qs);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj="FIREBASE_DATABASE_EMULATOR_HOST",Oy={};let fj=!1;function gj(n,t,e,i){const r=t.lastIndexOf(":"),o=t.substring(0,r),c=io(o);n.repoInfo_=new wT(t,c,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,e),i&&(n.authTokenProvider_=i)}function mj(n,t,e,i,r){let o=i||n.options.databaseURL;o===void 0&&(n.options.projectId||Ys("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ln("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let c=f1(o,r),h=c.repoInfo,d;typeof process<"u"&&Iw&&(d=Iw[dj]),d?(o=`http://${d}?ns=${h.namespace}`,c=f1(o,r),h=c.repoInfo):c.repoInfo.secure;const g=new bI(n.name,n.options,t);LL("Invalid Firebase Database URL",c),kt(c.path)||Ys("Database URL must point to the root of a Firebase Database (not including a child path).");const y=yj(h,n,g,new vI(n,e));return new _j(y,n)}function pj(n,t){const e=Oy[t];(!e||e[n.key]!==n)&&Ys(`Database ${t}(${n.repoInfo_}) has already been deleted.`),$L(n),delete e[n.key]}function yj(n,t,e,i){let r=Oy[t.name];r||(r={},Oy[t.name]=r);let o=r[n.toURLString()];return o&&Ys("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new BL(n,fj,e,i),r[n.toURLString()]=o,o}class _j{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(HL(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Qs(this._repo,Wt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(pj(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Ys("Cannot call "+t+" on a deleted database.")}}function vj(n=Jy(),t){const e=tg(n,"database").getImmediate({identifier:t});if(!e._instanceStarted){const i=aE("database");i&&bj(e,...i)}return e}function bj(n,t,e,i={}){n=nn(n),n._checkNotDeleted("useEmulator");const r=`${t}:${e}`,o=n._repoInternal;if(n._instanceStarted){if(r===n._repoInternal.repoInfo_.host&&zr(i,o.repoInfo_.emulatorOptions))return;Ys("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let c;if(o.repoInfo_.nodeAdmin)i.mockUserToken&&Ys('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new nf(nf.OWNER);else if(i.mockUserToken){const h=typeof i.mockUserToken=="string"?i.mockUserToken:cE(i.mockUserToken,n.app.options.projectId);c=new nf(h)}io(t)&&(Xy(t),Qy("Database",!0)),gj(o,r,i,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xj(n){iI(so),Xa(new Br("database",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return mj(i,r,o,e)},"PUBLIC").setMultipleInstances(!0)),Ji(Lw,jw,n),Ji(Lw,jw,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj={".sv":"timestamp"};function hl(){return wj}function Gp(n){return{".sv":{increment:n}}}Fs.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)};Fs.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)};xj();const Sj={apiKey:"AIzaSyArw4hta6dNfJRp48bY5Z2b47ag_R5G-mI",authDomain:"studi-2e08c.firebaseapp.com",projectId:"studi-2e08c",storageBucket:"studi-2e08c.firebasestorage.app",messagingSenderId:"414723164531",appId:"1:414723164531:web:9c553047baef7d1b681d06",measurementId:"G-FNRLSJDHG8",databaseURL:"https://studi-2e08c-default-rtdb.firebaseio.com"},Q_=gE(Sj),cn=JE(Q_),w2=new Ds;w2.setCustomParameters({prompt:"select_account"});ZD(Q_);const Bt=vj(Q_),S2=z.createContext();function pg(){const n=z.useContext(S2);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n}function E2({children:n}){const[t,e]=z.useState(null),[i,r]=z.useState(!0);async function o(y,b,x){try{const E=await cO(cn,y,b);await zE(E.user,{displayName:x});const A=zt(Bt,`users/${E.user.uid}`);return await xi(A,{displayName:x,email:y,createdAt:Date.now(),points:0,bestAnswers:0,activeDays:1,emailVerified:!0,photoURL:"",bio:""}),E}catch(E){throw E}}function c(y,b){return uO(cn,y,b)}function h(){return HE(cn)}async function d(){try{const y=await DO(cn,w2),b=y.user,x=zt(Bt,`users/${b.uid}`);return(await get(x)).exists()||await xi(x,{displayName:b.displayName||"",email:b.email||"",createdAt:Date.now(),points:0,bestAnswers:0,activeDays:1,photoURL:b.photoURL||"",bio:""}),y}catch(y){throw y}}z.useEffect(()=>BE(cn,b=>{e(b),r(!1)}),[]);const g={currentUser:t,signup:o,login:c,logout:h,googleSignIn:d};return _.jsx(S2.Provider,{value:g,children:!i&&n})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Ej(n,t,e,i){function r(o){return o instanceof e?o:new e(function(c){c(o)})}return new(e||(e=Promise))(function(o,c){function h(y){try{g(i.next(y))}catch(b){c(b)}}function d(y){try{g(i.throw(y))}catch(b){c(b)}}function g(y){y.done?o(y.value):r(y.value).then(h,d)}g((i=i.apply(n,[])).next())})}function Tj(n,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,r,o,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(g){return function(y){return d([g,y])}}function d(g){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(o=g[0]&2?r.return:g[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,g[1])).done)return o;switch(r=0,o&&(g=[g[0]&2,o.value]),g[0]){case 0:case 1:o=g;break;case 4:return e.label++,{value:g[1],done:!1};case 5:e.label++,r=g[1],g=[0];continue;case 7:g=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(g[0]===6||g[0]===2)){e=0;continue}if(g[0]===3&&(!o||g[1]>o[0]&&g[1]<o[3])){e.label=g[1];break}if(g[0]===6&&e.label<o[1]){e.label=o[1],o=g;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(g);break}o[2]&&e.ops.pop(),e.trys.pop();continue}g=t.call(n,e)}catch(y){g=[6,y],r=0}finally{i=o=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var rl=function(){return rl=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++){e=arguments[i];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},rl.apply(this,arguments)},T2=function(n){return{loading:n==null,value:n}},Cj=function(){return function(n,t){switch(t.type){case"error":return rl(rl({},n),{error:t.error,loading:!1,value:void 0});case"reset":return T2(t.defaultValue);case"value":return rl(rl({},n),{error:void 0,loading:!1,value:t.value});default:return n}}},Aj=function(n){var t=n?n():void 0,e=z.useReducer(Cj(),T2(t)),i=e[0],r=e[1],o=z.useCallback(function(){var d=n?n():void 0;r({type:"reset",defaultValue:d})},[n]),c=z.useCallback(function(d){r({type:"error",error:d})},[]),h=z.useCallback(function(d){r({type:"value",value:d})},[]);return z.useMemo(function(){return{error:i.error,loading:i.loading,reset:o,setError:c,setValue:h,value:i.value}},[i.error,i.loading,o,c,h,i.value])},yg=function(n,t){var e=Aj(function(){return n.currentUser}),i=e.error,r=e.loading,o=e.setError,c=e.setValue,h=e.value;return z.useEffect(function(){var d=BE(n,function(g){return Ej(void 0,void 0,void 0,function(){var y;return Tj(this,function(b){switch(b.label){case 0:return[3,4];case 1:return b.trys.push([1,3,,4]),[4,t.onUserChanged(g)];case 2:return b.sent(),[3,4];case 3:return y=b.sent(),o(y),[3,4];case 4:return c(g),[2]}})})},o);return function(){d()}},[n]),[h,r,i]};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function nh(n){return n+.5|0}const Or=(n,t,e)=>Math.max(Math.min(n,e),t);function nu(n){return Or(nh(n*2.55),0,255)}function Ur(n){return Or(nh(n*255),0,255)}function Os(n){return Or(nh(n/2.55)/100,0,1)}function p1(n){return Or(nh(n*100),0,100)}const ii={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Dy=[..."0123456789ABCDEF"],Nj=n=>Dy[n&15],kj=n=>Dy[(n&240)>>4]+Dy[n&15],Id=n=>(n&240)>>4===(n&15),Rj=n=>Id(n.r)&&Id(n.g)&&Id(n.b)&&Id(n.a);function Mj(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&ii[n[1]]*17,g:255&ii[n[2]]*17,b:255&ii[n[3]]*17,a:t===5?ii[n[4]]*17:255}:(t===7||t===9)&&(e={r:ii[n[1]]<<4|ii[n[2]],g:ii[n[3]]<<4|ii[n[4]],b:ii[n[5]]<<4|ii[n[6]],a:t===9?ii[n[7]]<<4|ii[n[8]]:255})),e}const Oj=(n,t)=>n<255?t(n):"";function Dj(n){var t=Rj(n)?Nj:kj;return n?"#"+t(n.r)+t(n.g)+t(n.b)+Oj(n.a,t):void 0}const Ij=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function C2(n,t,e){const i=t*Math.min(e,1-e),r=(o,c=(o+n/30)%12)=>e-i*Math.max(Math.min(c-3,9-c,1),-1);return[r(0),r(8),r(4)]}function Lj(n,t,e){const i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function jj(n,t,e){const i=C2(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function Pj(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function K_(n){const e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),c=Math.min(e,i,r),h=(o+c)/2;let d,g,y;return o!==c&&(y=o-c,g=h>.5?y/(2-o-c):y/(o+c),d=Pj(e,i,r,y,o),d=d*60+.5),[d|0,g||0,h]}function Z_(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(Ur)}function J_(n,t,e){return Z_(C2,n,t,e)}function Uj(n,t,e){return Z_(jj,n,t,e)}function zj(n,t,e){return Z_(Lj,n,t,e)}function A2(n){return(n%360+360)%360}function Bj(n){const t=Ij.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?nu(+t[5]):Ur(+t[5]));const r=A2(+t[2]),o=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?i=Uj(r,o,c):t[1]==="hsv"?i=zj(r,o,c):i=J_(r,o,c),{r:i[0],g:i[1],b:i[2],a:e}}function Hj(n,t){var e=K_(n);e[0]=A2(e[0]+t),e=J_(e),n.r=e[0],n.g=e[1],n.b=e[2]}function Fj(n){if(!n)return;const t=K_(n),e=t[0],i=p1(t[1]),r=p1(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${Os(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const y1={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},_1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Vj(){const n={},t=Object.keys(_1),e=Object.keys(y1);let i,r,o,c,h;for(i=0;i<t.length;i++){for(c=h=t[i],r=0;r<e.length;r++)o=e[r],h=h.replace(o,y1[o]);o=parseInt(_1[c],16),n[h]=[o>>16&255,o>>8&255,o&255]}return n}let Ld;function qj(n){Ld||(Ld=Vj(),Ld.transparent=[0,0,0,0]);const t=Ld[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Wj=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Yj(n){const t=Wj.exec(n);let e=255,i,r,o;if(t){if(t[7]!==i){const c=+t[7];e=t[8]?nu(c):Or(c*255,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?nu(i):Or(i,0,255)),r=255&(t[4]?nu(r):Or(r,0,255)),o=255&(t[6]?nu(o):Or(o,0,255)),{r:i,g:r,b:o,a:e}}}function Gj(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Os(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const $p=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,tl=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function $j(n,t,e){const i=tl(Os(n.r)),r=tl(Os(n.g)),o=tl(Os(n.b));return{r:Ur($p(i+e*(tl(Os(t.r))-i))),g:Ur($p(r+e*(tl(Os(t.g))-r))),b:Ur($p(o+e*(tl(Os(t.b))-o))),a:n.a+e*(t.a-n.a)}}function jd(n,t,e){if(n){let i=K_(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=J_(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function N2(n,t){return n&&Object.assign(t||{},n)}function v1(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Ur(n[3]))):(t=N2(n,{r:0,g:0,b:0,a:1}),t.a=Ur(t.a)),t}function Xj(n){return n.charAt(0)==="r"?Yj(n):Bj(n)}class Du{constructor(t){if(t instanceof Du)return t;const e=typeof t;let i;e==="object"?i=v1(t):e==="string"&&(i=Mj(t)||qj(t)||Xj(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=N2(this._rgb);return t&&(t.a=Os(t.a)),t}set rgb(t){this._rgb=v1(t)}rgbString(){return this._valid?Gj(this._rgb):void 0}hexString(){return this._valid?Dj(this._rgb):void 0}hslString(){return this._valid?Fj(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let o;const c=e===o?.5:e,h=2*c-1,d=i.a-r.a,g=((h*d===-1?h:(h+d)/(1+h*d))+1)/2;o=1-g,i.r=255&g*i.r+o*r.r+.5,i.g=255&g*i.g+o*r.g+.5,i.b=255&g*i.b+o*r.b+.5,i.a=c*i.a+(1-c)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=$j(this._rgb,t._rgb,e)),this}clone(){return new Du(this.rgb)}alpha(t){return this._rgb.a=Ur(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=nh(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return jd(this._rgb,2,t),this}darken(t){return jd(this._rgb,2,-t),this}saturate(t){return jd(this._rgb,1,t),this}desaturate(t){return jd(this._rgb,1,-t),this}rotate(t){return Hj(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ks(){}const Qj=(()=>{let n=0;return()=>n++})();function Te(n){return n==null}function en(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Vt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function ci(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Yi(n,t){return ci(n)?n:t}function Qt(n,t){return typeof n>"u"?t:n}const Kj=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,k2=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function _e(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function se(n,t,e,i){let r,o,c;if(en(n))for(o=n.length,r=0;r<o;r++)t.call(e,n[r],r);else if(Vt(n))for(c=Object.keys(n),o=c.length,r=0;r<o;r++)t.call(e,n[c[r]],c[r])}function Of(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function Df(n){if(en(n))return n.map(Df);if(Vt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=Df(n[e[r]]);return t}return n}function R2(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function Zj(n,t,e,i){if(!R2(n))return;const r=t[n],o=e[n];Vt(r)&&Vt(o)?Iu(r,o,i):t[n]=Df(o)}function Iu(n,t,e){const i=en(t)?t:[t],r=i.length;if(!Vt(n))return n;e=e||{};const o=e.merger||Zj;let c;for(let h=0;h<r;++h){if(c=i[h],!Vt(c))continue;const d=Object.keys(c);for(let g=0,y=d.length;g<y;++g)o(d[g],n,c,e)}return n}function mu(n,t){return Iu(n,t,{merger:Jj})}function Jj(n,t,e){if(!R2(n))return;const i=t[n],r=e[n];Vt(i)&&Vt(r)?mu(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Df(r))}const b1={"":n=>n,x:n=>n.x,y:n=>n.y};function t6(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function e6(n){const t=t6(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Lu(n,t){return(b1[t]||(b1[t]=e6(t)))(n)}function t0(n){return n.charAt(0).toUpperCase()+n.slice(1)}const If=n=>typeof n<"u",Yr=n=>typeof n=="function",x1=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function n6(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const ge=Math.PI,Be=2*ge,Lf=Number.POSITIVE_INFINITY,i6=ge/180,Ye=ge/2,Da=ge/4,w1=ge*2/3,M2=Math.log10,jf=Math.sign;function sf(n,t,e){return Math.abs(n-t)<e}function S1(n){const t=Math.round(n);n=sf(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(M2(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function s6(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function r6(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Pf(n){return!r6(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function a6(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function o6(n,t,e){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Us(n){return n*(ge/180)}function l6(n){return n*(180/ge)}function E1(n){if(!ci(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function O2(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*ge&&(o+=Be),{angle:o,distance:r}}function c6(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function Qi(n){return(n%Be+Be)%Be}function Uf(n,t,e,i){const r=Qi(n),o=Qi(t),c=Qi(e),h=Qi(o-r),d=Qi(c-r),g=Qi(r-o),y=Qi(r-c);return r===o||r===c||i&&o===c||h>d&&g<y}function In(n,t,e){return Math.max(t,Math.min(e,n))}function u6(n){return In(n,-32768,32767)}function qa(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function e0(n,t,e){e=e||(c=>n[c]<t);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const Iy=(n,t,e,i)=>e0(n,e,i?r=>{const o=n[r][t];return o<e||o===e&&n[r+1][t]===e}:r=>n[r][t]<e),h6=(n,t,e)=>e0(n,e,i=>n[i][t]>=e);function d6(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const D2=["push","pop","shift","splice","unshift"];function f6(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),D2.forEach(e=>{const i="_onData"+t0(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const c=r.apply(this,o);return n._chartjs.listeners.forEach(h=>{typeof h[i]=="function"&&h[i](...o)}),c}})})}function T1(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(D2.forEach(o=>{delete n[o]}),delete n._chartjs)}function g6(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const I2=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function L2(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,I2.call(window,()=>{i=!1,n.apply(t,e)}))}}function m6(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const n0=n=>n==="start"?"left":n==="end"?"right":"center",mn=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,p6=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t,Pd=n=>n===0||n===1,C1=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*Be/e)),A1=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*Be/e)+1,pu={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Ye)+1,easeOutSine:n=>Math.sin(n*Ye),easeInOutSine:n=>-.5*(Math.cos(ge*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Pd(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Pd(n)?n:C1(n,.075,.3),easeOutElastic:n=>Pd(n)?n:A1(n,.075,.3),easeInOutElastic(n){return Pd(n)?n:n<.5?.5*C1(n*2,.1125,.45):.5+.5*A1(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-pu.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?pu.easeInBounce(n*2)*.5:pu.easeOutBounce(n*2-1)*.5+.5};function j2(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function N1(n){return j2(n)?n:new Du(n)}function Xp(n){return j2(n)?n:new Du(n).saturate(.5).darken(.1).hexString()}const y6=["x","y","borderWidth","radius","tension"],_6=["color","borderColor","backgroundColor"];function v6(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:_6},numbers:{type:"number",properties:y6}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function b6(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const k1=new Map;function x6(n,t){t=t||{};const e=n+JSON.stringify(t);let i=k1.get(e);return i||(i=new Intl.NumberFormat(n,t),k1.set(e,i)),i}function i0(n,t,e){return x6(t,e).format(n)}const w6={values(n){return en(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,o=n;if(e.length>1){const g=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(g<1e-4||g>1e15)&&(r="scientific"),o=S6(n,e)}const c=M2(Math.abs(o)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),d={notation:r,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(d,this.options.ticks.format),i0(n,i,d)}};function S6(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var P2={formatters:w6};function E6(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:P2.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const no=Object.create(null),Ly=Object.create(null);function yu(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function Qp(n,t,e){return typeof t=="string"?Iu(yu(n,t),e):Iu(yu(n,""),t)}class T6{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Xp(r.backgroundColor),this.hoverBorderColor=(i,r)=>Xp(r.borderColor),this.hoverColor=(i,r)=>Xp(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Qp(this,t,e)}get(t){return yu(this,t)}describe(t,e){return Qp(Ly,t,e)}override(t,e){return Qp(no,t,e)}route(t,e,i,r){const o=yu(this,t),c=yu(this,i),h="_"+e;Object.defineProperties(o,{[h]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const d=this[h],g=c[r];return Vt(d)?Object.assign({},g,d):Qt(d,g)},set(d){this[h]=d}}})}apply(t){t.forEach(e=>e(this))}}var Ie=new T6({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[v6,b6,E6]);function C6(n){return!n||Te(n.size)||Te(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function R1(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function Ia(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function M1(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function O1(n,t,e,i){U2(n,t,e,i,null)}function U2(n,t,e,i,r){let o,c,h,d,g,y,b,x;const E=t.pointStyle,A=t.rotation,M=t.radius;let R=(A||0)*i6;if(E&&typeof E=="object"&&(o=E.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(R),n.drawImage(E,-E.width/2,-E.height/2,E.width,E.height),n.restore();return}if(!(isNaN(M)||M<=0)){switch(n.beginPath(),E){default:r?n.ellipse(e,i,r/2,M,0,0,Be):n.arc(e,i,M,0,Be),n.closePath();break;case"triangle":y=r?r/2:M,n.moveTo(e+Math.sin(R)*y,i-Math.cos(R)*M),R+=w1,n.lineTo(e+Math.sin(R)*y,i-Math.cos(R)*M),R+=w1,n.lineTo(e+Math.sin(R)*y,i-Math.cos(R)*M),n.closePath();break;case"rectRounded":g=M*.516,d=M-g,c=Math.cos(R+Da)*d,b=Math.cos(R+Da)*(r?r/2-g:d),h=Math.sin(R+Da)*d,x=Math.sin(R+Da)*(r?r/2-g:d),n.arc(e-b,i-h,g,R-ge,R-Ye),n.arc(e+x,i-c,g,R-Ye,R),n.arc(e+b,i+h,g,R,R+Ye),n.arc(e-x,i+c,g,R+Ye,R+ge),n.closePath();break;case"rect":if(!A){d=Math.SQRT1_2*M,y=r?r/2:d,n.rect(e-y,i-d,2*y,2*d);break}R+=Da;case"rectRot":b=Math.cos(R)*(r?r/2:M),c=Math.cos(R)*M,h=Math.sin(R)*M,x=Math.sin(R)*(r?r/2:M),n.moveTo(e-b,i-h),n.lineTo(e+x,i-c),n.lineTo(e+b,i+h),n.lineTo(e-x,i+c),n.closePath();break;case"crossRot":R+=Da;case"cross":b=Math.cos(R)*(r?r/2:M),c=Math.cos(R)*M,h=Math.sin(R)*M,x=Math.sin(R)*(r?r/2:M),n.moveTo(e-b,i-h),n.lineTo(e+b,i+h),n.moveTo(e+x,i-c),n.lineTo(e-x,i+c);break;case"star":b=Math.cos(R)*(r?r/2:M),c=Math.cos(R)*M,h=Math.sin(R)*M,x=Math.sin(R)*(r?r/2:M),n.moveTo(e-b,i-h),n.lineTo(e+b,i+h),n.moveTo(e+x,i-c),n.lineTo(e-x,i+c),R+=Da,b=Math.cos(R)*(r?r/2:M),c=Math.cos(R)*M,h=Math.sin(R)*M,x=Math.sin(R)*(r?r/2:M),n.moveTo(e-b,i-h),n.lineTo(e+b,i+h),n.moveTo(e+x,i-c),n.lineTo(e-x,i+c);break;case"line":c=r?r/2:Math.cos(R)*M,h=Math.sin(R)*M,n.moveTo(e-c,i-h),n.lineTo(e+c,i+h);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(R)*(r?r/2:M),i+Math.sin(R)*M);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function z2(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function s0(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function r0(n){n.restore()}function A6(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Te(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function N6(n,t,e,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),c=t-o.actualBoundingBoxLeft,h=t+o.actualBoundingBoxRight,d=e-o.actualBoundingBoxAscent,g=e+o.actualBoundingBoxDescent,y=r.strikethrough?(d+g)/2:g;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(c,y),n.lineTo(h,y),n.stroke()}}function k6(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function ju(n,t,e,i,r,o={}){const c=en(t)?t:[t],h=o.strokeWidth>0&&o.strokeColor!=="";let d,g;for(n.save(),n.font=r.string,A6(n,o),d=0;d<c.length;++d)g=c[d],o.backdrop&&k6(n,o.backdrop),h&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),Te(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(g,e,i,o.maxWidth)),n.fillText(g,e,i,o.maxWidth),N6(n,e,i,g,o),i+=Number(r.lineHeight);n.restore()}function zf(n,t){const{x:e,y:i,w:r,h:o,radius:c}=t;n.arc(e+c.topLeft,i+c.topLeft,c.topLeft,1.5*ge,ge,!0),n.lineTo(e,i+o-c.bottomLeft),n.arc(e+c.bottomLeft,i+o-c.bottomLeft,c.bottomLeft,ge,Ye,!0),n.lineTo(e+r-c.bottomRight,i+o),n.arc(e+r-c.bottomRight,i+o-c.bottomRight,c.bottomRight,Ye,0,!0),n.lineTo(e+r,i+c.topRight),n.arc(e+r-c.topRight,i+c.topRight,c.topRight,0,-Ye,!0),n.lineTo(e+c.topLeft,i)}const R6=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,M6=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function O6(n,t){const e=(""+n).match(R6);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const D6=n=>+n||0;function a0(n,t){const e={},i=Vt(t),r=i?Object.keys(t):t,o=Vt(n)?i?c=>Qt(n[c],n[t[c]]):c=>n[c]:()=>n;for(const c of r)e[c]=D6(o(c));return e}function B2(n){return a0(n,{top:"y",right:"x",bottom:"y",left:"x"})}function dl(n){return a0(n,["topLeft","topRight","bottomLeft","bottomRight"])}function ui(n){const t=B2(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function pn(n,t){n=n||{},t=t||Ie.font;let e=Qt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Qt(n.style,t.style);i&&!(""+i).match(M6)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Qt(n.family,t.family),lineHeight:O6(Qt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Qt(n.weight,t.weight),string:""};return r.string=C6(r),r}function Ud(n,t,e,i){let r,o,c;for(r=0,o=n.length;r<o;++r)if(c=n[r],c!==void 0&&c!==void 0)return c}function I6(n,t,e){const{min:i,max:r}=n,o=k2(t,(r-i)/2),c=(h,d)=>e&&h===0?0:h+d;return{min:c(i,-Math.abs(o)),max:c(r,o)}}function Dl(n,t){return Object.assign(Object.create(n),t)}function o0(n,t=[""],e,i,r=()=>n[0]){const o=e||n;typeof i>"u"&&(i=q2("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:h=>o0([h,...n],t,o,i)};return new Proxy(c,{deleteProperty(h,d){return delete h[d],delete h._keys,delete n[0][d],!0},get(h,d){return F2(h,d,()=>F6(d,t,n,h))},getOwnPropertyDescriptor(h,d){return Reflect.getOwnPropertyDescriptor(h._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,d){return I1(h).includes(d)},ownKeys(h){return I1(h)},set(h,d,g){const y=h._storage||(h._storage=r());return h[d]=y[d]=g,delete h._keys,!0}})}function xl(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:H2(n,i),setContext:o=>xl(n,o,e,i),override:o=>xl(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty(o,c){return delete o[c],delete n[c],!0},get(o,c,h){return F2(o,c,()=>j6(o,c,h))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(o,c,h){return n[c]=h,delete o[c],!0}})}function H2(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:Yr(e)?e:()=>e,isIndexable:Yr(i)?i:()=>i}}const L6=(n,t)=>n?n+t0(t):t,l0=(n,t)=>Vt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function F2(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function j6(n,t,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:c}=n;let h=i[t];return Yr(h)&&c.isScriptable(t)&&(h=P6(t,h,n,e)),en(h)&&h.length&&(h=U6(t,h,n,c.isIndexable)),l0(t,h)&&(h=xl(h,r,o&&o[t],c)),h}function P6(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_stack:h}=e;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let d=t(o,c||i);return h.delete(n),l0(n,d)&&(d=c0(r._scopes,r,n,d)),d}function U6(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_descriptors:h}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(Vt(t[0])){const d=t,g=r._scopes.filter(y=>y!==d);t=[];for(const y of d){const b=c0(g,r,n,y);t.push(xl(b,o,c&&c[n],h))}}return t}function V2(n,t,e){return Yr(n)?n(t,e):n}const z6=(n,t)=>n===!0?t:typeof n=="string"?Lu(t,n):void 0;function B6(n,t,e,i,r){for(const o of t){const c=z6(e,o);if(c){n.add(c);const h=V2(c._fallback,e,r);if(typeof h<"u"&&h!==e&&h!==i)return h}else if(c===!1&&typeof i<"u"&&e!==i)return null}return!1}function c0(n,t,e,i){const r=t._rootScopes,o=V2(t._fallback,e,i),c=[...n,...r],h=new Set;h.add(i);let d=D1(h,c,e,o||e,i);return d===null||typeof o<"u"&&o!==e&&(d=D1(h,c,o,d,i),d===null)?!1:o0(Array.from(h),[""],r,o,()=>H6(t,e,i))}function D1(n,t,e,i,r){for(;e;)e=B6(n,t,e,i,r);return e}function H6(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return en(r)&&Vt(e)?e:r||{}}function F6(n,t,e,i){let r;for(const o of t)if(r=q2(L6(o,n),e),typeof r<"u")return l0(n,r)?c0(e,i,n,r):r}function q2(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function I1(n){let t=n._keys;return t||(t=n._keys=V6(n._scopes)),t}function V6(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}function u0(){return typeof window<"u"&&typeof document<"u"}function h0(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Bf(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const _g=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function q6(n,t){return _g(n).getPropertyValue(t)}const W6=["top","right","bottom","left"];function $a(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=W6[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const Y6=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function G6(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i;let c=!1,h,d;if(Y6(r,o,n.target))h=r,d=o;else{const g=t.getBoundingClientRect();h=i.clientX-g.left,d=i.clientY-g.top,c=!0}return{x:h,y:d,box:c}}function Ua(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=_g(e),o=r.boxSizing==="border-box",c=$a(r,"padding"),h=$a(r,"border","width"),{x:d,y:g,box:y}=G6(n,e),b=c.left+(y&&h.left),x=c.top+(y&&h.top);let{width:E,height:A}=t;return o&&(E-=c.width+h.width,A-=c.height+h.height),{x:Math.round((d-b)/E*e.width/i),y:Math.round((g-x)/A*e.height/i)}}function $6(n,t,e){let i,r;if(t===void 0||e===void 0){const o=n&&h0(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const c=o.getBoundingClientRect(),h=_g(o),d=$a(h,"border","width"),g=$a(h,"padding");t=c.width-g.width-d.width,e=c.height-g.height-d.height,i=Bf(h.maxWidth,o,"clientWidth"),r=Bf(h.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||Lf,maxHeight:r||Lf}}const zd=n=>Math.round(n*10)/10;function X6(n,t,e,i){const r=_g(n),o=$a(r,"margin"),c=Bf(r.maxWidth,n,"clientWidth")||Lf,h=Bf(r.maxHeight,n,"clientHeight")||Lf,d=$6(n,t,e);let{width:g,height:y}=d;if(r.boxSizing==="content-box"){const x=$a(r,"border","width"),E=$a(r,"padding");g-=E.width+x.width,y-=E.height+x.height}return g=Math.max(0,g-o.width),y=Math.max(0,i?g/i:y-o.height),g=zd(Math.min(g,c,d.maxWidth)),y=zd(Math.min(y,h,d.maxHeight)),g&&!y&&(y=zd(g/2)),(t!==void 0||e!==void 0)&&i&&d.height&&y>d.height&&(y=d.height,g=zd(Math.floor(y*i))),{width:g,height:y}}function L1(n,t,e){const i=t||1,r=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const c=n.canvas;return c.style&&(e||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||c.height!==r||c.width!==o?(n.currentDevicePixelRatio=i,c.height=r,c.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const Q6=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};u0()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function j1(n,t){const e=q6(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const K6=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},Z6=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function fl(n,t,e){return n?K6(t,e):Z6()}function W2(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function Y2(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function Bd(n,t,e){return n.options.clip?n[e]:t[e]}function J6(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:Bd(e,t,"left"),right:Bd(e,t,"right"),top:Bd(i,t,"top"),bottom:Bd(i,t,"bottom")}:t}function tP(n,t){const e=t._clip;if(e.disabled)return!1;const i=J6(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class eP{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const o=e.listeners[r],c=e.duration;o.forEach(h=>h({chart:t,initial:e.initial,numSteps:c,currentStep:Math.min(i-e.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=I2.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let c=o.length-1,h=!1,d;for(;c>=0;--c)d=o[c],d._active?(d._total>i.duration&&(i.duration=d._total),d.tick(t),h=!0):(o[c]=o[o.length-1],o.pop());h&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Rs=new eP;const P1="transparent",nP={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=N1(n||P1),r=i.valid&&N1(t||P1);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class iP{constructor(t,e,i,r){const o=e[i];r=Ud([t.to,r,o,t.from]);const c=Ud([t.from,o,r]);this._active=!0,this._fn=t.fn||nP[t.type||typeof c],this._easing=pu[t.easing]||pu.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=c,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,c=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Ud([t.to,e,r,t.from]),this._from=Ud([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,o=this._from,c=this._loop,h=this._to;let d;if(this._active=o!==h&&(c||e<i),!this._active){this._target[r]=h,this._notify(!0);return}if(e<0){this._target[r]=o;return}d=e/i%2,d=c&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[r]=this._fn(o,h,d)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class G2{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Vt(t))return;const e=Object.keys(Ie.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!Vt(o))return;const c={};for(const h of e)c[h]=o[h];(en(o.properties)&&o.properties||[r]).forEach(h=>{(h===r||!i.has(h))&&i.set(h,c)})})}_animateOptions(t,e){const i=e.options,r=rP(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&sP(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),c=Object.keys(e),h=Date.now();let d;for(d=c.length-1;d>=0;--d){const g=c[d];if(g.charAt(0)==="$")continue;if(g==="options"){r.push(...this._animateOptions(t,e));continue}const y=e[g];let b=o[g];const x=i.get(g);if(b)if(x&&b.active()){b.update(x,y,h);continue}else b.cancel();if(!x||!x.duration){t[g]=y;continue}o[g]=b=new iP(x,t,g,y),r.push(b)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return Rs.add(this._chart,i),!0}}function sP(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function rP(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function U1(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:r,end:i?r:o}}function aP(n,t,e){if(e===!1)return!1;const i=U1(n,e),r=U1(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function oP(n){let t,e,i,r;return Vt(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function $2(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function z1(n,t,e,i={}){const r=n.keys,o=i.mode==="single";let c,h,d,g;if(t===null)return;let y=!1;for(c=0,h=r.length;c<h;++c){if(d=+r[c],d===e){if(y=!0,i.all)continue;break}g=n.values[d],ci(g)&&(o||t===0||jf(t)===jf(g))&&(t+=g)}return!y&&!i.all?0:t}function lP(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",c=Object.keys(n),h=new Array(c.length);let d,g,y;for(d=0,g=c.length;d<g;++d)y=c[d],h[d]={[r]:y,[o]:n[y]};return h}function Kp(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function cP(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function uP(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function hP(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function B1(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function H1(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:c,index:h}=i,d=o.axis,g=c.axis,y=cP(o,c,i),b=t.length;let x;for(let E=0;E<b;++E){const A=t[E],{[d]:M,[g]:R}=A,B=A._stacks||(A._stacks={});x=B[g]=hP(r,y,M),x[h]=R,x._top=B1(x,c,!0,i.type),x._bottom=B1(x,c,!1,i.type);const W=x._visualValues||(x._visualValues={});W[h]=R}}function Zp(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function dP(n,t){return Dl(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function fP(n,t,e){return Dl(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Yc(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const Jp=n=>n==="reset"||n==="none",F1=(n,t)=>t?n:Object.assign({},n),gP=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:$2(e,!0),values:null};class X2{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Kp(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Yc(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(b,x,E,A)=>b==="x"?x:b==="r"?A:E,o=e.xAxisID=Qt(i.xAxisID,Zp(t,"x")),c=e.yAxisID=Qt(i.yAxisID,Zp(t,"y")),h=e.rAxisID=Qt(i.rAxisID,Zp(t,"r")),d=e.indexAxis,g=e.iAxisID=r(d,o,c,h),y=e.vAxisID=r(d,c,o,h);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(c),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(g),e.vScale=this.getScaleForId(y)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&T1(this._data,this),t._stacked&&Yc(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Vt(e)){const r=this._cachedMeta;this._data=lP(e,r)}else if(i!==e){if(i){T1(i,this);const r=this._cachedMeta;Yc(r),r._parsed=[]}e&&Object.isExtensible(e)&&f6(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=e._stacked;e._stacked=Kp(e.vScale,e),e.stack!==i.stack&&(r=!0,Yc(e),e.stack=i.stack),this._resyncElements(t),(r||o!==e._stacked)&&(H1(this,e._parsed),e._stacked=Kp(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:c}=i,h=o.axis;let d=t===0&&e===r.length?!0:i._sorted,g=t>0&&i._parsed[t-1],y,b,x;if(this._parsing===!1)i._parsed=r,i._sorted=!0,x=r;else{en(r[t])?x=this.parseArrayData(i,r,t,e):Vt(r[t])?x=this.parseObjectData(i,r,t,e):x=this.parsePrimitiveData(i,r,t,e);const E=()=>b[h]===null||g&&b[h]<g[h];for(y=0;y<e;++y)i._parsed[y+t]=b=x[y],d&&(E()&&(d=!1),g=b);i._sorted=d}c&&H1(this,x)}parsePrimitiveData(t,e,i,r){const{iScale:o,vScale:c}=t,h=o.axis,d=c.axis,g=o.getLabels(),y=o===c,b=new Array(r);let x,E,A;for(x=0,E=r;x<E;++x)A=x+i,b[x]={[h]:y||o.parse(g[A],A),[d]:c.parse(e[A],A)};return b}parseArrayData(t,e,i,r){const{xScale:o,yScale:c}=t,h=new Array(r);let d,g,y,b;for(d=0,g=r;d<g;++d)y=d+i,b=e[y],h[d]={x:o.parse(b[0],y),y:c.parse(b[1],y)};return h}parseObjectData(t,e,i,r){const{xScale:o,yScale:c}=t,{xAxisKey:h="x",yAxisKey:d="y"}=this._parsing,g=new Array(r);let y,b,x,E;for(y=0,b=r;y<b;++y)x=y+i,E=e[x],g[y]={x:o.parse(Lu(E,h),x),y:c.parse(Lu(E,d),x)};return g}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,o=this._cachedMeta,c=e[t.axis],h={keys:$2(r,!0),values:e._stacks[t.axis]._visualValues};return z1(h,c,o.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const o=i[e.axis];let c=o===null?NaN:o;const h=r&&i._stacks[e.axis];r&&h&&(r.values=h,c=z1(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&t===i.iScale,c=r.length,h=this._getOtherScale(t),d=gP(e,i,this.chart),g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:y,max:b}=uP(h);let x,E;function A(){E=r[x];const M=E[h.axis];return!ci(E[t.axis])||y>M||b<M}for(x=0;x<c&&!(!A()&&(this.updateRangeFromParsed(g,t,E,d),o));++x);if(o){for(x=c-1;x>=0;--x)if(!A()){this.updateRangeFromParsed(g,t,E,d);break}}return g}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,o,c;for(r=0,o=e.length;r<o;++r)c=e[r][t.axis],ci(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=oP(Qt(this.options.clip,aP(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],o=e.chartArea,c=[],h=this._drawStart||0,d=this._drawCount||r.length-h,g=this.options.drawActiveElementsOnTop;let y;for(i.dataset&&i.dataset.draw(t,o,h,d),y=h;y<h+d;++y){const b=r[y];b.hidden||(b.active&&g?c.push(b):b.draw(t,o))}for(y=0;y<c.length;++y)c[y].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=fP(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=dP(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",o=this._cachedDataOpts,c=t+"-"+e,h=o[c],d=this.enableOptionSharing&&If(i);if(h)return F1(h,d);const g=this.chart.config,y=g.datasetElementScopeKeys(this._type,t),b=r?[`${t}Hover`,"hover",t,""]:[t,""],x=g.getOptionScopes(this.getDataset(),y),E=Object.keys(Ie.elements[t]),A=()=>this.getContext(i,r,e),M=g.resolveNamedOptions(x,E,A,b);return M.$shared&&(M.$shared=d,o[c]=Object.freeze(F1(M,d))),M}_resolveAnimations(t,e,i){const r=this.chart,o=this._cachedDataOpts,c=`animation-${e}`,h=o[c];if(h)return h;let d;if(r.options.animation!==!1){const y=this.chart.config,b=y.datasetAnimationScopeKeys(this._type,e),x=y.getOptionScopes(this.getDataset(),b);d=y.createResolver(x,this.getContext(t,i,e))}const g=new G2(r,d&&d.animations);return d&&d._cacheable&&(o[c]=Object.freeze(g)),g}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Jp(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,o=this.getSharedOptions(i),c=this.includeOptions(e,o)||o!==r;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:c}}updateElement(t,e,i,r){Jp(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!Jp(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const o=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[h,d,g]of this._syncList)this[h](d,g);this._syncList=[];const r=i.length,o=e.length,c=Math.min(o,r);c&&this.parse(0,c),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,e,i=!0){const r=this._cachedMeta,o=r.data,c=t+e;let h;const d=g=>{for(g.length+=e,h=g.length-1;h>=c;h--)g[h]=g[h-e]};for(d(o),h=t;h<c;++h)o[h]=new this.dataElementType;this._parsing&&d(r._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&Yc(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function mP(n,t,e){let i=1,r=1,o=0,c=0;if(t<Be){const h=n,d=h+t,g=Math.cos(h),y=Math.sin(h),b=Math.cos(d),x=Math.sin(d),E=(Y,tt,K)=>Uf(Y,h,d,!0)?1:Math.max(tt,tt*e,K,K*e),A=(Y,tt,K)=>Uf(Y,h,d,!0)?-1:Math.min(tt,tt*e,K,K*e),M=E(0,g,b),R=E(Ye,y,x),B=A(ge,g,b),W=A(ge+Ye,y,x);i=(M-B)/2,r=(R-W)/2,o=-(M+B)/2,c=-(R+W)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:c}}class pP extends X2{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((o,c)=>{const d=t.getDatasetMeta(0).controller.getStyle(c);return{text:o,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,fontColor:r,lineWidth:d.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(c),index:c}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let o=d=>+i[d];if(Vt(i[t])){const{key:d="value"}=this._parsing;o=g=>+Lu(i[g],d)}let c,h;for(c=t,h=t+e;c<h;++c)r._parsed[c]=o(c)}}_getRotation(){return Us(this.options.rotation-90)}_getCircumference(){return Us(this.options.circumference)}_getRotationExtents(){let t=Be,e=-Be;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,o=r._getRotation(),c=r._getCircumference();t=Math.min(t,o),e=Math.max(e,o+c)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,r=this._cachedMeta,o=r.data,c=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,h=Math.max((Math.min(i.width,i.height)-c)/2,0),d=Math.min(Kj(this.options.cutout,h),1),g=this._getRingWeight(this.index),{circumference:y,rotation:b}=this._getRotationExtents(),{ratioX:x,ratioY:E,offsetX:A,offsetY:M}=mP(b,y,d),R=(i.width-c)/x,B=(i.height-c)/E,W=Math.max(Math.min(R,B)/2,0),Y=k2(this.options.radius,W),tt=Math.max(Y*d,0),K=(Y-tt)/this._getVisibleDatasetWeightTotal();this.offsetX=A*Y,this.offsetY=M*Y,r.total=this.calculateTotal(),this.outerRadius=Y-K*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-K*g,0),this.updateElements(o,0,o.length,t)}_circumference(t,e){const i=this.options,r=this._cachedMeta,o=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*o/Be)}updateElements(t,e,i,r){const o=r==="reset",c=this.chart,h=c.chartArea,g=c.options.animation,y=(h.left+h.right)/2,b=(h.top+h.bottom)/2,x=o&&g.animateScale,E=x?0:this.innerRadius,A=x?0:this.outerRadius,{sharedOptions:M,includeOptions:R}=this._getSharedOptions(e,r);let B=this._getRotation(),W;for(W=0;W<e;++W)B+=this._circumference(W,o);for(W=e;W<e+i;++W){const Y=this._circumference(W,o),tt=t[W],K={x:y+this.offsetX,y:b+this.offsetY,startAngle:B,endAngle:B+Y,circumference:Y,outerRadius:A,innerRadius:E};R&&(K.options=M||this.resolveDataElementOptions(W,tt.active?"active":r)),B+=Y,this.updateElement(tt,W,K,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,r;for(r=0;r<e.length;r++){const o=t._parsed[r];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!e[r].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?Be*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=i0(e._parsed[t],i.options.locale);return{label:r[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const i=this.chart;let r,o,c,h,d;if(!t){for(r=0,o=i.data.datasets.length;r<o;++r)if(i.isDatasetVisible(r)){c=i.getDatasetMeta(r),t=c.data,h=c.controller;break}}if(!t)return 0;for(r=0,o=t.length;r<o;++r)d=h.resolveDataElementOptions(r),d.borderAlign!=="inner"&&(e=Math.max(e,d.borderWidth||0,d.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,r=t.length;i<r;++i){const o=this.resolveDataElementOptions(i);e=Math.max(e,o.offset||0,o.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(Qt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class yP extends pP{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function La(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class d0{static override(t){Object.assign(d0.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return La()}parse(){return La()}format(){return La()}add(){return La()}diff(){return La()}startOf(){return La()}endOf(){return La()}}var _P={_date:d0};function vP(n,t,e,i){const{controller:r,data:o,_sorted:c}=n,h=r._cachedMeta.iScale,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&c&&o.length){const g=h._reversePixels?h6:Iy;if(i){if(r._sharedOptions){const y=o[0],b=typeof y.getRange=="function"&&y.getRange(t);if(b){const x=g(o,t,e-b),E=g(o,t,e+b);return{lo:x.lo,hi:E.hi}}}}else{const y=g(o,t,e);if(d){const{vScale:b}=r._cachedMeta,{_parsed:x}=n,E=x.slice(0,y.lo+1).reverse().findIndex(M=>!Te(M[b.axis]));y.lo-=Math.max(0,E);const A=x.slice(y.hi).findIndex(M=>!Te(M[b.axis]));y.hi+=Math.max(0,A)}return y}}return{lo:0,hi:o.length-1}}function vg(n,t,e,i,r){const o=n.getSortedVisibleDatasetMetas(),c=e[t];for(let h=0,d=o.length;h<d;++h){const{index:g,data:y}=o[h],{lo:b,hi:x}=vP(o[h],t,c,r);for(let E=b;E<=x;++E){const A=y[E];A.skip||i(A,g,E)}}}function bP(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const o=t?Math.abs(i.x-r.x):0,c=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function ty(n,t,e,i,r){const o=[];return!r&&!n.isPointInArea(t)||vg(n,e,t,function(h,d,g){!r&&!z2(h,n.chartArea,0)||h.inRange(t.x,t.y,i)&&o.push({element:h,datasetIndex:d,index:g})},!0),o}function xP(n,t,e,i){let r=[];function o(c,h,d){const{startAngle:g,endAngle:y}=c.getProps(["startAngle","endAngle"],i),{angle:b}=O2(c,{x:t.x,y:t.y});Uf(b,g,y)&&r.push({element:c,datasetIndex:h,index:d})}return vg(n,e,t,o),r}function wP(n,t,e,i,r,o){let c=[];const h=bP(e);let d=Number.POSITIVE_INFINITY;function g(y,b,x){const E=y.inRange(t.x,t.y,r);if(i&&!E)return;const A=y.getCenterPoint(r);if(!(!!o||n.isPointInArea(A))&&!E)return;const R=h(t,A);R<d?(c=[{element:y,datasetIndex:b,index:x}],d=R):R===d&&c.push({element:y,datasetIndex:b,index:x})}return vg(n,e,t,g),c}function ey(n,t,e,i,r,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?xP(n,t,e,r):wP(n,t,e,i,r,o)}function V1(n,t,e,i,r){const o=[],c=e==="x"?"inXRange":"inYRange";let h=!1;return vg(n,e,t,(d,g,y)=>{d[c]&&d[c](t[e],r)&&(o.push({element:d,datasetIndex:g,index:y}),h=h||d.inRange(t.x,t.y,r))}),i&&!h?[]:o}var SP={modes:{index(n,t,e,i){const r=Ua(t,n),o=e.axis||"x",c=e.includeInvisible||!1,h=e.intersect?ty(n,r,o,i,c):ey(n,r,o,!1,i,c),d=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(g=>{const y=h[0].index,b=g.data[y];b&&!b.skip&&d.push({element:b,datasetIndex:g.index,index:y})}),d):[]},dataset(n,t,e,i){const r=Ua(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;let h=e.intersect?ty(n,r,o,i,c):ey(n,r,o,!1,i,c);if(h.length>0){const d=h[0].datasetIndex,g=n.getDatasetMeta(d).data;h=[];for(let y=0;y<g.length;++y)h.push({element:g[y],datasetIndex:d,index:y})}return h},point(n,t,e,i){const r=Ua(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return ty(n,r,o,i,c)},nearest(n,t,e,i){const r=Ua(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return ey(n,r,o,e.intersect,i,c)},x(n,t,e,i){const r=Ua(t,n);return V1(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=Ua(t,n);return V1(n,r,"y",e.intersect,i)}}};const Q2=["left","top","right","bottom"];function Gc(n,t){return n.filter(e=>e.pos===t)}function q1(n,t){return n.filter(e=>Q2.indexOf(e.pos)===-1&&e.box.axis===t)}function $c(n,t){return n.sort((e,i)=>{const r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function EP(n){const t=[];let e,i,r,o,c,h;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:o,options:{stack:c,stackWeight:h=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:c&&o+c,stackWeight:h});return t}function TP(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!Q2.includes(r))continue;const c=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return t}function CP(n,t){const e=TP(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,c,h;for(o=0,c=n.length;o<c;++o){h=n[o];const{fullSize:d}=h.box,g=e[h.stack],y=g&&h.stackWeight/g.weight;h.horizontal?(h.width=y?y*i:d&&t.availableWidth,h.height=r):(h.width=i,h.height=y?y*r:d&&t.availableHeight)}return e}function AP(n){const t=EP(n),e=$c(t.filter(g=>g.box.fullSize),!0),i=$c(Gc(t,"left"),!0),r=$c(Gc(t,"right")),o=$c(Gc(t,"top"),!0),c=$c(Gc(t,"bottom")),h=q1(t,"x"),d=q1(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(d).concat(c).concat(h),chartArea:Gc(t,"chartArea"),vertical:i.concat(r).concat(d),horizontal:o.concat(c).concat(h)}}function W1(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function K2(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function NP(n,t,e,i){const{pos:r,box:o}=e,c=n.maxPadding;if(!Vt(r)){e.size&&(n[r]-=e.size);const b=i[e.stack]||{size:0,count:1};b.size=Math.max(b.size,e.horizontal?o.height:o.width),e.size=b.size/b.count,n[r]+=e.size}o.getPadding&&K2(c,o.getPadding());const h=Math.max(0,t.outerWidth-W1(c,n,"left","right")),d=Math.max(0,t.outerHeight-W1(c,n,"top","bottom")),g=h!==n.w,y=d!==n.h;return n.w=h,n.h=d,e.horizontal?{same:g,other:y}:{same:y,other:g}}function kP(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function RP(n,t){const e=t.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(c=>{o[c]=Math.max(t[c],e[c])}),o}return i(n?["left","right"]:["top","bottom"])}function iu(n,t,e,i){const r=[];let o,c,h,d,g,y;for(o=0,c=n.length,g=0;o<c;++o){h=n[o],d=h.box,d.update(h.width||t.w,h.height||t.h,RP(h.horizontal,t));const{same:b,other:x}=NP(t,e,h,i);g|=b&&r.length,y=y||x,d.fullSize||r.push(h)}return g&&iu(r,t,e,i)||y}function Hd(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function Y1(n,t,e,i){const r=e.padding;let{x:o,y:c}=t;for(const h of n){const d=h.box,g=i[h.stack]||{placed:0,weight:1},y=h.stackWeight/g.weight||1;if(h.horizontal){const b=t.w*y,x=g.size||d.height;If(g.start)&&(c=g.start),d.fullSize?Hd(d,r.left,c,e.outerWidth-r.right-r.left,x):Hd(d,t.left+g.placed,c,b,x),g.start=c,g.placed+=b,c=d.bottom}else{const b=t.h*y,x=g.size||d.width;If(g.start)&&(o=g.start),d.fullSize?Hd(d,o,r.top,x,e.outerHeight-r.bottom-r.top):Hd(d,o,t.top+g.placed,x,b),g.start=o,g.placed+=b,o=d.right}}t.x=o,t.y=c}var ri={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=ui(n.options.layout.padding),o=Math.max(t-r.width,0),c=Math.max(e-r.height,0),h=AP(n.boxes),d=h.vertical,g=h.horizontal;se(n.boxes,M=>{typeof M.beforeLayout=="function"&&M.beforeLayout()});const y=d.reduce((M,R)=>R.box.options&&R.box.options.display===!1?M:M+1,0)||1,b=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/y,hBoxMaxHeight:c/2}),x=Object.assign({},r);K2(x,ui(i));const E=Object.assign({maxPadding:x,w:o,h:c,x:r.left,y:r.top},r),A=CP(d.concat(g),b);iu(h.fullSize,E,b,A),iu(d,E,b,A),iu(g,E,b,A)&&iu(d,E,b,A),kP(E),Y1(h.leftAndTop,E,b,A),E.x+=E.w,E.y+=E.h,Y1(h.rightAndBottom,E,b,A),n.chartArea={left:E.left,top:E.top,right:E.left+E.w,bottom:E.top+E.h,height:E.h,width:E.w},se(h.chartArea,M=>{const R=M.box;Object.assign(R,n.chartArea),R.update(E.w,E.h,{left:0,top:0,right:0,bottom:0})})}};class Z2{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class MP extends Z2{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const rf="$chartjs",OP={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},G1=n=>n===null||n==="";function DP(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[rf]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",G1(r)){const o=j1(n,"width");o!==void 0&&(n.width=o)}if(G1(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=j1(n,"height");o!==void 0&&(n.height=o)}return n}const J2=Q6?{passive:!0}:!1;function IP(n,t,e){n&&n.addEventListener(t,e,J2)}function LP(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,J2)}function jP(n,t){const e=OP[n.type]||n.type,{x:i,y:r}=Ua(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Hf(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function PP(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Hf(h.addedNodes,i),c=c&&!Hf(h.removedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function UP(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Hf(h.removedNodes,i),c=c&&!Hf(h.addedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const Pu=new Map;let $1=0;function tC(){const n=window.devicePixelRatio;n!==$1&&($1=n,Pu.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function zP(n,t){Pu.size||window.addEventListener("resize",tC),Pu.set(n,t)}function BP(n){Pu.delete(n),Pu.size||window.removeEventListener("resize",tC)}function HP(n,t,e){const i=n.canvas,r=i&&h0(i);if(!r)return;const o=L2((h,d)=>{const g=r.clientWidth;e(h,d),g<r.clientWidth&&e()},window),c=new ResizeObserver(h=>{const d=h[0],g=d.contentRect.width,y=d.contentRect.height;g===0&&y===0||o(g,y)});return c.observe(r),zP(n,o),c}function ny(n,t,e){e&&e.disconnect(),t==="resize"&&BP(n)}function FP(n,t,e){const i=n.canvas,r=L2(o=>{n.ctx!==null&&e(jP(o,n))},n);return IP(i,t,r),r}class VP extends Z2{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(DP(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[rf])return!1;const i=e[rf].initial;["height","width"].forEach(o=>{const c=i[o];Te(c)?e.removeAttribute(o):e.setAttribute(o,c)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[rf],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),c={attach:PP,detach:UP,resize:HP}[e]||FP;r[e]=c(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:ny,detach:ny,resize:ny}[e]||LP)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return X6(t,e,i,r)}isAttached(t){const e=t&&h0(t);return!!(e&&e.isConnected)}}function qP(n){return!u0()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?MP:VP}class oo{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Pf(this.x)&&Pf(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}function WP(n,t){const e=n.options.ticks,i=YP(n),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?$P(t):[],c=o.length,h=o[0],d=o[c-1],g=[];if(c>r)return XP(t,g,o,c/r),g;const y=GP(o,t,r);if(c>0){let b,x;const E=c>1?Math.round((d-h)/(c-1)):null;for(Fd(t,g,y,Te(E)?0:h-E,h),b=0,x=c-1;b<x;b++)Fd(t,g,y,o[b],o[b+1]);return Fd(t,g,y,d,Te(E)?t.length:d+E),g}return Fd(t,g,y),g}function YP(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function GP(n,t,e){const i=QP(n),r=t.length/e;if(!i)return Math.max(r,1);const o=s6(i);for(let c=0,h=o.length-1;c<h;c++){const d=o[c];if(d>r)return d}return Math.max(r,1)}function $P(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function XP(n,t,e,i){let r=0,o=e[0],c;for(i=Math.ceil(i),c=0;c<n.length;c++)c===o&&(t.push(n[c]),r++,o=e[r*i])}function Fd(n,t,e,i,r){const o=Qt(i,0),c=Math.min(Qt(r,n.length),n.length);let h=0,d,g,y;for(e=Math.ceil(e),r&&(d=r-i,e=d/Math.floor(d/e)),y=o;y<0;)h++,y=Math.round(o+h*e);for(g=Math.max(o,0);g<c;g++)g===y&&(t.push(n[g]),h++,y=Math.round(o+h*e))}function QP(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const KP=n=>n==="left"?"right":n==="right"?"left":n,X1=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,Q1=(n,t)=>Math.min(t||n,n);function K1(n,t){const e=[],i=n.length/t,r=n.length;let o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function ZP(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,c=n._endPixel,h=1e-6;let d=n.getPixelForTick(r),g;if(!(e&&(i===1?g=Math.max(d-o,c-d):t===0?g=(n.getPixelForTick(1)-d)/2:g=(d-n.getPixelForTick(r-1))/2,d+=r<t?g:-g,d<o-h||d>c+h)))return d}function JP(n,t){se(n,e=>{const i=e.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}function Xc(n){return n.drawTicks?n.tickLength:0}function Z1(n,t){if(!n.display)return 0;const e=pn(n.font,t),i=ui(n.padding);return(en(n.text)?n.text.length:1)*e.lineHeight+i.height}function t3(n,t){return Dl(n,{scale:t,type:"scale"})}function e3(n,t,e){return Dl(n,{tick:e,index:t,type:"tick"})}function n3(n,t,e){let i=n0(n);return(e&&t!=="right"||!e&&t==="right")&&(i=KP(i)),i}function i3(n,t,e,i){const{top:r,left:o,bottom:c,right:h,chart:d}=n,{chartArea:g,scales:y}=d;let b=0,x,E,A;const M=c-r,R=h-o;if(n.isHorizontal()){if(E=mn(i,o,h),Vt(e)){const B=Object.keys(e)[0],W=e[B];A=y[B].getPixelForValue(W)+M-t}else e==="center"?A=(g.bottom+g.top)/2+M-t:A=X1(n,e,t);x=h-o}else{if(Vt(e)){const B=Object.keys(e)[0],W=e[B];E=y[B].getPixelForValue(W)-R+t}else e==="center"?E=(g.left+g.right)/2-R+t:E=X1(n,e,t);A=mn(i,c,r),b=e==="left"?-Ye:Ye}return{titleX:E,titleY:A,maxWidth:x,rotation:b}}class Il extends oo{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=Yi(t,Number.POSITIVE_INFINITY),e=Yi(e,Number.NEGATIVE_INFINITY),i=Yi(i,Number.POSITIVE_INFINITY),r=Yi(r,Number.NEGATIVE_INFINITY),{min:Yi(t,i),max:Yi(e,r),minDefined:ci(t),maxDefined:ci(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),c;if(r&&o)return{min:e,max:i};const h=this.getMatchingVisibleMetas();for(let d=0,g=h.length;d<g;++d)c=h[d].controller.getMinMax(this,t),r||(e=Math.min(e,c.min)),o||(i=Math.max(i,c.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:Yi(e,Yi(i,e)),max:Yi(i,Yi(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){_e(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:o,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=I6(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=h<this.ticks.length;this._convertTicksToLabels(d?K1(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=WP(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){_e(this.options.afterUpdate,[this])}beforeSetDimensions(){_e(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){_e(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),_e(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){_e(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=_e(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){_e(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){_e(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=Q1(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let c=r,h,d,g;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const y=this._getLabelSizes(),b=y.widest.width,x=y.highest.height,E=In(this.chart.width-b,0,this.maxWidth);h=t.offset?this.maxWidth/i:E/(i-1),b+6>h&&(h=E/(i-(t.offset?.5:1)),d=this.maxHeight-Xc(t.grid)-e.padding-Z1(t.title,this.chart.options.font),g=Math.sqrt(b*b+x*x),c=l6(Math.min(Math.asin(In((y.highest.height+6)/h,-1,1)),Math.asin(In(d/g,-1,1))-Math.asin(In(x/g,-1,1)))),c=Math.max(r,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){_e(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){_e(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const d=Z1(r,e.options.font);if(h?(t.width=this.maxWidth,t.height=Xc(o)+d):(t.height=this.maxHeight,t.width=Xc(o)+d),i.display&&this.ticks.length){const{first:g,last:y,widest:b,highest:x}=this._getLabelSizes(),E=i.padding*2,A=Us(this.labelRotation),M=Math.cos(A),R=Math.sin(A);if(h){const B=i.mirror?0:R*b.width+M*x.height;t.height=Math.min(this.maxHeight,t.height+B+E)}else{const B=i.mirror?0:M*b.width+R*x.height;t.width=Math.min(this.maxWidth,t.width+B+E)}this._calculatePadding(g,y,R,M)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:o,padding:c},position:h}=this.options,d=this.labelRotation!==0,g=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const y=this.getPixelForTick(0)-this.left,b=this.right-this.getPixelForTick(this.ticks.length-1);let x=0,E=0;d?g?(x=r*t.width,E=i*e.height):(x=i*t.height,E=r*e.width):o==="start"?E=e.width:o==="end"?x=t.width:o!=="inner"&&(x=t.width/2,E=e.width/2),this.paddingLeft=Math.max((x-y+c)*this.width/(this.width-y),0),this.paddingRight=Math.max((E-b+c)*this.width/(this.width-b),0)}else{let y=e.height/2,b=t.height/2;o==="start"?(y=0,b=t.height):o==="end"&&(y=e.height,b=0),this.paddingTop=y+c,this.paddingBottom=b+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){_e(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)Te(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=K1(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:o}=this,c=[],h=[],d=Math.floor(e/Q1(e,i));let g=0,y=0,b,x,E,A,M,R,B,W,Y,tt,K;for(b=0;b<e;b+=d){if(A=t[b].label,M=this._resolveTickFontOptions(b),r.font=R=M.string,B=o[R]=o[R]||{data:{},gc:[]},W=M.lineHeight,Y=tt=0,!Te(A)&&!en(A))Y=R1(r,B.data,B.gc,Y,A),tt=W;else if(en(A))for(x=0,E=A.length;x<E;++x)K=A[x],!Te(K)&&!en(K)&&(Y=R1(r,B.data,B.gc,Y,K),tt+=W);c.push(Y),h.push(tt),g=Math.max(Y,g),y=Math.max(tt,y)}JP(o,e);const ot=c.indexOf(g),O=h.indexOf(y),C=k=>({width:c[k]||0,height:h[k]||0});return{first:C(0),last:C(e-1),widest:C(ot),highest:C(O),widths:c,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return u6(this._alignToPixels?Ia(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=e3(this.getContext(),t,i))}return this.$context||(this.$context=t3(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Us(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),c=t.autoSkipPadding||0,h=o?o.widest.width+c:0,d=o?o.highest.height+c:0;return this.isHorizontal()?d*i>h*r?h/i:d/r:d*r<h*i?d/i:h/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:c,border:h}=r,d=o.offset,g=this.isHorizontal(),b=this.ticks.length+(d?1:0),x=Xc(o),E=[],A=h.setContext(this.getContext()),M=A.display?A.width:0,R=M/2,B=function($){return Ia(i,$,M)};let W,Y,tt,K,ot,O,C,k,I,j,U,D;if(c==="top")W=B(this.bottom),O=this.bottom-x,k=W-R,j=B(t.top)+R,D=t.bottom;else if(c==="bottom")W=B(this.top),j=t.top,D=B(t.bottom)-R,O=W+R,k=this.top+x;else if(c==="left")W=B(this.right),ot=this.right-x,C=W-R,I=B(t.left)+R,U=t.right;else if(c==="right")W=B(this.left),I=t.left,U=B(t.right)-R,ot=W+R,C=this.left+x;else if(e==="x"){if(c==="center")W=B((t.top+t.bottom)/2+.5);else if(Vt(c)){const $=Object.keys(c)[0],Z=c[$];W=B(this.chart.scales[$].getPixelForValue(Z))}j=t.top,D=t.bottom,O=W+R,k=O+x}else if(e==="y"){if(c==="center")W=B((t.left+t.right)/2);else if(Vt(c)){const $=Object.keys(c)[0],Z=c[$];W=B(this.chart.scales[$].getPixelForValue(Z))}ot=W-R,C=ot-x,I=t.left,U=t.right}const Tt=Qt(r.ticks.maxTicksLimit,b),yt=Math.max(1,Math.ceil(b/Tt));for(Y=0;Y<b;Y+=yt){const $=this.getContext(Y),Z=o.setContext($),it=h.setContext($),ct=Z.lineWidth,P=Z.color,et=it.dash||[],lt=it.dashOffset,rt=Z.tickWidth,ht=Z.tickColor,gt=Z.tickBorderDash||[],mt=Z.tickBorderDashOffset;tt=ZP(this,Y,d),tt!==void 0&&(K=Ia(i,tt,ct),g?ot=C=I=U=K:O=k=j=D=K,E.push({tx1:ot,ty1:O,tx2:C,ty2:k,x1:I,y1:j,x2:U,y2:D,width:ct,color:P,borderDash:et,borderDashOffset:lt,tickWidth:rt,tickColor:ht,tickBorderDash:gt,tickBorderDashOffset:mt}))}return this._ticksLength=b,this._borderValue=W,E}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:o}=i,c=this.isHorizontal(),h=this.ticks,{align:d,crossAlign:g,padding:y,mirror:b}=o,x=Xc(i.grid),E=x+y,A=b?-y:E,M=-Us(this.labelRotation),R=[];let B,W,Y,tt,K,ot,O,C,k,I,j,U,D="middle";if(r==="top")ot=this.bottom-A,O=this._getXAxisLabelAlignment();else if(r==="bottom")ot=this.top+A,O=this._getXAxisLabelAlignment();else if(r==="left"){const yt=this._getYAxisLabelAlignment(x);O=yt.textAlign,K=yt.x}else if(r==="right"){const yt=this._getYAxisLabelAlignment(x);O=yt.textAlign,K=yt.x}else if(e==="x"){if(r==="center")ot=(t.top+t.bottom)/2+E;else if(Vt(r)){const yt=Object.keys(r)[0],$=r[yt];ot=this.chart.scales[yt].getPixelForValue($)+E}O=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")K=(t.left+t.right)/2-E;else if(Vt(r)){const yt=Object.keys(r)[0],$=r[yt];K=this.chart.scales[yt].getPixelForValue($)}O=this._getYAxisLabelAlignment(x).textAlign}e==="y"&&(d==="start"?D="top":d==="end"&&(D="bottom"));const Tt=this._getLabelSizes();for(B=0,W=h.length;B<W;++B){Y=h[B],tt=Y.label;const yt=o.setContext(this.getContext(B));C=this.getPixelForTick(B)+o.labelOffset,k=this._resolveTickFontOptions(B),I=k.lineHeight,j=en(tt)?tt.length:1;const $=j/2,Z=yt.color,it=yt.textStrokeColor,ct=yt.textStrokeWidth;let P=O;c?(K=C,O==="inner"&&(B===W-1?P=this.options.reverse?"left":"right":B===0?P=this.options.reverse?"right":"left":P="center"),r==="top"?g==="near"||M!==0?U=-j*I+I/2:g==="center"?U=-Tt.highest.height/2-$*I+I:U=-Tt.highest.height+I/2:g==="near"||M!==0?U=I/2:g==="center"?U=Tt.highest.height/2-$*I:U=Tt.highest.height-j*I,b&&(U*=-1),M!==0&&!yt.showLabelBackdrop&&(K+=I/2*Math.sin(M))):(ot=C,U=(1-j)*I/2);let et;if(yt.showLabelBackdrop){const lt=ui(yt.backdropPadding),rt=Tt.heights[B],ht=Tt.widths[B];let gt=U-lt.top,mt=0-lt.left;switch(D){case"middle":gt-=rt/2;break;case"bottom":gt-=rt;break}switch(O){case"center":mt-=ht/2;break;case"right":mt-=ht;break;case"inner":B===W-1?mt-=ht:B>0&&(mt-=ht/2);break}et={left:mt,top:gt,width:ht+lt.width,height:rt+lt.height,color:yt.backdropColor}}R.push({label:tt,font:k,textOffset:U,options:{rotation:M,color:Z,strokeColor:it,strokeWidth:ct,textAlign:P,textBaseline:D,translation:[K,ot],backdrop:et}})}return R}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Us(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,c=this._getLabelSizes(),h=t+o,d=c.widest.width;let g,y;return e==="left"?r?(y=this.right+o,i==="near"?g="left":i==="center"?(g="center",y+=d/2):(g="right",y+=d)):(y=this.right-h,i==="near"?g="right":i==="center"?(g="center",y-=d/2):(g="left",y=this.left)):e==="right"?r?(y=this.left+o,i==="near"?g="right":i==="center"?(g="center",y-=d/2):(g="left",y-=d)):(y=this.left+h,i==="near"?g="left":i==="center"?(g="center",y+=d/2):(g="right",y=this.right)):g="right",{textAlign:g,x:y}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:c}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,c),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,c;const h=(d,g,y)=>{!y.width||!y.color||(i.save(),i.lineWidth=y.width,i.strokeStyle=y.color,i.setLineDash(y.borderDash||[]),i.lineDashOffset=y.borderDashOffset,i.beginPath(),i.moveTo(d.x,d.y),i.lineTo(g.x,g.y),i.stroke(),i.restore())};if(e.display)for(o=0,c=r.length;o<c;++o){const d=r[o];e.drawOnChartArea&&h({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),e.drawTicks&&h({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),c=i.display?o.width:0;if(!c)return;const h=r.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let g,y,b,x;this.isHorizontal()?(g=Ia(t,this.left,c)-c/2,y=Ia(t,this.right,h)+h/2,b=x=d):(b=Ia(t,this.top,c)-c/2,x=Ia(t,this.bottom,h)+h/2,g=y=d),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(g,b),e.lineTo(y,x),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&s0(i,r);const o=this.getLabelItems(t);for(const c of o){const h=c.options,d=c.font,g=c.label,y=c.textOffset;ju(i,g,0,y,d,h)}r&&r0(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=pn(i.font),c=ui(i.padding),h=i.align;let d=o.lineHeight/2;e==="bottom"||e==="center"||Vt(e)?(d+=c.bottom,en(i.text)&&(d+=o.lineHeight*(i.text.length-1))):d+=c.top;const{titleX:g,titleY:y,maxWidth:b,rotation:x}=i3(this,d,e,h);ju(t,i.text,0,0,o,{color:i.color,maxWidth:b,rotation:x,textAlign:n3(h,e,r),textBaseline:"middle",translation:[g,y]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Qt(t.grid&&t.grid.z,-1),r=Qt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Il.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,c;for(o=0,c=e.length;o<c;++o){const h=e[o];h[i]===this.id&&(!t||h.type===t)&&r.push(h)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return pn(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Vd{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;a3(e)&&(i=this.register(e));const r=this.items,o=t.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,s3(t,c,i),this.override&&Ie.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in Ie[r]&&(delete Ie[r][i],this.override&&delete no[i])}}function s3(n,t,e){const i=Iu(Object.create(null),[e?Ie.get(e):{},Ie.get(t),n.defaults]);Ie.set(t,i),n.defaultRoutes&&r3(t,n.defaultRoutes),n.descriptors&&Ie.describe(t,n.descriptors)}function r3(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),c=t[e].split("."),h=c.pop(),d=c.join(".");Ie.route(o,r,d,h)})}function a3(n){return"id"in n&&"defaults"in n}class o3{constructor(){this.controllers=new Vd(X2,"datasets",!0),this.elements=new Vd(oo,"elements"),this.plugins=new Vd(Object,"plugins"),this.scales=new Vd(Il,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):se(r,c=>{const h=i||this._getRegistryForType(c);this._exec(t,h,c)})})}_exec(t,e,i){const r=t0(t);_e(i["before"+r],[],i),e[t](i),_e(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var $i=new o3;class l3{constructor(){this._init=[]}notify(t,e,i,r){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=r?this._descriptors(t).filter(r):this._descriptors(t),c=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),c}_notify(t,e,i,r){r=r||{};for(const o of t){const c=o.plugin,h=c[i],d=[e,r,o.options];if(_e(h,d,c)===!1&&r.cancelable)return!1}return!0}invalidate(){Te(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Qt(i.options&&i.options.plugins,{}),o=c3(i);return r===!1&&!e?[]:h3(t,o,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(o,c)=>o.filter(h=>!c.some(d=>h.plugin.id===d.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function c3(n){const t={},e=[],i=Object.keys($i.plugins.items);for(let o=0;o<i.length;o++)e.push($i.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const c=r[o];e.indexOf(c)===-1&&(e.push(c),t[c.id]=!0)}return{plugins:e,localIds:t}}function u3(n,t){return!t&&n===!1?null:n===!0?{}:n}function h3(n,{plugins:t,localIds:e},i,r){const o=[],c=n.getContext();for(const h of t){const d=h.id,g=u3(i[d],r);g!==null&&o.push({plugin:h,options:d3(n.config,{plugin:h,local:e[d]},g,c)})}return o}function d3(n,{plugin:t,local:e},i,r){const o=n.pluginScopeKeys(t),c=n.getOptionScopes(i,o);return e&&t.defaults&&c.push(t.defaults),n.createResolver(c,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function jy(n,t){const e=Ie.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function f3(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function g3(n,t){return n===t?"_index_":"_value_"}function J1(n){if(n==="x"||n==="y"||n==="r")return n}function m3(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Py(n,...t){if(J1(n))return n;for(const e of t){const i=e.axis||m3(e.position)||n.length>1&&J1(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function tS(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function p3(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return tS(n,"x",e[0])||tS(n,"y",e[0])}return{}}function y3(n,t){const e=no[n.type]||{scales:{}},i=t.scales||{},r=jy(n.type,t),o=Object.create(null);return Object.keys(i).forEach(c=>{const h=i[c];if(!Vt(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const d=Py(c,h,p3(c,n),Ie.scales[h.type]),g=g3(d,r),y=e.scales||{};o[c]=mu(Object.create(null),[{axis:d},h,y[d],y[g]])}),n.data.datasets.forEach(c=>{const h=c.type||n.type,d=c.indexAxis||jy(h,t),y=(no[h]||{}).scales||{};Object.keys(y).forEach(b=>{const x=f3(b,d),E=c[x+"AxisID"]||x;o[E]=o[E]||Object.create(null),mu(o[E],[{axis:x},i[E],y[b]])})}),Object.keys(o).forEach(c=>{const h=o[c];mu(h,[Ie.scales[h.type],Ie.scale])}),o}function eC(n){const t=n.options||(n.options={});t.plugins=Qt(t.plugins,{}),t.scales=y3(n,t)}function nC(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function _3(n){return n=n||{},n.data=nC(n.data),eC(n),n}const eS=new Map,iC=new Set;function qd(n,t){let e=eS.get(n);return e||(e=t(),eS.set(n,e),iC.add(e)),e}const Qc=(n,t,e)=>{const i=Lu(t,e);i!==void 0&&n.add(i)};class v3{constructor(t){this._config=_3(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=nC(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),eC(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return qd(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return qd(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return qd(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return qd(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:o}=this,c=this._cachedScopes(t,i),h=c.get(e);if(h)return h;const d=new Set;e.forEach(y=>{t&&(d.add(t),y.forEach(b=>Qc(d,t,b))),y.forEach(b=>Qc(d,r,b)),y.forEach(b=>Qc(d,no[o]||{},b)),y.forEach(b=>Qc(d,Ie,b)),y.forEach(b=>Qc(d,Ly,b))});const g=Array.from(d);return g.length===0&&g.push(Object.create(null)),iC.has(e)&&c.set(e,g),g}chartOptionScopes(){const{options:t,type:e}=this;return[t,no[e]||{},Ie.datasets[e]||{},{type:e},Ie,Ly]}resolveNamedOptions(t,e,i,r=[""]){const o={$shared:!0},{resolver:c,subPrefixes:h}=nS(this._resolverCache,t,r);let d=c;if(x3(c,e)){o.$shared=!1,i=Yr(i)?i():i;const g=this.createResolver(t,i,h);d=xl(c,i,g)}for(const g of e)o[g]=d[g];return o}createResolver(t,e,i=[""],r){const{resolver:o}=nS(this._resolverCache,t,i);return Vt(e)?xl(o,e,void 0,r):o}}function nS(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let o=i.get(r);return o||(o={resolver:o0(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},i.set(r,o)),o}const b3=n=>Vt(n)&&Object.getOwnPropertyNames(n).some(t=>Yr(n[t]));function x3(n,t){const{isScriptable:e,isIndexable:i}=H2(n);for(const r of t){const o=e(r),c=i(r),h=(c||o)&&n[r];if(o&&(Yr(h)||b3(h))||c&&en(h))return!0}return!1}var w3="4.5.0";const S3=["top","bottom","left","right","chartArea"];function iS(n,t){return n==="top"||n==="bottom"||S3.indexOf(n)===-1&&t==="x"}function sS(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function rS(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),_e(e&&e.onComplete,[n],t)}function E3(n){const t=n.chart,e=t.options.animation;_e(e&&e.onProgress,[n],t)}function sC(n){return u0()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const af={},aS=n=>{const t=sC(n);return Object.values(af).filter(e=>e.canvas===t).pop()};function T3(n,t,e){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=t){const c=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=c)}}}function C3(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let bg=class{static defaults=Ie;static instances=af;static overrides=no;static registry=$i;static version=w3;static getChart=aS;static register(...t){$i.add(...t),oS()}static unregister(...t){$i.remove(...t),oS()}constructor(t,e){const i=this.config=new v3(e),r=sC(t),o=aS(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||qP(r)),this.platform.updateConfig(i);const h=this.platform.acquireContext(r,c.aspectRatio),d=h&&h.canvas,g=d&&d.height,y=d&&d.width;if(this.id=Qj(),this.ctx=h,this.canvas=d,this.width=y,this.height=g,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new l3,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=m6(b=>this.update(b),c.resizeDelay||0),this._dataChanges=[],af[this.id]=this,!h||!d){console.error("Failed to create chart: can't acquire context from the given item");return}Rs.listen(this,"complete",rS),Rs.listen(this,"progress",E3),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:o}=this;return Te(t)?e&&o?o:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return $i}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():L1(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return M1(this.canvas,this.ctx),this}stop(){return Rs.stop(this),this}resize(t,e){Rs.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(r,t,e,o),h=i.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,L1(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),_e(i.onResize,[this,c],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};se(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((c,h)=>(c[h]=!1,c),{});let o=[];e&&(o=o.concat(Object.keys(e).map(c=>{const h=e[c],d=Py(c,h),g=d==="r",y=d==="x";return{options:h,dposition:g?"chartArea":y?"bottom":"left",dtype:g?"radialLinear":y?"category":"linear"}}))),se(o,c=>{const h=c.options,d=h.id,g=Py(d,h),y=Qt(h.type,c.dtype);(h.position===void 0||iS(h.position,g)!==iS(c.dposition))&&(h.position=c.dposition),r[d]=!0;let b=null;if(d in i&&i[d].type===y)b=i[d];else{const x=$i.getScale(y);b=new x({id:d,type:y,ctx:this.ctx,chart:this}),i[b.id]=b}b.init(h,t)}),se(r,(c,h)=>{c||delete i[h]}),se(i,c=>{ri.configure(this,c,c.options),ri.addBox(this,c)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,o)=>r.index-o.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(sS("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const o=e[i];let c=this.getDatasetMeta(i);const h=o.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=h,c.indexAxis=o.indexAxis||jy(h,this.options),c.order=o.order||0,c.index=i,c.label=""+o.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const d=$i.getController(h),{datasetElementType:g,dataElementType:y}=Ie.datasets[h];Object.assign(d,{dataElementType:$i.getElement(y),datasetElementType:g&&$i.getElement(g)}),c.controller=new d(this,i),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){se(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let g=0,y=this.data.datasets.length;g<y;g++){const{controller:b}=this.getDatasetMeta(g),x=!r&&o.indexOf(b)===-1;b.buildOrUpdateElements(x),c=Math.max(+b.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),r||se(o,g=>{g.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(sS("z","_idx"));const{_active:h,_lastEvent:d}=this;d?this._eventHandler(d,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){se(this.scales,t=>{ri.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!x1(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of e){const c=i==="_removeElements"?-o:o;T3(t,r,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(c=>c[0]===o).map((c,h)=>h+","+c.splice(1).join(","))),r=i(0);for(let o=1;o<e;o++)if(!x1(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ri.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],se(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Yr(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Rs.has(this)?this.attached&&!Rs.running(this)&&Rs.start(this):(this.draw(),rS({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,o;for(r=0,o=e.length;r<o;++r){const c=e[r];(!t||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=tP(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&s0(e,r),t.controller.draw(),r&&r0(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return z2(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const o=SP.modes[e];return typeof o=="function"?o(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(o=>o&&o._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Dl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,r);If(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),c.update(o,{visible:i}),this.update(h=>h.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Rs.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),M1(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete af[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,c)=>{e.addEventListener(this,o,c),t[o]=c},r=(o,c,h)=>{o.offsetX=c,o.offsetY=h,this._eventHandler(o)};se(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(d,g)=>{e.addEventListener(this,d,g),t[d]=g},r=(d,g)=>{t[d]&&(e.removeEventListener(this,d,g),delete t[d])},o=(d,g)=>{this.canvas&&this.resize(d,g)};let c;const h=()=>{r("attach",h),this.attached=!0,this.resize(),i("resize",o),i("detach",c)};c=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",h)},e.isAttached(this.canvas)?h():c()}unbindEvents(){se(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},se(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let o,c,h,d;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),h=0,d=t.length;h<d;++h){c=t[h];const g=c&&this.getDatasetMeta(c.datasetIndex).controller;g&&g[r+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:c})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[c],index:c}});!Of(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,o=(d,g)=>d.filter(y=>!g.some(b=>y.datasetIndex===b.datasetIndex&&y.index===b.index)),c=o(e,t),h=i?t:o(t,e);c.length&&this.updateHoverStyle(c,r.mode,!1),h.length&&r.mode&&this.updateHoverStyle(h,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:o}=this,c=e,h=this._getActiveElements(t,r,i,c),d=n6(t),g=C3(t,this._lastEvent,i,d);i&&(this._lastEvent=null,_e(o.onHover,[t,h,this],this),d&&_e(o.onClick,[t,h,this],this));const y=!Of(h,r);return(y||e)&&(this._active=h,this._updateHoverStyles(h,r,e)),this._lastEvent=g,y}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}};function oS(){return se(bg.instances,n=>n._plugins.invalidate())}function A3(n,t,e){const{startAngle:i,x:r,y:o,outerRadius:c,innerRadius:h,options:d}=t,{borderWidth:g,borderJoinStyle:y}=d,b=Math.min(g/c,Qi(i-e));if(n.beginPath(),n.arc(r,o,c-g/2,i+b/2,e-b/2),h>0){const x=Math.min(g/h,Qi(i-e));n.arc(r,o,h+g/2,e-x/2,i+x/2,!0)}else{const x=Math.min(g/2,c*Qi(i-e));if(y==="round")n.arc(r,o,x,e-ge/2,i+ge/2,!0);else if(y==="bevel"){const E=2*x*x,A=-E*Math.cos(e+ge/2)+r,M=-E*Math.sin(e+ge/2)+o,R=E*Math.cos(i+ge/2)+r,B=E*Math.sin(i+ge/2)+o;n.lineTo(A,M),n.lineTo(R,B)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function N3(n,t,e){const{startAngle:i,pixelMargin:r,x:o,y:c,outerRadius:h,innerRadius:d}=t;let g=r/h;n.beginPath(),n.arc(o,c,h,i-g,e+g),d>r?(g=r/d,n.arc(o,c,d,e+g,i-g,!0)):n.arc(o,c,r,e+Ye,i-Ye),n.closePath(),n.clip()}function k3(n){return a0(n,["outerStart","outerEnd","innerStart","innerEnd"])}function R3(n,t,e,i){const r=k3(n.options.borderRadius),o=(e-t)/2,c=Math.min(o,i*t/2),h=d=>{const g=(e-Math.min(o,d))*i/2;return In(d,0,Math.min(o,g))};return{outerStart:h(r.outerStart),outerEnd:h(r.outerEnd),innerStart:In(r.innerStart,0,c),innerEnd:In(r.innerEnd,0,c)}}function el(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function Ff(n,t,e,i,r,o){const{x:c,y:h,startAngle:d,pixelMargin:g,innerRadius:y}=t,b=Math.max(t.outerRadius+i+e-g,0),x=y>0?y+i+e+g:0;let E=0;const A=r-d;if(i){const yt=y>0?y-i:0,$=b>0?b-i:0,Z=(yt+$)/2,it=Z!==0?A*Z/(Z+i):A;E=(A-it)/2}const M=Math.max(.001,A*b-e/ge)/b,R=(A-M)/2,B=d+R+E,W=r-R-E,{outerStart:Y,outerEnd:tt,innerStart:K,innerEnd:ot}=R3(t,x,b,W-B),O=b-Y,C=b-tt,k=B+Y/O,I=W-tt/C,j=x+K,U=x+ot,D=B+K/j,Tt=W-ot/U;if(n.beginPath(),o){const yt=(k+I)/2;if(n.arc(c,h,b,k,yt),n.arc(c,h,b,yt,I),tt>0){const ct=el(C,I,c,h);n.arc(ct.x,ct.y,tt,I,W+Ye)}const $=el(U,W,c,h);if(n.lineTo($.x,$.y),ot>0){const ct=el(U,Tt,c,h);n.arc(ct.x,ct.y,ot,W+Ye,Tt+Math.PI)}const Z=(W-ot/x+(B+K/x))/2;if(n.arc(c,h,x,W-ot/x,Z,!0),n.arc(c,h,x,Z,B+K/x,!0),K>0){const ct=el(j,D,c,h);n.arc(ct.x,ct.y,K,D+Math.PI,B-Ye)}const it=el(O,B,c,h);if(n.lineTo(it.x,it.y),Y>0){const ct=el(O,k,c,h);n.arc(ct.x,ct.y,Y,B-Ye,k)}}else{n.moveTo(c,h);const yt=Math.cos(k)*b+c,$=Math.sin(k)*b+h;n.lineTo(yt,$);const Z=Math.cos(I)*b+c,it=Math.sin(I)*b+h;n.lineTo(Z,it)}n.closePath()}function M3(n,t,e,i,r){const{fullCircles:o,startAngle:c,circumference:h}=t;let d=t.endAngle;if(o){Ff(n,t,e,i,d,r);for(let g=0;g<o;++g)n.fill();isNaN(h)||(d=c+(h%Be||Be))}return Ff(n,t,e,i,d,r),n.fill(),d}function O3(n,t,e,i,r){const{fullCircles:o,startAngle:c,circumference:h,options:d}=t,{borderWidth:g,borderJoinStyle:y,borderDash:b,borderDashOffset:x,borderRadius:E}=d,A=d.borderAlign==="inner";if(!g)return;n.setLineDash(b||[]),n.lineDashOffset=x,A?(n.lineWidth=g*2,n.lineJoin=y||"round"):(n.lineWidth=g,n.lineJoin=y||"bevel");let M=t.endAngle;if(o){Ff(n,t,e,i,M,r);for(let R=0;R<o;++R)n.stroke();isNaN(h)||(M=c+(h%Be||Be))}A&&N3(n,t,M),d.selfJoin&&M-c>=ge&&E===0&&y!=="miter"&&A3(n,t,M),o||(Ff(n,t,e,i,M,r),n.stroke())}class D3 extends oo{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.getProps(["x","y"],i),{angle:o,distance:c}=O2(r,{x:t,y:e}),{startAngle:h,endAngle:d,innerRadius:g,outerRadius:y,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),x=(this.options.spacing+this.options.borderWidth)/2,E=Qt(b,d-h),A=Uf(o,h,d)&&h!==d,M=E>=Be||A,R=qa(c,g+x,y+x);return M&&R}getCenterPoint(t){const{x:e,y:i,startAngle:r,endAngle:o,innerRadius:c,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:d,spacing:g}=this.options,y=(r+o)/2,b=(c+h+g+d)/2;return{x:e+Math.cos(y)*b,y:i+Math.sin(y)*b}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,r=(e.offset||0)/4,o=(e.spacing||0)/2,c=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>Be?Math.floor(i/Be):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const h=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(h)*r,Math.sin(h)*r);const d=1-Math.sin(Math.min(ge,i||0)),g=r*d;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,M3(t,this,g,o,c),O3(t,this,g,o,c),t.restore()}}function rC(n,t){const{x:e,y:i,base:r,width:o,height:c}=n.getProps(["x","y","base","width","height"],t);let h,d,g,y,b;return n.horizontal?(b=c/2,h=Math.min(e,r),d=Math.max(e,r),g=i-b,y=i+b):(b=o/2,h=e-b,d=e+b,g=Math.min(i,r),y=Math.max(i,r)),{left:h,top:g,right:d,bottom:y}}function Dr(n,t,e,i){return n?0:In(t,e,i)}function I3(n,t,e){const i=n.options.borderWidth,r=n.borderSkipped,o=B2(i);return{t:Dr(r.top,o.top,0,e),r:Dr(r.right,o.right,0,t),b:Dr(r.bottom,o.bottom,0,e),l:Dr(r.left,o.left,0,t)}}function L3(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=dl(r),c=Math.min(t,e),h=n.borderSkipped,d=i||Vt(r);return{topLeft:Dr(!d||h.top||h.left,o.topLeft,0,c),topRight:Dr(!d||h.top||h.right,o.topRight,0,c),bottomLeft:Dr(!d||h.bottom||h.left,o.bottomLeft,0,c),bottomRight:Dr(!d||h.bottom||h.right,o.bottomRight,0,c)}}function j3(n){const t=rC(n),e=t.right-t.left,i=t.bottom-t.top,r=I3(n,e/2,i/2),o=L3(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function iy(n,t,e,i){const r=t===null,o=e===null,h=n&&!(r&&o)&&rC(n,i);return h&&(r||qa(t,h.left,h.right))&&(o||qa(e,h.top,h.bottom))}function P3(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function U3(n,t){n.rect(t.x,t.y,t.w,t.h)}function sy(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,c=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+o,h:n.h+c,radius:n.radius}}class z3 extends oo{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:c}=j3(this),h=P3(c.radius)?zf:U3;t.save(),(c.w!==o.w||c.h!==o.h)&&(t.beginPath(),h(t,sy(c,e,o)),t.clip(),h(t,sy(o,-e,c)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),h(t,sy(o,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return iy(this,t,e,i)}inXRange(t,e){return iy(this,t,null,e)}inYRange(t,e){return iy(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+r)/2:e,y:o?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}const lS=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},B3=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class cS extends oo{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=_e(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=pn(i.font),o=r.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:d}=lS(i,o);let g,y;e.font=r.string,this.isHorizontal()?(g=this.maxWidth,y=this._fitRows(c,o,h,d)+10):(y=this.maxHeight,g=this._fitCols(c,r,h,d)+10),this.width=Math.min(g,t.maxWidth||this.maxWidth),this.height=Math.min(y,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:o,maxWidth:c,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],g=this.lineWidths=[0],y=r+h;let b=t;o.textAlign="left",o.textBaseline="middle";let x=-1,E=-y;return this.legendItems.forEach((A,M)=>{const R=i+e/2+o.measureText(A.text).width;(M===0||g[g.length-1]+R+2*h>c)&&(b+=y,g[g.length-(M>0?0:1)]=0,E+=y,x++),d[M]={left:0,top:E,row:x,width:R,height:r},g[g.length-1]+=R+h}),b}_fitCols(t,e,i,r){const{ctx:o,maxHeight:c,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],g=this.columnSizes=[],y=c-t;let b=h,x=0,E=0,A=0,M=0;return this.legendItems.forEach((R,B)=>{const{itemWidth:W,itemHeight:Y}=H3(i,e,o,R,r);B>0&&E+Y+2*h>y&&(b+=x+h,g.push({width:x,height:E}),A+=x+h,M++,x=E=0),d[B]={left:A,top:E,col:M,width:W,height:Y},x=Math.max(x,W),E+=Y+h}),b+=x,g.push({width:x,height:E}),b}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,c=fl(o,this.left,this.width);if(this.isHorizontal()){let h=0,d=mn(i,this.left+r,this.right-this.lineWidths[h]);for(const g of e)h!==g.row&&(h=g.row,d=mn(i,this.left+r,this.right-this.lineWidths[h])),g.top+=this.top+t+r,g.left=c.leftForLtr(c.x(d),g.width),d+=g.width+r}else{let h=0,d=mn(i,this.top+t+r,this.bottom-this.columnSizes[h].height);for(const g of e)g.col!==h&&(h=g.col,d=mn(i,this.top+t+r,this.bottom-this.columnSizes[h].height)),g.top=d,g.left+=this.left+r,g.left=c.leftForLtr(c.x(g.left),g.width),d+=g.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;s0(t,this),this._draw(),r0(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:c}=t,h=Ie.color,d=fl(t.rtl,this.left,this.width),g=pn(c.font),{padding:y}=c,b=g.size,x=b/2;let E;this.drawTitle(),r.textAlign=d.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=g.string;const{boxWidth:A,boxHeight:M,itemHeight:R}=lS(c,b),B=function(ot,O,C){if(isNaN(A)||A<=0||isNaN(M)||M<0)return;r.save();const k=Qt(C.lineWidth,1);if(r.fillStyle=Qt(C.fillStyle,h),r.lineCap=Qt(C.lineCap,"butt"),r.lineDashOffset=Qt(C.lineDashOffset,0),r.lineJoin=Qt(C.lineJoin,"miter"),r.lineWidth=k,r.strokeStyle=Qt(C.strokeStyle,h),r.setLineDash(Qt(C.lineDash,[])),c.usePointStyle){const I={radius:M*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:k},j=d.xPlus(ot,A/2),U=O+x;U2(r,I,j,U,c.pointStyleWidth&&A)}else{const I=O+Math.max((b-M)/2,0),j=d.leftForLtr(ot,A),U=dl(C.borderRadius);r.beginPath(),Object.values(U).some(D=>D!==0)?zf(r,{x:j,y:I,w:A,h:M,radius:U}):r.rect(j,I,A,M),r.fill(),k!==0&&r.stroke()}r.restore()},W=function(ot,O,C){ju(r,C.text,ot,O+R/2,g,{strikethrough:C.hidden,textAlign:d.textAlign(C.textAlign)})},Y=this.isHorizontal(),tt=this._computeTitleHeight();Y?E={x:mn(o,this.left+y,this.right-i[0]),y:this.top+y+tt,line:0}:E={x:this.left+y,y:mn(o,this.top+tt+y,this.bottom-e[0].height),line:0},W2(this.ctx,t.textDirection);const K=R+y;this.legendItems.forEach((ot,O)=>{r.strokeStyle=ot.fontColor,r.fillStyle=ot.fontColor;const C=r.measureText(ot.text).width,k=d.textAlign(ot.textAlign||(ot.textAlign=c.textAlign)),I=A+x+C;let j=E.x,U=E.y;d.setWidth(this.width),Y?O>0&&j+I+y>this.right&&(U=E.y+=K,E.line++,j=E.x=mn(o,this.left+y,this.right-i[E.line])):O>0&&U+K>this.bottom&&(j=E.x=j+e[E.line].width+y,E.line++,U=E.y=mn(o,this.top+tt+y,this.bottom-e[E.line].height));const D=d.x(j);if(B(D,U,ot),j=p6(k,j+A+x,Y?j+I:this.right,t.rtl),W(d.x(j),U,ot),Y)E.x+=I+y;else if(typeof ot.text!="string"){const Tt=g.lineHeight;E.y+=aC(ot,Tt)+y}else E.y+=K}),Y2(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=pn(e.font),r=ui(e.padding);if(!e.display)return;const o=fl(t.rtl,this.left,this.width),c=this.ctx,h=e.position,d=i.size/2,g=r.top+d;let y,b=this.left,x=this.width;if(this.isHorizontal())x=Math.max(...this.lineWidths),y=this.top+g,b=mn(t.align,b,this.right-x);else{const A=this.columnSizes.reduce((M,R)=>Math.max(M,R.height),0);y=g+mn(t.align,this.top,this.bottom-A-t.labels.padding-this._computeTitleHeight())}const E=mn(h,b,b+x);c.textAlign=o.textAlign(n0(h)),c.textBaseline="middle",c.strokeStyle=e.color,c.fillStyle=e.color,c.font=i.string,ju(c,e.text,E,y,i)}_computeTitleHeight(){const t=this.options.title,e=pn(t.font),i=ui(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if(qa(t,this.left,this.right)&&qa(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],qa(t,r.left,r.left+r.width)&&qa(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!q3(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=B3(r,i);r&&!o&&_e(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&_e(e.onHover,[t,i,this],this)}else i&&_e(e.onClick,[t,i,this],this)}}function H3(n,t,e,i,r){const o=F3(i,n,t,e),c=V3(r,i,t.lineHeight);return{itemWidth:o,itemHeight:c}}function F3(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,c)=>o.length>c.length?o:c)),t+e.size/2+i.measureText(r).width}function V3(n,t,e){let i=n;return typeof t.text!="string"&&(i=aC(t,e)),i}function aC(n,t){const e=n.text?n.text.length:0;return t*e}function q3(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var W3={id:"legend",_element:cS,start(n,t,e){const i=n.legend=new cS({ctx:n.ctx,options:e,chart:n});ri.configure(n,i,e),ri.addBox(n,i)},stop(n){ri.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;ri.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:c,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(d=>{const g=d.controller.getStyle(e?0:void 0),y=ui(g.borderWidth);return{text:t[d.index].label,fillStyle:g.backgroundColor,fontColor:o,hidden:!d.visible,lineCap:g.borderCapStyle,lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:(y.width+y.height)/4,strokeStyle:g.borderColor,pointStyle:i||g.pointStyle,rotation:g.rotation,textAlign:r||g.textAlign,borderRadius:c&&(h||g.borderRadius),datasetIndex:d.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class oC extends oo{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=en(i.text)?i.text.length:1;this._padding=ui(i.padding);const o=r*pn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:r,right:o,options:c}=this,h=c.align;let d=0,g,y,b;return this.isHorizontal()?(y=mn(h,i,o),b=e+t,g=o-i):(c.position==="left"?(y=i+t,b=mn(h,r,e),d=ge*-.5):(y=o-t,b=mn(h,e,r),d=ge*.5),g=r-e),{titleX:y,titleY:b,maxWidth:g,rotation:d}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=pn(e.font),o=i.lineHeight/2+this._padding.top,{titleX:c,titleY:h,maxWidth:d,rotation:g}=this._drawArgs(o);ju(t,e.text,0,0,i,{color:e.color,maxWidth:d,rotation:g,textAlign:n0(e.align),textBaseline:"middle",translation:[c,h]})}}function Y3(n,t){const e=new oC({ctx:n.ctx,options:t,chart:n});ri.configure(n,e,t),ri.addBox(n,e),n.titleBlock=e}var G3={id:"title",_element:oC,start(n,t,e){Y3(n,e)},stop(n){const t=n.titleBlock;ri.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;ri.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const su={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,o=0;for(t=0,e=n.length;t<e;++t){const h=n[t].element;if(h&&h.hasValue()){const d=h.tooltipPosition();i.add(d.x),r+=d.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((h,d)=>h+d)/i.size,y:r/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,o,c,h;for(o=0,c=n.length;o<c;++o){const d=n[o].element;if(d&&d.hasValue()){const g=d.getCenterPoint(),y=c6(t,g);y<r&&(r=y,h=d)}}if(h){const d=h.tooltipPosition();e=d.x,i=d.y}return{x:e,y:i}}};function Gi(n,t){return t&&(en(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Ms(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function $3(n,t){const{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:c,value:h}=o.getLabelAndValue(r);return{chart:n,label:c,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:h,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function uS(n,t){const e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:c,boxHeight:h}=t,d=pn(t.bodyFont),g=pn(t.titleFont),y=pn(t.footerFont),b=o.length,x=r.length,E=i.length,A=ui(t.padding);let M=A.height,R=0,B=i.reduce((tt,K)=>tt+K.before.length+K.lines.length+K.after.length,0);if(B+=n.beforeBody.length+n.afterBody.length,b&&(M+=b*g.lineHeight+(b-1)*t.titleSpacing+t.titleMarginBottom),B){const tt=t.displayColors?Math.max(h,d.lineHeight):d.lineHeight;M+=E*tt+(B-E)*d.lineHeight+(B-1)*t.bodySpacing}x&&(M+=t.footerMarginTop+x*y.lineHeight+(x-1)*t.footerSpacing);let W=0;const Y=function(tt){R=Math.max(R,e.measureText(tt).width+W)};return e.save(),e.font=g.string,se(n.title,Y),e.font=d.string,se(n.beforeBody.concat(n.afterBody),Y),W=t.displayColors?c+2+t.boxPadding:0,se(i,tt=>{se(tt.before,Y),se(tt.lines,Y),se(tt.after,Y)}),W=0,e.font=y.string,se(n.footer,Y),e.restore(),R+=A.width,{width:R,height:M}}function X3(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function Q3(n,t,e,i){const{x:r,width:o}=i,c=e.caretSize+e.caretPadding;if(n==="left"&&r+o+c>t.width||n==="right"&&r-o-c<0)return!0}function K3(n,t,e,i){const{x:r,width:o}=e,{width:c,chartArea:{left:h,right:d}}=n;let g="center";return i==="center"?g=r<=(h+d)/2?"left":"right":r<=o/2?g="left":r>=c-o/2&&(g="right"),Q3(g,n,t,e)&&(g="center"),g}function hS(n,t,e){const i=e.yAlign||t.yAlign||X3(n,e);return{xAlign:e.xAlign||t.xAlign||K3(n,t,e,i),yAlign:i}}function Z3(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function J3(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function dS(n,t,e,i){const{caretSize:r,caretPadding:o,cornerRadius:c}=n,{xAlign:h,yAlign:d}=e,g=r+o,{topLeft:y,topRight:b,bottomLeft:x,bottomRight:E}=dl(c);let A=Z3(t,h);const M=J3(t,d,g);return d==="center"?h==="left"?A+=g:h==="right"&&(A-=g):h==="left"?A-=Math.max(y,x)+r:h==="right"&&(A+=Math.max(b,E)+r),{x:In(A,0,i.width-t.width),y:In(M,0,i.height-t.height)}}function Wd(n,t,e){const i=ui(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function fS(n){return Gi([],Ms(n))}function t5(n,t,e){return Dl(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function gS(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const lC={beforeTitle:ks,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:ks,beforeBody:ks,beforeLabel:ks,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Te(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:ks,afterBody:ks,beforeFooter:ks,footer:ks,afterFooter:ks};function Rn(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?lC[t].call(e,i):r}class mS extends oo{static positioners=su;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,o=new G2(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=t5(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=Rn(i,"beforeTitle",this,t),o=Rn(i,"title",this,t),c=Rn(i,"afterTitle",this,t);let h=[];return h=Gi(h,Ms(r)),h=Gi(h,Ms(o)),h=Gi(h,Ms(c)),h}getBeforeBody(t,e){return fS(Rn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return se(t,o=>{const c={before:[],lines:[],after:[]},h=gS(i,o);Gi(c.before,Ms(Rn(h,"beforeLabel",this,o))),Gi(c.lines,Rn(h,"label",this,o)),Gi(c.after,Ms(Rn(h,"afterLabel",this,o))),r.push(c)}),r}getAfterBody(t,e){return fS(Rn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=Rn(i,"beforeFooter",this,t),o=Rn(i,"footer",this,t),c=Rn(i,"afterFooter",this,t);let h=[];return h=Gi(h,Ms(r)),h=Gi(h,Ms(o)),h=Gi(h,Ms(c)),h}_createItems(t){const e=this._active,i=this.chart.data,r=[],o=[],c=[];let h=[],d,g;for(d=0,g=e.length;d<g;++d)h.push($3(this.chart,e[d]));return t.filter&&(h=h.filter((y,b,x)=>t.filter(y,b,x,i))),t.itemSort&&(h=h.sort((y,b)=>t.itemSort(y,b,i))),se(h,y=>{const b=gS(t.callbacks,y);r.push(Rn(b,"labelColor",this,y)),o.push(Rn(b,"labelPointStyle",this,y)),c.push(Rn(b,"labelTextColor",this,y))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=h,h}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let o,c=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const h=su[i.position].call(this,r,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const d=this._size=uS(this,i),g=Object.assign({},h,d),y=hS(this.chart,i,g),b=dS(i,g,y,this.chart);this.xAlign=y.xAlign,this.yAlign=y.yAlign,o={opacity:1,x:b.x,y:b.y,width:d.width,height:d.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const o=this.getCaretPosition(t,i,r);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:o}=this,{caretSize:c,cornerRadius:h}=i,{topLeft:d,topRight:g,bottomLeft:y,bottomRight:b}=dl(h),{x,y:E}=t,{width:A,height:M}=e;let R,B,W,Y,tt,K;return o==="center"?(tt=E+M/2,r==="left"?(R=x,B=R-c,Y=tt+c,K=tt-c):(R=x+A,B=R+c,Y=tt-c,K=tt+c),W=R):(r==="left"?B=x+Math.max(d,y)+c:r==="right"?B=x+A-Math.max(g,b)-c:B=this.caretX,o==="top"?(Y=E,tt=Y-c,R=B-c,W=B+c):(Y=E+M,tt=Y+c,R=B+c,W=B-c),K=Y),{x1:R,x2:B,x3:W,y1:Y,y2:tt,y3:K}}drawTitle(t,e,i){const r=this.title,o=r.length;let c,h,d;if(o){const g=fl(i.rtl,this.x,this.width);for(t.x=Wd(this,i.titleAlign,i),e.textAlign=g.textAlign(i.titleAlign),e.textBaseline="middle",c=pn(i.titleFont),h=i.titleSpacing,e.fillStyle=i.titleColor,e.font=c.string,d=0;d<o;++d)e.fillText(r[d],g.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+h,d+1===o&&(t.y+=i.titleMarginBottom-h)}}_drawColorBox(t,e,i,r,o){const c=this.labelColors[i],h=this.labelPointStyles[i],{boxHeight:d,boxWidth:g}=o,y=pn(o.bodyFont),b=Wd(this,"left",o),x=r.x(b),E=d<y.lineHeight?(y.lineHeight-d)/2:0,A=e.y+E;if(o.usePointStyle){const M={radius:Math.min(g,d)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},R=r.leftForLtr(x,g)+g/2,B=A+d/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,O1(t,M,R,B),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,O1(t,M,R,B)}else{t.lineWidth=Vt(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const M=r.leftForLtr(x,g),R=r.leftForLtr(r.xPlus(x,1),g-2),B=dl(c.borderRadius);Object.values(B).some(W=>W!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,zf(t,{x:M,y:A,w:g,h:d,radius:B}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),zf(t,{x:R,y:A+1,w:g-2,h:d-2,radius:B}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(M,A,g,d),t.strokeRect(M,A,g,d),t.fillStyle=c.backgroundColor,t.fillRect(R,A+1,g-2,d-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:o,bodyAlign:c,displayColors:h,boxHeight:d,boxWidth:g,boxPadding:y}=i,b=pn(i.bodyFont);let x=b.lineHeight,E=0;const A=fl(i.rtl,this.x,this.width),M=function(C){e.fillText(C,A.x(t.x+E),t.y+x/2),t.y+=x+o},R=A.textAlign(c);let B,W,Y,tt,K,ot,O;for(e.textAlign=c,e.textBaseline="middle",e.font=b.string,t.x=Wd(this,R,i),e.fillStyle=i.bodyColor,se(this.beforeBody,M),E=h&&R!=="right"?c==="center"?g/2+y:g+2+y:0,tt=0,ot=r.length;tt<ot;++tt){for(B=r[tt],W=this.labelTextColors[tt],e.fillStyle=W,se(B.before,M),Y=B.lines,h&&Y.length&&(this._drawColorBox(e,t,tt,A,i),x=Math.max(b.lineHeight,d)),K=0,O=Y.length;K<O;++K)M(Y[K]),x=b.lineHeight;se(B.after,M)}E=0,x=b.lineHeight,se(this.afterBody,M),t.y-=o}drawFooter(t,e,i){const r=this.footer,o=r.length;let c,h;if(o){const d=fl(i.rtl,this.x,this.width);for(t.x=Wd(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=d.textAlign(i.footerAlign),e.textBaseline="middle",c=pn(i.footerFont),e.fillStyle=i.footerColor,e.font=c.string,h=0;h<o;++h)e.fillText(r[h],d.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:o,yAlign:c}=this,{x:h,y:d}=t,{width:g,height:y}=i,{topLeft:b,topRight:x,bottomLeft:E,bottomRight:A}=dl(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(h+b,d),c==="top"&&this.drawCaret(t,e,i,r),e.lineTo(h+g-x,d),e.quadraticCurveTo(h+g,d,h+g,d+x),c==="center"&&o==="right"&&this.drawCaret(t,e,i,r),e.lineTo(h+g,d+y-A),e.quadraticCurveTo(h+g,d+y,h+g-A,d+y),c==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(h+E,d+y),e.quadraticCurveTo(h,d+y,h,d+y-E),c==="center"&&o==="left"&&this.drawCaret(t,e,i,r),e.lineTo(h,d+b),e.quadraticCurveTo(h,d,h+b,d),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const c=su[t.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=uS(this,t),d=Object.assign({},c,this._size),g=hS(e,t,d),y=dS(t,d,g,e);(r._to!==y.x||o._to!==y.y)&&(this.xAlign=g.xAlign,this.yAlign=g.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,y))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=ui(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,r,e),W2(t,e.textDirection),o.y+=c.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),Y2(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:h,index:d})=>{const g=this.chart.getDatasetMeta(h);if(!g)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:g.data[d],index:d}}),o=!Of(i,r),c=this._positionChanged(r,e);(o||c)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],c=this._getActiveElements(t,o,e,i),h=this._positionChanged(c,t),d=e||!Of(c,o)||h;return d&&(this._active=c,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),d}_getActiveElements(t,e,i,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&c.reverse(),c}_positionChanged(t,e){const{caretX:i,caretY:r,options:o}=this,c=su[o.position].call(this,t,e);return c!==!1&&(i!==c.x||r!==c.y)}}var e5={id:"tooltip",_element:mS,positioners:su,afterInit(n,t,e){e&&(n.tooltip=new mS({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:lC},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const n5=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function i5(n,t,e,i){const r=n.indexOf(t);if(r===-1)return n5(n,t,e,i);const o=n.lastIndexOf(t);return r!==o?e:r}const s5=(n,t)=>n===null?null:In(Math.round(n),0,t);function pS(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class r5 extends Il{static id="category";static defaults={ticks:{callback:pS}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:o}of e)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Te(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:i5(i,t,Qt(e,t),this._addedLabels),s5(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=t;c<=e;c++)r.push({value:c});return r}getLabelForValue(t){return pS.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function a5(n,t){const e=[],{bounds:r,step:o,min:c,max:h,precision:d,count:g,maxTicks:y,maxDigits:b,includeBounds:x}=n,E=o||1,A=y-1,{min:M,max:R}=t,B=!Te(c),W=!Te(h),Y=!Te(g),tt=(R-M)/(b+1);let K=S1((R-M)/A/E)*E,ot,O,C,k;if(K<1e-14&&!B&&!W)return[{value:M},{value:R}];k=Math.ceil(R/K)-Math.floor(M/K),k>A&&(K=S1(k*K/A/E)*E),Te(d)||(ot=Math.pow(10,d),K=Math.ceil(K*ot)/ot),r==="ticks"?(O=Math.floor(M/K)*K,C=Math.ceil(R/K)*K):(O=M,C=R),B&&W&&o&&a6((h-c)/o,K/1e3)?(k=Math.round(Math.min((h-c)/K,y)),K=(h-c)/k,O=c,C=h):Y?(O=B?c:O,C=W?h:C,k=g-1,K=(C-O)/k):(k=(C-O)/K,sf(k,Math.round(k),K/1e3)?k=Math.round(k):k=Math.ceil(k));const I=Math.max(E1(K),E1(O));ot=Math.pow(10,Te(d)?I:d),O=Math.round(O*ot)/ot,C=Math.round(C*ot)/ot;let j=0;for(B&&(x&&O!==c?(e.push({value:c}),O<c&&j++,sf(Math.round((O+j*K)*ot)/ot,c,yS(c,tt,n))&&j++):O<c&&j++);j<k;++j){const U=Math.round((O+j*K)*ot)/ot;if(W&&U>h)break;e.push({value:U})}return W&&x&&C!==h?e.length&&sf(e[e.length-1].value,h,yS(h,tt,n))?e[e.length-1].value=h:e.push({value:h}):(!W||C===h)&&e.push({value:C}),e}function yS(n,t,{horizontal:e,minRotation:i}){const r=Us(i),o=(e?Math.sin(r):Math.cos(r))||.001,c=.75*t*(""+n).length;return Math.min(t/o,c)}class o5 extends Il{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Te(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const c=d=>r=e?r:d,h=d=>o=i?o:d;if(t){const d=jf(r),g=jf(o);d<0&&g<0?h(0):d>0&&g>0&&c(0)}if(r===o){let d=o===0?1:Math.abs(o*.05);h(o+d),t||c(r-d)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,c=a5(r,o);return t.bounds==="ticks"&&o6(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return i0(t,this.chart.options.locale,this.options.ticks.format)}}class l5 extends o5{static id="linear";static defaults={ticks:{callback:P2.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ci(t)?t:0,this.max=ci(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Us(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const xg={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},On=Object.keys(xg);function _S(n,t){return n-t}function vS(n,t){if(Te(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let c=t;return typeof i=="function"&&(c=i(c)),ci(c)||(c=typeof i=="string"?e.parse(c,i):e.parse(c)),c===null?null:(r&&(c=r==="week"&&(Pf(o)||o===!0)?e.startOf(c,"isoWeek",o):e.startOf(c,r)),+c)}function bS(n,t,e,i){const r=On.length;for(let o=On.indexOf(n);o<r-1;++o){const c=xg[On[o]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((e-t)/(h*c.size))<=i)return On[o]}return On[r-1]}function c5(n,t,e,i,r){for(let o=On.length-1;o>=On.indexOf(e);o--){const c=On[o];if(xg[c].common&&n._adapter.diff(r,i,c)>=t-1)return c}return On[e?On.indexOf(e):0]}function u5(n){for(let t=On.indexOf(n)+1,e=On.length;t<e;++t)if(xg[On[t]].common)return On[t]}function xS(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=e0(e,t),o=e[i]>=t?e[i]:e[r];n[o]=!0}}function h5(n,t,e,i){const r=n._adapter,o=+r.startOf(t[0].value,i),c=t[t.length-1].value;let h,d;for(h=o;h<=c;h=+r.add(h,1,i))d=e[h],d>=0&&(t[d].major=!0);return t}function wS(n,t,e){const i=[],r={},o=t.length;let c,h;for(c=0;c<o;++c)h=t[c],r[h]=c,i.push({value:h,major:!1});return o===0||!e?i:h5(n,i,r,e)}class SS extends Il{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new _P._date(t.adapters.date);r.init(e),mu(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:vS(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:o,minDefined:c,maxDefined:h}=this.getUserBounds();function d(g){!c&&!isNaN(g.min)&&(r=Math.min(r,g.min)),!h&&!isNaN(g.max)&&(o=Math.max(o,g.max))}(!c||!h)&&(d(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&d(this.getMinMax(!1))),r=ci(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),o=ci(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,c=this.max,h=d6(r,o,c);return this._unit=e.unit||(i.autoSkip?bS(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):c5(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:u5(this._unit),this.initOffsets(r),t.reverse&&h.reverse(),wS(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;e=In(e,0,c),i=In(i,0,c),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,o=r.time,c=o.unit||bS(o.minUnit,e,i,this._getLabelCapacity(e)),h=Qt(r.ticks.stepSize,1),d=c==="week"?o.isoWeekday:!1,g=Pf(d)||d===!0,y={};let b=e,x,E;if(g&&(b=+t.startOf(b,"isoWeek",d)),b=+t.startOf(b,g?"day":c),t.diff(i,e,c)>1e5*h)throw new Error(e+" and "+i+" are too far apart with stepSize of "+h+" "+c);const A=r.ticks.source==="data"&&this.getDataTimestamps();for(x=b,E=0;x<i;x=+t.add(x,h,c),E++)xS(y,x,A);return(x===i||r.bounds==="ticks"||E===1)&&xS(y,x,A),Object.keys(y).sort(_S).map(M=>+M)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,o=this._unit,c=e||r[o];return this._adapter.format(t,c)}_tickFormatFunction(t,e,i,r){const o=this.options,c=o.ticks.callback;if(c)return _e(c,[t,e,i],this);const h=o.time.displayFormats,d=this._unit,g=this._majorUnit,y=d&&h[d],b=g&&h[g],x=i[e],E=g&&b&&x&&x.major;return this._adapter.format(t,r||(E?b:y))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=Us(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(r),c=Math.sin(r),h=this._resolveTickFontOptions(0).size;return{w:i*o+h*c,h:i*c+h*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,wS(this,[t],this._majorUnit),r),c=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(vS(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return g6(t.sort(_S))}}function Yd(n,t,e){let i=0,r=n.length-1,o,c,h,d;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=Iy(n,"pos",t)),{pos:o,time:h}=n[i],{pos:c,time:d}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=Iy(n,"time",t)),{time:o,pos:h}=n[i],{time:c,pos:d}=n[r]);const g=c-o;return g?h+(d-h)*(t-o)/g:h}class lU extends SS{static id="timeseries";static defaults=SS.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Yd(e,this.min),this._tableRange=Yd(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],o=[];let c,h,d,g,y;for(c=0,h=t.length;c<h;++c)g=t[c],g>=e&&g<=i&&r.push(g);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(c=0,h=r.length;c<h;++c)y=r[c+1],d=r[c-1],g=r[c],Math.round((y+d)/2)!==g&&o.push({time:g,pos:c/(h-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Yd(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Yd(this._table,i*this._tableRange+this._minPos,!0)}}const cC="label";function ES(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function d5(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function uC(n,t){n.labels=t}function hC(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:cC;const i=[];n.datasets=t.map(r=>{const o=n.datasets.find(c=>c[e]===r[e]);return!o||!r.data||i.includes(o)?{...r}:(i.push(o),Object.assign(o,r),o)})}function f5(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cC;const e={labels:[],datasets:[]};return uC(e,n.labels),hC(e,n.datasets,t),e}function g5(n,t){const{height:e=150,width:i=300,redraw:r=!1,datasetIdKey:o,type:c,data:h,options:d,plugins:g=[],fallbackContent:y,updateMode:b,...x}=n,E=z.useRef(null),A=z.useRef(null),M=()=>{E.current&&(A.current=new bg(E.current,{type:c,data:f5(h,o),options:d&&{...d},plugins:g}),ES(t,A.current))},R=()=>{ES(t,null),A.current&&(A.current.destroy(),A.current=null)};return z.useEffect(()=>{!r&&A.current&&d&&d5(A.current,d)},[r,d]),z.useEffect(()=>{!r&&A.current&&uC(A.current.config.data,h.labels)},[r,h.labels]),z.useEffect(()=>{!r&&A.current&&h.datasets&&hC(A.current.config.data,h.datasets,o)},[r,h.datasets]),z.useEffect(()=>{A.current&&(r?(R(),setTimeout(M)):A.current.update(b))},[r,d,h.labels,h.datasets,b]),z.useEffect(()=>{A.current&&(R(),setTimeout(M))},[c]),z.useEffect(()=>(M(),()=>R()),[]),zs.createElement("canvas",{ref:E,role:"img",height:e,width:i,...x},y)}const m5=z.forwardRef(g5);function p5(n,t){return bg.register(t),z.forwardRef((e,i)=>zs.createElement(m5,{...e,ref:i,type:n}))}const y5=p5("pie",yP);var dC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},TS=zs.createContext&&zs.createContext(dC),_5=["attr","size","title"];function v5(n,t){if(n==null)return{};var e=b5(n,t),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)i=o[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function b5(n,t){if(n==null)return{};var e={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function Vf(){return Vf=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Vf.apply(this,arguments)}function CS(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function qf(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?CS(Object(e),!0).forEach(function(i){x5(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):CS(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function x5(n,t,e){return t=w5(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function w5(n){var t=S5(n,"string");return typeof t=="symbol"?t:t+""}function S5(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function fC(n){return n&&n.map((t,e)=>zs.createElement(t.tag,qf({key:e},t.attr),fC(t.child)))}function It(n){return t=>zs.createElement(E5,Vf({attr:qf({},n.attr)},t),fC(n.child))}function E5(n){var t=e=>{var{attr:i,size:r,title:o}=n,c=v5(n,_5),h=r||e.size||"1em",d;return e.className&&(d=e.className),n.className&&(d=(d?d+" ":"")+n.className),zs.createElement("svg",Vf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,i,c,{className:d,style:qf(qf({color:n.color||e.color},e.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&zs.createElement("title",null,o),n.children)};return TS!==void 0?zs.createElement(TS.Consumer,null,e=>t(e)):t(dC)}function T5(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(n)}function ih(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(n)}function Wf(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"7"},child:[]},{tag:"polyline",attr:{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"},child:[]}]})(n)}function C5(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(n)}function A5(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(n)}function N5(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"},child:[]},{tag:"path",attr:{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"},child:[]}]})(n)}function AS(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"},child:[]},{tag:"path",attr:{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"},child:[]}]})(n)}function Yf(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"},child:[]}]})(n)}function gC(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(n)}function k5(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(n)}function R5(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(n)}function f0(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(n)}function M5(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(n)}function O5(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(n)}function D5(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(n)}function I5(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(n)}function L5(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(n)}function Gf(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(n)}function g0(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(n)}function m0(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(n)}function wg(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(n)}function _u(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(n)}function mC(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(n)}function j5(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(n)}function pC(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(n)}function P5(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(n)}function U5(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"},child:[]}]})(n)}function z5(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(n)}function B5(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(n)}function Gr(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(n)}function yC(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(n)}function _C(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(n)}function H5(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(n)}function Uy(n){return It({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M32,224H64V416H32A31.96166,31.96166,0,0,1,0,384V256A31.96166,31.96166,0,0,1,32,224Zm512-48V448a64.06328,64.06328,0,0,1-64,64H160a64.06328,64.06328,0,0,1-64-64V176a79.974,79.974,0,0,1,80-80H288V32a32,32,0,0,1,64,0V96H464A79.974,79.974,0,0,1,544,176ZM264,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,264,256Zm-8,128H192v32h64Zm96,0H288v32h64ZM456,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,456,256Zm-8,128H384v32h64ZM640,256V384a31.96166,31.96166,0,0,1-32,32H576V224h32A31.96166,31.96166,0,0,1,640,256Z"},child:[]}]})(n)}const NS=({question:n,currentUser:t,darkMode:e,onAnswerSubmit:i,onRequestAiHelp:r})=>{const[o,c]=z.useState(!1),[h,d]=z.useState(!1),[g,y]=z.useState(""),[b,x]=z.useState(!1),[E,A]=z.useState([]),[M,R]=z.useState(!1),[B,W]=z.useState(n.views||0),[Y,tt]=z.useState(!1),[K,ot]=z.useState([]),[O,C]=z.useState(!1),[k,I]=z.useState(null);z.useEffect(()=>{if(!t){j();return}(async()=>{try{const ct=zt(Bt,`users/${t.uid}/bookmarks/${n.id}`),P=await il(ct);x(P.exists());const et=zt(Bt,`users/${t.uid}/viewedQuestions/${n.id}`);(await il(et)).exists()||(await xi(et,{timestamp:hl()}),await j())}catch(ct){console.error("Error checking bookmark or views:",ct)}})()},[n.id,t]);const j=async()=>{try{await ai(zt(Bt,`questions/${n.id}`),{views:Gp(1)}),W(it=>it+1)}catch(it){console.error("Error updating views:",it)}};z.useEffect(()=>{if(!h)return;(async()=>{R(!0);try{const ct=hj(zt(Bt,"answers"),lj("questionId"),uj(n.id)),P=vi(ct,async et=>{const lt=et.val(),rt=[];lt&&(await Promise.all(Object.entries(lt).map(async([ht,gt])=>{let mt=!1;if(t){const $t=zt(Bt,`users/${t.uid}/upvotes/${ht}`);mt=(await il($t)).exists()}rt.push({id:ht,content:gt.content,createdAt:gt.createdAt,questionId:gt.questionId,userDisplayName:gt.userDisplayName||"Anonymous",userId:gt.userId,upvotes:gt.upvotes||0,upvoted:mt})})),rt.sort((ht,gt)=>gt.createdAt-ht.createdAt)),A(rt),R(!1)});return()=>P()}catch(ct){console.error("Error loading answers:",ct),R(!1)}})()},[h,n.id,t]);const U=it=>{if(!it)return"Just now";const ct=new Date(typeof it=="object"&&it.seconds?it.seconds*1e3:it);return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(ct)},D=async it=>{if(it.preventDefault(),!(!g.trim()||!t))try{c(!1);const ct=await i(n.id,g);y(""),ct>0&&I(Math.min(10,Math.floor(ct/2)))}catch(ct){console.error("Error submitting answer:",ct)}},Tt=async()=>{if(t)try{const it=zt(Bt,`users/${t.uid}/bookmarks/${n.id}`);b?(await xi(it,null),x(!1)):(await xi(it,{timestamp:hl(),questionId:n.id,questionTitle:n.title}),x(!0))}catch(it){console.error("Error updating bookmark:",it)}},yt=async it=>{if(t)try{A(rt=>rt.map(ht=>{if(ht.id===it){const gt=ht.upvoted;return{...ht,upvoted:!gt,upvotes:gt?ht.upvotes-1:ht.upvotes+1}}return ht}));const ct=zt(Bt,`answers/${it}`),P=zt(Bt,`users/${t.uid}/upvotes/${it}`),et=await il(P);et.exists()?(await ai(ct,{upvotes:Gp(-1)}),await xi(P,null)):(await ai(ct,{upvotes:Gp(1)}),await xi(P,{timestamp:hl()}));const lt=await il(ct);A(rt=>rt.map(ht=>ht.id===it?{...ht,upvotes:lt.val().upvotes||0,upvoted:!et.exists()}:ht))}catch(ct){console.error("Error upvoting answer:",ct),A(P=>P.map(et=>et.id===it?{...et,upvoted:et.upvoted}:et))}},$=async()=>{if(g.trim()){tt(!0);try{await new Promise(ct=>setTimeout(ct,800));const it=["Consider adding more context about: "+g.split(" ").slice(0,3).join(" "),"A relevant example might help clarify your point","Have you considered mentioning alternative approaches?","Could you break this down into simpler steps?"];ot(it),C(!0)}catch(it){console.error("Error getting AI suggestions:",it)}finally{tt(!1)}}},Z=it=>{y(ct=>`${ct}

 ${it}`),C(!1)};return _.jsxs("div",{className:`question-card ${n.answered?"answered":""} ${e?"dark":""}`,children:[_.jsxs("div",{className:"question-header",children:[_.jsxs("div",{className:"question-meta",children:[_.jsx("span",{className:`subject-badge ${n.subject?.toLowerCase()}`,children:n.subject}),_.jsxs("span",{className:"asked-by",children:[_.jsx(Gr,{className:"icon"}),n.userDisplayName||"Anonymous"]}),_.jsxs("span",{className:"timestamp",children:[_.jsx(f0,{className:"icon"}),U(n.createdAt)]})]}),n.answered&&_.jsxs("div",{className:"answered-badge",children:[_.jsx(gC,{className:"icon"}),"Answered"]})]}),_.jsx("h3",{className:"question-title",children:_.jsx(ie,{to:`/question/${n.id}`,children:n.title})}),n.aiOptimized&&_.jsxs("div",{className:"ai-optimized-badge",children:[_.jsx(Uy,{className:"mr-1"}),"AI-Enhanced"]}),_.jsxs("div",{className:"question-stats",children:[_.jsxs("span",{className:"stat",children:[_.jsx(_u,{className:"icon"}),n.answerCount||0," answers"]}),_.jsxs("span",{className:"stat",children:[_.jsx(D5,{className:"icon"}),B," views"]})]}),n.answerCount>0&&_.jsx("div",{className:"answers-toggle",children:_.jsx("button",{onClick:()=>d(!h),className:"toggle-btn",children:h?_.jsxs(_.Fragment,{children:[_.jsx(R5,{className:"icon"}),"Hide Answers"]}):_.jsxs(_.Fragment,{children:[_.jsx(k5,{className:"icon"}),"Show Answers (",n.answerCount,")"]})})}),h&&_.jsx("div",{className:"answers-list",children:M?_.jsx("div",{className:"loading",children:"Loading answers..."}):E.length>0?E.map(it=>_.jsxs("div",{className:"answer",children:[_.jsxs("div",{className:"answer-header",children:[_.jsxs("span",{className:"author",children:[_.jsx(Gr,{className:"icon"}),it.userDisplayName]}),_.jsx("span",{className:"date",children:U(it.createdAt)})]}),_.jsx("div",{className:"answer-content",children:it.content}),_.jsx("div",{className:"answer-footer",children:_.jsxs("button",{onClick:ct=>{ct.stopPropagation(),yt(it.id)},className:`upvote-btn ${it.upvoted?"upvoted":""}`,disabled:!t||M,title:t?"":"Login to upvote",children:[_.jsx(U5,{className:"icon"}),_.jsx("span",{className:"upvote-count",children:it.upvotes||0}),_.jsx("span",{className:"upvote-text",children:"upvotes"})]})})]},it.id)):_.jsx("div",{className:"no-answers",children:"No answers yet"})}),t&&_.jsx("div",{className:"answer-section",children:o?_.jsxs("form",{onSubmit:D,className:"answer-form",children:[_.jsx("textarea",{value:g,onChange:it=>y(it.target.value),placeholder:"Write your detailed answer here...",rows:4,required:!0}),O&&_.jsxs("div",{className:"ai-suggestions",children:[_.jsx("h4",{children:"AI Suggestions"}),_.jsx("ul",{children:K.map((it,ct)=>_.jsx("li",{onClick:()=>Z(it),children:it},ct))}),_.jsx("button",{type:"button",onClick:()=>C(!1),className:"close-suggestions-btn",children:"Close suggestions"})]}),_.jsxs("div",{className:"form-actions",children:[_.jsxs("div",{className:"left-actions",children:[_.jsx("button",{type:"button",onClick:()=>c(!1),className:"cancel-btn",children:"Cancel"}),_.jsx("button",{type:"button",onClick:$,disabled:Y||!g.trim(),className:"ai-help-btn",children:Y?_.jsx("span",{className:"loading-dots",children:"Thinking"}):_.jsxs(_.Fragment,{children:[_.jsx(Uy,{className:"icon"}),"Get AI Help"]})})]}),_.jsx("button",{type:"submit",disabled:!g.trim(),className:"submit-btn",children:"Post Answer"})]})]}):_.jsxs("div",{className:"answer-prompt",children:[_.jsxs("button",{onClick:()=>c(!0),className:"add-answer-btn",children:[_.jsx(O5,{className:"icon"}),"Add Your Answer"]}),_.jsxs("button",{onClick:()=>r(n.id,n.title),className:"ai-hint-btn",children:[_.jsx(Gf,{className:"icon"}),"Need Help?"]})]})}),_.jsxs("div",{className:"question-footer",children:[_.jsxs("button",{onClick:Tt,className:`bookmark-btn ${b?"active":""}`,disabled:!t,title:t?"":"Login to bookmark",children:[_.jsx(Yf,{className:"icon"}),b?"Bookmarked":"Bookmark"]}),k&&_.jsxs("div",{className:"quality-indicator",children:[_.jsx("span",{children:"Answer Quality:"}),_.jsx("div",{className:"quality-meter",children:[...Array(10)].map((it,ct)=>_.jsx("div",{className:`bar ${ct<k?"filled":""}`},ct))}),_.jsx(Wf,{className:"award-icon"})]})]})]})};function F5(){const[n,t]=z.useState(!1);return z.useEffect(()=>{const e=()=>{t(window.innerWidth<=768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),n}function V5(n){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z"},child:[]},{tag:"path",attr:{d:"M20 3v4"},child:[]},{tag:"path",attr:{d:"M22 5h-4"},child:[]},{tag:"path",attr:{d:"M4 17v2"},child:[]},{tag:"path",attr:{d:"M5 18H3"},child:[]}]})(n)}bg.register(r5,l5,z3,G3,e5,W3,D3);const Kc=(n=1)=>({".sv":{increment:n}});function kS(){const n=JE(),[t]=yg(n),e=Gs(),{darkMode:i}=Tl(),[r,o]=z.useState([]),[c,h]=z.useState([]),[d,g]=z.useState([]),[y,b]=z.useState([]),[x,E]=z.useState(!0),[A,M]=z.useState(!1),[R,B]=z.useState(null),[W,Y]=z.useState([]),[tt,K]=z.useState(""),[ot,O]=z.useState(""),[C,k]=z.useState("all"),[I,j]=z.useState(!1),[U,D]=z.useState({totalQuestions:0,totalAnswers:0,answerRate:0,subjectDistribution:{}}),[Tt,yt]=z.useState(!1),[$,Z]=z.useState(!1),[it,ct]=z.useState(""),P=F5();z.useEffect(()=>{const ft=zt(Bt,"questions"),Dt=vi(ft,ae=>{const ve=ae.val();if(ve){const he=Object.entries(ve).map(([de,En])=>({id:de,...En}));o(he);const hn=he.reduce((de,En)=>(de[En.subject]=(de[En.subject]||0)+1,de),{}),Lt=he.filter(de=>de.answered).length;D(de=>({...de,totalQuestions:he.length,totalAnswers:he.reduce((En,Ks)=>En+(Ks.answerCount||0),0),answerRate:he.length>0?Math.round(Lt/he.length*100):0,subjectDistribution:hn}))}});return()=>Dt()},[]),z.useEffect(()=>{const ft=zt(Bt,"questions"),Dt=vi(ft,ae=>{const ve=ae.val();if(ve){const he=Object.entries(ve).map(([hn,Lt])=>({id:hn,...Lt})).sort((hn,Lt)=>(Lt.engagementScore||0)-(hn.engagementScore||0)).slice(0,5);h(he)}});return()=>Dt()},[]),z.useEffect(()=>{if(!t){E(!1);return}const ft=zt(Bt,`users/${t.uid}/bookmarks`),Dt=vi(ft,async ae=>{if(ae.exists()){const he=Object.values(ae.val()).map(Lt=>Lt.questionId).map(async Lt=>{const de=zt(Bt,`questions/${Lt}`),En=await il(de);return{id:Lt,...En.val()}}),hn=await Promise.all(he);b(hn.filter(Lt=>Lt.title))}else b([]);E(!1)});return()=>Dt()},[t]);const et=async ft=>{if(t)try{const Dt=zt(Bt,`users/${t.uid}/bookmarks/${ft}`);await xi(Dt,null)}catch(Dt){console.error("Error removing bookmark:",Dt)}},lt=async()=>{if(ot.trim()){yt(!0);try{const Dt=await(await fetch("/api/enhance-question",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:ot})})).json();Dt.enhancedQuestion&&O(Dt.enhancedQuestion),Dt.suggestions&&setAiSuggestions(Dt.suggestions)}catch(ft){console.error("Error enhancing question:",ft)}finally{yt(!1)}}};z.useEffect(()=>{if(t){const ft=zt(Bt,`users/${t.uid}/stats`);vi(ft,ve=>{B(ve.val())});const Dt=zt(Bt,`users/${t.uid}/recentlyViewed`);vi(Dt,ve=>{const he=ve.val();if(he){const hn=Object.entries(he).map(([Lt,de])=>({id:Lt,...de,viewedAt:de.timestamp})).sort((Lt,de)=>de.viewedAt-Lt.viewedAt);g(hn)}});const ae=zt(Bt,"users");vi(ae,ve=>{const he=ve.val();if(he){const hn=Object.entries(he).filter(([Lt,de])=>de.stats?.points>0).map(([Lt,de])=>({id:Lt,...de.profile,points:de.stats?.points||0})).sort((Lt,de)=>de.points-Lt.points).slice(0,5);Y(hn)}})}},[t]);const rt=async(ft,Dt)=>{Z(!0);try{const ae=["This question seems to be about understanding the core concept rather than a specific calculation","A good approach would be to break down the problem into smaller steps","Consider explaining the fundamental principles involved","Visual aids or diagrams might help in explaining this concept"];await new Promise(ve=>setTimeout(ve,800)),ct(ae[Math.floor(Math.random()*ae.length)])}catch(ae){console.error("Error getting AI hint:",ae),ct("Couldn't generate a hint at this time. Please try again later.")}},ht=async ft=>{if(ft.preventDefault(),!(!ot.trim()||!t))try{const Dt=m1(zt(Bt,"questions")),ae={id:Dt.key,title:ot.trim(),subject:C,userId:t.uid,userDisplayName:t.displayName||"Anonymous",createdAt:hl(),answered:!1,engagementScore:0,answerCount:0,views:0};await xi(Dt,ae),await ai(zt(Bt,`users/${t.uid}/stats`),{questions:Kc(1)}),O(""),setAiSuggestions([])}catch(Dt){console.error("Error submitting question:",Dt)}},gt=async(ft,Dt)=>{if(!(!t||!Dt.trim()))try{const ae=m1(zt(Bt,"answers")),ve={id:ae.key,questionId:ft,content:Dt.trim(),userId:t.uid,userDisplayName:t.displayName||"Anonymous",createdAt:hl(),upvotes:0};await xi(ae,ve),await ai(zt(Bt,`questions/${ft}`),{answerCount:Kc(1),answered:!0,lastAnsweredAt:hl()});const he=Math.floor(Math.random()*20)+5;return await ai(zt(Bt,`users/${t.uid}/stats`),{answers:Kc(1),points:Kc(he),...he>15&&{bestAnswers:Kc(1)}}),he}catch(ae){return console.error("Error submitting answer:",ae),0}},mt=r.filter(ft=>(C==="all"||ft.subject===C)&&ft.title.toLowerCase().includes(tt.toLowerCase())),$t=async()=>{try{await HE(n),e("/login")}catch(ft){console.error("Logout error:",ft)}},Kt=()=>_.jsxs("div",{className:"card",children:[_.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[_.jsx(C5,{className:"mr-2 text-primary"}),_.jsx("span",{children:"Community Stats"})]}),_.jsxs("div",{className:"stats-grid",children:[_.jsxs("div",{className:"stats-item",children:[_.jsx("div",{className:"text-sm font-medium mb-1",children:"Total Questions"}),_.jsx("div",{className:"text-2xl font-bold",children:U.totalQuestions})]}),_.jsxs("div",{className:"stats-item",children:[_.jsx("div",{className:"text-sm font-medium mb-1",children:"Total Answers"}),_.jsx("div",{className:"text-2xl font-bold",children:U.totalAnswers})]}),_.jsxs("div",{className:"stats-item",children:[_.jsx("div",{className:"text-sm font-medium mb-1",children:"Answer Rate"}),_.jsxs("div",{className:"text-2xl font-bold",children:[U.answerRate,"%"]})]})]}),_.jsxs("div",{children:[_.jsx("h4",{className:"text-sm font-medium mb-2",children:"Topic Distribution"}),_.jsx("div",{className:"chart-container",children:_.jsx(y5,{data:{labels:Object.keys(U.subjectDistribution),datasets:[{data:Object.values(U.subjectDistribution),backgroundColor:["#06b6d4","#3b82f6","#8b5cf6","#ec4899","#f97316"],borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{color:i?"#fff":"#333"}}}}})})]})]}),qn=()=>_.jsxs("div",{className:"card",children:[_.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[_.jsx(yC,{className:"mr-2 text-primary"}),_.jsx("span",{children:"Top Contributors"})]}),_.jsx("div",{className:"space-y-3",children:W.map((ft,Dt)=>_.jsx(ie,{to:`/profile/${ft.id}`,className:"block hover:opacity-80 transition-opacity",children:_.jsxs("div",{className:"expert-item",children:[_.jsxs("span",{className:"w-6 text-center mr-2 font-medium",children:[Dt+1,"."]}),_.jsx("div",{className:"expert-avatar",children:ft.displayName?.charAt(0)||"E"}),_.jsxs("div",{className:"flex-1",children:[_.jsx("div",{className:"font-medium",children:ft.displayName||"Expert"}),_.jsxs("div",{className:"text-sm text-secondary",children:[ft.points||0," points"]})]}),_.jsx("div",{className:"expert-badge",children:_.jsx(Wf,{className:"text-yellow-500"})})]})},ft.id))})]}),Mi=()=>_.jsxs("div",{className:"card",children:[_.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[_.jsx(T5,{className:"mr-2 text-primary"}),_.jsx("span",{children:"Your Stats"})]}),_.jsxs("div",{className:"stats-grid",children:[_.jsxs("div",{className:"stats-item",children:[_.jsx("div",{className:"text-sm font-medium mb-1",children:"Points"}),_.jsx("div",{className:"text-2xl font-bold text-primary",children:R?.points||0}),_.jsx("div",{className:"text-xs text-secondary",children:"Earned through contributions"})]}),_.jsxs("div",{className:"stats-item",children:[_.jsx("div",{className:"text-sm font-medium mb-1",children:"Questions"}),_.jsx("div",{className:"text-2xl font-bold",children:R?.questions||0}),_.jsx("div",{className:"text-xs text-secondary",children:"Asked"})]}),_.jsxs("div",{className:"stats-item",children:[_.jsx("div",{className:"text-sm font-medium mb-1",children:"Answers"}),_.jsx("div",{className:"text-2xl font-bold",children:R?.answers||0}),_.jsx("div",{className:"text-xs text-secondary",children:"Provided"})]}),_.jsxs("div",{className:"stats-item",children:[_.jsx("div",{className:"text-sm font-medium mb-1",children:"Best Answers"}),_.jsx("div",{className:"text-2xl font-bold",children:R?.bestAnswers||0}),_.jsx("div",{className:"text-xs text-secondary",children:"High-quality solutions"})]})]}),R?.points&&_.jsxs("div",{className:"mt-4",children:[_.jsxs("div",{className:"flex items-center justify-between mb-1",children:[_.jsx("span",{className:"text-sm font-medium",children:"Your Contribution Level"}),_.jsx("span",{className:"text-xs text-primary",children:R.points>100?"Expert":R.points>50?"Advanced":R.points>20?"Intermediate":"Beginner"})]}),_.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:_.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${Math.min(100,R.points)}%`}})})]})]});return _.jsxs("div",{className:`home-container ${i?"dark":""}`,children:[_.jsx("header",{className:"header",children:_.jsxs("div",{className:"header-container",children:[_.jsxs(ie,{to:"/",className:"logo",children:[_.jsx(H5,{className:"logo-icon"}),"StudiQ"]}),_.jsx("div",{className:`search-container ${P?"mobile-layout":"desktop-layout"}`,children:_.jsxs("div",{className:"search-bar",children:[_.jsx(j5,{className:"search-icon"}),_.jsx("input",{type:"text",placeholder:"Search for questions...",className:"search-input",value:tt,onChange:ft=>K(ft.target.value)})]})}),_.jsx("nav",{className:"nav",children:t?_.jsxs("div",{className:"profile-dropdown",children:[_.jsxs("button",{onClick:()=>j(!I),className:"profile-button",children:[_.jsx("div",{className:"avatar",children:t.displayName?.charAt(0)||"U"}),_.jsx("span",{className:"display-name",children:t.displayName||"User"})]}),I&&_.jsxs("div",{className:"dropdown-menu",children:[_.jsxs(ie,{to:`/profile/${t.uid}`,className:"dropdown-item",children:[_.jsx(Gr,{className:"dropdown-icon"})," Profile"]}),_.jsxs(ie,{to:"/settings",className:"dropdown-item",children:[_.jsx(pC,{className:"dropdown-icon"})," Settings"]}),_.jsxs("button",{onClick:$t,className:"dropdown-item",children:[_.jsx(m0,{className:"dropdown-icon"})," Sign out"]})]})]}):_.jsxs(_.Fragment,{children:[_.jsx(ie,{to:"/login",className:"login-link",children:"Log in"}),_.jsx(ie,{to:"/signup",className:"signup-button",children:"Sign up"})]})})]})}),_.jsx("main",{className:"container mx-auto px-4 py-8",children:_.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[_.jsxs("div",{className:"w-full md:w-1/4 space-y-6",children:[_.jsxs("div",{className:"card",children:[_.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[_.jsx(N5,{className:"mr-2 text-primary"}),_.jsx("span",{children:"Topics"})]}),_.jsxs("ul",{className:"space-y-2",children:[_.jsx("li",{children:_.jsx("button",{onClick:()=>k("all"),className:`subject-item ${C==="all"?"active":""}`,children:"All Topics"})}),["Mathematics","Science","History","Literature","Technology","Arts","Languages"].map(ft=>_.jsx("li",{children:_.jsx("button",{onClick:()=>k(ft),className:`subject-item ${C===ft?"active":""}`,children:ft})},ft))]})]}),t&&_.jsxs(_.Fragment,{children:[Mi(),d.length>0&&_.jsxs("div",{className:"card",children:[_.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[_.jsx(f0,{className:"mr-2 text-primary"}),_.jsx("span",{children:"Recently Viewed"})]}),_.jsx("div",{className:"space-y-3",children:d.slice(0,3).map(ft=>_.jsx(ie,{to:`/question/${ft.id}`,className:"question-link text-sm",children:ft.title},ft.id))})]}),y.length>0&&_.jsxs("div",{className:"bookmarks-section",children:[_.jsxs("h3",{className:"section-title",children:[_.jsx(Yf,{className:"icon"}),"Your Bookmarks",x&&_.jsx("span",{className:"loading-indicator",children:"Loading..."})]}),_.jsx("ul",{className:"space-y-2",children:y.map(ft=>_.jsxs("li",{className:"flex justify-between items-center",children:[_.jsx(ie,{to:`/question/${ft.id}`,className:"text-sm text-primary hover:underline",children:ft.title}),_.jsx("button",{className:"text-xs text-red-500 hover:underline",onClick:()=>et(ft.id),children:"Remove"})]},ft.id))})]})]})]}),_.jsxs("div",{className:"w-full md:w-2/4 space-y-6",children:[t&&_.jsxs("div",{className:"card bg-white/80 dark:bg-gray-800/80 backdrop-blur-lg rounded-xl shadow-lg border border-gray-200/70 dark:border-gray-700/50 p-6",children:[_.jsxs("h2",{className:"text-2xl font-bold mb-6 text-gray-800 dark:text-white flex items-center",children:[_.jsx(Gf,{className:"mr-3 text-teal-500 dark:text-teal-400"}),_.jsx("span",{children:"Ask Your Question"})]}),_.jsxs("form",{onSubmit:ht,className:"space-y-6",children:[_.jsx("div",{className:"relative",children:_.jsx("textarea",{placeholder:"Example: 'How do I solve quadratic equations using the quadratic formula?'",className:"w-full px-4 py-3 bg-white/70 dark:bg-gray-700/50 border border-gray-300/80 dark:border-gray-600/50 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent text-gray-800 dark:text-gray-100 placeholder-gray-500/70 dark:placeholder-gray-400/70 resize-none transition-all duration-200",rows:5,value:ot,onChange:ft=>O(ft.target.value),required:!0})}),_.jsxs("div",{className:"flex flex-col gap-3 mt-4",children:[_.jsxs("button",{type:"button",onClick:lt,disabled:!ot||A,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all w-full sm:w-fit
      ${!ot||A?"bg-gray-200/50 dark:bg-gray-700/50 text-gray-400 dark:text-gray-500 cursor-not-allowed":"bg-teal-500/10 hover:bg-teal-500/20 text-teal-600 dark:text-teal-400 shadow-sm hover:shadow-md"}`,children:[_.jsx(V5,{className:`w-4 h-4 ${A?"animate-pulse":""}`}),A?"Formatting...":"Format with AI"]}),_.jsxs("div",{className:"flex flex-wrap gap-2",children:[_.jsx("button",{type:"button",onClick:()=>O(""),className:"text-gray-600 dark:text-gray-300 text-sm px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-all",children:"Clear"}),_.jsx("button",{type:"submit",disabled:!ot,className:"bg-teal-500 hover:bg-teal-600 text-white text-sm px-4 py-2 rounded-lg shadow w-fit transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Post Question"})]})]}),_.jsx("div",{className:"pt-2",children:_.jsxs("select",{value:C,onChange:ft=>k(ft.target.value),className:"w-full px-4 py-2 bg-white/70 dark:bg-gray-700/50 border border-gray-300/80 dark:border-gray-600/50 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent text-gray-800 dark:text-gray-100",children:[_.jsx("option",{value:"all",children:"Select Subject"}),_.jsx("option",{value:"Mathematics",children:"Mathematics"}),_.jsx("option",{value:"Science",children:"Science"}),_.jsx("option",{value:"History",children:"History"}),_.jsx("option",{value:"Literature",children:"Literature"}),_.jsx("option",{value:"Technology",children:"Technology"}),_.jsx("option",{value:"Arts",children:"Arts"}),_.jsx("option",{value:"Languages",children:"Languages"})]})})]})]}),_.jsxs("div",{className:"card",children:[_.jsxs("div",{className:"flex items-center justify-between mb-6",children:[_.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[_.jsx(z5,{className:"mr-2 text-primary"}),"Trending Questions"]}),_.jsx(ie,{to:"/trending",className:"text-sm text-primary hover:underline",children:"View all"})]}),_.jsx("div",{className:"space-y-4",children:c.map(ft=>_.jsx(NS,{question:ft,darkMode:i,currentUser:t,onAnswerSubmit:gt,onRequestAiHelp:rt},ft.id))})]}),_.jsxs("div",{className:"card",children:[_.jsxs("div",{className:"flex items-center justify-between mb-6",children:[_.jsx("h2",{className:"text-xl font-semibold",children:"Recent Questions"}),_.jsx(ie,{to:"/questions",className:"text-sm text-primary hover:underline",children:"View all"})]}),_.jsx("div",{className:"space-y-4",children:mt.slice(0,5).map(ft=>_.jsx(NS,{question:ft,darkMode:i,currentUser:t,onAnswerSubmit:gt,onRequestAiHelp:rt},ft.id))})]})]}),_.jsxs("div",{className:"w-full md:w-1/4 space-y-6",children:[qn(),Kt(),_.jsxs("div",{className:"card",children:[_.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[_.jsx(P5,{className:"mr-2 text-primary"}),_.jsx("span",{children:"Featured Questions"})]}),_.jsx("div",{className:"space-y-3",children:r.filter(ft=>ft.featured).slice(0,3).map(ft=>_.jsx(ie,{to:`/question/${ft.id}`,className:"question-link text-sm",children:ft.title},ft.id))})]}),$&&_.jsxs("div",{className:"card bg-blue-50 border-blue-200",children:[_.jsxs("div",{className:"flex justify-between items-center mb-3",children:[_.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[_.jsx(Uy,{className:"mr-2 text-blue-600"}),_.jsx("span",{children:"AI Answer Assistant"})]}),_.jsx("button",{onClick:()=>Z(!1),className:"text-blue-600 hover:text-blue-800",children:""})]}),_.jsxs("div",{className:"text-sm text-blue-800",children:[_.jsx("p",{className:"mb-2",children:"Here's a hint to help you craft a great answer:"}),_.jsx("div",{className:"bg-white p-3 rounded-lg border border-blue-200",children:it}),_.jsx("p",{className:"mt-3 text-xs",children:"Remember: High-quality answers earn more points! Focus on clarity and depth."})]})]})]})]})})]})}function q5(){const{login:n,googleSignIn:t}=pg(),{darkMode:e}=Tl(),[i,r]=z.useState(""),[o,c]=z.useState(""),[h,d]=z.useState(""),[g,y]=z.useState(!1),[b,x]=z.useState(!1),[E,A]=z.useState(!1),M=Gs(),R=async W=>{W.preventDefault(),y(!0),d("");try{await n(i,o,E),M("/")}catch(Y){let tt=Y.message;Y.code==="auth/user-not-found"?tt="No account found with this email. Please sign up.":Y.code==="auth/wrong-password"&&(tt="Incorrect password. Please try again."),d(tt)}finally{y(!1)}},B=async()=>{try{d(""),x(!0),await t(),M("/")}catch(W){let Y=W.message;W.code==="auth/account-exists-with-different-credential"&&(Y="This email is already registered with another method."),d(Y)}finally{x(!1)}};return _.jsx("div",{className:`login-container ${e?"dark":""}`,children:_.jsxs("div",{className:"login-card",children:[_.jsxs("div",{className:"login-header",children:[_.jsx(ie,{to:"/",className:"back-button",children:_.jsx(ih,{})}),_.jsx("h1",{children:"Welcome Back"})]}),h&&_.jsx("div",{className:"error-message",children:h}),_.jsxs("form",{onSubmit:R,className:"login-form",children:[_.jsxs("div",{className:"input-group",children:[_.jsx("label",{htmlFor:"email",children:"Email Address"}),_.jsxs("div",{className:"input-wrapper",children:[_.jsx(wg,{className:"input-icon"}),_.jsx("input",{id:"email",type:"email",value:i,onChange:W=>r(W.target.value),placeholder:"your@email.com",required:!0})]})]}),_.jsxs("div",{className:"input-group",children:[_.jsx("label",{htmlFor:"password",children:"Password"}),_.jsxs("div",{className:"input-wrapper",children:[_.jsx(g0,{className:"input-icon"}),_.jsx("input",{id:"password",type:"password",value:o,onChange:W=>c(W.target.value),placeholder:"",required:!0})]})]}),_.jsxs("div",{className:"remember-forgot",children:[_.jsxs("label",{className:"remember-me",children:[_.jsx("input",{type:"checkbox",checked:E,onChange:W=>A(W.target.checked)}),"Remember me"]}),_.jsx(ie,{to:"/forgot-password",className:"forgot-password",children:"Forgot password?"})]}),_.jsx("button",{type:"submit",disabled:g,className:"submit-button",children:g?_.jsxs(_.Fragment,{children:[_.jsx("span",{className:"spinner"}),"Logging in..."]}):"Log In"})]}),_.jsx("div",{className:"divider",children:_.jsx("span",{children:"Or log in with"})}),_.jsx("button",{onClick:B,disabled:b,className:"google-button",children:b?_.jsxs(_.Fragment,{children:[_.jsx("span",{className:"spinner"}),"Logging in..."]}):_.jsxs(_.Fragment,{children:[_.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg",alt:"Google logo",className:"google-logo"}),"Google"]})}),_.jsxs("div",{className:"signup-link",children:[_.jsx("span",{children:"Don't have an account? "}),_.jsx(ie,{to:"/signup",children:"Sign up"})]})]})})}function W5(){const{signup:n,googleSignIn:t}=pg(),{darkMode:e}=Tl(),[i,r]=z.useState(""),[o,c]=z.useState(""),[h,d]=z.useState(""),[g,y]=z.useState(""),[b,x]=z.useState(!1),[E,A]=z.useState(!1),M=Gs(),R=Y=>Y.endsWith("@gmail.com")||Y.endsWith("@googlemail.com"),B=async Y=>{if(Y.preventDefault(),x(!0),y(""),!R(o)){y("Please use a valid Google email address (ending with @gmail.com or @googlemail.com)"),x(!1);return}if(!i.trim()){y("Please enter your full name"),x(!1);return}try{await n(o,h,i.trim()),M("/profile-setup")}catch(tt){let K=tt.message;tt.code==="auth/email-already-in-use"?K="This email is already registered. Please log in instead.":tt.code==="auth/weak-password"&&(K="Password should be at least 6 characters"),y(K)}finally{x(!1)}},W=async()=>{try{y(""),A(!0),await t(),M("/profile-setup")}catch(Y){let tt=Y.message;Y.code==="auth/account-exists-with-different-credential"&&(tt="This email is already registered. Please log in instead."),y(tt)}finally{A(!1)}};return _.jsx("div",{className:`login-container ${e?"dark":""}`,children:_.jsxs("div",{className:"login-card",children:[_.jsxs("div",{className:"login-header",children:[_.jsx(ie,{to:"/",className:"back-button",children:_.jsx(ih,{})}),_.jsx("h1",{children:"Create Account"})]}),g&&_.jsx("div",{className:"error-message",children:g}),_.jsxs("form",{onSubmit:B,className:"login-form",children:[_.jsxs("div",{className:"input-group",children:[_.jsx("label",{htmlFor:"name",children:"Full Name"}),_.jsxs("div",{className:"input-wrapper",children:[_.jsx(Gr,{className:"input-icon"}),_.jsx("input",{id:"name",type:"text",value:i,onChange:Y=>r(Y.target.value),placeholder:"Your Name",required:!0})]})]}),_.jsxs("div",{className:"input-group",children:[_.jsx("label",{htmlFor:"email",children:"Email Address"}),_.jsxs("div",{className:"input-wrapper",children:[_.jsx(wg,{className:"input-icon"}),_.jsx("input",{id:"email",type:"email",value:o,onChange:Y=>c(Y.target.value),placeholder:"your@gmail.com",required:!0})]}),_.jsx("p",{className:"email-hint",children:"Must be a Google email"})]}),_.jsxs("div",{className:"input-group",children:[_.jsx("label",{htmlFor:"password",children:"Password"}),_.jsxs("div",{className:"input-wrapper",children:[_.jsx(g0,{className:"input-icon"}),_.jsx("input",{id:"password",type:"password",value:h,onChange:Y=>d(Y.target.value),placeholder:"",minLength:6,required:!0})]}),_.jsx("p",{className:"password-hint",children:"Minimum 6 characters"})]}),_.jsx("button",{type:"submit",disabled:b,className:"submit-button",children:b?_.jsxs(_.Fragment,{children:[_.jsx("span",{className:"spinner"}),"Creating account..."]}):"Sign Up"})]}),_.jsx("div",{className:"divider",children:_.jsx("span",{children:"Or sign up with"})}),_.jsx("button",{onClick:W,disabled:E,className:"google-button",children:E?_.jsxs(_.Fragment,{children:[_.jsx("span",{className:"spinner"}),"Signing up..."]}):_.jsxs(_.Fragment,{children:[_.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg",alt:"Google logo",className:"google-logo"}),"Google"]})}),_.jsxs("div",{className:"signup-link",children:[_.jsx("span",{children:"Already have an account? "}),_.jsx(ie,{to:"/login",children:"Log in"})]})]})})}function Y5(){const[n]=yg(cn),t=Gs(),{darkMode:e,setDarkMode:i}=Tl(),[r,o]=z.useState(null),[c,h]=z.useState({displayName:"",email:"",currentPassword:"",newPassword:"",confirmPassword:"",notifications:!0}),[d,g]=z.useState({}),[y,b]=z.useState(""),[x,E]=z.useState(!1),[A,M]=z.useState({length:!1,uppercase:!1,number:!1,specialChar:!1});z.useEffect(()=>{if(n){const tt=zt(Bt,`users/${n.uid}`);vi(tt,K=>{const ot=K.val();o(ot),h(O=>({...O,displayName:ot?.displayName||n.displayName||"",email:n.email||"",notifications:ot?.notifications??!0}))})}},[n]),z.useEffect(()=>{c.newPassword&&M({length:c.newPassword.length>=8,uppercase:/[A-Z]/.test(c.newPassword),number:/\d/.test(c.newPassword),specialChar:/[!@#$%^&*(),.?":{}|<>]/.test(c.newPassword)})},[c.newPassword]);const R=tt=>{const{name:K,value:ot,type:O,checked:C}=tt.target;h(k=>({...k,[K]:O==="checkbox"?C:ot}))},B=async tt=>{tt.preventDefault(),E(!0),g({}),b("");try{if(c.newPassword&&c.newPassword!==c.confirmPassword)throw new Error("New passwords do not match");const K={};c.displayName!==(r?.displayName||n.displayName)&&(K.displayName=c.displayName,await zE(cn.currentUser,{displayName:c.displayName})),K.notifications=c.notifications,K.darkMode=e,await ai(zt(Bt,`users/${n.uid}`),K),b("Settings updated successfully!")}catch(K){g({general:K.message||"Failed to update settings"})}finally{E(!1)}},W=()=>{const tt=!e;i(tt),n&&ai(zt(Bt,`users/${n.uid}`),{darkMode:tt})},Y=async()=>{try{await cn.signOut(),t("/login")}catch(tt){console.error("Logout error:",tt)}};return n?_.jsxs("div",{className:"settings-modern",children:[_.jsx(ie,{to:`/profile/${n.uid}`,className:"settings-back-btn",children:_.jsx(ih,{className:"icon"})}),_.jsxs("div",{className:"settings-content",children:[_.jsxs("h1",{className:"settings-title",children:["Account ",_.jsx("span",{className:"gradient-text",children:"Settings"})]}),_.jsxs("section",{className:"settings-section",children:[_.jsxs("div",{className:"section-header",children:[_.jsx(Gr,{className:"section-icon"}),_.jsx("h2",{children:"Profile Information"})]}),_.jsxs("div",{className:"setting-item",children:[_.jsx("label",{children:"Display Name"}),_.jsx("input",{type:"text",name:"displayName",value:c.displayName,onChange:R,className:"modern-input"})]}),_.jsxs("div",{className:"setting-item",children:[_.jsx("label",{children:"Email Address"}),_.jsx("input",{type:"email",name:"email",value:c.email,onChange:R,disabled:!0,className:"modern-input disabled"}),_.jsx("p",{className:"input-note",children:"Contact support to change your email address"})]})]}),_.jsxs("section",{className:"settings-section",children:[_.jsxs("div",{className:"section-header",children:[_.jsx(g0,{className:"section-icon"}),_.jsx("h2",{children:"Security"})]}),_.jsxs("div",{className:"setting-item",children:[_.jsx("label",{children:"Current Password"}),_.jsx("input",{type:"password",name:"currentPassword",value:c.currentPassword,onChange:R,className:"modern-input",placeholder:"Required for password changes"})]}),_.jsxs("div",{className:"setting-item",children:[_.jsx("label",{children:"New Password"}),_.jsx("input",{type:"password",name:"newPassword",value:c.newPassword,onChange:R,className:"modern-input",placeholder:"Leave blank to keep current password"})]}),c.newPassword&&_.jsxs("div",{className:"password-requirements",children:[_.jsx("h4",{children:"Password Requirements:"}),_.jsx("ul",{children:_.jsxs("li",{className:A.length?"valid":"",children:[A.length?_.jsx(gC,{}):_.jsx(_C,{}),"At least 8 characters"]})})]}),_.jsxs("div",{className:"setting-item",children:[_.jsx("label",{children:"Confirm New Password"}),_.jsx("input",{type:"password",name:"confirmPassword",value:c.confirmPassword,onChange:R,className:"modern-input",placeholder:"Confirm your new password"})]})]}),_.jsxs("section",{className:"settings-section",children:[_.jsxs("div",{className:"section-header",children:[_.jsx(A5,{className:"section-icon"}),_.jsx("h2",{children:"Preferences"})]}),_.jsxs("div",{className:"setting-item toggle-item",children:[_.jsx("div",{className:"toggle-label",children:_.jsx("span",{children:"Dark Mode"})}),_.jsxs("label",{className:"modern-toggle",children:[_.jsx("input",{type:"checkbox",checked:e,onChange:W}),_.jsx("span",{className:"slider"})]})]}),_.jsx("div",{className:"setting-item toggle-item",children:_.jsxs("label",{className:"checkbox-label",children:[_.jsx("input",{type:"checkbox",name:"notifications",checked:c.notifications,onChange:R,className:"modern-checkbox"}),_.jsx("span",{children:"Email Notifications"})]})})]}),_.jsxs("div",{className:"action-buttons",children:[_.jsxs("button",{type:"submit",onClick:B,disabled:x,className:"save-btn",children:[_.jsx(mC,{className:"icon"}),x?"Saving...":"Save Changes"]}),_.jsxs("button",{type:"button",onClick:Y,className:"logout-btn",children:[_.jsx(m0,{className:"icon"}),"Sign Out"]})]})]})]}):_.jsx("div",{className:"min-h-screen flex items-center justify-center bg-primary",children:_.jsxs("div",{className:"text-center p-8 glass-card animate-fadeIn",children:[_.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Please sign in to access settings"}),_.jsx(ie,{to:"/login",className:"text-accent hover:underline font-medium",children:"Go to login page"})]})})}function G5(){return _.jsxs("div",{className:"text-center p-10",children:[_.jsx("h1",{className:"text-4xl font-bold text-red-600",children:"404 - Page Not Found"}),_.jsx("p",{className:"text-gray-600 mt-4",children:"Oops! The page you're looking for doesn't exist."})]})}const vC=6048e5,$5=864e5,RS=Symbol.for("constructDateFrom");function $r(n,t){return typeof n=="function"?n(t):n&&typeof n=="object"&&RS in n?n[RS](t):n instanceof Date?new n.constructor(t):new Date(t)}function Ri(n,t){return $r(t||n,n)}let X5={};function Sg(){return X5}function Uu(n,t){const e=Sg(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??e.weekStartsOn??e.locale?.options?.weekStartsOn??0,r=Ri(n,t?.in),o=r.getDay(),c=(o<i?7:0)+o-i;return r.setDate(r.getDate()-c),r.setHours(0,0,0,0),r}function $f(n,t){return Uu(n,{...t,weekStartsOn:1})}function bC(n,t){const e=Ri(n,t?.in),i=e.getFullYear(),r=$r(e,0);r.setFullYear(i+1,0,4),r.setHours(0,0,0,0);const o=$f(r),c=$r(e,0);c.setFullYear(i,0,4),c.setHours(0,0,0,0);const h=$f(c);return e.getTime()>=o.getTime()?i+1:e.getTime()>=h.getTime()?i:i-1}function MS(n){const t=Ri(n),e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+n-+e}function Q5(n,...t){const e=$r.bind(null,t.find(i=>typeof i=="object"));return t.map(e)}function OS(n,t){const e=Ri(n,t?.in);return e.setHours(0,0,0,0),e}function K5(n,t,e){const[i,r]=Q5(e?.in,n,t),o=OS(i),c=OS(r),h=+o-MS(o),d=+c-MS(c);return Math.round((h-d)/$5)}function Z5(n,t){const e=bC(n,t),i=$r(n,0);return i.setFullYear(e,0,4),i.setHours(0,0,0,0),$f(i)}function J5(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function t9(n){return!(!J5(n)&&typeof n!="number"||isNaN(+Ri(n)))}function e9(n,t){const e=Ri(n,t?.in);return e.setFullYear(e.getFullYear(),0,1),e.setHours(0,0,0,0),e}const n9={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},i9=(n,t,e)=>{let i;const r=n9[n];return typeof r=="string"?i=r:t===1?i=r.one:i=r.other.replace("{{count}}",t.toString()),e?.addSuffix?e.comparison&&e.comparison>0?"in "+i:i+" ago":i};function ry(n){return(t={})=>{const e=t.width?String(t.width):n.defaultWidth;return n.formats[e]||n.formats[n.defaultWidth]}}const s9={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},r9={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},a9={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},o9={date:ry({formats:s9,defaultWidth:"full"}),time:ry({formats:r9,defaultWidth:"full"}),dateTime:ry({formats:a9,defaultWidth:"full"})},l9={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},c9=(n,t,e,i)=>l9[n];function Zc(n){return(t,e)=>{const i=e?.context?String(e.context):"standalone";let r;if(i==="formatting"&&n.formattingValues){const c=n.defaultFormattingWidth||n.defaultWidth,h=e?.width?String(e.width):c;r=n.formattingValues[h]||n.formattingValues[c]}else{const c=n.defaultWidth,h=e?.width?String(e.width):n.defaultWidth;r=n.values[h]||n.values[c]}const o=n.argumentCallback?n.argumentCallback(t):t;return r[o]}}const u9={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},h9={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},d9={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},f9={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},g9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},m9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},p9=(n,t)=>{const e=Number(n),i=e%100;if(i>20||i<10)switch(i%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},y9={ordinalNumber:p9,era:Zc({values:u9,defaultWidth:"wide"}),quarter:Zc({values:h9,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Zc({values:d9,defaultWidth:"wide"}),day:Zc({values:f9,defaultWidth:"wide"}),dayPeriod:Zc({values:g9,defaultWidth:"wide",formattingValues:m9,defaultFormattingWidth:"wide"})};function Jc(n){return(t,e={})=>{const i=e.width,r=i&&n.matchPatterns[i]||n.matchPatterns[n.defaultMatchWidth],o=t.match(r);if(!o)return null;const c=o[0],h=i&&n.parsePatterns[i]||n.parsePatterns[n.defaultParseWidth],d=Array.isArray(h)?v9(h,b=>b.test(c)):_9(h,b=>b.test(c));let g;g=n.valueCallback?n.valueCallback(d):d,g=e.valueCallback?e.valueCallback(g):g;const y=t.slice(c.length);return{value:g,rest:y}}}function _9(n,t){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&t(n[e]))return e}function v9(n,t){for(let e=0;e<n.length;e++)if(t(n[e]))return e}function b9(n){return(t,e={})=>{const i=t.match(n.matchPattern);if(!i)return null;const r=i[0],o=t.match(n.parsePattern);if(!o)return null;let c=n.valueCallback?n.valueCallback(o[0]):o[0];c=e.valueCallback?e.valueCallback(c):c;const h=t.slice(r.length);return{value:c,rest:h}}}const x9=/^(\d+)(th|st|nd|rd)?/i,w9=/\d+/i,S9={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},E9={any:[/^b/i,/^(a|c)/i]},T9={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},C9={any:[/1/i,/2/i,/3/i,/4/i]},A9={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},N9={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},k9={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},R9={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},M9={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},O9={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},D9={ordinalNumber:b9({matchPattern:x9,parsePattern:w9,valueCallback:n=>parseInt(n,10)}),era:Jc({matchPatterns:S9,defaultMatchWidth:"wide",parsePatterns:E9,defaultParseWidth:"any"}),quarter:Jc({matchPatterns:T9,defaultMatchWidth:"wide",parsePatterns:C9,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Jc({matchPatterns:A9,defaultMatchWidth:"wide",parsePatterns:N9,defaultParseWidth:"any"}),day:Jc({matchPatterns:k9,defaultMatchWidth:"wide",parsePatterns:R9,defaultParseWidth:"any"}),dayPeriod:Jc({matchPatterns:M9,defaultMatchWidth:"any",parsePatterns:O9,defaultParseWidth:"any"})},I9={code:"en-US",formatDistance:i9,formatLong:o9,formatRelative:c9,localize:y9,match:D9,options:{weekStartsOn:0,firstWeekContainsDate:1}};function L9(n,t){const e=Ri(n,t?.in);return K5(e,e9(e))+1}function j9(n,t){const e=Ri(n,t?.in),i=+$f(e)-+Z5(e);return Math.round(i/vC)+1}function xC(n,t){const e=Ri(n,t?.in),i=e.getFullYear(),r=Sg(),o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,c=$r(t?.in||n,0);c.setFullYear(i+1,0,o),c.setHours(0,0,0,0);const h=Uu(c,t),d=$r(t?.in||n,0);d.setFullYear(i,0,o),d.setHours(0,0,0,0);const g=Uu(d,t);return+e>=+h?i+1:+e>=+g?i:i-1}function P9(n,t){const e=Sg(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??e.firstWeekContainsDate??e.locale?.options?.firstWeekContainsDate??1,r=xC(n,t),o=$r(t?.in||n,0);return o.setFullYear(r,0,i),o.setHours(0,0,0,0),Uu(o,t)}function U9(n,t){const e=Ri(n,t?.in),i=+Uu(e,t)-+P9(e,t);return Math.round(i/vC)+1}function ne(n,t){const e=n<0?"-":"",i=Math.abs(n).toString().padStart(t,"0");return e+i}const Ar={y(n,t){const e=n.getFullYear(),i=e>0?e:1-e;return ne(t==="yy"?i%100:i,t.length)},M(n,t){const e=n.getMonth();return t==="M"?String(e+1):ne(e+1,2)},d(n,t){return ne(n.getDate(),t.length)},a(n,t){const e=n.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];case"aaaa":default:return e==="am"?"a.m.":"p.m."}},h(n,t){return ne(n.getHours()%12||12,t.length)},H(n,t){return ne(n.getHours(),t.length)},m(n,t){return ne(n.getMinutes(),t.length)},s(n,t){return ne(n.getSeconds(),t.length)},S(n,t){const e=t.length,i=n.getMilliseconds(),r=Math.trunc(i*Math.pow(10,e-3));return ne(r,t.length)}},nl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},DS={G:function(n,t,e){const i=n.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return e.era(i,{width:"abbreviated"});case"GGGGG":return e.era(i,{width:"narrow"});case"GGGG":default:return e.era(i,{width:"wide"})}},y:function(n,t,e){if(t==="yo"){const i=n.getFullYear(),r=i>0?i:1-i;return e.ordinalNumber(r,{unit:"year"})}return Ar.y(n,t)},Y:function(n,t,e,i){const r=xC(n,i),o=r>0?r:1-r;if(t==="YY"){const c=o%100;return ne(c,2)}return t==="Yo"?e.ordinalNumber(o,{unit:"year"}):ne(o,t.length)},R:function(n,t){const e=bC(n);return ne(e,t.length)},u:function(n,t){const e=n.getFullYear();return ne(e,t.length)},Q:function(n,t,e){const i=Math.ceil((n.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return ne(i,2);case"Qo":return e.ordinalNumber(i,{unit:"quarter"});case"QQQ":return e.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return e.quarter(i,{width:"wide",context:"formatting"})}},q:function(n,t,e){const i=Math.ceil((n.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return ne(i,2);case"qo":return e.ordinalNumber(i,{unit:"quarter"});case"qqq":return e.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return e.quarter(i,{width:"wide",context:"standalone"})}},M:function(n,t,e){const i=n.getMonth();switch(t){case"M":case"MM":return Ar.M(n,t);case"Mo":return e.ordinalNumber(i+1,{unit:"month"});case"MMM":return e.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return e.month(i,{width:"wide",context:"formatting"})}},L:function(n,t,e){const i=n.getMonth();switch(t){case"L":return String(i+1);case"LL":return ne(i+1,2);case"Lo":return e.ordinalNumber(i+1,{unit:"month"});case"LLL":return e.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return e.month(i,{width:"wide",context:"standalone"})}},w:function(n,t,e,i){const r=U9(n,i);return t==="wo"?e.ordinalNumber(r,{unit:"week"}):ne(r,t.length)},I:function(n,t,e){const i=j9(n);return t==="Io"?e.ordinalNumber(i,{unit:"week"}):ne(i,t.length)},d:function(n,t,e){return t==="do"?e.ordinalNumber(n.getDate(),{unit:"date"}):Ar.d(n,t)},D:function(n,t,e){const i=L9(n);return t==="Do"?e.ordinalNumber(i,{unit:"dayOfYear"}):ne(i,t.length)},E:function(n,t,e){const i=n.getDay();switch(t){case"E":case"EE":case"EEE":return e.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(i,{width:"short",context:"formatting"});case"EEEE":default:return e.day(i,{width:"wide",context:"formatting"})}},e:function(n,t,e,i){const r=n.getDay(),o=(r-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return ne(o,2);case"eo":return e.ordinalNumber(o,{unit:"day"});case"eee":return e.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(r,{width:"short",context:"formatting"});case"eeee":default:return e.day(r,{width:"wide",context:"formatting"})}},c:function(n,t,e,i){const r=n.getDay(),o=(r-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return ne(o,t.length);case"co":return e.ordinalNumber(o,{unit:"day"});case"ccc":return e.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(r,{width:"narrow",context:"standalone"});case"cccccc":return e.day(r,{width:"short",context:"standalone"});case"cccc":default:return e.day(r,{width:"wide",context:"standalone"})}},i:function(n,t,e){const i=n.getDay(),r=i===0?7:i;switch(t){case"i":return String(r);case"ii":return ne(r,t.length);case"io":return e.ordinalNumber(r,{unit:"day"});case"iii":return e.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(i,{width:"short",context:"formatting"});case"iiii":default:return e.day(i,{width:"wide",context:"formatting"})}},a:function(n,t,e){const r=n.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return e.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(n,t,e){const i=n.getHours();let r;switch(i===12?r=nl.noon:i===0?r=nl.midnight:r=i/12>=1?"pm":"am",t){case"b":case"bb":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return e.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(n,t,e){const i=n.getHours();let r;switch(i>=17?r=nl.evening:i>=12?r=nl.afternoon:i>=4?r=nl.morning:r=nl.night,t){case"B":case"BB":case"BBB":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return e.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(n,t,e){if(t==="ho"){let i=n.getHours()%12;return i===0&&(i=12),e.ordinalNumber(i,{unit:"hour"})}return Ar.h(n,t)},H:function(n,t,e){return t==="Ho"?e.ordinalNumber(n.getHours(),{unit:"hour"}):Ar.H(n,t)},K:function(n,t,e){const i=n.getHours()%12;return t==="Ko"?e.ordinalNumber(i,{unit:"hour"}):ne(i,t.length)},k:function(n,t,e){let i=n.getHours();return i===0&&(i=24),t==="ko"?e.ordinalNumber(i,{unit:"hour"}):ne(i,t.length)},m:function(n,t,e){return t==="mo"?e.ordinalNumber(n.getMinutes(),{unit:"minute"}):Ar.m(n,t)},s:function(n,t,e){return t==="so"?e.ordinalNumber(n.getSeconds(),{unit:"second"}):Ar.s(n,t)},S:function(n,t){return Ar.S(n,t)},X:function(n,t,e){const i=n.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return LS(i);case"XXXX":case"XX":return za(i);case"XXXXX":case"XXX":default:return za(i,":")}},x:function(n,t,e){const i=n.getTimezoneOffset();switch(t){case"x":return LS(i);case"xxxx":case"xx":return za(i);case"xxxxx":case"xxx":default:return za(i,":")}},O:function(n,t,e){const i=n.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+IS(i,":");case"OOOO":default:return"GMT"+za(i,":")}},z:function(n,t,e){const i=n.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+IS(i,":");case"zzzz":default:return"GMT"+za(i,":")}},t:function(n,t,e){const i=Math.trunc(+n/1e3);return ne(i,t.length)},T:function(n,t,e){return ne(+n,t.length)}};function IS(n,t=""){const e=n>0?"-":"+",i=Math.abs(n),r=Math.trunc(i/60),o=i%60;return o===0?e+String(r):e+String(r)+t+ne(o,2)}function LS(n,t){return n%60===0?(n>0?"-":"+")+ne(Math.abs(n)/60,2):za(n,t)}function za(n,t=""){const e=n>0?"-":"+",i=Math.abs(n),r=ne(Math.trunc(i/60),2),o=ne(i%60,2);return e+r+t+o}const jS=(n,t)=>{switch(n){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},wC=(n,t)=>{switch(n){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},z9=(n,t)=>{const e=n.match(/(P+)(p+)?/)||[],i=e[1],r=e[2];if(!r)return jS(n,t);let o;switch(i){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",jS(i,t)).replace("{{time}}",wC(r,t))},B9={p:wC,P:z9},H9=/^D+$/,F9=/^Y+$/,V9=["D","DD","YY","YYYY"];function q9(n){return H9.test(n)}function W9(n){return F9.test(n)}function Y9(n,t,e){const i=G9(n,t,e);if(console.warn(i),V9.includes(n))throw new RangeError(i)}function G9(n,t,e){const i=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${t}\`) for formatting ${i} to the input \`${e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const $9=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,X9=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Q9=/^'([^]*?)'?$/,K9=/''/g,Z9=/[a-zA-Z]/;function Gd(n,t,e){const i=Sg(),r=i.locale??I9,o=i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=i.weekStartsOn??i.locale?.options?.weekStartsOn??0,h=Ri(n,e?.in);if(!t9(h))throw new RangeError("Invalid time value");let d=t.match(X9).map(y=>{const b=y[0];if(b==="p"||b==="P"){const x=B9[b];return x(y,r.formatLong)}return y}).join("").match($9).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const b=y[0];if(b==="'")return{isToken:!1,value:J9(y)};if(DS[b])return{isToken:!0,value:y};if(b.match(Z9))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:y}});r.localize.preprocessor&&(d=r.localize.preprocessor(h,d));const g={firstWeekContainsDate:o,weekStartsOn:c,locale:r};return d.map(y=>{if(!y.isToken)return y.value;const b=y.value;(W9(b)||q9(b))&&Y9(b,t,String(n));const x=DS[b[0]];return x(h,b,r.localize,g)}).join("")}function J9(n){const t=n.match(Q9);return t?t[1].replace(K9,"'"):n}function tU({size:n="md",fullPage:t=!1}){const{darkMode:e}=Tl(),i={sm:"w-5 h-5 border-2",md:"w-8 h-8 border-3",lg:"w-12 h-12 border-4",xl:"w-16 h-16 border-4"},r=_.jsx("div",{className:"flex items-center justify-center",children:_.jsx("div",{className:`animate-spin rounded-full ${i[n]} ${e?"border-gray-300 border-t-teal-400":"border-gray-200 border-t-teal-600"}`})});return t?_.jsx("div",{className:`fixed inset-0 flex items-center justify-center z-50 ${e?"bg-gray-900/80":"bg-white/80"}`,children:r}):r}function eU(){const[n]=yg(cn),{userId:t}=IN(),e=Gs(),{darkMode:i}=Tl(),[r,o]=z.useState(null),[c,h]=z.useState([]),[d,g]=z.useState([]),[y,b]=z.useState("questions"),[x,E]=z.useState(!0),[A,M]=z.useState(!1),[R,B]=z.useState(""),[W,Y]=z.useState(null),[tt,K]=z.useState(null),[ot,O]=z.useState(""),C=n&&t===n.uid;z.useEffect(()=>{if(!t){e(n?`/profile/${n.uid}`:"/login");return}E(!0),O("");try{const Z=zt(Bt,`users/${t}`),it=vi(Z,rt=>{const ht=rt.val();if(ht)o(ht),B(ht.bio||"");else{const gt={displayName:n?.displayName||"",email:n?.email||"",bio:"",photoURL:"",points:0,bestAnswers:0,activeDays:1,createdAt:Date.now(),bookmarks:{}};ai(zt(Bt,`users/${t}`),gt),o(gt),B(gt.bio)}E(!1)},rt=>{console.error("Error loading user data:",rt),O("Failed to load profile data"),E(!1)}),ct=zt(Bt,"questions"),P=vi(ct,rt=>{const ht=rt.val(),gt=Object.entries(ht||{}).filter(([mt,$t])=>$t.userId===t).map(([mt,$t])=>({id:mt,...$t}));h(gt)}),et=zt(Bt,"answers"),lt=vi(et,rt=>{const ht=rt.val(),gt=Object.entries(ht||{}).filter(([mt,$t])=>$t.userId===t).map(([mt,$t])=>({id:mt,...$t}));g(gt)});return()=>{it(),P(),lt()}}catch(Z){console.error("Error setting up listeners:",Z),O("Failed to initialize data loading"),E(!1)}},[t,n,e]);const k=async()=>{try{await cn.signOut(),e("/login")}catch(Z){console.error("Logout error:",Z),O("Failed to logout")}},I=async()=>{if(t)try{await ai(zt(Bt,`users/${t}`),{bio:R,...n?.displayName&&{displayName:n.displayName}}),M(!1)}catch(Z){console.error("Error updating profile:",Z),O("Failed to update profile")}},j=async Z=>{const it=Z.target.files[0];if(!it)return;if(!it.type.match("image.*")){O("Please select an image file (JPEG/PNG)");return}if(it.size>500*1024){O("Image size must be less than 500KB");return}const ct=new FileReader;ct.onload=P=>{Y(P.target.result),K(P.target.result)},ct.onerror=()=>{O("Failed to read image file")},ct.readAsDataURL(it)},U=async()=>{if(!(!W||!t))try{const Z=W.split(",")[1];await ai(zt(Bt,`users/${t}`),{photoURL:Z}),K(W),Y(null)}catch(Z){console.error("Error uploading image:",Z),O("Failed to upload profile image")}},D=()=>{Y(null),K(null),O("")};if(x)return _.jsx("div",{className:`min-h-screen flex items-center justify-center ${i?"dark bg-gray-900":"bg-gray-50"}`,children:_.jsx(tU,{size:"xl"})});if(!r)return _.jsx("div",{className:`min-h-screen flex flex-col items-center justify-center p-4 ${i?"dark bg-gray-900":"bg-gray-50"}`,children:_.jsxs("div",{className:`max-w-md w-full p-8 rounded-xl shadow-lg text-center ${i?"bg-gray-800":"bg-white"}`,children:[_.jsx("div",{className:`w-24 h-24 mx-auto rounded-full flex items-center justify-center text-4xl mb-4 ${i?"bg-gray-700 text-gray-400":"bg-gray-200 text-gray-500"}`,children:_.jsx(Gr,{})}),_.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Profile Not Found"}),_.jsx("p",{className:`mb-6 ${i?"text-gray-400":"text-gray-600"}`,children:ot||"The requested profile doesn't exist"}),_.jsxs("div",{className:"flex flex-col space-y-3",children:[_.jsx("button",{onClick:()=>window.location.reload(),className:`px-4 py-2 rounded-lg font-medium ${i?"bg-teal-600 hover:bg-teal-500":"bg-teal-500 hover:bg-teal-400"} text-white`,children:"Try Again"}),_.jsx(ie,{to:"/",className:`px-4 py-2 rounded-lg font-medium ${i?"bg-gray-700 hover:bg-gray-600":"bg-gray-200 hover:bg-gray-300"}`,children:"Return Home"})]})]})});const Tt=r?.displayName||n?.displayName||"User",yt=C?n?.email:null,$=r?.createdAt?Gd(new Date(r.createdAt),"MMM yyyy"):"Recently";return _.jsxs("div",{className:`min-h-screen transition-colors duration-300 ${i?"dark bg-gray-900":"bg-gray-50"}`,children:[_.jsx("header",{className:`sticky top-0 z-10 backdrop-blur-md ${i?"bg-black/80":"bg-white/80"} shadow-sm`,children:_.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[_.jsx(ie,{to:"/",className:"text-2xl font-bold bg-gradient-to-r from-teal-400 to-teal-600 bg-clip-text text-transparent",children:"StudiQ"}),C&&_.jsxs("nav",{className:"flex items-center space-x-4",children:[_.jsxs(ie,{to:"/settings",className:`flex items-center ${i?"text-gray-300 hover:text-teal-400":"text-gray-700 hover:text-teal-600"}`,children:[_.jsx(pC,{className:"mr-1"})," Settings"]}),_.jsxs("button",{onClick:k,className:`flex items-center ${i?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-800"}`,children:[_.jsx(m0,{className:"mr-1"})," Sign Out"]})]})]})}),_.jsx("main",{className:"container mx-auto px-4 py-8",children:_.jsxs("div",{className:"max-w-6xl mx-auto",children:[ot&&_.jsx("div",{className:`mb-6 p-4 rounded-lg ${i?"bg-red-900/30 border border-red-700":"bg-red-100 border border-red-300"} text-red-600 dark:text-red-300`,children:ot}),_.jsx("div",{className:`p-6 rounded-xl shadow-lg mb-6 ${i?"bg-gray-800/70":"bg-white/80"} backdrop-blur-sm`,children:_.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6",children:[_.jsxs("div",{className:"relative group",children:[_.jsx("div",{className:`w-32 h-32 rounded-full overflow-hidden flex items-center justify-center ${i?"bg-teal-900":"bg-teal-100"}`,children:tt?_.jsx("img",{src:tt,alt:"Preview",className:"w-full h-full object-cover"}):r?.photoURL?_.jsx("img",{src:`data:image/jpeg;base64,${r.photoURL}`,alt:Tt,className:"w-full h-full object-cover"}):_.jsx("span",{className:`text-5xl ${i?"text-teal-300":"text-teal-800"}`,children:Tt.charAt(0)})}),C&&_.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:_.jsxs("label",{htmlFor:"profileImage",className:`cursor-pointer p-2 rounded-full ${i?"bg-gray-700/90 hover:bg-gray-600":"bg-gray-200/90 hover:bg-gray-300"}`,children:[_.jsx(B5,{className:"w-5 h-5"}),_.jsx("input",{id:"profileImage",type:"file",accept:"image/*",onChange:j,className:"hidden"})]})})]}),W&&_.jsxs("div",{className:`p-3 rounded-lg ${i?"bg-gray-700":"bg-gray-200"} flex items-center space-x-3`,children:[_.jsx("button",{onClick:U,className:`px-3 py-1 rounded ${i?"bg-teal-600 hover:bg-teal-500":"bg-teal-500 hover:bg-teal-400"} text-white flex items-center`,children:"Save Image"}),_.jsx("button",{onClick:D,className:`p-1 rounded-full ${i?"hover:bg-gray-600":"hover:bg-gray-300"}`,children:_.jsx(_C,{})})]}),_.jsxs("div",{className:"flex-1 text-center md:text-left",children:[_.jsxs("div",{className:"flex items-center justify-center md:justify-start",children:[_.jsxs("h1",{className:`text-3xl font-bold mb-2 ${i?"text-gray-100":"text-gray-800"}`,children:[Tt,C&&_.jsx("span",{className:"ml-2 text-sm font-normal px-2 py-1 rounded-full bg-teal-500/10 text-teal-500",children:"You"})]}),C&&!A&&_.jsx("button",{onClick:()=>M(!0),className:`ml-3 p-1 rounded-full ${i?"hover:bg-gray-700":"hover:bg-gray-200"}`,children:_.jsx(M5,{className:"w-5 h-5"})})]}),yt&&_.jsx("p",{className:`mb-4 ${i?"text-gray-400":"text-gray-600"}`,children:yt}),A?_.jsxs("div",{className:"mb-4",children:[_.jsx("textarea",{value:R,onChange:Z=>B(Z.target.value),className:`w-full p-2 rounded-lg ${i?"bg-gray-700 text-white":"bg-gray-100"} border ${i?"border-gray-600":"border-gray-300"}`,rows:"3",placeholder:"Tell us about yourself..."}),_.jsxs("div",{className:"flex space-x-2 mt-2",children:[_.jsx("button",{onClick:I,className:`px-3 py-1 rounded ${i?"bg-teal-600 hover:bg-teal-500":"bg-teal-500 hover:bg-teal-400"} text-white`,children:"Save"}),_.jsx("button",{onClick:()=>M(!1),className:`px-3 py-1 rounded ${i?"bg-gray-600 hover:bg-gray-500":"bg-gray-300 hover:bg-gray-400"}`,children:"Cancel"})]})]}):_.jsx("p",{className:`mb-4 ${i?"text-gray-300":"text-gray-700"}`,children:r?.bio||(C?"Add a bio to tell others about yourself":"")}),_.jsxs("div",{className:`flex flex-wrap justify-center md:justify-start gap-4 ${i?"text-gray-300":"text-gray-700"}`,children:[_.jsxs("div",{className:"flex items-center",children:[_.jsx(Wf,{className:"mr-2 text-teal-500"}),_.jsxs("span",{children:[r?.points||0," Points"]})]}),_.jsxs("div",{className:"flex items-center",children:[_.jsx(AS,{className:"mr-2 text-teal-500"}),_.jsxs("span",{children:[c.length," Questions"]})]}),_.jsxs("div",{className:"flex items-center",children:[_.jsx(_u,{className:"mr-2 text-teal-500"}),_.jsxs("span",{children:[d.length," Answers"]})]}),C&&r?.bookmarks&&_.jsxs("div",{className:"flex items-center",children:[_.jsx(Yf,{className:"mr-2 text-teal-500"}),_.jsxs("span",{children:[Object.keys(r.bookmarks).length," Bookmarks"]})]})]})]})]})}),_.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-${C?"5":"3"} gap-4 mb-6 ${i?"text-gray-200":"text-gray-800"}`,children:["          ",_.jsxs("div",{className:`p-4 rounded-lg ${i?"bg-gray-800":"bg-gray-100"}`,children:[_.jsxs("h3",{className:"font-semibold flex items-center",children:[_.jsx(Wf,{className:"mr-2 text-yellow-500"})," Best Answers"]}),_.jsx("p",{className:"text-2xl font-bold",children:r?.stats?.bestAnswers||0})]}),_.jsxs("div",{className:`p-4 rounded-lg ${i?"bg-gray-800":"bg-gray-100"}`,children:[_.jsxs("h3",{className:"font-semibold flex items-center",children:[_.jsx(f0,{className:"mr-2 text-blue-500"})," Active Days"]}),_.jsx("p",{className:"text-2xl font-bold",children:r?.activeDays||1})]}),C&&_.jsxs("div",{className:`p-4 rounded-lg ${i?"bg-gray-800":"bg-gray-100"}`,children:[_.jsxs("h3",{className:"font-semibold flex items-center",children:[_.jsx(Gr,{className:"mr-2 text-green-500"})," Member Since"]}),_.jsx("p",{className:"text-xl",children:$})]}),C&&_.jsxs("div",{className:`p-4 rounded-lg ${i?"bg-gray-800":"bg-gray-100"}`,children:[_.jsxs("h3",{className:"font-semibold flex items-center",children:[_.jsx(_u,{className:"mr-2 text-purple-500"})," Answer Rate"]}),_.jsx("p",{className:"text-2xl font-bold",children:c.length>0?`${Math.round(c.filter(Z=>Z.answered).length/c.length*100)}%`:"0%"})]}),C&&_.jsxs("div",{className:`p-4 rounded-lg ${i?n?.emailVerified?"bg-green-900/30":"bg-yellow-900/30":n?.emailVerified?"bg-green-100":"bg-yellow-100"}`,children:[_.jsxs("h3",{className:"font-semibold flex items-center",children:[_.jsx(wg,{className:"mr-2"}),"Email Status"]}),_.jsx("p",{className:"text-xl font-medium",children:n?.emailVerified?_.jsx("span",{className:"text-green-500",children:"Verified"}):_.jsx("span",{className:"text-yellow-500",children:"Not Verified"})})]})]}),_.jsx("div",{className:`mb-4 border-b ${i?"border-gray-700":"border-gray-200"}`,children:_.jsxs("nav",{className:"flex space-x-4",children:[_.jsxs("button",{onClick:()=>b("questions"),className:`py-2 px-4 font-medium ${y==="questions"?i?"text-teal-400 border-b-2 border-teal-400":"text-teal-600 border-b-2 border-teal-600":i?"text-gray-400 hover:text-gray-300":"text-gray-600 hover:text-gray-800"}`,children:["Questions (",c.length,")"]}),_.jsxs("button",{onClick:()=>b("answers"),className:`py-2 px-4 font-medium ${y==="answers"?i?"text-teal-400 border-b-2 border-teal-400":"text-teal-600 border-b-2 border-teal-600":i?"text-gray-400 hover:text-gray-300":"text-gray-600 hover:text-gray-800"}`,children:["Answers (",d.length,")"]}),C&&_.jsxs("button",{onClick:()=>b("bookmarks"),className:`py-2 px-4 font-medium ${y==="bookmarks"?i?"text-teal-400 border-b-2 border-teal-400":"text-teal-600 border-b-2 border-teal-600":i?"text-gray-400 hover:text-gray-300":"text-gray-600 hover:text-gray-800"}`,children:["Bookmarks (",r?.bookmarks?Object.keys(r.bookmarks).length:0,")"]})]})}),_.jsxs("div",{className:`p-6 rounded-xl shadow-lg ${i?"bg-gray-800/70":"bg-white/80"} backdrop-blur-sm`,children:[y==="questions"&&_.jsxs("div",{className:"space-y-4",children:[_.jsxs("h2",{className:`text-xl font-semibold mb-4 ${i?"text-gray-200":"text-gray-800"}`,children:[_.jsx(AS,{className:"inline mr-2"})," ",C?"My":`${Tt}'s`," Questions"]}),c.length>0?c.map(Z=>_.jsxs("div",{className:`p-4 rounded-lg ${i?"bg-gray-700/50 hover:bg-gray-700":"bg-gray-100 hover:bg-gray-200"}`,children:[_.jsx(ie,{to:`/question/${Z.id}`,className:`font-medium block mb-1 ${i?"text-teal-400 hover:text-teal-300":"text-teal-600 hover:text-teal-800"}`,children:Z.title}),_.jsxs("div",{className:`text-sm ${i?"text-gray-400":"text-gray-600"}`,children:[_.jsx("span",{className:"capitalize",children:Z.subject})," ",Z.createdAt?.toDate?Gd(Z.createdAt.toDate(),"MMM d, yyyy"):"Recent"," ",Z.answered?_.jsx("span",{className:"text-green-500 ml-1",children:"Answered"}):_.jsx("span",{className:"text-yellow-500 ml-1",children:"Pending"})]})]},Z.id)):_.jsx("p",{className:i?"text-gray-400":"text-gray-600",children:C?"You haven't asked any questions yet":"This user hasn't asked any questions yet"})]}),y==="answers"&&_.jsxs("div",{className:"space-y-4",children:[_.jsxs("h2",{className:`text-xl font-semibold mb-4 ${i?"text-gray-200":"text-gray-800"}`,children:[_.jsx(_u,{className:"inline mr-2"})," ",C?"My":`${Tt}'s`," Answers"]}),d.length>0?d.map(Z=>_.jsxs("div",{className:`p-4 rounded-lg ${i?"bg-gray-700/50 hover:bg-gray-700":"bg-gray-100 hover:bg-gray-200"}`,children:[_.jsxs(ie,{to:`/question/${Z.questionId}`,className:`font-medium block mb-1 ${i?"text-teal-400 hover:text-teal-300":"text-teal-600 hover:text-teal-800"}`,children:[Z.content.substring(0,100),"..."]}),_.jsxs("div",{className:`text-sm ${i?"text-gray-400":"text-gray-600"}`,children:[Z.createdAt?.toDate?Gd(Z.createdAt.toDate(),"MMM d, yyyy"):"Recent"," ",Z.isBestAnswer?_.jsx("span",{className:"text-green-500 ml-1",children:"Marked as Best"}):_.jsx("span",{className:"text-gray-500 ml-1",children:"Regular answer"})]})]},Z.id)):_.jsx("p",{className:i?"text-gray-400":"text-gray-600",children:C?"You haven't answered any questions yet":"This user hasn't answered any questions yet"})]}),y==="bookmarks"&&C&&_.jsxs("div",{className:"space-y-4",children:[_.jsxs("h2",{className:`text-xl font-semibold mb-4 ${i?"text-gray-200":"text-gray-800"}`,children:[_.jsx(Yf,{className:"inline mr-2"})," My Bookmarks"]}),r?.bookmarks&&Object.keys(r.bookmarks).length>0?_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.keys(r.bookmarks).map(Z=>_.jsxs("div",{className:`p-4 rounded-lg ${i?"bg-gray-700/50 hover:bg-gray-700":"bg-gray-100 hover:bg-gray-200"}`,children:[_.jsx(ie,{to:`/question/${Z}`,className:`font-medium block ${i?"text-teal-400 hover:text-teal-300":"text-teal-600 hover:text-teal-800"}`,children:r.bookmarks[Z].title||"Bookmarked Question"}),_.jsxs("div",{className:`text-sm mt-1 ${i?"text-gray-400":"text-gray-600"}`,children:["Bookmarked on ",Gd(new Date(r.bookmarks[Z].timestamp),"MMM d, yyyy")]})]},Z))}):_.jsx("p",{className:i?"text-gray-400":"text-gray-600",children:"No bookmarks yet"})]})]})]})})]})}function nU(){const[n]=yg(cn);Gs();const[t,e]=z.useState(!1),[i,r]=z.useState("faq"),[o,c]=z.useState({name:"",email:"",subject:"",message:""}),[h,d]=z.useState(!1);z.useEffect(()=>{const E=localStorage.getItem("darkMode")==="true";e(E),document.documentElement.classList.toggle("dark",E)},[]);const g=E=>{const{name:A,value:M}=E.target;c(R=>({...R,[A]:M}))},y=E=>{E.preventDefault(),console.log("Contact form submitted:",o),d(!0),c({name:"",email:"",subject:"",message:""}),setTimeout(()=>d(!1),5e3)},b=[{question:"How do I post a question?",answer:"Navigate to the home page and click on the 'Ask your question' box. Type your question, select a subject, and click 'Post Question'."},{question:"How do I earn points?",answer:"You earn points by asking questions, providing helpful answers, and receiving upvotes on your contributions."},{question:"Can I change my display name?",answer:"Yes, you can change your display name in the Account Settings page under Profile Information."},{question:"How do I report inappropriate content?",answer:"Click on the three dots next to any question or answer and select 'Report'. Our moderation team will review it."},{question:"Is there a mobile app available?",answer:"Currently we're web-only, but our site is fully responsive and works great on mobile browsers."}],x=[{title:"Getting Started",content:"Learn how to create an account, set up your profile, and make your first post."},{title:"Community Guidelines",content:"Understand our rules and expectations for participation in the StudiQ community."},{title:"Answering Questions",content:"Tips for providing helpful, high-quality answers that earn you points and reputation."},{title:"Privacy & Security",content:"How we protect your data and what you can do to keep your account secure."}];return _.jsxs("div",{className:`min-h-screen transition-colors duration-300 ${t?"dark bg-gray-900":"bg-gray-50"}`,children:[_.jsx("header",{className:`sticky top-0 z-10 backdrop-blur-md ${t?"bg-black/80":"bg-white/80"} shadow-sm`,children:_.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[_.jsxs(ie,{to:n?"/":"/login",className:"flex items-center text-teal-600 hover:text-teal-700",children:[_.jsx(ih,{className:"mr-1"})," ",n?"Back to Home":"Back to Login"]}),_.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-teal-400 to-teal-600 bg-clip-text text-transparent",children:"Help Center"}),_.jsx("div",{})," "]})}),_.jsx("main",{className:"container mx-auto px-4 py-8",children:_.jsx("div",{className:"max-w-4xl mx-auto",children:_.jsx("div",{className:`p-6 rounded-xl shadow-lg mb-8 backdrop-blur-sm ${t?"bg-gray-800/70 border border-gray-700":"bg-white/80 border border-gray-200"}`,children:_.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[_.jsx("div",{className:"md:w-1/3",children:_.jsxs("div",{className:`p-4 rounded-lg sticky top-4 ${t?"bg-gray-700/50":"bg-gray-100"}`,children:[_.jsxs("h2",{className:`text-lg font-semibold mb-4 flex items-center ${t?"text-gray-200":"text-gray-800"}`,children:[_.jsx(Gf,{className:"mr-2 text-teal-500"}),"Help Topics"]}),_.jsxs("nav",{className:"space-y-2",children:[_.jsx("button",{onClick:()=>r("faq"),className:`w-full text-left px-3 py-2 rounded transition-all ${i==="faq"?"bg-teal-500/10 text-teal-500 border border-teal-500/30":t?"hover:bg-gray-600 text-gray-300":"hover:bg-gray-200 text-gray-700"}`,children:"FAQs"}),_.jsx("button",{onClick:()=>r("guides"),className:`w-full text-left px-3 py-2 rounded transition-all ${i==="guides"?"bg-teal-500/10 text-teal-500 border border-teal-500/30":t?"hover:bg-gray-600 text-gray-300":"hover:bg-gray-200 text-gray-700"}`,children:"Guides"}),_.jsx("button",{onClick:()=>r("contact"),className:`w-full text-left px-3 py-2 rounded transition-all ${i==="contact"?"bg-teal-500/10 text-teal-500 border border-teal-500/30":t?"hover:bg-gray-600 text-gray-300":"hover:bg-gray-200 text-gray-700"}`,children:"Contact Us"}),_.jsx("button",{onClick:()=>r("community"),className:`w-full text-left px-3 py-2 rounded transition-all ${i==="community"?"bg-teal-500/10 text-teal-500 border border-teal-500/30":t?"hover:bg-gray-600 text-gray-300":"hover:bg-gray-200 text-gray-700"}`,children:"Community"})]})]})}),_.jsxs("div",{className:"md:w-2/3",children:[i==="faq"&&_.jsxs("div",{children:[_.jsxs("h2",{className:`text-xl font-semibold mb-6 flex items-center ${t?"text-gray-200":"text-gray-800"}`,children:[_.jsx(Gf,{className:"mr-2 text-teal-500"}),"Frequently Asked Questions"]}),_.jsx("div",{className:"space-y-4",children:b.map((E,A)=>_.jsxs("div",{className:`p-4 rounded-lg ${t?"bg-gray-700/50 border border-gray-600":"bg-white border border-gray-200"}`,children:[_.jsx("h3",{className:`font-medium mb-2 ${t?"text-teal-400":"text-teal-600"}`,children:E.question}),_.jsx("p",{className:t?"text-gray-300":"text-gray-700",children:E.answer})]},A))})]}),i==="guides"&&_.jsxs("div",{children:[_.jsxs("h2",{className:`text-xl font-semibold mb-6 flex items-center ${t?"text-gray-200":"text-gray-800"}`,children:[_.jsx(I5,{className:"mr-2 text-teal-500"}),"Helpful Guides"]}),_.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:x.map((E,A)=>_.jsxs("div",{className:`p-4 rounded-lg ${t?"bg-gray-700/50 border border-gray-600":"bg-white border border-gray-200"}`,children:[_.jsx("h3",{className:`font-medium mb-2 ${t?"text-teal-400":"text-teal-600"}`,children:E.title}),_.jsx("p",{className:t?"text-gray-300":"text-gray-700",children:E.content}),_.jsx("button",{className:`mt-3 text-sm ${t?"text-teal-400 hover:text-teal-300":"text-teal-600 hover:text-teal-800"}`,children:"Read more "})]},A))})]}),i==="contact"&&_.jsxs("div",{children:[_.jsxs("h2",{className:`text-xl font-semibold mb-6 flex items-center ${t?"text-gray-200":"text-gray-800"}`,children:[_.jsx(wg,{className:"mr-2 text-teal-500"}),"Contact Support"]}),h?_.jsx("div",{className:`p-4 rounded-lg ${t?"bg-teal-900/30 text-teal-200":"bg-teal-100 text-teal-800"}`,children:"Thank you for contacting us! We'll get back to you within 24 hours."}):_.jsxs("form",{onSubmit:y,className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{htmlFor:"name",className:`block text-sm font-medium mb-1 ${t?"text-gray-300":"text-gray-700"}`,children:"Your Name"}),_.jsx("input",{type:"text",id:"name",name:"name",value:o.name,onChange:g,required:!0,className:`w-full p-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"email",className:`block text-sm font-medium mb-1 ${t?"text-gray-300":"text-gray-700"}`,children:"Email Address"}),_.jsx("input",{type:"email",id:"email",name:"email",value:o.email,onChange:g,required:!0,className:`w-full p-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"subject",className:`block text-sm font-medium mb-1 ${t?"text-gray-300":"text-gray-700"}`,children:"Subject"}),_.jsxs("select",{id:"subject",name:"subject",value:o.subject,onChange:g,required:!0,className:`w-full p-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,children:[_.jsx("option",{value:"",children:"Select a topic"}),_.jsx("option",{value:"account",children:"Account Issues"}),_.jsx("option",{value:"technical",children:"Technical Problems"}),_.jsx("option",{value:"billing",children:"Billing Questions"}),_.jsx("option",{value:"feedback",children:"Feedback"}),_.jsx("option",{value:"other",children:"Other"})]})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"message",className:`block text-sm font-medium mb-1 ${t?"text-gray-300":"text-gray-700"}`,children:"Message"}),_.jsx("textarea",{id:"message",name:"message",rows:"5",value:o.message,onChange:g,required:!0,className:`w-full p-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`})]}),_.jsx("button",{type:"submit",className:`w-full py-3 px-4 rounded-lg font-medium text-white bg-gradient-to-r from-teal-500 to-teal-600 hover:from-teal-600 hover:to-teal-700 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 ${t?"focus:ring-offset-gray-800":"focus:ring-offset-white"}`,children:"Send Message"})]})]}),i==="community"&&_.jsxs("div",{children:[_.jsxs("h2",{className:`text-xl font-semibold mb-6 flex items-center ${t?"text-gray-200":"text-gray-800"}`,children:[_.jsx(yC,{className:"mr-2 text-teal-500"}),"Community Resources"]}),_.jsxs("div",{className:`p-6 rounded-lg mb-6 ${t?"bg-gray-700/50 border border-gray-600":"bg-white border border-gray-200"}`,children:[_.jsx("h3",{className:`text-lg font-medium mb-3 ${t?"text-teal-400":"text-teal-600"}`,children:"Join Our Community"}),_.jsx("p",{className:`mb-4 ${t?"text-gray-300":"text-gray-700"}`,children:"Connect with other learners, ask questions, and share knowledge in our active community forums."}),_.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[_.jsxs("div",{className:`p-4 rounded-lg ${t?"bg-gray-600/30":"bg-gray-100"}`,children:[_.jsxs("h4",{className:`font-medium mb-2 ${t?"text-gray-200":"text-gray-800"}`,children:[_.jsx(_u,{className:"inline mr-2 text-teal-500"}),"Discussion Forums"]}),_.jsx("p",{className:t?"text-gray-400":"text-gray-600",children:"Participate in topic-specific discussions with students and educators."}),_.jsx("button",{className:`mt-3 text-sm ${t?"text-teal-400 hover:text-teal-300":"text-teal-600 hover:text-teal-800"}`,children:"Visit Forums "})]}),_.jsxs("div",{className:`p-4 rounded-lg ${t?"bg-gray-600/30":"bg-gray-100"}`,children:[_.jsxs("h4",{className:`font-medium mb-2 ${t?"text-gray-200":"text-gray-800"}`,children:[_.jsx(L5,{className:"inline mr-2 text-teal-500"}),"Local Study Groups"]}),_.jsx("p",{className:t?"text-gray-400":"text-gray-600",children:"Find or create study groups in your area or language."}),_.jsx("button",{className:`mt-3 text-sm ${t?"text-teal-400 hover:text-teal-300":"text-teal-600 hover:text-teal-800"}`,children:"Find Groups "})]})]})]})]})]})]})})})})]})}function iU(){const[n,t]=z.useState(""),[e,i]=z.useState(""),[r,o]=z.useState(!1),[c,h]=z.useState(""),d=Gs(),g=async y=>{if(y.preventDefault(),o(!0),h(""),!cn.currentUser){h("No user logged in"),o(!1);return}try{const b={[`users/${cn.currentUser.uid}/username`]:n,[`users/${cn.currentUser.uid}/bio`]:e,[`users/${cn.currentUser.uid}/profileComplete`]:!0,[`users/${cn.currentUser.uid}/createdAt`]:Date.now()};await ai(zt(Bt),b),await xi(zt(Bt,`userProfiles/${cn.currentUser.uid}`),{username:n,bio:e,profileComplete:!0,createdAt:Date.now(),points:0,bestAnswers:0}),d("/")}catch(b){console.error("Profile setup error:",b),h(b.message||"Failed to save profile")}finally{o(!1)}};return _.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:_.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:_.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[_.jsxs("div",{className:"text-center",children:[_.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Complete Your Profile"}),_.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Add some details to personalize your experience"})]}),c&&_.jsx("div",{className:"mt-4 bg-red-50 border-l-4 border-red-400 p-4",children:_.jsx("div",{className:"flex",children:_.jsx("div",{className:"text-red-400",children:_.jsx("p",{className:"text-sm",children:c})})})}),_.jsxs("form",{className:"mt-8 space-y-6",onSubmit:g,children:[_.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Username"}),_.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[_.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:_.jsx(Gr,{className:"h-5 w-5 text-gray-400"})}),_.jsx("input",{id:"username",name:"username",type:"text",required:!0,minLength:3,maxLength:20,value:n,onChange:y=>t(y.target.value),className:"focus:ring-teal-500 focus:border-teal-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md py-2 border",placeholder:"cooluser123"})]}),_.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"3-20 characters, letters and numbers only"})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700",children:"Bio (Optional)"}),_.jsx("div",{className:"mt-1",children:_.jsx("textarea",{id:"bio",name:"bio",rows:3,maxLength:150,value:e,onChange:y=>i(y.target.value),className:"shadow-sm focus:ring-teal-500 focus:border-teal-500 block w-full sm:text-sm border border-gray-300 rounded-md p-2",placeholder:"Tell us about yourself..."})}),_.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Max 150 characters"})]})]}),_.jsx("div",{children:_.jsx("button",{type:"submit",disabled:r||!n,className:`group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-teal-600 hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 ${r||!n?"opacity-70 cursor-not-allowed":""}`,children:r?_.jsxs("span",{className:"flex items-center",children:[_.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[_.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),_.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):_.jsxs(_.Fragment,{children:[_.jsx(mC,{className:"mr-2 h-4 w-4"}),"Complete Profile"]})})})]})]})})})}function sU(){return _.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:_.jsxs("div",{className:"max-w-3xl mx-auto bg-white p-6 shadow rounded-lg",children:[_.jsxs(ie,{to:"/signup",className:"flex items-center text-sm font-medium text-gray-600 hover:text-teal-500 mb-6",children:[_.jsx(ih,{className:"mr-1"}),"Back to Sign Up"]}),_.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Terms and Conditions"}),_.jsxs("div",{className:"prose prose-sm sm:prose lg:prose-lg xl:prose-xl mx-auto",children:[_.jsx("h2",{children:"1. Acceptance of Terms"}),_.jsx("p",{children:"By accessing or using our service, you agree to be bound by these terms..."}),_.jsx("h2",{children:"2. User Responsibilities"}),_.jsx("p",{children:"You are responsible for maintaining the confidentiality of your account..."}),_.jsx("h2",{children:"3. Privacy Policy"}),_.jsx("p",{children:"Your privacy is important to us. Please review our Privacy Policy..."}),_.jsx("h2",{children:"4. Content Ownership"}),_.jsx("p",{children:"You retain ownership of any content you submit, post or display..."}),_.jsx("h2",{children:"5. Termination"}),_.jsx("p",{children:"We may terminate or suspend access to our service immediately..."}),_.jsx("h2",{children:"6. Changes to Terms"}),_.jsx("p",{children:"We reserve the right to modify these terms at any time..."}),_.jsx("h2",{children:"7. Contact Information"}),_.jsx("p",{children:"If you have any questions about these Terms, please contact us at..."})]})]})})}function $d({children:n}){const{currentUser:t}=pg(),e=es();return t?n:_.jsx(GS,{to:"/login",state:{from:e},replace:!0})}function PS({children:n}){const{currentUser:t}=pg(),e=es();return t?_.jsx(GS,{to:"/",state:{from:e},replace:!0}):n}function rU(){return _.jsx(E2,{children:_.jsx(tE,{children:_.jsxs(XN,{children:[_.jsx(yi,{path:"/",element:_.jsx(kS,{})}),_.jsx(yi,{path:"/terms",element:_.jsx(sU,{})}),_.jsx(yi,{path:"/help",element:_.jsx(nU,{})}),_.jsx(yi,{path:"/login",element:_.jsx(PS,{children:_.jsx(q5,{})})}),_.jsx(yi,{path:"/signup",element:_.jsx(PS,{children:_.jsx(W5,{})})}),_.jsx(yi,{path:"/dashboard",element:_.jsx($d,{children:_.jsx(kS,{})})}),_.jsx(yi,{path:"/profile-setup",element:_.jsx($d,{children:_.jsx(iU,{})})}),_.jsx(yi,{path:"/settings",element:_.jsx($d,{children:_.jsx(Y5,{})})}),_.jsx(yi,{path:"/profile/:userId",element:_.jsx($d,{children:_.jsx(eU,{})})}),_.jsx(yi,{path:"*",element:_.jsx(G5,{})})]})})})}function aU(){return _.jsx(E2,{children:_.jsx(tE,{children:_.jsx(_k,{basename:"/StudiQ",children:_.jsx(rU,{})})})})}sN.createRoot(document.getElementById("root")).render(_.jsx(z.StrictMode,{children:_.jsx(aU,{})}));
