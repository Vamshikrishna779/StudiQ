(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function BA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var yp={exports:{}},Ic={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wx;function HA(){if(wx)return Ic;wx=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:c,ref:r!==void 0?r:null,props:o}}return Ic.Fragment=t,Ic.jsx=e,Ic.jsxs=e,Ic}var Sx;function FA(){return Sx||(Sx=1,yp.exports=HA()),yp.exports}var y=FA(),_p={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ex;function VA(){if(Ex)return Ct;Ex=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.iterator;function x(P){return P===null||typeof P!="object"?null:(P=b&&P[b]||P["@@iterator"],typeof P=="function"?P:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,R={};function M(P,it,ct){this.props=P,this.context=it,this.refs=R,this.updater=ct||E}M.prototype.isReactComponent={},M.prototype.setState=function(P,it){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,it,"setState")},M.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function U(){}U.prototype=M.prototype;function $(P,it,ct){this.props=P,this.context=it,this.refs=R,this.updater=ct||E}var Q=$.prototype=new U;Q.constructor=$,N(Q,M.prototype),Q.isPureReactComponent=!0;var tt=Array.isArray,Z={H:null,A:null,T:null,S:null,V:null},ot=Object.prototype.hasOwnProperty;function O(P,it,ct,rt,dt,yt){return ct=yt.ref,{$$typeof:n,type:P,key:it,ref:ct!==void 0?ct:null,props:yt}}function T(P,it){return O(P.type,it,void 0,void 0,void 0,P.props)}function k(P){return typeof P=="object"&&P!==null&&P.$$typeof===n}function I(P){var it={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ct){return it[ct]})}var L=/\/+/g;function z(P,it){return typeof P=="object"&&P!==null&&P.key!=null?I(""+P.key):it.toString(36)}function D(){}function Tt(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(D,D):(P.status="pending",P.then(function(it){P.status==="pending"&&(P.status="fulfilled",P.value=it)},function(it){P.status==="pending"&&(P.status="rejected",P.reason=it)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function mt(P,it,ct,rt,dt){var yt=typeof P;(yt==="undefined"||yt==="boolean")&&(P=null);var et=!1;if(P===null)et=!0;else switch(yt){case"bigint":case"string":case"number":et=!0;break;case"object":switch(P.$$typeof){case n:case t:et=!0;break;case _:return et=P._init,mt(et(P._payload),it,ct,rt,dt)}}if(et)return dt=dt(P),et=rt===""?"."+z(P,0):rt,tt(dt)?(ct="",et!=null&&(ct=et.replace(L,"$&/")+"/"),mt(dt,it,ct,"",function(Te){return Te})):dt!=null&&(k(dt)&&(dt=T(dt,ct+(dt.key==null||P&&P.key===dt.key?"":(""+dt.key).replace(L,"$&/")+"/")+et)),it.push(dt)),1;et=0;var St=rt===""?".":rt+":";if(tt(P))for(var Et=0;Et<P.length;Et++)rt=P[Et],yt=St+z(rt,Et),et+=mt(rt,it,ct,yt,dt);else if(Et=x(P),typeof Et=="function")for(P=Et.call(P),Et=0;!(rt=P.next()).done;)rt=rt.value,yt=St+z(rt,Et++),et+=mt(rt,it,ct,yt,dt);else if(yt==="object"){if(typeof P.then=="function")return mt(Tt(P),it,ct,rt,dt);throw it=String(P),Error("Objects are not valid as a React child (found: "+(it==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":it)+"). If you meant to render a collection of children, use an array instead.")}return et}function G(P,it,ct){if(P==null)return P;var rt=[],dt=0;return mt(P,rt,"","",function(yt){return it.call(ct,yt,dt++)}),rt}function V(P){if(P._status===-1){var it=P._result;it=it(),it.then(function(ct){(P._status===0||P._status===-1)&&(P._status=1,P._result=ct)},function(ct){(P._status===0||P._status===-1)&&(P._status=2,P._result=ct)}),P._status===-1&&(P._status=0,P._result=it)}if(P._status===1)return P._result.default;throw P._result}var lt=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var it=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(it))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function gt(){}return Ct.Children={map:G,forEach:function(P,it,ct){G(P,function(){it.apply(this,arguments)},ct)},count:function(P){var it=0;return G(P,function(){it++}),it},toArray:function(P){return G(P,function(it){return it})||[]},only:function(P){if(!k(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Ct.Component=M,Ct.Fragment=e,Ct.Profiler=r,Ct.PureComponent=$,Ct.StrictMode=i,Ct.Suspense=d,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(P){return Z.H.useMemoCache(P)}},Ct.cache=function(P){return function(){return P.apply(null,arguments)}},Ct.cloneElement=function(P,it,ct){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var rt=N({},P.props),dt=P.key,yt=void 0;if(it!=null)for(et in it.ref!==void 0&&(yt=void 0),it.key!==void 0&&(dt=""+it.key),it)!ot.call(it,et)||et==="key"||et==="__self"||et==="__source"||et==="ref"&&it.ref===void 0||(rt[et]=it[et]);var et=arguments.length-2;if(et===1)rt.children=ct;else if(1<et){for(var St=Array(et),Et=0;Et<et;Et++)St[Et]=arguments[Et+2];rt.children=St}return O(P.type,dt,void 0,void 0,yt,rt)},Ct.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:o,_context:P},P},Ct.createElement=function(P,it,ct){var rt,dt={},yt=null;if(it!=null)for(rt in it.key!==void 0&&(yt=""+it.key),it)ot.call(it,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(dt[rt]=it[rt]);var et=arguments.length-2;if(et===1)dt.children=ct;else if(1<et){for(var St=Array(et),Et=0;Et<et;Et++)St[Et]=arguments[Et+2];dt.children=St}if(P&&P.defaultProps)for(rt in et=P.defaultProps,et)dt[rt]===void 0&&(dt[rt]=et[rt]);return O(P,yt,void 0,void 0,null,dt)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(P){return{$$typeof:h,render:P}},Ct.isValidElement=k,Ct.lazy=function(P){return{$$typeof:_,_payload:{_status:-1,_result:P},_init:V}},Ct.memo=function(P,it){return{$$typeof:g,type:P,compare:it===void 0?null:it}},Ct.startTransition=function(P){var it=Z.T,ct={};Z.T=ct;try{var rt=P(),dt=Z.S;dt!==null&&dt(ct,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(gt,lt)}catch(yt){lt(yt)}finally{Z.T=it}},Ct.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},Ct.use=function(P){return Z.H.use(P)},Ct.useActionState=function(P,it,ct){return Z.H.useActionState(P,it,ct)},Ct.useCallback=function(P,it){return Z.H.useCallback(P,it)},Ct.useContext=function(P){return Z.H.useContext(P)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(P,it){return Z.H.useDeferredValue(P,it)},Ct.useEffect=function(P,it,ct){var rt=Z.H;if(typeof ct=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return rt.useEffect(P,it)},Ct.useId=function(){return Z.H.useId()},Ct.useImperativeHandle=function(P,it,ct){return Z.H.useImperativeHandle(P,it,ct)},Ct.useInsertionEffect=function(P,it){return Z.H.useInsertionEffect(P,it)},Ct.useLayoutEffect=function(P,it){return Z.H.useLayoutEffect(P,it)},Ct.useMemo=function(P,it){return Z.H.useMemo(P,it)},Ct.useOptimistic=function(P,it){return Z.H.useOptimistic(P,it)},Ct.useReducer=function(P,it,ct){return Z.H.useReducer(P,it,ct)},Ct.useRef=function(P){return Z.H.useRef(P)},Ct.useState=function(P){return Z.H.useState(P)},Ct.useSyncExternalStore=function(P,it,ct){return Z.H.useSyncExternalStore(P,it,ct)},Ct.useTransition=function(){return Z.H.useTransition()},Ct.version="19.1.0",Ct}var Tx;function Dy(){return Tx||(Tx=1,_p.exports=VA()),_p.exports}var B=Dy();const Is=BA(B);var vp={exports:{}},jc={},bp={exports:{}},xp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cx;function qA(){return Cx||(Cx=1,function(n){function t(G,V){var lt=G.length;G.push(V);t:for(;0<lt;){var gt=lt-1>>>1,P=G[gt];if(0<r(P,V))G[gt]=V,G[lt]=P,lt=gt;else break t}}function e(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var V=G[0],lt=G.pop();if(lt!==V){G[0]=lt;t:for(var gt=0,P=G.length,it=P>>>1;gt<it;){var ct=2*(gt+1)-1,rt=G[ct],dt=ct+1,yt=G[dt];if(0>r(rt,lt))dt<P&&0>r(yt,rt)?(G[gt]=yt,G[dt]=lt,gt=dt):(G[gt]=rt,G[ct]=lt,gt=ct);else if(dt<P&&0>r(yt,lt))G[gt]=yt,G[dt]=lt,gt=dt;else break t}}return V}function r(G,V){var lt=G.sortIndex-V.sortIndex;return lt!==0?lt:G.id-V.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var d=[],g=[],_=1,b=null,x=3,E=!1,N=!1,R=!1,M=!1,U=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function tt(G){for(var V=e(g);V!==null;){if(V.callback===null)i(g);else if(V.startTime<=G)i(g),V.sortIndex=V.expirationTime,t(d,V);else break;V=e(g)}}function Z(G){if(R=!1,tt(G),!N)if(e(d)!==null)N=!0,ot||(ot=!0,z());else{var V=e(g);V!==null&&mt(Z,V.startTime-G)}}var ot=!1,O=-1,T=5,k=-1;function I(){return M?!0:!(n.unstable_now()-k<T)}function L(){if(M=!1,ot){var G=n.unstable_now();k=G;var V=!0;try{t:{N=!1,R&&(R=!1,$(O),O=-1),E=!0;var lt=x;try{e:{for(tt(G),b=e(d);b!==null&&!(b.expirationTime>G&&I());){var gt=b.callback;if(typeof gt=="function"){b.callback=null,x=b.priorityLevel;var P=gt(b.expirationTime<=G);if(G=n.unstable_now(),typeof P=="function"){b.callback=P,tt(G),V=!0;break e}b===e(d)&&i(d),tt(G)}else i(d);b=e(d)}if(b!==null)V=!0;else{var it=e(g);it!==null&&mt(Z,it.startTime-G),V=!1}}break t}finally{b=null,x=lt,E=!1}V=void 0}}finally{V?z():ot=!1}}}var z;if(typeof Q=="function")z=function(){Q(L)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Tt=D.port2;D.port1.onmessage=L,z=function(){Tt.postMessage(null)}}else z=function(){U(L,0)};function mt(G,V){O=U(function(){G(n.unstable_now())},V)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(G){switch(x){case 1:case 2:case 3:var V=3;break;default:V=x}var lt=x;x=V;try{return G()}finally{x=lt}},n.unstable_requestPaint=function(){M=!0},n.unstable_runWithPriority=function(G,V){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var lt=x;x=G;try{return V()}finally{x=lt}},n.unstable_scheduleCallback=function(G,V,lt){var gt=n.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?gt+lt:gt):lt=gt,G){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=lt+P,G={id:_++,callback:V,priorityLevel:G,startTime:lt,expirationTime:P,sortIndex:-1},lt>gt?(G.sortIndex=lt,t(g,G),e(d)===null&&G===e(g)&&(R?($(O),O=-1):R=!0,mt(Z,lt-gt))):(G.sortIndex=P,t(d,G),N||E||(N=!0,ot||(ot=!0,z()))),G},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(G){var V=x;return function(){var lt=x;x=V;try{return G.apply(this,arguments)}finally{x=lt}}}}(xp)),xp}var Ax;function WA(){return Ax||(Ax=1,bp.exports=qA()),bp.exports}var wp={exports:{}},dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nx;function YA(){if(Nx)return dn;Nx=1;var n=Dy();function t(d){var g="https://react.dev/errors/"+d;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(d,g,_){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:b==null?null:""+b,children:d,containerInfo:g,implementation:_}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,g){if(d==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,dn.createPortal=function(d,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return o(d,g,null,_)},dn.flushSync=function(d){var g=c.T,_=i.p;try{if(c.T=null,i.p=2,d)return d()}finally{c.T=g,i.p=_,i.d.f()}},dn.preconnect=function(d,g){typeof d=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(d,g))},dn.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},dn.preinit=function(d,g){if(typeof d=="string"&&g&&typeof g.as=="string"){var _=g.as,b=h(_,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,E=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?i.d.S(d,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:E}):_==="script"&&i.d.X(d,{crossOrigin:b,integrity:x,fetchPriority:E,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},dn.preinitModule=function(d,g){if(typeof d=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=h(g.as,g.crossOrigin);i.d.M(d,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(d)},dn.preload=function(d,g){if(typeof d=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,b=h(_,g.crossOrigin);i.d.L(d,_,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},dn.preloadModule=function(d,g){if(typeof d=="string")if(g){var _=h(g.as,g.crossOrigin);i.d.m(d,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(d)},dn.requestFormReset=function(d){i.d.r(d)},dn.unstable_batchedUpdates=function(d,g){return d(g)},dn.useFormState=function(d,g,_){return c.H.useFormState(d,g,_)},dn.useFormStatus=function(){return c.H.useHostTransitionStatus()},dn.version="19.1.0",dn}var kx;function GA(){if(kx)return wp.exports;kx=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),wp.exports=YA(),wp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rx;function $A(){if(Rx)return jc;Rx=1;var n=WA(),t=Dy(),e=GA();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function c(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(o(s)!==s)throw Error(i(188))}function d(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var l=s,u=a;;){var m=l.return;if(m===null)break;var p=m.alternate;if(p===null){if(u=m.return,u!==null){l=u;continue}break}if(m.child===p.child){for(p=m.child;p;){if(p===l)return h(m),s;if(p===u)return h(m),a;p=p.sibling}throw Error(i(188))}if(l.return!==u.return)l=m,u=p;else{for(var S=!1,C=m.child;C;){if(C===l){S=!0,l=m,u=p;break}if(C===u){S=!0,u=m,l=p;break}C=C.sibling}if(!S){for(C=p.child;C;){if(C===l){S=!0,l=p,u=m;break}if(C===u){S=!0,u=p,l=m;break}C=C.sibling}if(!S)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:a}function g(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=g(s),a!==null)return a;s=s.sibling}return null}var _=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),$=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),tt=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function z(s){return s===null||typeof s!="object"?null:(s=L&&s[L]||s["@@iterator"],typeof s=="function"?s:null)}var D=Symbol.for("react.client.reference");function Tt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===D?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case N:return"Fragment";case M:return"Profiler";case R:return"StrictMode";case Z:return"Suspense";case ot:return"SuspenseList";case k:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case E:return"Portal";case Q:return(s.displayName||"Context")+".Provider";case $:return(s._context.displayName||"Context")+".Consumer";case tt:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case O:return a=s.displayName||null,a!==null?a:Tt(s.type)||"Memo";case T:a=s._payload,s=s._init;try{return Tt(s(a))}catch{}}return null}var mt=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},gt=[],P=-1;function it(s){return{current:s}}function ct(s){0>P||(s.current=gt[P],gt[P]=null,P--)}function rt(s,a){P++,gt[P]=s.current,s.current=a}var dt=it(null),yt=it(null),et=it(null),St=it(null);function Et(s,a){switch(rt(et,a),rt(yt,s),rt(dt,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?Qb(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=Qb(a),s=Kb(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ct(dt),rt(dt,s)}function Te(){ct(dt),ct(yt),ct(et)}function Yt(s){s.memoizedState!==null&&rt(St,s);var a=dt.current,l=Kb(a,s.type);a!==l&&(rt(yt,s),rt(dt,l))}function me(s){yt.current===s&&(ct(dt),ct(yt)),St.current===s&&(ct(St),kc._currentValue=lt)}var Be=Object.prototype.hasOwnProperty,se=n.unstable_scheduleCallback,Xt=n.unstable_cancelCallback,Vr=n.unstable_shouldYield,Zu=n.unstable_requestPaint,Hn=n.unstable_now,yg=n.unstable_getCurrentPriorityLevel,kl=n.unstable_ImmediatePriority,io=n.unstable_UserBlockingPriority,qr=n.unstable_NormalPriority,_g=n.unstable_LowPriority,so=n.unstable_IdlePriority,Rl=n.log,Ju=n.unstable_setDisableYieldValue,Ce=null,Qt=null;function On(s){if(typeof Rl=="function"&&Ju(s),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(Ce,s)}catch{}}var un=Math.clz32?Math.clz32:Wr,th=Math.log,vg=Math.LN2;function Wr(s){return s>>>=0,s===0?32:31-(th(s)/vg|0)|0}var Yr=256,Gr=4194304;function ai(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function ro(s,a,l){var u=s.pendingLanes;if(u===0)return 0;var m=0,p=s.suspendedLanes,S=s.pingedLanes;s=s.warmLanes;var C=u&134217727;return C!==0?(u=C&~p,u!==0?m=ai(u):(S&=C,S!==0?m=ai(S):l||(l=C&~s,l!==0&&(m=ai(l))))):(C=u&~p,C!==0?m=ai(C):S!==0?m=ai(S):l||(l=u&~s,l!==0&&(m=ai(l)))),m===0?0:a!==0&&a!==m&&(a&p)===0&&(p=m&-m,l=a&-a,p>=l||p===32&&(l&4194048)!==0)?a:m}function $r(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function Ml(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ol(){var s=Yr;return Yr<<=1,(Yr&4194048)===0&&(Yr=256),s}function eh(){var s=Gr;return Gr<<=1,(Gr&62914560)===0&&(Gr=4194304),s}function Zi(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function Ji(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Dl(s,a,l,u,m,p){var S=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var C=s.entanglements,j=s.expirationTimes,Y=s.hiddenUpdates;for(l=S&~l;0<l;){var nt=31-un(l),at=1<<nt;C[nt]=0,j[nt]=-1;var X=Y[nt];if(X!==null)for(Y[nt]=null,nt=0;nt<X.length;nt++){var K=X[nt];K!==null&&(K.lane&=-536870913)}l&=~at}u!==0&&ts(s,u,0),p!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=p&~(S&~a))}function ts(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var u=31-un(a);s.entangledLanes|=a,s.entanglements[u]=s.entanglements[u]|1073741824|l&4194090}function Il(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var u=31-un(l),m=1<<u;m&a|s[u]&a&&(s[u]|=a),l&=~m}}function Xr(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function ao(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Ws(){var s=V.p;return s!==0?s:(s=window.event,s===void 0?32:px(s.type))}function nh(s,a){var l=V.p;try{return V.p=s,a()}finally{V.p=l}}var pe=Math.random().toString(36).slice(2),He="__reactFiber$"+pe,Ie="__reactProps$"+pe,Fn="__reactContainer$"+pe,jl="__reactEvents$"+pe,bg="__reactListeners$"+pe,Ys="__reactHandles$"+pe,ih="__reactResources$"+pe,Qr="__reactMarker$"+pe;function Kr(s){delete s[He],delete s[Ie],delete s[jl],delete s[bg],delete s[Ys]}function Gs(s){var a=s[He];if(a)return a;for(var l=s.parentNode;l;){if(a=l[Fn]||l[He]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=ex(s);s!==null;){if(l=s[He])return l;s=ex(s)}return a}s=l,l=s.parentNode}return null}function Ei(s){if(s=s[He]||s[Fn]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function Ti(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function mn(s){var a=s[ih];return a||(a=s[ih]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Re(s){s[Qr]=!0}var Ll=new Set,oo={};function oi(s,a){es(s,a),es(s+"Capture",a)}function es(s,a){for(oo[s]=a,s=0;s<a.length;s++)Ll.add(a[s])}var sh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rh={},Zr={};function ah(s){return Be.call(Zr,s)?!0:Be.call(rh,s)?!1:sh.test(s)?Zr[s]=!0:(rh[s]=!0,!1)}function $s(s,a,l){if(ah(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function Ci(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function sn(s,a,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+u)}}var Jr,oh;function ns(s){if(Jr===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Jr=a&&a[1]||"",oh=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Jr+s+oh}var lo=!1;function co(s,a){if(!s||lo)return"";lo=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var at=function(){throw Error()};if(Object.defineProperty(at.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(at,[])}catch(K){var X=K}Reflect.construct(s,[],at)}else{try{at.call()}catch(K){X=K}s.call(at.prototype)}}else{try{throw Error()}catch(K){X=K}(at=s())&&typeof at.catch=="function"&&at.catch(function(){})}}catch(K){if(K&&X&&typeof K.stack=="string")return[K.stack,X.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),S=p[0],C=p[1];if(S&&C){var j=S.split(`
`),Y=C.split(`
`);for(m=u=0;u<j.length&&!j[u].includes("DetermineComponentFrameRoot");)u++;for(;m<Y.length&&!Y[m].includes("DetermineComponentFrameRoot");)m++;if(u===j.length||m===Y.length)for(u=j.length-1,m=Y.length-1;1<=u&&0<=m&&j[u]!==Y[m];)m--;for(;1<=u&&0<=m;u--,m--)if(j[u]!==Y[m]){if(u!==1||m!==1)do if(u--,m--,0>m||j[u]!==Y[m]){var nt=`
`+j[u].replace(" at new "," at ");return s.displayName&&nt.includes("<anonymous>")&&(nt=nt.replace("<anonymous>",s.displayName)),nt}while(1<=u&&0<=m);break}}}finally{lo=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?ns(l):""}function Pl(s){switch(s.tag){case 26:case 27:case 5:return ns(s.type);case 16:return ns("Lazy");case 13:return ns("Suspense");case 19:return ns("SuspenseList");case 0:case 15:return co(s.type,!1);case 11:return co(s.type.render,!1);case 1:return co(s.type,!0);case 31:return ns("Activity");default:return""}}function uo(s){try{var a="";do a+=Pl(s),s=s.return;while(s);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function pn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ul(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function xg(s){var a=Ul(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),u=""+s[a];if(!s.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,p=l.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return m.call(this)},set:function(S){u=""+S,p.call(this,S)}}),Object.defineProperty(s,a,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(S){u=""+S},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function ho(s){s._valueTracker||(s._valueTracker=xg(s))}function zl(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return s&&(u=Ul(s)?s.checked?"true":"false":s.value),s=u,s!==l?(a.setValue(s),!0):!1}function ta(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var wg=/[\n"\\]/g;function je(s){return s.replace(wg,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Dn(s,a,l,u,m,p,S,C){s.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.type=S:s.removeAttribute("type"),a!=null?S==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+pn(a)):s.value!==""+pn(a)&&(s.value=""+pn(a)):S!=="submit"&&S!=="reset"||s.removeAttribute("value"),a!=null?Xs(s,S,pn(a)):l!=null?Xs(s,S,pn(l)):u!=null&&s.removeAttribute("value"),m==null&&p!=null&&(s.defaultChecked=!!p),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?s.name=""+pn(C):s.removeAttribute("name")}function ea(s,a,l,u,m,p,S,C){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(s.type=p),a!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||a!=null))return;l=l!=null?""+pn(l):"",a=a!=null?""+pn(a):l,C||a===s.value||(s.value=a),s.defaultValue=a}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=C?s.checked:!!u,s.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(s.name=S)}function Xs(s,a,l){a==="number"&&ta(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function is(s,a,l,u){if(s=s.options,a){a={};for(var m=0;m<l.length;m++)a["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=a.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&u&&(s[l].defaultSelected=!0)}else{for(l=""+pn(l),a=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,u&&(s[m].defaultSelected=!0);return}a!==null||s[m].disabled||(a=s[m])}a!==null&&(a.selected=!0)}}function re(s,a,l){if(a!=null&&(a=""+pn(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+pn(l):""}function na(s,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(i(92));if(mt(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=pn(a),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u)}function Vn(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var ia=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lh(s,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":u?s.setProperty(a,l):typeof l!="number"||l===0||ia.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function Bl(s,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var m in a)u=a[m],a.hasOwnProperty(m)&&l[m]!==u&&lh(s,m,u)}else for(var p in a)a.hasOwnProperty(p)&&lh(s,p,a[p])}function Hl(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Eg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fo(s){return Eg.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var ss=null;function qn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var rs=null,as=null;function Fl(s){var a=Ei(s);if(a&&(s=a.stateNode)){var l=s[Ie]||null;t:switch(s=a.stateNode,a.type){case"input":if(Dn(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+je(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==s&&u.form===s.form){var m=u[Ie]||null;if(!m)throw Error(i(90));Dn(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===s.form&&zl(u)}break t;case"textarea":re(s,l.value,l.defaultValue);break t;case"select":a=l.value,a!=null&&is(s,!!l.multiple,a,!1)}}}var Ai=!1;function ch(s,a,l){if(Ai)return s(a,l);Ai=!0;try{var u=s(a);return u}finally{if(Ai=!1,(rs!==null||as!==null)&&(nd(),rs&&(a=rs,s=as,as=rs=null,Fl(a),s)))for(a=0;a<s.length;a++)Fl(s[a])}}function sa(s,a){var l=s.stateNode;if(l===null)return null;var u=l[Ie]||null;if(u===null)return null;l=u[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break t;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wn=!1;if(li)try{var ra={};Object.defineProperty(ra,"passive",{get:function(){Wn=!0}}),window.addEventListener("test",ra,ra),window.removeEventListener("test",ra,ra)}catch{Wn=!1}var Ni=null,Qs=null,os=null;function Vl(){if(os)return os;var s,a=Qs,l=a.length,u,m="value"in Ni?Ni.value:Ni.textContent,p=m.length;for(s=0;s<l&&a[s]===m[s];s++);var S=l-s;for(u=1;u<=S&&a[l-u]===m[p-u];u++);return os=m.slice(s,1<u?1-u:void 0)}function ki(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Ri(){return!0}function ql(){return!1}function We(s){function a(l,u,m,p,S){this._reactName=l,this._targetInst=m,this.type=u,this.nativeEvent=p,this.target=S,this.currentTarget=null;for(var C in s)s.hasOwnProperty(C)&&(l=s[C],this[C]=l?l(p):p[C]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ri:ql,this.isPropagationStopped=ql,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ri)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ri)},persist:function(){},isPersistent:Ri}),a}var Kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},go=We(Kt),aa=_({},Kt,{view:0,detail:0}),uh=We(aa),mo,po,Mi,oa=_({},aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ua,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Mi&&(Mi&&s.type==="mousemove"?(mo=s.screenX-Mi.screenX,po=s.screenY-Mi.screenY):po=mo=0,Mi=s),mo)},movementY:function(s){return"movementY"in s?s.movementY:po}}),Yn=We(oa),hh=_({},oa,{dataTransfer:0}),Tg=We(hh),la=_({},aa,{relatedTarget:0}),yo=We(la),Wl=_({},Kt,{animationName:0,elapsedTime:0,pseudoElement:0}),_o=We(Wl),dh=_({},Kt,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),vo=We(dh),Cg=_({},Kt,{data:0}),Yl=We(Cg),ca={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gl(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=gh[s])?!!a[s]:!1}function ua(){return Gl}var mh=_({},aa,{key:function(s){if(s.key){var a=ca[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=ki(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?fh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ua,charCode:function(s){return s.type==="keypress"?ki(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ki(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),bo=We(mh),ph=_({},oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$l=We(ph),ls=_({},aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ua}),yh=We(ls),_h=_({},Kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),vh=We(_h),bh=_({},oa,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),xn=We(bh),xh=_({},Kt,{newState:0,oldState:0}),wh=We(xh),Ks=[9,13,27,32],f=li&&"CompositionEvent"in window,v=null;li&&"documentMode"in document&&(v=document.documentMode);var w=li&&"TextEvent"in window&&!v,A=li&&(!f||v&&8<v&&11>=v),q=" ",J=!1;function ht(s,a){switch(s){case"keyup":return Ks.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gt(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ye=!1;function jt(s,a){switch(s){case"compositionend":return Gt(a);case"keypress":return a.which!==32?null:(J=!0,q);case"textInput":return s=a.data,s===q&&J?null:s;default:return null}}function Ye(s,a){if(ye)return s==="compositionend"||!f&&ht(s,a)?(s=Vl(),os=Qs=Ni=null,ye=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return A&&a.locale!=="ko"?null:a.data;default:return null}}var Ge={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cs(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!Ge[s.type]:a==="textarea"}function wn(s,a,l,u){rs?as?as.push(u):as=[u]:rs=u,a=ld(a,"onChange"),0<a.length&&(l=new go("onChange","change",null,l,u),s.push({event:l,listeners:a}))}var Oi=null,us=null;function mC(s){Wb(s,0)}function Sh(s){var a=Ti(s);if(zl(a))return s}function h_(s,a){if(s==="change")return a}var d_=!1;if(li){var Ag;if(li){var Ng="oninput"in document;if(!Ng){var f_=document.createElement("div");f_.setAttribute("oninput","return;"),Ng=typeof f_.oninput=="function"}Ag=Ng}else Ag=!1;d_=Ag&&(!document.documentMode||9<document.documentMode)}function g_(){Oi&&(Oi.detachEvent("onpropertychange",m_),us=Oi=null)}function m_(s){if(s.propertyName==="value"&&Sh(us)){var a=[];wn(a,us,s,qn(s)),ch(mC,a)}}function pC(s,a,l){s==="focusin"?(g_(),Oi=a,us=l,Oi.attachEvent("onpropertychange",m_)):s==="focusout"&&g_()}function yC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Sh(us)}function _C(s,a){if(s==="click")return Sh(a)}function vC(s,a){if(s==="input"||s==="change")return Sh(a)}function bC(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var In=typeof Object.is=="function"?Object.is:bC;function Xl(s,a){if(In(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var m=l[u];if(!Be.call(a,m)||!In(s[m],a[m]))return!1}return!0}function p_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function y_(s,a){var l=p_(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=a&&u>=a)return{node:l,offset:a-s};s=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=p_(l)}}function __(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?__(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function v_(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=ta(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=ta(s.document)}return a}function kg(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var xC=li&&"documentMode"in document&&11>=document.documentMode,xo=null,Rg=null,Ql=null,Mg=!1;function b_(s,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Mg||xo==null||xo!==ta(u)||(u=xo,"selectionStart"in u&&kg(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ql&&Xl(Ql,u)||(Ql=u,u=ld(Rg,"onSelect"),0<u.length&&(a=new go("onSelect","select",null,a,l),s.push({event:a,listeners:u}),a.target=xo)))}function ha(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var wo={animationend:ha("Animation","AnimationEnd"),animationiteration:ha("Animation","AnimationIteration"),animationstart:ha("Animation","AnimationStart"),transitionrun:ha("Transition","TransitionRun"),transitionstart:ha("Transition","TransitionStart"),transitioncancel:ha("Transition","TransitionCancel"),transitionend:ha("Transition","TransitionEnd")},Og={},x_={};li&&(x_=document.createElement("div").style,"AnimationEvent"in window||(delete wo.animationend.animation,delete wo.animationiteration.animation,delete wo.animationstart.animation),"TransitionEvent"in window||delete wo.transitionend.transition);function da(s){if(Og[s])return Og[s];if(!wo[s])return s;var a=wo[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in x_)return Og[s]=a[l];return s}var w_=da("animationend"),S_=da("animationiteration"),E_=da("animationstart"),wC=da("transitionrun"),SC=da("transitionstart"),EC=da("transitioncancel"),T_=da("transitionend"),C_=new Map,Dg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dg.push("scrollEnd");function ci(s,a){C_.set(s,a),oi(a,[s])}var A_=new WeakMap;function Gn(s,a){if(typeof s=="object"&&s!==null){var l=A_.get(s);return l!==void 0?l:(a={value:s,source:a,stack:uo(a)},A_.set(s,a),a)}return{value:s,source:a,stack:uo(a)}}var $n=[],So=0,Ig=0;function Eh(){for(var s=So,a=Ig=So=0;a<s;){var l=$n[a];$n[a++]=null;var u=$n[a];$n[a++]=null;var m=$n[a];$n[a++]=null;var p=$n[a];if($n[a++]=null,u!==null&&m!==null){var S=u.pending;S===null?m.next=m:(m.next=S.next,S.next=m),u.pending=m}p!==0&&N_(l,m,p)}}function Th(s,a,l,u){$n[So++]=s,$n[So++]=a,$n[So++]=l,$n[So++]=u,Ig|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function jg(s,a,l,u){return Th(s,a,l,u),Ch(s)}function Eo(s,a){return Th(s,null,null,a),Ch(s)}function N_(s,a,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var m=!1,p=s.return;p!==null;)p.childLanes|=l,u=p.alternate,u!==null&&(u.childLanes|=l),p.tag===22&&(s=p.stateNode,s===null||s._visibility&1||(m=!0)),s=p,p=p.return;return s.tag===3?(p=s.stateNode,m&&a!==null&&(m=31-un(l),s=p.hiddenUpdates,u=s[m],u===null?s[m]=[a]:u.push(a),a.lane=l|536870912),p):null}function Ch(s){if(50<xc)throw xc=0,Hm=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var To={};function TC(s,a,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(s,a,l,u){return new TC(s,a,l,u)}function Lg(s){return s=s.prototype,!(!s||!s.isReactComponent)}function hs(s,a){var l=s.alternate;return l===null?(l=jn(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function k_(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function Ah(s,a,l,u,m,p){var S=0;if(u=s,typeof s=="function")Lg(s)&&(S=1);else if(typeof s=="string")S=AA(s,l,dt.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case k:return s=jn(31,l,a,m),s.elementType=k,s.lanes=p,s;case N:return fa(l.children,m,p,a);case R:S=8,m|=24;break;case M:return s=jn(12,l,a,m|2),s.elementType=M,s.lanes=p,s;case Z:return s=jn(13,l,a,m),s.elementType=Z,s.lanes=p,s;case ot:return s=jn(19,l,a,m),s.elementType=ot,s.lanes=p,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case U:case Q:S=10;break t;case $:S=9;break t;case tt:S=11;break t;case O:S=14;break t;case T:S=16,u=null;break t}S=29,l=Error(i(130,s===null?"null":typeof s,"")),u=null}return a=jn(S,l,a,m),a.elementType=s,a.type=u,a.lanes=p,a}function fa(s,a,l,u){return s=jn(7,s,u,a),s.lanes=l,s}function Pg(s,a,l){return s=jn(6,s,null,a),s.lanes=l,s}function Ug(s,a,l){return a=jn(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var Co=[],Ao=0,Nh=null,kh=0,Xn=[],Qn=0,ga=null,ds=1,fs="";function ma(s,a){Co[Ao++]=kh,Co[Ao++]=Nh,Nh=s,kh=a}function R_(s,a,l){Xn[Qn++]=ds,Xn[Qn++]=fs,Xn[Qn++]=ga,ga=s;var u=ds;s=fs;var m=32-un(u)-1;u&=~(1<<m),l+=1;var p=32-un(a)+m;if(30<p){var S=m-m%5;p=(u&(1<<S)-1).toString(32),u>>=S,m-=S,ds=1<<32-un(a)+m|l<<m|u,fs=p+s}else ds=1<<p|l<<m|u,fs=s}function zg(s){s.return!==null&&(ma(s,1),R_(s,1,0))}function Bg(s){for(;s===Nh;)Nh=Co[--Ao],Co[Ao]=null,kh=Co[--Ao],Co[Ao]=null;for(;s===ga;)ga=Xn[--Qn],Xn[Qn]=null,fs=Xn[--Qn],Xn[Qn]=null,ds=Xn[--Qn],Xn[Qn]=null}var yn=null,Ae=null,Ft=!1,pa=null,Di=!1,Hg=Error(i(519));function ya(s){var a=Error(i(418,""));throw Jl(Gn(a,s)),Hg}function M_(s){var a=s.stateNode,l=s.type,u=s.memoizedProps;switch(a[He]=s,a[Ie]=u,l){case"dialog":It("cancel",a),It("close",a);break;case"iframe":case"object":case"embed":It("load",a);break;case"video":case"audio":for(l=0;l<Sc.length;l++)It(Sc[l],a);break;case"source":It("error",a);break;case"img":case"image":case"link":It("error",a),It("load",a);break;case"details":It("toggle",a);break;case"input":It("invalid",a),ea(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),ho(a);break;case"select":It("invalid",a);break;case"textarea":It("invalid",a),na(a,u.value,u.defaultValue,u.children),ho(a)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||Xb(a.textContent,l)?(u.popover!=null&&(It("beforetoggle",a),It("toggle",a)),u.onScroll!=null&&It("scroll",a),u.onScrollEnd!=null&&It("scrollend",a),u.onClick!=null&&(a.onclick=cd),a=!0):a=!1,a||ya(s)}function O_(s){for(yn=s.return;yn;)switch(yn.tag){case 5:case 13:Di=!1;return;case 27:case 3:Di=!0;return;default:yn=yn.return}}function Kl(s){if(s!==yn)return!1;if(!Ft)return O_(s),Ft=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||ip(s.type,s.memoizedProps)),l=!l),l&&Ae&&ya(s),O_(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));t:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(a===0){Ae=hi(s.nextSibling);break t}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;s=s.nextSibling}Ae=null}}else a===27?(a=Ae,fr(s.type)?(s=op,op=null,Ae=s):Ae=a):Ae=yn?hi(s.stateNode.nextSibling):null;return!0}function Zl(){Ae=yn=null,Ft=!1}function D_(){var s=pa;return s!==null&&(Tn===null?Tn=s:Tn.push.apply(Tn,s),pa=null),s}function Jl(s){pa===null?pa=[s]:pa.push(s)}var Fg=it(null),_a=null,gs=null;function Zs(s,a,l){rt(Fg,a._currentValue),a._currentValue=l}function ms(s){s._currentValue=Fg.current,ct(Fg)}function Vg(s,a,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),s===l)break;s=s.return}}function qg(s,a,l,u){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var p=m.dependencies;if(p!==null){var S=m.child;p=p.firstContext;t:for(;p!==null;){var C=p;p=m;for(var j=0;j<a.length;j++)if(C.context===a[j]){p.lanes|=l,C=p.alternate,C!==null&&(C.lanes|=l),Vg(p.return,l,s),u||(S=null);break t}p=C.next}}else if(m.tag===18){if(S=m.return,S===null)throw Error(i(341));S.lanes|=l,p=S.alternate,p!==null&&(p.lanes|=l),Vg(S,l,s),S=null}else S=m.child;if(S!==null)S.return=m;else for(S=m;S!==null;){if(S===s){S=null;break}if(m=S.sibling,m!==null){m.return=S.return,S=m;break}S=S.return}m=S}}function tc(s,a,l,u){s=null;for(var m=a,p=!1;m!==null;){if(!p){if((m.flags&524288)!==0)p=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var S=m.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var C=m.type;In(m.pendingProps.value,S.value)||(s!==null?s.push(C):s=[C])}}else if(m===St.current){if(S=m.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(kc):s=[kc])}m=m.return}s!==null&&qg(a,s,l,u),a.flags|=262144}function Rh(s){for(s=s.firstContext;s!==null;){if(!In(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function va(s){_a=s,gs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function hn(s){return I_(_a,s)}function Mh(s,a){return _a===null&&va(s),I_(s,a)}function I_(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},gs===null){if(s===null)throw Error(i(308));gs=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else gs=gs.next=a;return l}var CC=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},AC=n.unstable_scheduleCallback,NC=n.unstable_NormalPriority,Fe={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wg(){return{controller:new CC,data:new Map,refCount:0}}function ec(s){s.refCount--,s.refCount===0&&AC(NC,function(){s.controller.abort()})}var nc=null,Yg=0,No=0,ko=null;function kC(s,a){if(nc===null){var l=nc=[];Yg=0,No=$m(),ko={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Yg++,a.then(j_,j_),a}function j_(){if(--Yg===0&&nc!==null){ko!==null&&(ko.status="fulfilled");var s=nc;nc=null,No=0,ko=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function RC(s,a){var l=[],u={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return s.then(function(){u.status="fulfilled",u.value=a;for(var m=0;m<l.length;m++)(0,l[m])(a)},function(m){for(u.status="rejected",u.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),u}var L_=G.S;G.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&kC(s,a),L_!==null&&L_(s,a)};var ba=it(null);function Gg(){var s=ba.current;return s!==null?s:he.pooledCache}function Oh(s,a){a===null?rt(ba,ba.current):rt(ba,a.pool)}function P_(){var s=Gg();return s===null?null:{parent:Fe._currentValue,pool:s}}var ic=Error(i(460)),U_=Error(i(474)),Dh=Error(i(542)),$g={then:function(){}};function z_(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Ih(){}function B_(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(Ih,Ih),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,F_(s),s;default:if(typeof a.status=="string")a.then(Ih,Ih);else{if(s=he,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(u){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=u}},function(u){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,F_(s),s}throw sc=a,ic}}var sc=null;function H_(){if(sc===null)throw Error(i(459));var s=sc;return sc=null,s}function F_(s){if(s===ic||s===Dh)throw Error(i(483))}var Js=!1;function Xg(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qg(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function tr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function er(s,a,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(Zt&2)!==0){var m=u.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),u.pending=a,a=Ch(s),N_(s,null,l),a}return Th(s,u,a,l),Ch(s)}function rc(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,Il(s,l)}}function Kg(s,a){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var m=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?m=p=S:p=p.next=S,l=l.next}while(l!==null);p===null?m=p=a:p=p.next=a}else m=p=a;l={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var Zg=!1;function ac(){if(Zg){var s=ko;if(s!==null)throw s}}function oc(s,a,l,u){Zg=!1;var m=s.updateQueue;Js=!1;var p=m.firstBaseUpdate,S=m.lastBaseUpdate,C=m.shared.pending;if(C!==null){m.shared.pending=null;var j=C,Y=j.next;j.next=null,S===null?p=Y:S.next=Y,S=j;var nt=s.alternate;nt!==null&&(nt=nt.updateQueue,C=nt.lastBaseUpdate,C!==S&&(C===null?nt.firstBaseUpdate=Y:C.next=Y,nt.lastBaseUpdate=j))}if(p!==null){var at=m.baseState;S=0,nt=Y=j=null,C=p;do{var X=C.lane&-536870913,K=X!==C.lane;if(K?(Lt&X)===X:(u&X)===X){X!==0&&X===No&&(Zg=!0),nt!==null&&(nt=nt.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});t:{var xt=s,_t=C;X=a;var le=l;switch(_t.tag){case 1:if(xt=_t.payload,typeof xt=="function"){at=xt.call(le,at,X);break t}at=xt;break t;case 3:xt.flags=xt.flags&-65537|128;case 0:if(xt=_t.payload,X=typeof xt=="function"?xt.call(le,at,X):xt,X==null)break t;at=_({},at,X);break t;case 2:Js=!0}}X=C.callback,X!==null&&(s.flags|=64,K&&(s.flags|=8192),K=m.callbacks,K===null?m.callbacks=[X]:K.push(X))}else K={lane:X,tag:C.tag,payload:C.payload,callback:C.callback,next:null},nt===null?(Y=nt=K,j=at):nt=nt.next=K,S|=X;if(C=C.next,C===null){if(C=m.shared.pending,C===null)break;K=C,C=K.next,K.next=null,m.lastBaseUpdate=K,m.shared.pending=null}}while(!0);nt===null&&(j=at),m.baseState=j,m.firstBaseUpdate=Y,m.lastBaseUpdate=nt,p===null&&(m.shared.lanes=0),cr|=S,s.lanes=S,s.memoizedState=at}}function V_(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function q_(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)V_(l[s],a)}var Ro=it(null),jh=it(0);function W_(s,a){s=ws,rt(jh,s),rt(Ro,a),ws=s|a.baseLanes}function Jg(){rt(jh,ws),rt(Ro,Ro.current)}function tm(){ws=jh.current,ct(Ro),ct(jh)}var nr=0,At=null,ae=null,Le=null,Lh=!1,Mo=!1,xa=!1,Ph=0,lc=0,Oo=null,MC=0;function Me(){throw Error(i(321))}function em(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!In(s[l],a[l]))return!1;return!0}function nm(s,a,l,u,m,p){return nr=p,At=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,G.H=s===null||s.memoizedState===null?Nv:kv,xa=!1,p=l(u,m),xa=!1,Mo&&(p=G_(a,l,u,m)),Y_(s),p}function Y_(s){G.H=Vh;var a=ae!==null&&ae.next!==null;if(nr=0,Le=ae=At=null,Lh=!1,lc=0,Oo=null,a)throw Error(i(300));s===null||$e||(s=s.dependencies,s!==null&&Rh(s)&&($e=!0))}function G_(s,a,l,u){At=s;var m=0;do{if(Mo&&(Oo=null),lc=0,Mo=!1,25<=m)throw Error(i(301));if(m+=1,Le=ae=null,s.updateQueue!=null){var p=s.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}G.H=UC,p=a(l,u)}while(Mo);return p}function OC(){var s=G.H,a=s.useState()[0];return a=typeof a.then=="function"?cc(a):a,s=s.useState()[0],(ae!==null?ae.memoizedState:null)!==s&&(At.flags|=1024),a}function im(){var s=Ph!==0;return Ph=0,s}function sm(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function rm(s){if(Lh){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Lh=!1}nr=0,Le=ae=At=null,Mo=!1,lc=Ph=0,Oo=null}function Sn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?At.memoizedState=Le=s:Le=Le.next=s,Le}function Pe(){if(ae===null){var s=At.alternate;s=s!==null?s.memoizedState:null}else s=ae.next;var a=Le===null?At.memoizedState:Le.next;if(a!==null)Le=a,ae=s;else{if(s===null)throw At.alternate===null?Error(i(467)):Error(i(310));ae=s,s={memoizedState:ae.memoizedState,baseState:ae.baseState,baseQueue:ae.baseQueue,queue:ae.queue,next:null},Le===null?At.memoizedState=Le=s:Le=Le.next=s}return Le}function am(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cc(s){var a=lc;return lc+=1,Oo===null&&(Oo=[]),s=B_(Oo,s,a),a=At,(Le===null?a.memoizedState:Le.next)===null&&(a=a.alternate,G.H=a===null||a.memoizedState===null?Nv:kv),s}function Uh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return cc(s);if(s.$$typeof===Q)return hn(s)}throw Error(i(438,String(s)))}function om(s){var a=null,l=At.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=At.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=am(),At.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),u=0;u<s;u++)l[u]=I;return a.index++,l}function ps(s,a){return typeof a=="function"?a(s):a}function zh(s){var a=Pe();return lm(a,ae,s)}function lm(s,a,l){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var m=s.baseQueue,p=u.pending;if(p!==null){if(m!==null){var S=m.next;m.next=p.next,p.next=S}a.baseQueue=m=p,u.pending=null}if(p=s.baseState,m===null)s.memoizedState=p;else{a=m.next;var C=S=null,j=null,Y=a,nt=!1;do{var at=Y.lane&-536870913;if(at!==Y.lane?(Lt&at)===at:(nr&at)===at){var X=Y.revertLane;if(X===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),at===No&&(nt=!0);else if((nr&X)===X){Y=Y.next,X===No&&(nt=!0);continue}else at={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},j===null?(C=j=at,S=p):j=j.next=at,At.lanes|=X,cr|=X;at=Y.action,xa&&l(p,at),p=Y.hasEagerState?Y.eagerState:l(p,at)}else X={lane:at,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},j===null?(C=j=X,S=p):j=j.next=X,At.lanes|=at,cr|=at;Y=Y.next}while(Y!==null&&Y!==a);if(j===null?S=p:j.next=C,!In(p,s.memoizedState)&&($e=!0,nt&&(l=ko,l!==null)))throw l;s.memoizedState=p,s.baseState=S,s.baseQueue=j,u.lastRenderedState=p}return m===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function cm(s){var a=Pe(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var u=l.dispatch,m=l.pending,p=a.memoizedState;if(m!==null){l.pending=null;var S=m=m.next;do p=s(p,S.action),S=S.next;while(S!==m);In(p,a.memoizedState)||($e=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),l.lastRenderedState=p}return[p,u]}function $_(s,a,l){var u=At,m=Pe(),p=Ft;if(p){if(l===void 0)throw Error(i(407));l=l()}else l=a();var S=!In((ae||m).memoizedState,l);S&&(m.memoizedState=l,$e=!0),m=m.queue;var C=K_.bind(null,u,m,s);if(uc(2048,8,C,[s]),m.getSnapshot!==a||S||Le!==null&&Le.memoizedState.tag&1){if(u.flags|=2048,Do(9,Bh(),Q_.bind(null,u,m,l,a),null),he===null)throw Error(i(349));p||(nr&124)!==0||X_(u,a,l)}return l}function X_(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=At.updateQueue,a===null?(a=am(),At.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function Q_(s,a,l,u){a.value=l,a.getSnapshot=u,Z_(a)&&J_(s)}function K_(s,a,l){return l(function(){Z_(a)&&J_(s)})}function Z_(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!In(s,l)}catch{return!0}}function J_(s){var a=Eo(s,2);a!==null&&Bn(a,s,2)}function um(s){var a=Sn();if(typeof s=="function"){var l=s;if(s=l(),xa){On(!0);try{l()}finally{On(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:s},a}function tv(s,a,l,u){return s.baseState=l,lm(s,ae,typeof u=="function"?u:ps)}function DC(s,a,l,u,m){if(Fh(s))throw Error(i(485));if(s=a.action,s!==null){var p={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){p.listeners.push(S)}};G.T!==null?l(!0):p.isTransition=!1,u(p),l=a.pending,l===null?(p.next=a.pending=p,ev(a,p)):(p.next=l.next,a.pending=l.next=p)}}function ev(s,a){var l=a.action,u=a.payload,m=s.state;if(a.isTransition){var p=G.T,S={};G.T=S;try{var C=l(m,u),j=G.S;j!==null&&j(S,C),nv(s,a,C)}catch(Y){hm(s,a,Y)}finally{G.T=p}}else try{p=l(m,u),nv(s,a,p)}catch(Y){hm(s,a,Y)}}function nv(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){iv(s,a,u)},function(u){return hm(s,a,u)}):iv(s,a,l)}function iv(s,a,l){a.status="fulfilled",a.value=l,sv(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,ev(s,l)))}function hm(s,a,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,sv(a),a=a.next;while(a!==u)}s.action=null}function sv(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function rv(s,a){return a}function av(s,a){if(Ft){var l=he.formState;if(l!==null){t:{var u=At;if(Ft){if(Ae){e:{for(var m=Ae,p=Di;m.nodeType!==8;){if(!p){m=null;break e}if(m=hi(m.nextSibling),m===null){m=null;break e}}p=m.data,m=p==="F!"||p==="F"?m:null}if(m){Ae=hi(m.nextSibling),u=m.data==="F!";break t}}ya(u)}u=!1}u&&(a=l[0])}}return l=Sn(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rv,lastRenderedState:a},l.queue=u,l=Tv.bind(null,At,u),u.dispatch=l,u=um(!1),p=pm.bind(null,At,!1,u.queue),u=Sn(),m={state:a,dispatch:null,action:s,pending:null},u.queue=m,l=DC.bind(null,At,m,p,l),m.dispatch=l,u.memoizedState=s,[a,l,!1]}function ov(s){var a=Pe();return lv(a,ae,s)}function lv(s,a,l){if(a=lm(s,a,rv)[0],s=zh(ps)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=cc(a)}catch(S){throw S===ic?Dh:S}else u=a;a=Pe();var m=a.queue,p=m.dispatch;return l!==a.memoizedState&&(At.flags|=2048,Do(9,Bh(),IC.bind(null,m,l),null)),[u,p,s]}function IC(s,a){s.action=a}function cv(s){var a=Pe(),l=ae;if(l!==null)return lv(a,l,s);Pe(),a=a.memoizedState,l=Pe();var u=l.queue.dispatch;return l.memoizedState=s,[a,u,!1]}function Do(s,a,l,u){return s={tag:s,create:l,deps:u,inst:a,next:null},a=At.updateQueue,a===null&&(a=am(),At.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,a.lastEffect=s),s}function Bh(){return{destroy:void 0,resource:void 0}}function uv(){return Pe().memoizedState}function Hh(s,a,l,u){var m=Sn();u=u===void 0?null:u,At.flags|=s,m.memoizedState=Do(1|a,Bh(),l,u)}function uc(s,a,l,u){var m=Pe();u=u===void 0?null:u;var p=m.memoizedState.inst;ae!==null&&u!==null&&em(u,ae.memoizedState.deps)?m.memoizedState=Do(a,p,l,u):(At.flags|=s,m.memoizedState=Do(1|a,p,l,u))}function hv(s,a){Hh(8390656,8,s,a)}function dv(s,a){uc(2048,8,s,a)}function fv(s,a){return uc(4,2,s,a)}function gv(s,a){return uc(4,4,s,a)}function mv(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function pv(s,a,l){l=l!=null?l.concat([s]):null,uc(4,4,mv.bind(null,a,s),l)}function dm(){}function yv(s,a){var l=Pe();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&em(a,u[1])?u[0]:(l.memoizedState=[s,a],s)}function _v(s,a){var l=Pe();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&em(a,u[1]))return u[0];if(u=s(),xa){On(!0);try{s()}finally{On(!1)}}return l.memoizedState=[u,a],u}function fm(s,a,l){return l===void 0||(nr&1073741824)!==0?s.memoizedState=a:(s.memoizedState=l,s=wb(),At.lanes|=s,cr|=s,l)}function vv(s,a,l,u){return In(l,a)?l:Ro.current!==null?(s=fm(s,l,u),In(s,a)||($e=!0),s):(nr&42)===0?($e=!0,s.memoizedState=l):(s=wb(),At.lanes|=s,cr|=s,a)}function bv(s,a,l,u,m){var p=V.p;V.p=p!==0&&8>p?p:8;var S=G.T,C={};G.T=C,pm(s,!1,a,l);try{var j=m(),Y=G.S;if(Y!==null&&Y(C,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var nt=RC(j,u);hc(s,a,nt,zn(s))}else hc(s,a,u,zn(s))}catch(at){hc(s,a,{then:function(){},status:"rejected",reason:at},zn())}finally{V.p=p,G.T=S}}function jC(){}function gm(s,a,l,u){if(s.tag!==5)throw Error(i(476));var m=xv(s).queue;bv(s,m,a,lt,l===null?jC:function(){return wv(s),l(u)})}function xv(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:lt},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function wv(s){var a=xv(s).next.queue;hc(s,a,{},zn())}function mm(){return hn(kc)}function Sv(){return Pe().memoizedState}function Ev(){return Pe().memoizedState}function LC(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=zn();s=tr(l);var u=er(a,s,l);u!==null&&(Bn(u,a,l),rc(u,a,l)),a={cache:Wg()},s.payload=a;return}a=a.return}}function PC(s,a,l){var u=zn();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Fh(s)?Cv(a,l):(l=jg(s,a,l,u),l!==null&&(Bn(l,s,u),Av(l,a,u)))}function Tv(s,a,l){var u=zn();hc(s,a,l,u)}function hc(s,a,l,u){var m={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Fh(s))Cv(a,m);else{var p=s.alternate;if(s.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var S=a.lastRenderedState,C=p(S,l);if(m.hasEagerState=!0,m.eagerState=C,In(C,S))return Th(s,a,m,0),he===null&&Eh(),!1}catch{}finally{}if(l=jg(s,a,m,u),l!==null)return Bn(l,s,u),Av(l,a,u),!0}return!1}function pm(s,a,l,u){if(u={lane:2,revertLane:$m(),action:u,hasEagerState:!1,eagerState:null,next:null},Fh(s)){if(a)throw Error(i(479))}else a=jg(s,l,u,2),a!==null&&Bn(a,s,2)}function Fh(s){var a=s.alternate;return s===At||a!==null&&a===At}function Cv(s,a){Mo=Lh=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function Av(s,a,l){if((l&4194048)!==0){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,Il(s,l)}}var Vh={readContext:hn,use:Uh,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useLayoutEffect:Me,useInsertionEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useSyncExternalStore:Me,useId:Me,useHostTransitionStatus:Me,useFormState:Me,useActionState:Me,useOptimistic:Me,useMemoCache:Me,useCacheRefresh:Me},Nv={readContext:hn,use:Uh,useCallback:function(s,a){return Sn().memoizedState=[s,a===void 0?null:a],s},useContext:hn,useEffect:hv,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,Hh(4194308,4,mv.bind(null,a,s),l)},useLayoutEffect:function(s,a){return Hh(4194308,4,s,a)},useInsertionEffect:function(s,a){Hh(4,2,s,a)},useMemo:function(s,a){var l=Sn();a=a===void 0?null:a;var u=s();if(xa){On(!0);try{s()}finally{On(!1)}}return l.memoizedState=[u,a],u},useReducer:function(s,a,l){var u=Sn();if(l!==void 0){var m=l(a);if(xa){On(!0);try{l(a)}finally{On(!1)}}}else m=a;return u.memoizedState=u.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},u.queue=s,s=s.dispatch=PC.bind(null,At,s),[u.memoizedState,s]},useRef:function(s){var a=Sn();return s={current:s},a.memoizedState=s},useState:function(s){s=um(s);var a=s.queue,l=Tv.bind(null,At,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:dm,useDeferredValue:function(s,a){var l=Sn();return fm(l,s,a)},useTransition:function(){var s=um(!1);return s=bv.bind(null,At,s.queue,!0,!1),Sn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var u=At,m=Sn();if(Ft){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),he===null)throw Error(i(349));(Lt&124)!==0||X_(u,a,l)}m.memoizedState=l;var p={value:l,getSnapshot:a};return m.queue=p,hv(K_.bind(null,u,p,s),[s]),u.flags|=2048,Do(9,Bh(),Q_.bind(null,u,p,l,a),null),l},useId:function(){var s=Sn(),a=he.identifierPrefix;if(Ft){var l=fs,u=ds;l=(u&~(1<<32-un(u)-1)).toString(32)+l,a=""+a+"R"+l,l=Ph++,0<l&&(a+="H"+l.toString(32)),a+=""}else l=MC++,a=""+a+"r"+l.toString(32)+"";return s.memoizedState=a},useHostTransitionStatus:mm,useFormState:av,useActionState:av,useOptimistic:function(s){var a=Sn();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=pm.bind(null,At,!0,l),l.dispatch=a,[s,a]},useMemoCache:om,useCacheRefresh:function(){return Sn().memoizedState=LC.bind(null,At)}},kv={readContext:hn,use:Uh,useCallback:yv,useContext:hn,useEffect:dv,useImperativeHandle:pv,useInsertionEffect:fv,useLayoutEffect:gv,useMemo:_v,useReducer:zh,useRef:uv,useState:function(){return zh(ps)},useDebugValue:dm,useDeferredValue:function(s,a){var l=Pe();return vv(l,ae.memoizedState,s,a)},useTransition:function(){var s=zh(ps)[0],a=Pe().memoizedState;return[typeof s=="boolean"?s:cc(s),a]},useSyncExternalStore:$_,useId:Sv,useHostTransitionStatus:mm,useFormState:ov,useActionState:ov,useOptimistic:function(s,a){var l=Pe();return tv(l,ae,s,a)},useMemoCache:om,useCacheRefresh:Ev},UC={readContext:hn,use:Uh,useCallback:yv,useContext:hn,useEffect:dv,useImperativeHandle:pv,useInsertionEffect:fv,useLayoutEffect:gv,useMemo:_v,useReducer:cm,useRef:uv,useState:function(){return cm(ps)},useDebugValue:dm,useDeferredValue:function(s,a){var l=Pe();return ae===null?fm(l,s,a):vv(l,ae.memoizedState,s,a)},useTransition:function(){var s=cm(ps)[0],a=Pe().memoizedState;return[typeof s=="boolean"?s:cc(s),a]},useSyncExternalStore:$_,useId:Sv,useHostTransitionStatus:mm,useFormState:cv,useActionState:cv,useOptimistic:function(s,a){var l=Pe();return ae!==null?tv(l,ae,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:om,useCacheRefresh:Ev},Io=null,dc=0;function qh(s){var a=dc;return dc+=1,Io===null&&(Io=[]),B_(Io,s,a)}function fc(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function Wh(s,a){throw a.$$typeof===b?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function Rv(s){var a=s._init;return a(s._payload)}function Mv(s){function a(F,H){if(s){var W=F.deletions;W===null?(F.deletions=[H],F.flags|=16):W.push(H)}}function l(F,H){if(!s)return null;for(;H!==null;)a(F,H),H=H.sibling;return null}function u(F){for(var H=new Map;F!==null;)F.key!==null?H.set(F.key,F):H.set(F.index,F),F=F.sibling;return H}function m(F,H){return F=hs(F,H),F.index=0,F.sibling=null,F}function p(F,H,W){return F.index=W,s?(W=F.alternate,W!==null?(W=W.index,W<H?(F.flags|=67108866,H):W):(F.flags|=67108866,H)):(F.flags|=1048576,H)}function S(F){return s&&F.alternate===null&&(F.flags|=67108866),F}function C(F,H,W,st){return H===null||H.tag!==6?(H=Pg(W,F.mode,st),H.return=F,H):(H=m(H,W),H.return=F,H)}function j(F,H,W,st){var ft=W.type;return ft===N?nt(F,H,W.props.children,st,W.key):H!==null&&(H.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===T&&Rv(ft)===H.type)?(H=m(H,W.props),fc(H,W),H.return=F,H):(H=Ah(W.type,W.key,W.props,null,F.mode,st),fc(H,W),H.return=F,H)}function Y(F,H,W,st){return H===null||H.tag!==4||H.stateNode.containerInfo!==W.containerInfo||H.stateNode.implementation!==W.implementation?(H=Ug(W,F.mode,st),H.return=F,H):(H=m(H,W.children||[]),H.return=F,H)}function nt(F,H,W,st,ft){return H===null||H.tag!==7?(H=fa(W,F.mode,st,ft),H.return=F,H):(H=m(H,W),H.return=F,H)}function at(F,H,W){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Pg(""+H,F.mode,W),H.return=F,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case x:return W=Ah(H.type,H.key,H.props,null,F.mode,W),fc(W,H),W.return=F,W;case E:return H=Ug(H,F.mode,W),H.return=F,H;case T:var st=H._init;return H=st(H._payload),at(F,H,W)}if(mt(H)||z(H))return H=fa(H,F.mode,W,null),H.return=F,H;if(typeof H.then=="function")return at(F,qh(H),W);if(H.$$typeof===Q)return at(F,Mh(F,H),W);Wh(F,H)}return null}function X(F,H,W,st){var ft=H!==null?H.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return ft!==null?null:C(F,H,""+W,st);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case x:return W.key===ft?j(F,H,W,st):null;case E:return W.key===ft?Y(F,H,W,st):null;case T:return ft=W._init,W=ft(W._payload),X(F,H,W,st)}if(mt(W)||z(W))return ft!==null?null:nt(F,H,W,st,null);if(typeof W.then=="function")return X(F,H,qh(W),st);if(W.$$typeof===Q)return X(F,H,Mh(F,W),st);Wh(F,W)}return null}function K(F,H,W,st,ft){if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return F=F.get(W)||null,C(H,F,""+st,ft);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case x:return F=F.get(st.key===null?W:st.key)||null,j(H,F,st,ft);case E:return F=F.get(st.key===null?W:st.key)||null,Y(H,F,st,ft);case T:var Nt=st._init;return st=Nt(st._payload),K(F,H,W,st,ft)}if(mt(st)||z(st))return F=F.get(W)||null,nt(H,F,st,ft,null);if(typeof st.then=="function")return K(F,H,W,qh(st),ft);if(st.$$typeof===Q)return K(F,H,W,Mh(H,st),ft);Wh(H,st)}return null}function xt(F,H,W,st){for(var ft=null,Nt=null,pt=H,vt=H=0,Qe=null;pt!==null&&vt<W.length;vt++){pt.index>vt?(Qe=pt,pt=null):Qe=pt.sibling;var Ht=X(F,pt,W[vt],st);if(Ht===null){pt===null&&(pt=Qe);break}s&&pt&&Ht.alternate===null&&a(F,pt),H=p(Ht,H,vt),Nt===null?ft=Ht:Nt.sibling=Ht,Nt=Ht,pt=Qe}if(vt===W.length)return l(F,pt),Ft&&ma(F,vt),ft;if(pt===null){for(;vt<W.length;vt++)pt=at(F,W[vt],st),pt!==null&&(H=p(pt,H,vt),Nt===null?ft=pt:Nt.sibling=pt,Nt=pt);return Ft&&ma(F,vt),ft}for(pt=u(pt);vt<W.length;vt++)Qe=K(pt,F,vt,W[vt],st),Qe!==null&&(s&&Qe.alternate!==null&&pt.delete(Qe.key===null?vt:Qe.key),H=p(Qe,H,vt),Nt===null?ft=Qe:Nt.sibling=Qe,Nt=Qe);return s&&pt.forEach(function(_r){return a(F,_r)}),Ft&&ma(F,vt),ft}function _t(F,H,W,st){if(W==null)throw Error(i(151));for(var ft=null,Nt=null,pt=H,vt=H=0,Qe=null,Ht=W.next();pt!==null&&!Ht.done;vt++,Ht=W.next()){pt.index>vt?(Qe=pt,pt=null):Qe=pt.sibling;var _r=X(F,pt,Ht.value,st);if(_r===null){pt===null&&(pt=Qe);break}s&&pt&&_r.alternate===null&&a(F,pt),H=p(_r,H,vt),Nt===null?ft=_r:Nt.sibling=_r,Nt=_r,pt=Qe}if(Ht.done)return l(F,pt),Ft&&ma(F,vt),ft;if(pt===null){for(;!Ht.done;vt++,Ht=W.next())Ht=at(F,Ht.value,st),Ht!==null&&(H=p(Ht,H,vt),Nt===null?ft=Ht:Nt.sibling=Ht,Nt=Ht);return Ft&&ma(F,vt),ft}for(pt=u(pt);!Ht.done;vt++,Ht=W.next())Ht=K(pt,F,vt,Ht.value,st),Ht!==null&&(s&&Ht.alternate!==null&&pt.delete(Ht.key===null?vt:Ht.key),H=p(Ht,H,vt),Nt===null?ft=Ht:Nt.sibling=Ht,Nt=Ht);return s&&pt.forEach(function(zA){return a(F,zA)}),Ft&&ma(F,vt),ft}function le(F,H,W,st){if(typeof W=="object"&&W!==null&&W.type===N&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case x:t:{for(var ft=W.key;H!==null;){if(H.key===ft){if(ft=W.type,ft===N){if(H.tag===7){l(F,H.sibling),st=m(H,W.props.children),st.return=F,F=st;break t}}else if(H.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===T&&Rv(ft)===H.type){l(F,H.sibling),st=m(H,W.props),fc(st,W),st.return=F,F=st;break t}l(F,H);break}else a(F,H);H=H.sibling}W.type===N?(st=fa(W.props.children,F.mode,st,W.key),st.return=F,F=st):(st=Ah(W.type,W.key,W.props,null,F.mode,st),fc(st,W),st.return=F,F=st)}return S(F);case E:t:{for(ft=W.key;H!==null;){if(H.key===ft)if(H.tag===4&&H.stateNode.containerInfo===W.containerInfo&&H.stateNode.implementation===W.implementation){l(F,H.sibling),st=m(H,W.children||[]),st.return=F,F=st;break t}else{l(F,H);break}else a(F,H);H=H.sibling}st=Ug(W,F.mode,st),st.return=F,F=st}return S(F);case T:return ft=W._init,W=ft(W._payload),le(F,H,W,st)}if(mt(W))return xt(F,H,W,st);if(z(W)){if(ft=z(W),typeof ft!="function")throw Error(i(150));return W=ft.call(W),_t(F,H,W,st)}if(typeof W.then=="function")return le(F,H,qh(W),st);if(W.$$typeof===Q)return le(F,H,Mh(F,W),st);Wh(F,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,H!==null&&H.tag===6?(l(F,H.sibling),st=m(H,W),st.return=F,F=st):(l(F,H),st=Pg(W,F.mode,st),st.return=F,F=st),S(F)):l(F,H)}return function(F,H,W,st){try{dc=0;var ft=le(F,H,W,st);return Io=null,ft}catch(pt){if(pt===ic||pt===Dh)throw pt;var Nt=jn(29,pt,null,F.mode);return Nt.lanes=st,Nt.return=F,Nt}finally{}}}var jo=Mv(!0),Ov=Mv(!1),Kn=it(null),Ii=null;function ir(s){var a=s.alternate;rt(Ve,Ve.current&1),rt(Kn,s),Ii===null&&(a===null||Ro.current!==null||a.memoizedState!==null)&&(Ii=s)}function Dv(s){if(s.tag===22){if(rt(Ve,Ve.current),rt(Kn,s),Ii===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(Ii=s)}}else sr()}function sr(){rt(Ve,Ve.current),rt(Kn,Kn.current)}function ys(s){ct(Kn),Ii===s&&(Ii=null),ct(Ve)}var Ve=it(0);function Yh(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||ap(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function ym(s,a,l,u){a=s.memoizedState,l=l(u,a),l=l==null?a:_({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var _m={enqueueSetState:function(s,a,l){s=s._reactInternals;var u=zn(),m=tr(u);m.payload=a,l!=null&&(m.callback=l),a=er(s,m,u),a!==null&&(Bn(a,s,u),rc(a,s,u))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var u=zn(),m=tr(u);m.tag=1,m.payload=a,l!=null&&(m.callback=l),a=er(s,m,u),a!==null&&(Bn(a,s,u),rc(a,s,u))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=zn(),u=tr(l);u.tag=2,a!=null&&(u.callback=a),a=er(s,u,l),a!==null&&(Bn(a,s,l),rc(a,s,l))}};function Iv(s,a,l,u,m,p,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,p,S):a.prototype&&a.prototype.isPureReactComponent?!Xl(l,u)||!Xl(m,p):!0}function jv(s,a,l,u){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==s&&_m.enqueueReplaceState(a,a.state,null)}function wa(s,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(s=s.defaultProps){l===a&&(l=_({},l));for(var m in s)l[m]===void 0&&(l[m]=s[m])}return l}var Gh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function Lv(s){Gh(s)}function Pv(s){console.error(s)}function Uv(s){Gh(s)}function $h(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function zv(s,a,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function vm(s,a,l){return l=tr(l),l.tag=3,l.payload={element:null},l.callback=function(){$h(s,a)},l}function Bv(s){return s=tr(s),s.tag=3,s}function Hv(s,a,l,u){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var p=u.value;s.payload=function(){return m(p)},s.callback=function(){zv(a,l,u)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(s.callback=function(){zv(a,l,u),typeof m!="function"&&(ur===null?ur=new Set([this]):ur.add(this));var C=u.stack;this.componentDidCatch(u.value,{componentStack:C!==null?C:""})})}function zC(s,a,l,u,m){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&tc(a,l,m,!0),l=Kn.current,l!==null){switch(l.tag){case 13:return Ii===null?Vm():l.alternate===null&&Ne===0&&(Ne=3),l.flags&=-257,l.flags|=65536,l.lanes=m,u===$g?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),Wm(s,u,m)),!1;case 22:return l.flags|=65536,u===$g?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),Wm(s,u,m)),!1}throw Error(i(435,l.tag))}return Wm(s,u,m),Vm(),!1}if(Ft)return a=Kn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,u!==Hg&&(s=Error(i(422),{cause:u}),Jl(Gn(s,l)))):(u!==Hg&&(a=Error(i(423),{cause:u}),Jl(Gn(a,l))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,u=Gn(u,l),m=vm(s.stateNode,u,m),Kg(s,m),Ne!==4&&(Ne=2)),!1;var p=Error(i(520),{cause:u});if(p=Gn(p,l),bc===null?bc=[p]:bc.push(p),Ne!==4&&(Ne=2),a===null)return!0;u=Gn(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=m&-m,l.lanes|=s,s=vm(l.stateNode,u,s),Kg(l,s),!1;case 1:if(a=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ur===null||!ur.has(p))))return l.flags|=65536,m&=-m,l.lanes|=m,m=Bv(m),Hv(m,s,l,u),Kg(l,m),!1}l=l.return}while(l!==null);return!1}var Fv=Error(i(461)),$e=!1;function rn(s,a,l,u){a.child=s===null?Ov(a,null,l,u):jo(a,s.child,l,u)}function Vv(s,a,l,u,m){l=l.render;var p=a.ref;if("ref"in u){var S={};for(var C in u)C!=="ref"&&(S[C]=u[C])}else S=u;return va(a),u=nm(s,a,l,S,p,m),C=im(),s!==null&&!$e?(sm(s,a,m),_s(s,a,m)):(Ft&&C&&zg(a),a.flags|=1,rn(s,a,u,m),a.child)}function qv(s,a,l,u,m){if(s===null){var p=l.type;return typeof p=="function"&&!Lg(p)&&p.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=p,Wv(s,a,p,u,m)):(s=Ah(l.type,null,u,a,a.mode,m),s.ref=a.ref,s.return=a,a.child=s)}if(p=s.child,!Am(s,m)){var S=p.memoizedProps;if(l=l.compare,l=l!==null?l:Xl,l(S,u)&&s.ref===a.ref)return _s(s,a,m)}return a.flags|=1,s=hs(p,u),s.ref=a.ref,s.return=a,a.child=s}function Wv(s,a,l,u,m){if(s!==null){var p=s.memoizedProps;if(Xl(p,u)&&s.ref===a.ref)if($e=!1,a.pendingProps=u=p,Am(s,m))(s.flags&131072)!==0&&($e=!0);else return a.lanes=s.lanes,_s(s,a,m)}return bm(s,a,l,u,m)}function Yv(s,a,l){var u=a.pendingProps,m=u.children,p=s!==null?s.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=p!==null?p.baseLanes|l:l,s!==null){for(m=a.child=s.child,p=0;m!==null;)p=p|m.lanes|m.childLanes,m=m.sibling;a.childLanes=p&~u}else a.childLanes=0,a.child=null;return Gv(s,a,u,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Oh(a,p!==null?p.cachePool:null),p!==null?W_(a,p):Jg(),Dv(a);else return a.lanes=a.childLanes=536870912,Gv(s,a,p!==null?p.baseLanes|l:l,l)}else p!==null?(Oh(a,p.cachePool),W_(a,p),sr(),a.memoizedState=null):(s!==null&&Oh(a,null),Jg(),sr());return rn(s,a,m,l),a.child}function Gv(s,a,l,u){var m=Gg();return m=m===null?null:{parent:Fe._currentValue,pool:m},a.memoizedState={baseLanes:l,cachePool:m},s!==null&&Oh(a,null),Jg(),Dv(a),s!==null&&tc(s,a,u,!0),null}function Xh(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function bm(s,a,l,u,m){return va(a),l=nm(s,a,l,u,void 0,m),u=im(),s!==null&&!$e?(sm(s,a,m),_s(s,a,m)):(Ft&&u&&zg(a),a.flags|=1,rn(s,a,l,m),a.child)}function $v(s,a,l,u,m,p){return va(a),a.updateQueue=null,l=G_(a,u,l,m),Y_(s),u=im(),s!==null&&!$e?(sm(s,a,p),_s(s,a,p)):(Ft&&u&&zg(a),a.flags|=1,rn(s,a,l,p),a.child)}function Xv(s,a,l,u,m){if(va(a),a.stateNode===null){var p=To,S=l.contextType;typeof S=="object"&&S!==null&&(p=hn(S)),p=new l(u,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=_m,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=u,p.state=a.memoizedState,p.refs={},Xg(a),S=l.contextType,p.context=typeof S=="object"&&S!==null?hn(S):To,p.state=a.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(ym(a,l,S,u),p.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(S=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),S!==p.state&&_m.enqueueReplaceState(p,p.state,null),oc(a,u,p,m),ac(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(s===null){p=a.stateNode;var C=a.memoizedProps,j=wa(l,C);p.props=j;var Y=p.context,nt=l.contextType;S=To,typeof nt=="object"&&nt!==null&&(S=hn(nt));var at=l.getDerivedStateFromProps;nt=typeof at=="function"||typeof p.getSnapshotBeforeUpdate=="function",C=a.pendingProps!==C,nt||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(C||Y!==S)&&jv(a,p,u,S),Js=!1;var X=a.memoizedState;p.state=X,oc(a,u,p,m),ac(),Y=a.memoizedState,C||X!==Y||Js?(typeof at=="function"&&(ym(a,l,at,u),Y=a.memoizedState),(j=Js||Iv(a,l,j,u,X,Y,S))?(nt||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=Y),p.props=u,p.state=Y,p.context=S,u=j):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{p=a.stateNode,Qg(s,a),S=a.memoizedProps,nt=wa(l,S),p.props=nt,at=a.pendingProps,X=p.context,Y=l.contextType,j=To,typeof Y=="object"&&Y!==null&&(j=hn(Y)),C=l.getDerivedStateFromProps,(Y=typeof C=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S!==at||X!==j)&&jv(a,p,u,j),Js=!1,X=a.memoizedState,p.state=X,oc(a,u,p,m),ac();var K=a.memoizedState;S!==at||X!==K||Js||s!==null&&s.dependencies!==null&&Rh(s.dependencies)?(typeof C=="function"&&(ym(a,l,C,u),K=a.memoizedState),(nt=Js||Iv(a,l,nt,u,X,K,j)||s!==null&&s.dependencies!==null&&Rh(s.dependencies))?(Y||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,K,j),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,K,j)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||S===s.memoizedProps&&X===s.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===s.memoizedProps&&X===s.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=K),p.props=u,p.state=K,p.context=j,u=nt):(typeof p.componentDidUpdate!="function"||S===s.memoizedProps&&X===s.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===s.memoizedProps&&X===s.memoizedState||(a.flags|=1024),u=!1)}return p=u,Xh(s,a),u=(a.flags&128)!==0,p||u?(p=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,s!==null&&u?(a.child=jo(a,s.child,null,m),a.child=jo(a,null,l,m)):rn(s,a,l,m),a.memoizedState=p.state,s=a.child):s=_s(s,a,m),s}function Qv(s,a,l,u){return Zl(),a.flags|=256,rn(s,a,l,u),a.child}var xm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wm(s){return{baseLanes:s,cachePool:P_()}}function Sm(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=Zn),s}function Kv(s,a,l){var u=a.pendingProps,m=!1,p=(a.flags&128)!==0,S;if((S=p)||(S=s!==null&&s.memoizedState===null?!1:(Ve.current&2)!==0),S&&(m=!0,a.flags&=-129),S=(a.flags&32)!==0,a.flags&=-33,s===null){if(Ft){if(m?ir(a):sr(),Ft){var C=Ae,j;if(j=C){t:{for(j=C,C=Di;j.nodeType!==8;){if(!C){C=null;break t}if(j=hi(j.nextSibling),j===null){C=null;break t}}C=j}C!==null?(a.memoizedState={dehydrated:C,treeContext:ga!==null?{id:ds,overflow:fs}:null,retryLane:536870912,hydrationErrors:null},j=jn(18,null,null,0),j.stateNode=C,j.return=a,a.child=j,yn=a,Ae=null,j=!0):j=!1}j||ya(a)}if(C=a.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return ap(C)?a.lanes=32:a.lanes=536870912,null;ys(a)}return C=u.children,u=u.fallback,m?(sr(),m=a.mode,C=Qh({mode:"hidden",children:C},m),u=fa(u,m,l,null),C.return=a,u.return=a,C.sibling=u,a.child=C,m=a.child,m.memoizedState=wm(l),m.childLanes=Sm(s,S,l),a.memoizedState=xm,u):(ir(a),Em(a,C))}if(j=s.memoizedState,j!==null&&(C=j.dehydrated,C!==null)){if(p)a.flags&256?(ir(a),a.flags&=-257,a=Tm(s,a,l)):a.memoizedState!==null?(sr(),a.child=s.child,a.flags|=128,a=null):(sr(),m=u.fallback,C=a.mode,u=Qh({mode:"visible",children:u.children},C),m=fa(m,C,l,null),m.flags|=2,u.return=a,m.return=a,u.sibling=m,a.child=u,jo(a,s.child,null,l),u=a.child,u.memoizedState=wm(l),u.childLanes=Sm(s,S,l),a.memoizedState=xm,a=m);else if(ir(a),ap(C)){if(S=C.nextSibling&&C.nextSibling.dataset,S)var Y=S.dgst;S=Y,u=Error(i(419)),u.stack="",u.digest=S,Jl({value:u,source:null,stack:null}),a=Tm(s,a,l)}else if($e||tc(s,a,l,!1),S=(l&s.childLanes)!==0,$e||S){if(S=he,S!==null&&(u=l&-l,u=(u&42)!==0?1:Xr(u),u=(u&(S.suspendedLanes|l))!==0?0:u,u!==0&&u!==j.retryLane))throw j.retryLane=u,Eo(s,u),Bn(S,s,u),Fv;C.data==="$?"||Vm(),a=Tm(s,a,l)}else C.data==="$?"?(a.flags|=192,a.child=s.child,a=null):(s=j.treeContext,Ae=hi(C.nextSibling),yn=a,Ft=!0,pa=null,Di=!1,s!==null&&(Xn[Qn++]=ds,Xn[Qn++]=fs,Xn[Qn++]=ga,ds=s.id,fs=s.overflow,ga=a),a=Em(a,u.children),a.flags|=4096);return a}return m?(sr(),m=u.fallback,C=a.mode,j=s.child,Y=j.sibling,u=hs(j,{mode:"hidden",children:u.children}),u.subtreeFlags=j.subtreeFlags&65011712,Y!==null?m=hs(Y,m):(m=fa(m,C,l,null),m.flags|=2),m.return=a,u.return=a,u.sibling=m,a.child=u,u=m,m=a.child,C=s.child.memoizedState,C===null?C=wm(l):(j=C.cachePool,j!==null?(Y=Fe._currentValue,j=j.parent!==Y?{parent:Y,pool:Y}:j):j=P_(),C={baseLanes:C.baseLanes|l,cachePool:j}),m.memoizedState=C,m.childLanes=Sm(s,S,l),a.memoizedState=xm,u):(ir(a),l=s.child,s=l.sibling,l=hs(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,s!==null&&(S=a.deletions,S===null?(a.deletions=[s],a.flags|=16):S.push(s)),a.child=l,a.memoizedState=null,l)}function Em(s,a){return a=Qh({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function Qh(s,a){return s=jn(22,s,null,a),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Tm(s,a,l){return jo(a,s.child,null,l),s=Em(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function Zv(s,a,l){s.lanes|=a;var u=s.alternate;u!==null&&(u.lanes|=a),Vg(s.return,a,l)}function Cm(s,a,l,u,m){var p=s.memoizedState;p===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:m}:(p.isBackwards=a,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=l,p.tailMode=m)}function Jv(s,a,l){var u=a.pendingProps,m=u.revealOrder,p=u.tail;if(rn(s,a,u.children,l),u=Ve.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Zv(s,l,a);else if(s.tag===19)Zv(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}u&=1}switch(rt(Ve,u),m){case"forwards":for(l=a.child,m=null;l!==null;)s=l.alternate,s!==null&&Yh(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=a.child,a.child=null):(m=l.sibling,l.sibling=null),Cm(a,!1,m,l,p);break;case"backwards":for(l=null,m=a.child,a.child=null;m!==null;){if(s=m.alternate,s!==null&&Yh(s)===null){a.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}Cm(a,!0,l,null,p);break;case"together":Cm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function _s(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),cr|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(tc(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,l=hs(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=hs(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function Am(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&Rh(s)))}function BC(s,a,l){switch(a.tag){case 3:Et(a,a.stateNode.containerInfo),Zs(a,Fe,s.memoizedState.cache),Zl();break;case 27:case 5:Yt(a);break;case 4:Et(a,a.stateNode.containerInfo);break;case 10:Zs(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(ir(a),a.flags|=128,null):(l&a.child.childLanes)!==0?Kv(s,a,l):(ir(a),s=_s(s,a,l),s!==null?s.sibling:null);ir(a);break;case 19:var m=(s.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(tc(s,a,l,!1),u=(l&a.childLanes)!==0),m){if(u)return Jv(s,a,l);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),rt(Ve,Ve.current),u)break;return null;case 22:case 23:return a.lanes=0,Yv(s,a,l);case 24:Zs(a,Fe,s.memoizedState.cache)}return _s(s,a,l)}function tb(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)$e=!0;else{if(!Am(s,l)&&(a.flags&128)===0)return $e=!1,BC(s,a,l);$e=(s.flags&131072)!==0}else $e=!1,Ft&&(a.flags&1048576)!==0&&R_(a,kh,a.index);switch(a.lanes=0,a.tag){case 16:t:{s=a.pendingProps;var u=a.elementType,m=u._init;if(u=m(u._payload),a.type=u,typeof u=="function")Lg(u)?(s=wa(u,s),a.tag=1,a=Xv(null,a,u,s,l)):(a.tag=0,a=bm(null,a,u,s,l));else{if(u!=null){if(m=u.$$typeof,m===tt){a.tag=11,a=Vv(null,a,u,s,l);break t}else if(m===O){a.tag=14,a=qv(null,a,u,s,l);break t}}throw a=Tt(u)||u,Error(i(306,a,""))}}return a;case 0:return bm(s,a,a.type,a.pendingProps,l);case 1:return u=a.type,m=wa(u,a.pendingProps),Xv(s,a,u,m,l);case 3:t:{if(Et(a,a.stateNode.containerInfo),s===null)throw Error(i(387));u=a.pendingProps;var p=a.memoizedState;m=p.element,Qg(s,a),oc(a,u,null,l);var S=a.memoizedState;if(u=S.cache,Zs(a,Fe,u),u!==p.cache&&qg(a,[Fe],l,!0),ac(),u=S.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:S.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=Qv(s,a,u,l);break t}else if(u!==m){m=Gn(Error(i(424)),a),Jl(m),a=Qv(s,a,u,l);break t}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Ae=hi(s.firstChild),yn=a,Ft=!0,pa=null,Di=!0,l=Ov(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Zl(),u===m){a=_s(s,a,l);break t}rn(s,a,u,l)}a=a.child}return a;case 26:return Xh(s,a),s===null?(l=rx(a.type,null,a.pendingProps,null))?a.memoizedState=l:Ft||(l=a.type,s=a.pendingProps,u=ud(et.current).createElement(l),u[He]=a,u[Ie]=s,on(u,l,s),Re(u),a.stateNode=u):a.memoizedState=rx(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Yt(a),s===null&&Ft&&(u=a.stateNode=nx(a.type,a.pendingProps,et.current),yn=a,Di=!0,m=Ae,fr(a.type)?(op=m,Ae=hi(u.firstChild)):Ae=m),rn(s,a,a.pendingProps.children,l),Xh(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Ft&&((m=u=Ae)&&(u=gA(u,a.type,a.pendingProps,Di),u!==null?(a.stateNode=u,yn=a,Ae=hi(u.firstChild),Di=!1,m=!0):m=!1),m||ya(a)),Yt(a),m=a.type,p=a.pendingProps,S=s!==null?s.memoizedProps:null,u=p.children,ip(m,p)?u=null:S!==null&&ip(m,S)&&(a.flags|=32),a.memoizedState!==null&&(m=nm(s,a,OC,null,null,l),kc._currentValue=m),Xh(s,a),rn(s,a,u,l),a.child;case 6:return s===null&&Ft&&((s=l=Ae)&&(l=mA(l,a.pendingProps,Di),l!==null?(a.stateNode=l,yn=a,Ae=null,s=!0):s=!1),s||ya(a)),null;case 13:return Kv(s,a,l);case 4:return Et(a,a.stateNode.containerInfo),u=a.pendingProps,s===null?a.child=jo(a,null,u,l):rn(s,a,u,l),a.child;case 11:return Vv(s,a,a.type,a.pendingProps,l);case 7:return rn(s,a,a.pendingProps,l),a.child;case 8:return rn(s,a,a.pendingProps.children,l),a.child;case 12:return rn(s,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,Zs(a,a.type,u.value),rn(s,a,u.children,l),a.child;case 9:return m=a.type._context,u=a.pendingProps.children,va(a),m=hn(m),u=u(m),a.flags|=1,rn(s,a,u,l),a.child;case 14:return qv(s,a,a.type,a.pendingProps,l);case 15:return Wv(s,a,a.type,a.pendingProps,l);case 19:return Jv(s,a,l);case 31:return u=a.pendingProps,l=a.mode,u={mode:u.mode,children:u.children},s===null?(l=Qh(u,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=hs(s.child,u),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return Yv(s,a,l);case 24:return va(a),u=hn(Fe),s===null?(m=Gg(),m===null&&(m=he,p=Wg(),m.pooledCache=p,p.refCount++,p!==null&&(m.pooledCacheLanes|=l),m=p),a.memoizedState={parent:u,cache:m},Xg(a),Zs(a,Fe,m)):((s.lanes&l)!==0&&(Qg(s,a),oc(a,null,null,l),ac()),m=s.memoizedState,p=a.memoizedState,m.parent!==u?(m={parent:u,cache:u},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),Zs(a,Fe,u)):(u=p.cache,Zs(a,Fe,u),u!==m.cache&&qg(a,[Fe],l,!0))),rn(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function vs(s){s.flags|=4}function eb(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!ux(a)){if(a=Kn.current,a!==null&&((Lt&4194048)===Lt?Ii!==null:(Lt&62914560)!==Lt&&(Lt&536870912)===0||a!==Ii))throw sc=$g,U_;s.flags|=8192}}function Kh(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?eh():536870912,s.lanes|=a,zo|=a)}function gc(s,a){if(!Ft)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function ve(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(a)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=u,s.childLanes=l,a}function HC(s,a,l){var u=a.pendingProps;switch(Bg(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ve(a),null;case 1:return ve(a),null;case 3:return l=a.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),ms(Fe),Te(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Kl(a)?vs(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,D_())),ve(a),null;case 26:return l=a.memoizedState,s===null?(vs(a),l!==null?(ve(a),eb(a,l)):(ve(a),a.flags&=-16777217)):l?l!==s.memoizedState?(vs(a),ve(a),eb(a,l)):(ve(a),a.flags&=-16777217):(s.memoizedProps!==u&&vs(a),ve(a),a.flags&=-16777217),null;case 27:me(a),l=et.current;var m=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==u&&vs(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return ve(a),null}s=dt.current,Kl(a)?M_(a):(s=nx(m,u,l),a.stateNode=s,vs(a))}return ve(a),null;case 5:if(me(a),l=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&vs(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return ve(a),null}if(s=dt.current,Kl(a))M_(a);else{switch(m=ud(et.current),s){case 1:s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=m.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof u.is=="string"?m.createElement("select",{is:u.is}):m.createElement("select"),u.multiple?s.multiple=!0:u.size&&(s.size=u.size);break;default:s=typeof u.is=="string"?m.createElement(l,{is:u.is}):m.createElement(l)}}s[He]=a,s[Ie]=u;t:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)s.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break t;for(;m.sibling===null;){if(m.return===null||m.return===a)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=s;t:switch(on(s,l,u),l){case"button":case"input":case"select":case"textarea":s=!!u.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&vs(a)}}return ve(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==u&&vs(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(s=et.current,Kl(a)){if(s=a.stateNode,l=a.memoizedProps,u=null,m=yn,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}s[He]=a,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||Xb(s.nodeValue,l)),s||ya(a)}else s=ud(s).createTextNode(u),s[He]=a,a.stateNode=s}return ve(a),null;case 13:if(u=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=Kl(a),u!==null&&u.dehydrated!==null){if(s===null){if(!m)throw Error(i(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[He]=a}else Zl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ve(a),m=!1}else m=D_(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(ys(a),a):(ys(a),null)}if(ys(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=u!==null,s=s!==null&&s.memoizedState!==null,l){u=a.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==m&&(u.flags|=2048)}return l!==s&&l&&(a.child.flags|=8192),Kh(a,a.updateQueue),ve(a),null;case 4:return Te(),s===null&&Zm(a.stateNode.containerInfo),ve(a),null;case 10:return ms(a.type),ve(a),null;case 19:if(ct(Ve),m=a.memoizedState,m===null)return ve(a),null;if(u=(a.flags&128)!==0,p=m.rendering,p===null)if(u)gc(m,!1);else{if(Ne!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(p=Yh(s),p!==null){for(a.flags|=128,gc(m,!1),s=p.updateQueue,a.updateQueue=s,Kh(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)k_(l,s),l=l.sibling;return rt(Ve,Ve.current&1|2),a.child}s=s.sibling}m.tail!==null&&Hn()>td&&(a.flags|=128,u=!0,gc(m,!1),a.lanes=4194304)}else{if(!u)if(s=Yh(p),s!==null){if(a.flags|=128,u=!0,s=s.updateQueue,a.updateQueue=s,Kh(a,s),gc(m,!0),m.tail===null&&m.tailMode==="hidden"&&!p.alternate&&!Ft)return ve(a),null}else 2*Hn()-m.renderingStartTime>td&&l!==536870912&&(a.flags|=128,u=!0,gc(m,!1),a.lanes=4194304);m.isBackwards?(p.sibling=a.child,a.child=p):(s=m.last,s!==null?s.sibling=p:a.child=p,m.last=p)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=Hn(),a.sibling=null,s=Ve.current,rt(Ve,u?s&1|2:s&1),a):(ve(a),null);case 22:case 23:return ys(a),tm(),u=a.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(ve(a),a.subtreeFlags&6&&(a.flags|=8192)):ve(a),l=a.updateQueue,l!==null&&Kh(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),s!==null&&ct(ba),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),ms(Fe),ve(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function FC(s,a){switch(Bg(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return ms(Fe),Te(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return me(a),null;case 13:if(ys(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Zl()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return ct(Ve),null;case 4:return Te(),null;case 10:return ms(a.type),null;case 22:case 23:return ys(a),tm(),s!==null&&ct(ba),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return ms(Fe),null;case 25:return null;default:return null}}function nb(s,a){switch(Bg(a),a.tag){case 3:ms(Fe),Te();break;case 26:case 27:case 5:me(a);break;case 4:Te();break;case 13:ys(a);break;case 19:ct(Ve);break;case 10:ms(a.type);break;case 22:case 23:ys(a),tm(),s!==null&&ct(ba);break;case 24:ms(Fe)}}function mc(s,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var m=u.next;l=m;do{if((l.tag&s)===s){u=void 0;var p=l.create,S=l.inst;u=p(),S.destroy=u}l=l.next}while(l!==m)}}catch(C){ce(a,a.return,C)}}function rr(s,a,l){try{var u=a.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var p=m.next;u=p;do{if((u.tag&s)===s){var S=u.inst,C=S.destroy;if(C!==void 0){S.destroy=void 0,m=a;var j=l,Y=C;try{Y()}catch(nt){ce(m,j,nt)}}}u=u.next}while(u!==p)}}catch(nt){ce(a,a.return,nt)}}function ib(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{q_(a,l)}catch(u){ce(s,s.return,u)}}}function sb(s,a,l){l.props=wa(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){ce(s,a,u)}}function pc(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(m){ce(s,a,m)}}function ji(s,a){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(m){ce(s,a,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){ce(s,a,m)}else l.current=null}function rb(s){var a=s.type,l=s.memoizedProps,u=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(m){ce(s,s.return,m)}}function Nm(s,a,l){try{var u=s.stateNode;cA(u,s.type,l,a),u[Ie]=a}catch(m){ce(s,s.return,m)}}function ab(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&fr(s.type)||s.tag===4}function km(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||ab(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&fr(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Rm(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=cd));else if(u!==4&&(u===27&&fr(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for(Rm(s,a,l),s=s.sibling;s!==null;)Rm(s,a,l),s=s.sibling}function Zh(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(u!==4&&(u===27&&fr(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Zh(s,a,l),s=s.sibling;s!==null;)Zh(s,a,l),s=s.sibling}function ob(s){var a=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);on(a,u,l),a[He]=s,a[Ie]=l}catch(p){ce(s,s.return,p)}}var bs=!1,Oe=!1,Mm=!1,lb=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function VC(s,a){if(s=s.containerInfo,ep=pd,s=v_(s),kg(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var m=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break t}var S=0,C=-1,j=-1,Y=0,nt=0,at=s,X=null;e:for(;;){for(var K;at!==l||m!==0&&at.nodeType!==3||(C=S+m),at!==p||u!==0&&at.nodeType!==3||(j=S+u),at.nodeType===3&&(S+=at.nodeValue.length),(K=at.firstChild)!==null;)X=at,at=K;for(;;){if(at===s)break e;if(X===l&&++Y===m&&(C=S),X===p&&++nt===u&&(j=S),(K=at.nextSibling)!==null)break;at=X,X=at.parentNode}at=K}l=C===-1||j===-1?null:{start:C,end:j}}else l=null}l=l||{start:0,end:0}}else l=null;for(np={focusedElem:s,selectionRange:l},pd=!1,Xe=a;Xe!==null;)if(a=Xe,s=a.child,(a.subtreeFlags&1024)!==0&&s!==null)s.return=a,Xe=s;else for(;Xe!==null;){switch(a=Xe,p=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&p!==null){s=void 0,l=a,m=p.memoizedProps,p=p.memoizedState,u=l.stateNode;try{var xt=wa(l.type,m,l.elementType===l.type);s=u.getSnapshotBeforeUpdate(xt,p),u.__reactInternalSnapshotBeforeUpdate=s}catch(_t){ce(l,l.return,_t)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)rp(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":rp(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,Xe=s;break}Xe=a.return}}function cb(s,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:ar(s,l),u&4&&mc(5,l);break;case 1:if(ar(s,l),u&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(S){ce(l,l.return,S)}else{var m=wa(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(m,a,s.__reactInternalSnapshotBeforeUpdate)}catch(S){ce(l,l.return,S)}}u&64&&ib(l),u&512&&pc(l,l.return);break;case 3:if(ar(s,l),u&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{q_(s,a)}catch(S){ce(l,l.return,S)}}break;case 27:a===null&&u&4&&ob(l);case 26:case 5:ar(s,l),a===null&&u&4&&rb(l),u&512&&pc(l,l.return);break;case 12:ar(s,l);break;case 13:ar(s,l),u&4&&fb(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=ZC.bind(null,l),pA(s,l))));break;case 22:if(u=l.memoizedState!==null||bs,!u){a=a!==null&&a.memoizedState!==null||Oe,m=bs;var p=Oe;bs=u,(Oe=a)&&!p?or(s,l,(l.subtreeFlags&8772)!==0):ar(s,l),bs=m,Oe=p}break;case 30:break;default:ar(s,l)}}function ub(s){var a=s.alternate;a!==null&&(s.alternate=null,ub(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Kr(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var _e=null,En=!1;function xs(s,a,l){for(l=l.child;l!==null;)hb(s,a,l),l=l.sibling}function hb(s,a,l){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(Ce,l)}catch{}switch(l.tag){case 26:Oe||ji(l,a),xs(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Oe||ji(l,a);var u=_e,m=En;fr(l.type)&&(_e=l.stateNode,En=!1),xs(s,a,l),Tc(l.stateNode),_e=u,En=m;break;case 5:Oe||ji(l,a);case 6:if(u=_e,m=En,_e=null,xs(s,a,l),_e=u,En=m,_e!==null)if(En)try{(_e.nodeType===9?_e.body:_e.nodeName==="HTML"?_e.ownerDocument.body:_e).removeChild(l.stateNode)}catch(p){ce(l,a,p)}else try{_e.removeChild(l.stateNode)}catch(p){ce(l,a,p)}break;case 18:_e!==null&&(En?(s=_e,tx(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),Dc(s)):tx(_e,l.stateNode));break;case 4:u=_e,m=En,_e=l.stateNode.containerInfo,En=!0,xs(s,a,l),_e=u,En=m;break;case 0:case 11:case 14:case 15:Oe||rr(2,l,a),Oe||rr(4,l,a),xs(s,a,l);break;case 1:Oe||(ji(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&sb(l,a,u)),xs(s,a,l);break;case 21:xs(s,a,l);break;case 22:Oe=(u=Oe)||l.memoizedState!==null,xs(s,a,l),Oe=u;break;default:xs(s,a,l)}}function fb(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Dc(s)}catch(l){ce(a,a.return,l)}}function qC(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new lb),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new lb),a;default:throw Error(i(435,s.tag))}}function Om(s,a){var l=qC(s);a.forEach(function(u){var m=JC.bind(null,s,u);l.has(u)||(l.add(u),u.then(m,m))})}function Ln(s,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var m=l[u],p=s,S=a,C=S;t:for(;C!==null;){switch(C.tag){case 27:if(fr(C.type)){_e=C.stateNode,En=!1;break t}break;case 5:_e=C.stateNode,En=!1;break t;case 3:case 4:_e=C.stateNode.containerInfo,En=!0;break t}C=C.return}if(_e===null)throw Error(i(160));hb(p,S,m),_e=null,En=!1,p=m.alternate,p!==null&&(p.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)gb(a,s),a=a.sibling}var ui=null;function gb(s,a){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Ln(a,s),Pn(s),u&4&&(rr(3,s,s.return),mc(3,s),rr(5,s,s.return));break;case 1:Ln(a,s),Pn(s),u&512&&(Oe||l===null||ji(l,l.return)),u&64&&bs&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var m=ui;if(Ln(a,s),Pn(s),u&512&&(Oe||l===null||ji(l,l.return)),u&4){var p=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){t:{u=s.type,l=s.memoizedProps,m=m.ownerDocument||m;e:switch(u){case"title":p=m.getElementsByTagName("title")[0],(!p||p[Qr]||p[He]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=m.createElement(u),m.head.insertBefore(p,m.querySelector("head > title"))),on(p,u,l),p[He]=s,Re(p),u=p;break t;case"link":var S=lx("link","href",m).get(u+(l.href||""));if(S){for(var C=0;C<S.length;C++)if(p=S[C],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(C,1);break e}}p=m.createElement(u),on(p,u,l),m.head.appendChild(p);break;case"meta":if(S=lx("meta","content",m).get(u+(l.content||""))){for(C=0;C<S.length;C++)if(p=S[C],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(C,1);break e}}p=m.createElement(u),on(p,u,l),m.head.appendChild(p);break;default:throw Error(i(468,u))}p[He]=s,Re(p),u=p}s.stateNode=u}else cx(m,s.type,s.stateNode);else s.stateNode=ox(m,u,s.memoizedProps);else p!==u?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,u===null?cx(m,s.type,s.stateNode):ox(m,u,s.memoizedProps)):u===null&&s.stateNode!==null&&Nm(s,s.memoizedProps,l.memoizedProps)}break;case 27:Ln(a,s),Pn(s),u&512&&(Oe||l===null||ji(l,l.return)),l!==null&&u&4&&Nm(s,s.memoizedProps,l.memoizedProps);break;case 5:if(Ln(a,s),Pn(s),u&512&&(Oe||l===null||ji(l,l.return)),s.flags&32){m=s.stateNode;try{Vn(m,"")}catch(K){ce(s,s.return,K)}}u&4&&s.stateNode!=null&&(m=s.memoizedProps,Nm(s,m,l!==null?l.memoizedProps:m)),u&1024&&(Mm=!0);break;case 6:if(Ln(a,s),Pn(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(K){ce(s,s.return,K)}}break;case 3:if(fd=null,m=ui,ui=hd(a.containerInfo),Ln(a,s),ui=m,Pn(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Dc(a.containerInfo)}catch(K){ce(s,s.return,K)}Mm&&(Mm=!1,mb(s));break;case 4:u=ui,ui=hd(s.stateNode.containerInfo),Ln(a,s),Pn(s),ui=u;break;case 12:Ln(a,s),Pn(s);break;case 13:Ln(a,s),Pn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Um=Hn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Om(s,u)));break;case 22:m=s.memoizedState!==null;var j=l!==null&&l.memoizedState!==null,Y=bs,nt=Oe;if(bs=Y||m,Oe=nt||j,Ln(a,s),Oe=nt,bs=Y,Pn(s),u&8192)t:for(a=s.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(l===null||j||bs||Oe||Sa(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){j=l=a;try{if(p=j.stateNode,m)S=p.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{C=j.stateNode;var at=j.memoizedProps.style,X=at!=null&&at.hasOwnProperty("display")?at.display:null;C.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(K){ce(j,j.return,K)}}}else if(a.tag===6){if(l===null){j=a;try{j.stateNode.nodeValue=m?"":j.memoizedProps}catch(K){ce(j,j.return,K)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Om(s,l))));break;case 19:Ln(a,s),Pn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Om(s,u)));break;case 30:break;case 21:break;default:Ln(a,s),Pn(s)}}function Pn(s){var a=s.flags;if(a&2){try{for(var l,u=s.return;u!==null;){if(ab(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var m=l.stateNode,p=km(s);Zh(s,p,m);break;case 5:var S=l.stateNode;l.flags&32&&(Vn(S,""),l.flags&=-33);var C=km(s);Zh(s,C,S);break;case 3:case 4:var j=l.stateNode.containerInfo,Y=km(s);Rm(s,Y,j);break;default:throw Error(i(161))}}catch(nt){ce(s,s.return,nt)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function mb(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;mb(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function ar(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)cb(s,a.alternate,a),a=a.sibling}function Sa(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:rr(4,a,a.return),Sa(a);break;case 1:ji(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&sb(a,a.return,l),Sa(a);break;case 27:Tc(a.stateNode);case 26:case 5:ji(a,a.return),Sa(a);break;case 22:a.memoizedState===null&&Sa(a);break;case 30:Sa(a);break;default:Sa(a)}s=s.sibling}}function or(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,m=s,p=a,S=p.flags;switch(p.tag){case 0:case 11:case 15:or(m,p,l),mc(4,p);break;case 1:if(or(m,p,l),u=p,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Y){ce(u,u.return,Y)}if(u=p,m=u.updateQueue,m!==null){var C=u.stateNode;try{var j=m.shared.hiddenCallbacks;if(j!==null)for(m.shared.hiddenCallbacks=null,m=0;m<j.length;m++)V_(j[m],C)}catch(Y){ce(u,u.return,Y)}}l&&S&64&&ib(p),pc(p,p.return);break;case 27:ob(p);case 26:case 5:or(m,p,l),l&&u===null&&S&4&&rb(p),pc(p,p.return);break;case 12:or(m,p,l);break;case 13:or(m,p,l),l&&S&4&&fb(m,p);break;case 22:p.memoizedState===null&&or(m,p,l),pc(p,p.return);break;case 30:break;default:or(m,p,l)}a=a.sibling}}function Dm(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&ec(l))}function Im(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&ec(s))}function Li(s,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)pb(s,a,l,u),a=a.sibling}function pb(s,a,l,u){var m=a.flags;switch(a.tag){case 0:case 11:case 15:Li(s,a,l,u),m&2048&&mc(9,a);break;case 1:Li(s,a,l,u);break;case 3:Li(s,a,l,u),m&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&ec(s)));break;case 12:if(m&2048){Li(s,a,l,u),s=a.stateNode;try{var p=a.memoizedProps,S=p.id,C=p.onPostCommit;typeof C=="function"&&C(S,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(j){ce(a,a.return,j)}}else Li(s,a,l,u);break;case 13:Li(s,a,l,u);break;case 23:break;case 22:p=a.stateNode,S=a.alternate,a.memoizedState!==null?p._visibility&2?Li(s,a,l,u):yc(s,a):p._visibility&2?Li(s,a,l,u):(p._visibility|=2,Lo(s,a,l,u,(a.subtreeFlags&10256)!==0)),m&2048&&Dm(S,a);break;case 24:Li(s,a,l,u),m&2048&&Im(a.alternate,a);break;default:Li(s,a,l,u)}}function Lo(s,a,l,u,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var p=s,S=a,C=l,j=u,Y=S.flags;switch(S.tag){case 0:case 11:case 15:Lo(p,S,C,j,m),mc(8,S);break;case 23:break;case 22:var nt=S.stateNode;S.memoizedState!==null?nt._visibility&2?Lo(p,S,C,j,m):yc(p,S):(nt._visibility|=2,Lo(p,S,C,j,m)),m&&Y&2048&&Dm(S.alternate,S);break;case 24:Lo(p,S,C,j,m),m&&Y&2048&&Im(S.alternate,S);break;default:Lo(p,S,C,j,m)}a=a.sibling}}function yc(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,u=a,m=u.flags;switch(u.tag){case 22:yc(l,u),m&2048&&Dm(u.alternate,u);break;case 24:yc(l,u),m&2048&&Im(u.alternate,u);break;default:yc(l,u)}a=a.sibling}}var _c=8192;function Po(s){if(s.subtreeFlags&_c)for(s=s.child;s!==null;)yb(s),s=s.sibling}function yb(s){switch(s.tag){case 26:Po(s),s.flags&_c&&s.memoizedState!==null&&kA(ui,s.memoizedState,s.memoizedProps);break;case 5:Po(s);break;case 3:case 4:var a=ui;ui=hd(s.stateNode.containerInfo),Po(s),ui=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=_c,_c=16777216,Po(s),_c=a):Po(s));break;default:Po(s)}}function _b(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function vc(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Xe=u,bb(u,s)}_b(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)vb(s),s=s.sibling}function vb(s){switch(s.tag){case 0:case 11:case 15:vc(s),s.flags&2048&&rr(9,s,s.return);break;case 3:vc(s);break;case 12:vc(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,Jh(s)):vc(s);break;default:vc(s)}}function Jh(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Xe=u,bb(u,s)}_b(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:rr(8,a,a.return),Jh(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Jh(a));break;default:Jh(a)}s=s.sibling}}function bb(s,a){for(;Xe!==null;){var l=Xe;switch(l.tag){case 0:case 11:case 15:rr(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:ec(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Xe=u;else t:for(l=s;Xe!==null;){u=Xe;var m=u.sibling,p=u.return;if(ub(u),u===l){Xe=null;break t}if(m!==null){m.return=p,Xe=m;break t}Xe=p}}}var WC={getCacheForType:function(s){var a=hn(Fe),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l}},YC=typeof WeakMap=="function"?WeakMap:Map,Zt=0,he=null,Dt=null,Lt=0,Jt=0,Un=null,lr=!1,Uo=!1,jm=!1,ws=0,Ne=0,cr=0,Ea=0,Lm=0,Zn=0,zo=0,bc=null,Tn=null,Pm=!1,Um=0,td=1/0,ed=null,ur=null,an=0,hr=null,Bo=null,Ho=0,zm=0,Bm=null,xb=null,xc=0,Hm=null;function zn(){if((Zt&2)!==0&&Lt!==0)return Lt&-Lt;if(G.T!==null){var s=No;return s!==0?s:$m()}return Ws()}function wb(){Zn===0&&(Zn=(Lt&536870912)===0||Ft?Ol():536870912);var s=Kn.current;return s!==null&&(s.flags|=32),Zn}function Bn(s,a,l){(s===he&&(Jt===2||Jt===9)||s.cancelPendingCommit!==null)&&(Fo(s,0),dr(s,Lt,Zn,!1)),Ji(s,l),((Zt&2)===0||s!==he)&&(s===he&&((Zt&2)===0&&(Ea|=l),Ne===4&&dr(s,Lt,Zn,!1)),Pi(s))}function Sb(s,a,l){if((Zt&6)!==0)throw Error(i(327));var u=!l&&(a&124)===0&&(a&s.expiredLanes)===0||$r(s,a),m=u?XC(s,a):qm(s,a,!0),p=u;do{if(m===0){Uo&&!u&&dr(s,a,0,!1);break}else{if(l=s.current.alternate,p&&!GC(l)){m=qm(s,a,!1),p=!1;continue}if(m===2){if(p=a,s.errorRecoveryDisabledLanes&p)var S=0;else S=s.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){a=S;t:{var C=s;m=bc;var j=C.current.memoizedState.isDehydrated;if(j&&(Fo(C,S).flags|=256),S=qm(C,S,!1),S!==2){if(jm&&!j){C.errorRecoveryDisabledLanes|=p,Ea|=p,m=4;break t}p=Tn,Tn=m,p!==null&&(Tn===null?Tn=p:Tn.push.apply(Tn,p))}m=S}if(p=!1,m!==2)continue}}if(m===1){Fo(s,0),dr(s,a,0,!0);break}t:{switch(u=s,p=m,p){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:dr(u,a,Zn,!lr);break t;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(m=Um+300-Hn(),10<m)){if(dr(u,a,Zn,!lr),ro(u,0,!0)!==0)break t;u.timeoutHandle=Zb(Eb.bind(null,u,l,Tn,ed,Pm,a,Zn,Ea,zo,lr,p,2,-0,0),m);break t}Eb(u,l,Tn,ed,Pm,a,Zn,Ea,zo,lr,p,0,-0,0)}}break}while(!0);Pi(s)}function Eb(s,a,l,u,m,p,S,C,j,Y,nt,at,X,K){if(s.timeoutHandle=-1,at=a.subtreeFlags,(at&8192||(at&16785408)===16785408)&&(Nc={stylesheets:null,count:0,unsuspend:NA},yb(a),at=RA(),at!==null)){s.cancelPendingCommit=at(Mb.bind(null,s,a,p,l,u,m,S,C,j,nt,1,X,K)),dr(s,p,S,!Y);return}Mb(s,a,p,l,u,m,S,C,j)}function GC(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var m=l[u],p=m.getSnapshot;m=m.value;try{if(!In(p(),m))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function dr(s,a,l,u){a&=~Lm,a&=~Ea,s.suspendedLanes|=a,s.pingedLanes&=~a,u&&(s.warmLanes|=a),u=s.expirationTimes;for(var m=a;0<m;){var p=31-un(m),S=1<<p;u[p]=-1,m&=~S}l!==0&&ts(s,l,a)}function nd(){return(Zt&6)===0?(wc(0),!1):!0}function Fm(){if(Dt!==null){if(Jt===0)var s=Dt.return;else s=Dt,gs=_a=null,rm(s),Io=null,dc=0,s=Dt;for(;s!==null;)nb(s.alternate,s),s=s.return;Dt=null}}function Fo(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,hA(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Fm(),he=s,Dt=l=hs(s.current,null),Lt=a,Jt=0,Un=null,lr=!1,Uo=$r(s,a),jm=!1,zo=Zn=Lm=Ea=cr=Ne=0,Tn=bc=null,Pm=!1,(a&8)!==0&&(a|=a&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=a;0<u;){var m=31-un(u),p=1<<m;a|=s[m],u&=~p}return ws=a,Eh(),l}function Tb(s,a){At=null,G.H=Vh,a===ic||a===Dh?(a=H_(),Jt=3):a===U_?(a=H_(),Jt=4):Jt=a===Fv?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Un=a,Dt===null&&(Ne=1,$h(s,Gn(a,s.current)))}function Cb(){var s=G.H;return G.H=Vh,s===null?Vh:s}function Ab(){var s=G.A;return G.A=WC,s}function Vm(){Ne=4,lr||(Lt&4194048)!==Lt&&Kn.current!==null||(Uo=!0),(cr&134217727)===0&&(Ea&134217727)===0||he===null||dr(he,Lt,Zn,!1)}function qm(s,a,l){var u=Zt;Zt|=2;var m=Cb(),p=Ab();(he!==s||Lt!==a)&&(ed=null,Fo(s,a)),a=!1;var S=Ne;t:do try{if(Jt!==0&&Dt!==null){var C=Dt,j=Un;switch(Jt){case 8:Fm(),S=6;break t;case 3:case 2:case 9:case 6:Kn.current===null&&(a=!0);var Y=Jt;if(Jt=0,Un=null,Vo(s,C,j,Y),l&&Uo){S=0;break t}break;default:Y=Jt,Jt=0,Un=null,Vo(s,C,j,Y)}}$C(),S=Ne;break}catch(nt){Tb(s,nt)}while(!0);return a&&s.shellSuspendCounter++,gs=_a=null,Zt=u,G.H=m,G.A=p,Dt===null&&(he=null,Lt=0,Eh()),S}function $C(){for(;Dt!==null;)Nb(Dt)}function XC(s,a){var l=Zt;Zt|=2;var u=Cb(),m=Ab();he!==s||Lt!==a?(ed=null,td=Hn()+500,Fo(s,a)):Uo=$r(s,a);t:do try{if(Jt!==0&&Dt!==null){a=Dt;var p=Un;e:switch(Jt){case 1:Jt=0,Un=null,Vo(s,a,p,1);break;case 2:case 9:if(z_(p)){Jt=0,Un=null,kb(a);break}a=function(){Jt!==2&&Jt!==9||he!==s||(Jt=7),Pi(s)},p.then(a,a);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:z_(p)?(Jt=0,Un=null,kb(a)):(Jt=0,Un=null,Vo(s,a,p,7));break;case 5:var S=null;switch(Dt.tag){case 26:S=Dt.memoizedState;case 5:case 27:var C=Dt;if(!S||ux(S)){Jt=0,Un=null;var j=C.sibling;if(j!==null)Dt=j;else{var Y=C.return;Y!==null?(Dt=Y,id(Y)):Dt=null}break e}}Jt=0,Un=null,Vo(s,a,p,5);break;case 6:Jt=0,Un=null,Vo(s,a,p,6);break;case 8:Fm(),Ne=6;break t;default:throw Error(i(462))}}QC();break}catch(nt){Tb(s,nt)}while(!0);return gs=_a=null,G.H=u,G.A=m,Zt=l,Dt!==null?0:(he=null,Lt=0,Eh(),Ne)}function QC(){for(;Dt!==null&&!Vr();)Nb(Dt)}function Nb(s){var a=tb(s.alternate,s,ws);s.memoizedProps=s.pendingProps,a===null?id(s):Dt=a}function kb(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=$v(l,a,a.pendingProps,a.type,void 0,Lt);break;case 11:a=$v(l,a,a.pendingProps,a.type.render,a.ref,Lt);break;case 5:rm(a);default:nb(l,a),a=Dt=k_(a,ws),a=tb(l,a,ws)}s.memoizedProps=s.pendingProps,a===null?id(s):Dt=a}function Vo(s,a,l,u){gs=_a=null,rm(a),Io=null,dc=0;var m=a.return;try{if(zC(s,m,a,l,Lt)){Ne=1,$h(s,Gn(l,s.current)),Dt=null;return}}catch(p){if(m!==null)throw Dt=m,p;Ne=1,$h(s,Gn(l,s.current)),Dt=null;return}a.flags&32768?(Ft||u===1?s=!0:Uo||(Lt&536870912)!==0?s=!1:(lr=s=!0,(u===2||u===9||u===3||u===6)&&(u=Kn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Rb(a,s)):id(a)}function id(s){var a=s;do{if((a.flags&32768)!==0){Rb(a,lr);return}s=a.return;var l=HC(a.alternate,a,ws);if(l!==null){Dt=l;return}if(a=a.sibling,a!==null){Dt=a;return}Dt=a=s}while(a!==null);Ne===0&&(Ne=5)}function Rb(s,a){do{var l=FC(s.alternate,s);if(l!==null){l.flags&=32767,Dt=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){Dt=s;return}Dt=s=l}while(s!==null);Ne=6,Dt=null}function Mb(s,a,l,u,m,p,S,C,j){s.cancelPendingCommit=null;do sd();while(an!==0);if((Zt&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(p=a.lanes|a.childLanes,p|=Ig,Dl(s,l,p,S,C,j),s===he&&(Dt=he=null,Lt=0),Bo=a,hr=s,Ho=l,zm=p,Bm=m,xb=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,tA(qr,function(){return Lb(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=G.T,G.T=null,m=V.p,V.p=2,S=Zt,Zt|=4;try{VC(s,a,l)}finally{Zt=S,V.p=m,G.T=u}}an=1,Ob(),Db(),Ib()}}function Ob(){if(an===1){an=0;var s=hr,a=Bo,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=G.T,G.T=null;var u=V.p;V.p=2;var m=Zt;Zt|=4;try{gb(a,s);var p=np,S=v_(s.containerInfo),C=p.focusedElem,j=p.selectionRange;if(S!==C&&C&&C.ownerDocument&&__(C.ownerDocument.documentElement,C)){if(j!==null&&kg(C)){var Y=j.start,nt=j.end;if(nt===void 0&&(nt=Y),"selectionStart"in C)C.selectionStart=Y,C.selectionEnd=Math.min(nt,C.value.length);else{var at=C.ownerDocument||document,X=at&&at.defaultView||window;if(X.getSelection){var K=X.getSelection(),xt=C.textContent.length,_t=Math.min(j.start,xt),le=j.end===void 0?_t:Math.min(j.end,xt);!K.extend&&_t>le&&(S=le,le=_t,_t=S);var F=y_(C,_t),H=y_(C,le);if(F&&H&&(K.rangeCount!==1||K.anchorNode!==F.node||K.anchorOffset!==F.offset||K.focusNode!==H.node||K.focusOffset!==H.offset)){var W=at.createRange();W.setStart(F.node,F.offset),K.removeAllRanges(),_t>le?(K.addRange(W),K.extend(H.node,H.offset)):(W.setEnd(H.node,H.offset),K.addRange(W))}}}}for(at=[],K=C;K=K.parentNode;)K.nodeType===1&&at.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<at.length;C++){var st=at[C];st.element.scrollLeft=st.left,st.element.scrollTop=st.top}}pd=!!ep,np=ep=null}finally{Zt=m,V.p=u,G.T=l}}s.current=a,an=2}}function Db(){if(an===2){an=0;var s=hr,a=Bo,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=G.T,G.T=null;var u=V.p;V.p=2;var m=Zt;Zt|=4;try{cb(s,a.alternate,a)}finally{Zt=m,V.p=u,G.T=l}}an=3}}function Ib(){if(an===4||an===3){an=0,Zu();var s=hr,a=Bo,l=Ho,u=xb;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?an=5:(an=0,Bo=hr=null,jb(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(ur=null),ao(l),a=a.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(Ce,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=G.T,m=V.p,V.p=2,G.T=null;try{for(var p=s.onRecoverableError,S=0;S<u.length;S++){var C=u[S];p(C.value,{componentStack:C.stack})}}finally{G.T=a,V.p=m}}(Ho&3)!==0&&sd(),Pi(s),m=s.pendingLanes,(l&4194090)!==0&&(m&42)!==0?s===Hm?xc++:(xc=0,Hm=s):xc=0,wc(0)}}function jb(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,ec(a)))}function sd(s){return Ob(),Db(),Ib(),Lb()}function Lb(){if(an!==5)return!1;var s=hr,a=zm;zm=0;var l=ao(Ho),u=G.T,m=V.p;try{V.p=32>l?32:l,G.T=null,l=Bm,Bm=null;var p=hr,S=Ho;if(an=0,Bo=hr=null,Ho=0,(Zt&6)!==0)throw Error(i(331));var C=Zt;if(Zt|=4,vb(p.current),pb(p,p.current,S,l),Zt=C,wc(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(Ce,p)}catch{}return!0}finally{V.p=m,G.T=u,jb(s,a)}}function Pb(s,a,l){a=Gn(l,a),a=vm(s.stateNode,a,2),s=er(s,a,2),s!==null&&(Ji(s,2),Pi(s))}function ce(s,a,l){if(s.tag===3)Pb(s,s,l);else for(;a!==null;){if(a.tag===3){Pb(a,s,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ur===null||!ur.has(u))){s=Gn(l,s),l=Bv(2),u=er(a,l,2),u!==null&&(Hv(l,u,a,s),Ji(u,2),Pi(u));break}}a=a.return}}function Wm(s,a,l){var u=s.pingCache;if(u===null){u=s.pingCache=new YC;var m=new Set;u.set(a,m)}else m=u.get(a),m===void 0&&(m=new Set,u.set(a,m));m.has(l)||(jm=!0,m.add(l),s=KC.bind(null,s,a,l),a.then(s,s))}function KC(s,a,l){var u=s.pingCache;u!==null&&u.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,he===s&&(Lt&l)===l&&(Ne===4||Ne===3&&(Lt&62914560)===Lt&&300>Hn()-Um?(Zt&2)===0&&Fo(s,0):Lm|=l,zo===Lt&&(zo=0)),Pi(s)}function Ub(s,a){a===0&&(a=eh()),s=Eo(s,a),s!==null&&(Ji(s,a),Pi(s))}function ZC(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),Ub(s,l)}function JC(s,a){var l=0;switch(s.tag){case 13:var u=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),Ub(s,l)}function tA(s,a){return se(s,a)}var rd=null,qo=null,Ym=!1,ad=!1,Gm=!1,Ta=0;function Pi(s){s!==qo&&s.next===null&&(qo===null?rd=qo=s:qo=qo.next=s),ad=!0,Ym||(Ym=!0,nA())}function wc(s,a){if(!Gm&&ad){Gm=!0;do for(var l=!1,u=rd;u!==null;){if(s!==0){var m=u.pendingLanes;if(m===0)var p=0;else{var S=u.suspendedLanes,C=u.pingedLanes;p=(1<<31-un(42|s)+1)-1,p&=m&~(S&~C),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,Fb(u,p))}else p=Lt,p=ro(u,u===he?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||$r(u,p)||(l=!0,Fb(u,p));u=u.next}while(l);Gm=!1}}function eA(){zb()}function zb(){ad=Ym=!1;var s=0;Ta!==0&&(uA()&&(s=Ta),Ta=0);for(var a=Hn(),l=null,u=rd;u!==null;){var m=u.next,p=Bb(u,a);p===0?(u.next=null,l===null?rd=m:l.next=m,m===null&&(qo=l)):(l=u,(s!==0||(p&3)!==0)&&(ad=!0)),u=m}wc(s)}function Bb(s,a){for(var l=s.suspendedLanes,u=s.pingedLanes,m=s.expirationTimes,p=s.pendingLanes&-62914561;0<p;){var S=31-un(p),C=1<<S,j=m[S];j===-1?((C&l)===0||(C&u)!==0)&&(m[S]=Ml(C,a)):j<=a&&(s.expiredLanes|=C),p&=~C}if(a=he,l=Lt,l=ro(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===a&&(Jt===2||Jt===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&Xt(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||$r(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(u!==null&&Xt(u),ao(l)){case 2:case 8:l=io;break;case 32:l=qr;break;case 268435456:l=so;break;default:l=qr}return u=Hb.bind(null,s),l=se(l,u),s.callbackPriority=a,s.callbackNode=l,a}return u!==null&&u!==null&&Xt(u),s.callbackPriority=2,s.callbackNode=null,2}function Hb(s,a){if(an!==0&&an!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(sd()&&s.callbackNode!==l)return null;var u=Lt;return u=ro(s,s===he?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(Sb(s,u,a),Bb(s,Hn()),s.callbackNode!=null&&s.callbackNode===l?Hb.bind(null,s):null)}function Fb(s,a){if(sd())return null;Sb(s,a,!0)}function nA(){dA(function(){(Zt&6)!==0?se(kl,eA):zb()})}function $m(){return Ta===0&&(Ta=Ol()),Ta}function Vb(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:fo(""+s)}function qb(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function iA(s,a,l,u,m){if(a==="submit"&&l&&l.stateNode===m){var p=Vb((m[Ie]||null).action),S=u.submitter;S&&(a=(a=S[Ie]||null)?Vb(a.formAction):S.getAttribute("formAction"),a!==null&&(p=a,S=null));var C=new go("action","action",null,u,m);s.push({event:C,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ta!==0){var j=S?qb(m,S):new FormData(m);gm(l,{pending:!0,data:j,method:m.method,action:p},null,j)}}else typeof p=="function"&&(C.preventDefault(),j=S?qb(m,S):new FormData(m),gm(l,{pending:!0,data:j,method:m.method,action:p},p,j))},currentTarget:m}]})}}for(var Xm=0;Xm<Dg.length;Xm++){var Qm=Dg[Xm],sA=Qm.toLowerCase(),rA=Qm[0].toUpperCase()+Qm.slice(1);ci(sA,"on"+rA)}ci(w_,"onAnimationEnd"),ci(S_,"onAnimationIteration"),ci(E_,"onAnimationStart"),ci("dblclick","onDoubleClick"),ci("focusin","onFocus"),ci("focusout","onBlur"),ci(wC,"onTransitionRun"),ci(SC,"onTransitionStart"),ci(EC,"onTransitionCancel"),ci(T_,"onTransitionEnd"),es("onMouseEnter",["mouseout","mouseover"]),es("onMouseLeave",["mouseout","mouseover"]),es("onPointerEnter",["pointerout","pointerover"]),es("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sc));function Wb(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],m=u.event;u=u.listeners;t:{var p=void 0;if(a)for(var S=u.length-1;0<=S;S--){var C=u[S],j=C.instance,Y=C.currentTarget;if(C=C.listener,j!==p&&m.isPropagationStopped())break t;p=C,m.currentTarget=Y;try{p(m)}catch(nt){Gh(nt)}m.currentTarget=null,p=j}else for(S=0;S<u.length;S++){if(C=u[S],j=C.instance,Y=C.currentTarget,C=C.listener,j!==p&&m.isPropagationStopped())break t;p=C,m.currentTarget=Y;try{p(m)}catch(nt){Gh(nt)}m.currentTarget=null,p=j}}}}function It(s,a){var l=a[jl];l===void 0&&(l=a[jl]=new Set);var u=s+"__bubble";l.has(u)||(Yb(a,s,2,!1),l.add(u))}function Km(s,a,l){var u=0;a&&(u|=4),Yb(l,s,u,a)}var od="_reactListening"+Math.random().toString(36).slice(2);function Zm(s){if(!s[od]){s[od]=!0,Ll.forEach(function(l){l!=="selectionchange"&&(aA.has(l)||Km(l,!1,s),Km(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[od]||(a[od]=!0,Km("selectionchange",!1,a))}}function Yb(s,a,l,u){switch(px(a)){case 2:var m=DA;break;case 8:m=IA;break;default:m=dp}l=m.bind(null,a,l,s),m=void 0,!Wn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),u?m!==void 0?s.addEventListener(a,l,{capture:!0,passive:m}):s.addEventListener(a,l,!0):m!==void 0?s.addEventListener(a,l,{passive:m}):s.addEventListener(a,l,!1)}function Jm(s,a,l,u,m){var p=u;if((a&1)===0&&(a&2)===0&&u!==null)t:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var C=u.stateNode.containerInfo;if(C===m)break;if(S===4)for(S=u.return;S!==null;){var j=S.tag;if((j===3||j===4)&&S.stateNode.containerInfo===m)return;S=S.return}for(;C!==null;){if(S=Gs(C),S===null)return;if(j=S.tag,j===5||j===6||j===26||j===27){u=p=S;continue t}C=C.parentNode}}u=u.return}ch(function(){var Y=p,nt=qn(l),at=[];t:{var X=C_.get(s);if(X!==void 0){var K=go,xt=s;switch(s){case"keypress":if(ki(l)===0)break t;case"keydown":case"keyup":K=bo;break;case"focusin":xt="focus",K=yo;break;case"focusout":xt="blur",K=yo;break;case"beforeblur":case"afterblur":K=yo;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Tg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=yh;break;case w_:case S_:case E_:K=_o;break;case T_:K=vh;break;case"scroll":case"scrollend":K=uh;break;case"wheel":K=xn;break;case"copy":case"cut":case"paste":K=vo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=$l;break;case"toggle":case"beforetoggle":K=wh}var _t=(a&4)!==0,le=!_t&&(s==="scroll"||s==="scrollend"),F=_t?X!==null?X+"Capture":null:X;_t=[];for(var H=Y,W;H!==null;){var st=H;if(W=st.stateNode,st=st.tag,st!==5&&st!==26&&st!==27||W===null||F===null||(st=sa(H,F),st!=null&&_t.push(Ec(H,st,W))),le)break;H=H.return}0<_t.length&&(X=new K(X,xt,null,l,nt),at.push({event:X,listeners:_t}))}}if((a&7)===0){t:{if(X=s==="mouseover"||s==="pointerover",K=s==="mouseout"||s==="pointerout",X&&l!==ss&&(xt=l.relatedTarget||l.fromElement)&&(Gs(xt)||xt[Fn]))break t;if((K||X)&&(X=nt.window===nt?nt:(X=nt.ownerDocument)?X.defaultView||X.parentWindow:window,K?(xt=l.relatedTarget||l.toElement,K=Y,xt=xt?Gs(xt):null,xt!==null&&(le=o(xt),_t=xt.tag,xt!==le||_t!==5&&_t!==27&&_t!==6)&&(xt=null)):(K=null,xt=Y),K!==xt)){if(_t=Yn,st="onMouseLeave",F="onMouseEnter",H="mouse",(s==="pointerout"||s==="pointerover")&&(_t=$l,st="onPointerLeave",F="onPointerEnter",H="pointer"),le=K==null?X:Ti(K),W=xt==null?X:Ti(xt),X=new _t(st,H+"leave",K,l,nt),X.target=le,X.relatedTarget=W,st=null,Gs(nt)===Y&&(_t=new _t(F,H+"enter",xt,l,nt),_t.target=W,_t.relatedTarget=le,st=_t),le=st,K&&xt)e:{for(_t=K,F=xt,H=0,W=_t;W;W=Wo(W))H++;for(W=0,st=F;st;st=Wo(st))W++;for(;0<H-W;)_t=Wo(_t),H--;for(;0<W-H;)F=Wo(F),W--;for(;H--;){if(_t===F||F!==null&&_t===F.alternate)break e;_t=Wo(_t),F=Wo(F)}_t=null}else _t=null;K!==null&&Gb(at,X,K,_t,!1),xt!==null&&le!==null&&Gb(at,le,xt,_t,!0)}}t:{if(X=Y?Ti(Y):window,K=X.nodeName&&X.nodeName.toLowerCase(),K==="select"||K==="input"&&X.type==="file")var ft=h_;else if(cs(X))if(d_)ft=vC;else{ft=yC;var Nt=pC}else K=X.nodeName,!K||K.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Y&&Hl(Y.elementType)&&(ft=h_):ft=_C;if(ft&&(ft=ft(s,Y))){wn(at,ft,l,nt);break t}Nt&&Nt(s,X,Y),s==="focusout"&&Y&&X.type==="number"&&Y.memoizedProps.value!=null&&Xs(X,"number",X.value)}switch(Nt=Y?Ti(Y):window,s){case"focusin":(cs(Nt)||Nt.contentEditable==="true")&&(xo=Nt,Rg=Y,Ql=null);break;case"focusout":Ql=Rg=xo=null;break;case"mousedown":Mg=!0;break;case"contextmenu":case"mouseup":case"dragend":Mg=!1,b_(at,l,nt);break;case"selectionchange":if(xC)break;case"keydown":case"keyup":b_(at,l,nt)}var pt;if(f)t:{switch(s){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else ye?ht(s,l)&&(vt="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(vt="onCompositionStart");vt&&(A&&l.locale!=="ko"&&(ye||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&ye&&(pt=Vl()):(Ni=nt,Qs="value"in Ni?Ni.value:Ni.textContent,ye=!0)),Nt=ld(Y,vt),0<Nt.length&&(vt=new Yl(vt,s,null,l,nt),at.push({event:vt,listeners:Nt}),pt?vt.data=pt:(pt=Gt(l),pt!==null&&(vt.data=pt)))),(pt=w?jt(s,l):Ye(s,l))&&(vt=ld(Y,"onBeforeInput"),0<vt.length&&(Nt=new Yl("onBeforeInput","beforeinput",null,l,nt),at.push({event:Nt,listeners:vt}),Nt.data=pt)),iA(at,s,Y,l,nt)}Wb(at,a)})}function Ec(s,a,l){return{instance:s,listener:a,currentTarget:l}}function ld(s,a){for(var l=a+"Capture",u=[];s!==null;){var m=s,p=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||p===null||(m=sa(s,l),m!=null&&u.unshift(Ec(s,m,p)),m=sa(s,a),m!=null&&u.push(Ec(s,m,p))),s.tag===3)return u;s=s.return}return[]}function Wo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Gb(s,a,l,u,m){for(var p=a._reactName,S=[];l!==null&&l!==u;){var C=l,j=C.alternate,Y=C.stateNode;if(C=C.tag,j!==null&&j===u)break;C!==5&&C!==26&&C!==27||Y===null||(j=Y,m?(Y=sa(l,p),Y!=null&&S.unshift(Ec(l,Y,j))):m||(Y=sa(l,p),Y!=null&&S.push(Ec(l,Y,j)))),l=l.return}S.length!==0&&s.push({event:a,listeners:S})}var oA=/\r\n?/g,lA=/\u0000|\uFFFD/g;function $b(s){return(typeof s=="string"?s:""+s).replace(oA,`
`).replace(lA,"")}function Xb(s,a){return a=$b(a),$b(s)===a}function cd(){}function oe(s,a,l,u,m,p){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||Vn(s,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&Vn(s,""+u);break;case"className":Ci(s,"class",u);break;case"tabIndex":Ci(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ci(s,l,u);break;case"style":Bl(s,u,p);break;case"data":if(a!=="object"){Ci(s,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=fo(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(a!=="input"&&oe(s,a,"name",m.name,m,null),oe(s,a,"formEncType",m.formEncType,m,null),oe(s,a,"formMethod",m.formMethod,m,null),oe(s,a,"formTarget",m.formTarget,m,null)):(oe(s,a,"encType",m.encType,m,null),oe(s,a,"method",m.method,m,null),oe(s,a,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=fo(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=cd);break;case"onScroll":u!=null&&It("scroll",s);break;case"onScrollEnd":u!=null&&It("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=fo(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":It("beforetoggle",s),It("toggle",s),$s(s,"popover",u);break;case"xlinkActuate":sn(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":sn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":sn(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":sn(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":sn(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":sn(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":sn(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":sn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":sn(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":$s(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Sg.get(l)||l,$s(s,l,u))}}function tp(s,a,l,u,m,p){switch(l){case"style":Bl(s,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof u=="string"?Vn(s,u):(typeof u=="number"||typeof u=="bigint")&&Vn(s,""+u);break;case"onScroll":u!=null&&It("scroll",s);break;case"onScrollEnd":u!=null&&It("scrollend",s);break;case"onClick":u!=null&&(s.onclick=cd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!oo.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),a=l.slice(2,m?l.length-7:void 0),p=s[Ie]||null,p=p!=null?p[l]:null,typeof p=="function"&&s.removeEventListener(a,p,m),typeof u=="function")){typeof p!="function"&&p!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,u,m);break t}l in s?s[l]=u:u===!0?s.setAttribute(l,""):$s(s,l,u)}}}function on(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",s),It("load",s);var u=!1,m=!1,p;for(p in l)if(l.hasOwnProperty(p)){var S=l[p];if(S!=null)switch(p){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:oe(s,a,p,S,l,null)}}m&&oe(s,a,"srcSet",l.srcSet,l,null),u&&oe(s,a,"src",l.src,l,null);return;case"input":It("invalid",s);var C=p=S=m=null,j=null,Y=null;for(u in l)if(l.hasOwnProperty(u)){var nt=l[u];if(nt!=null)switch(u){case"name":m=nt;break;case"type":S=nt;break;case"checked":j=nt;break;case"defaultChecked":Y=nt;break;case"value":p=nt;break;case"defaultValue":C=nt;break;case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(i(137,a));break;default:oe(s,a,u,nt,l,null)}}ea(s,p,C,j,Y,S,m,!1),ho(s);return;case"select":It("invalid",s),u=S=p=null;for(m in l)if(l.hasOwnProperty(m)&&(C=l[m],C!=null))switch(m){case"value":p=C;break;case"defaultValue":S=C;break;case"multiple":u=C;default:oe(s,a,m,C,l,null)}a=p,l=S,s.multiple=!!u,a!=null?is(s,!!u,a,!1):l!=null&&is(s,!!u,l,!0);return;case"textarea":It("invalid",s),p=m=u=null;for(S in l)if(l.hasOwnProperty(S)&&(C=l[S],C!=null))switch(S){case"value":u=C;break;case"defaultValue":m=C;break;case"children":p=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:oe(s,a,S,C,l,null)}na(s,u,m,p),ho(s);return;case"option":for(j in l)if(l.hasOwnProperty(j)&&(u=l[j],u!=null))switch(j){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:oe(s,a,j,u,l,null)}return;case"dialog":It("beforetoggle",s),It("toggle",s),It("cancel",s),It("close",s);break;case"iframe":case"object":It("load",s);break;case"video":case"audio":for(u=0;u<Sc.length;u++)It(Sc[u],s);break;case"image":It("error",s),It("load",s);break;case"details":It("toggle",s);break;case"embed":case"source":case"link":It("error",s),It("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in l)if(l.hasOwnProperty(Y)&&(u=l[Y],u!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:oe(s,a,Y,u,l,null)}return;default:if(Hl(a)){for(nt in l)l.hasOwnProperty(nt)&&(u=l[nt],u!==void 0&&tp(s,a,nt,u,l,void 0));return}}for(C in l)l.hasOwnProperty(C)&&(u=l[C],u!=null&&oe(s,a,C,u,l,null))}function cA(s,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,p=null,S=null,C=null,j=null,Y=null,nt=null;for(K in l){var at=l[K];if(l.hasOwnProperty(K)&&at!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":j=at;default:u.hasOwnProperty(K)||oe(s,a,K,null,u,at)}}for(var X in u){var K=u[X];if(at=l[X],u.hasOwnProperty(X)&&(K!=null||at!=null))switch(X){case"type":p=K;break;case"name":m=K;break;case"checked":Y=K;break;case"defaultChecked":nt=K;break;case"value":S=K;break;case"defaultValue":C=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,a));break;default:K!==at&&oe(s,a,X,K,u,at)}}Dn(s,S,C,j,Y,nt,p,m);return;case"select":K=S=C=X=null;for(p in l)if(j=l[p],l.hasOwnProperty(p)&&j!=null)switch(p){case"value":break;case"multiple":K=j;default:u.hasOwnProperty(p)||oe(s,a,p,null,u,j)}for(m in u)if(p=u[m],j=l[m],u.hasOwnProperty(m)&&(p!=null||j!=null))switch(m){case"value":X=p;break;case"defaultValue":C=p;break;case"multiple":S=p;default:p!==j&&oe(s,a,m,p,u,j)}a=C,l=S,u=K,X!=null?is(s,!!l,X,!1):!!u!=!!l&&(a!=null?is(s,!!l,a,!0):is(s,!!l,l?[]:"",!1));return;case"textarea":K=X=null;for(C in l)if(m=l[C],l.hasOwnProperty(C)&&m!=null&&!u.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:oe(s,a,C,null,u,m)}for(S in u)if(m=u[S],p=l[S],u.hasOwnProperty(S)&&(m!=null||p!=null))switch(S){case"value":X=m;break;case"defaultValue":K=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==p&&oe(s,a,S,m,u,p)}re(s,X,K);return;case"option":for(var xt in l)if(X=l[xt],l.hasOwnProperty(xt)&&X!=null&&!u.hasOwnProperty(xt))switch(xt){case"selected":s.selected=!1;break;default:oe(s,a,xt,null,u,X)}for(j in u)if(X=u[j],K=l[j],u.hasOwnProperty(j)&&X!==K&&(X!=null||K!=null))switch(j){case"selected":s.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:oe(s,a,j,X,u,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in l)X=l[_t],l.hasOwnProperty(_t)&&X!=null&&!u.hasOwnProperty(_t)&&oe(s,a,_t,null,u,X);for(Y in u)if(X=u[Y],K=l[Y],u.hasOwnProperty(Y)&&X!==K&&(X!=null||K!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,a));break;default:oe(s,a,Y,X,u,K)}return;default:if(Hl(a)){for(var le in l)X=l[le],l.hasOwnProperty(le)&&X!==void 0&&!u.hasOwnProperty(le)&&tp(s,a,le,void 0,u,X);for(nt in u)X=u[nt],K=l[nt],!u.hasOwnProperty(nt)||X===K||X===void 0&&K===void 0||tp(s,a,nt,X,u,K);return}}for(var F in l)X=l[F],l.hasOwnProperty(F)&&X!=null&&!u.hasOwnProperty(F)&&oe(s,a,F,null,u,X);for(at in u)X=u[at],K=l[at],!u.hasOwnProperty(at)||X===K||X==null&&K==null||oe(s,a,at,X,u,K)}var ep=null,np=null;function ud(s){return s.nodeType===9?s:s.ownerDocument}function Qb(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Kb(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function ip(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var sp=null;function uA(){var s=window.event;return s&&s.type==="popstate"?s===sp?!1:(sp=s,!0):(sp=null,!1)}var Zb=typeof setTimeout=="function"?setTimeout:void 0,hA=typeof clearTimeout=="function"?clearTimeout:void 0,Jb=typeof Promise=="function"?Promise:void 0,dA=typeof queueMicrotask=="function"?queueMicrotask:typeof Jb<"u"?function(s){return Jb.resolve(null).then(s).catch(fA)}:Zb;function fA(s){setTimeout(function(){throw s})}function fr(s){return s==="head"}function tx(s,a){var l=a,u=0,m=0;do{var p=l.nextSibling;if(s.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(0<u&&8>u){l=u;var S=s.ownerDocument;if(l&1&&Tc(S.documentElement),l&2&&Tc(S.body),l&4)for(l=S.head,Tc(l),S=l.firstChild;S;){var C=S.nextSibling,j=S.nodeName;S[Qr]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&S.rel.toLowerCase()==="stylesheet"||l.removeChild(S),S=C}}if(m===0){s.removeChild(p),Dc(a);return}m--}else l==="$"||l==="$?"||l==="$!"?m++:u=l.charCodeAt(0)-48;else u=0;l=p}while(l);Dc(a)}function rp(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":rp(l),Kr(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function gA(s,a,l,u){for(;s.nodeType===1;){var m=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Qr])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(p=s.getAttribute("rel"),p==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(p!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(p=s.getAttribute("src"),(p!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&p&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var p=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===p)return s}else return s;if(s=hi(s.nextSibling),s===null)break}return null}function mA(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=hi(s.nextSibling),s===null))return null;return s}function ap(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function pA(s,a){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function hi(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}var op=null;function ex(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return s;a--}else l==="/$"&&a++}s=s.previousSibling}return null}function nx(s,a,l){switch(a=ud(l),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Tc(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Kr(s)}var Jn=new Map,ix=new Set;function hd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ss=V.d;V.d={f:yA,r:_A,D:vA,C:bA,L:xA,m:wA,X:EA,S:SA,M:TA};function yA(){var s=Ss.f(),a=nd();return s||a}function _A(s){var a=Ei(s);a!==null&&a.tag===5&&a.type==="form"?wv(a):Ss.r(s)}var Yo=typeof document>"u"?null:document;function sx(s,a,l){var u=Yo;if(u&&typeof a=="string"&&a){var m=je(a);m='link[rel="'+s+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),ix.has(m)||(ix.add(m),s={rel:s,crossOrigin:l,href:a},u.querySelector(m)===null&&(a=u.createElement("link"),on(a,"link",s),Re(a),u.head.appendChild(a)))}}function vA(s){Ss.D(s),sx("dns-prefetch",s,null)}function bA(s,a){Ss.C(s,a),sx("preconnect",s,a)}function xA(s,a,l){Ss.L(s,a,l);var u=Yo;if(u&&s&&a){var m='link[rel="preload"][as="'+je(a)+'"]';a==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+je(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+je(l.imageSizes)+'"]')):m+='[href="'+je(s)+'"]';var p=m;switch(a){case"style":p=Go(s);break;case"script":p=$o(s)}Jn.has(p)||(s=_({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),Jn.set(p,s),u.querySelector(m)!==null||a==="style"&&u.querySelector(Cc(p))||a==="script"&&u.querySelector(Ac(p))||(a=u.createElement("link"),on(a,"link",s),Re(a),u.head.appendChild(a)))}}function wA(s,a){Ss.m(s,a);var l=Yo;if(l&&s){var u=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+je(u)+'"][href="'+je(s)+'"]',p=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=$o(s)}if(!Jn.has(p)&&(s=_({rel:"modulepreload",href:s},a),Jn.set(p,s),l.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Ac(p)))return}u=l.createElement("link"),on(u,"link",s),Re(u),l.head.appendChild(u)}}}function SA(s,a,l){Ss.S(s,a,l);var u=Yo;if(u&&s){var m=mn(u).hoistableStyles,p=Go(s);a=a||"default";var S=m.get(p);if(!S){var C={loading:0,preload:null};if(S=u.querySelector(Cc(p)))C.loading=5;else{s=_({rel:"stylesheet",href:s,"data-precedence":a},l),(l=Jn.get(p))&&lp(s,l);var j=S=u.createElement("link");Re(j),on(j,"link",s),j._p=new Promise(function(Y,nt){j.onload=Y,j.onerror=nt}),j.addEventListener("load",function(){C.loading|=1}),j.addEventListener("error",function(){C.loading|=2}),C.loading|=4,dd(S,a,u)}S={type:"stylesheet",instance:S,count:1,state:C},m.set(p,S)}}}function EA(s,a){Ss.X(s,a);var l=Yo;if(l&&s){var u=mn(l).hoistableScripts,m=$o(s),p=u.get(m);p||(p=l.querySelector(Ac(m)),p||(s=_({src:s,async:!0},a),(a=Jn.get(m))&&cp(s,a),p=l.createElement("script"),Re(p),on(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(m,p))}}function TA(s,a){Ss.M(s,a);var l=Yo;if(l&&s){var u=mn(l).hoistableScripts,m=$o(s),p=u.get(m);p||(p=l.querySelector(Ac(m)),p||(s=_({src:s,async:!0,type:"module"},a),(a=Jn.get(m))&&cp(s,a),p=l.createElement("script"),Re(p),on(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(m,p))}}function rx(s,a,l,u){var m=(m=et.current)?hd(m):null;if(!m)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Go(l.href),l=mn(m).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Go(l.href);var p=mn(m).hoistableStyles,S=p.get(s);if(S||(m=m.ownerDocument||m,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(s,S),(p=m.querySelector(Cc(s)))&&!p._p&&(S.instance=p,S.state.loading=5),Jn.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Jn.set(s,l),p||CA(m,s,l,S.state))),a&&u===null)throw Error(i(528,""));return S}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=$o(l),l=mn(m).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Go(s){return'href="'+je(s)+'"'}function Cc(s){return'link[rel="stylesheet"]['+s+"]"}function ax(s){return _({},s,{"data-precedence":s.precedence,precedence:null})}function CA(s,a,l,u){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=s.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),on(a,"link",l),Re(a),s.head.appendChild(a))}function $o(s){return'[src="'+je(s)+'"]'}function Ac(s){return"script[async]"+s}function ox(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=s.querySelector('style[data-href~="'+je(l.href)+'"]');if(u)return a.instance=u,Re(u),u;var m=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Re(u),on(u,"style",m),dd(u,l.precedence,s),a.instance=u;case"stylesheet":m=Go(l.href);var p=s.querySelector(Cc(m));if(p)return a.state.loading|=4,a.instance=p,Re(p),p;u=ax(l),(m=Jn.get(m))&&lp(u,m),p=(s.ownerDocument||s).createElement("link"),Re(p);var S=p;return S._p=new Promise(function(C,j){S.onload=C,S.onerror=j}),on(p,"link",u),a.state.loading|=4,dd(p,l.precedence,s),a.instance=p;case"script":return p=$o(l.src),(m=s.querySelector(Ac(p)))?(a.instance=m,Re(m),m):(u=l,(m=Jn.get(p))&&(u=_({},l),cp(u,m)),s=s.ownerDocument||s,m=s.createElement("script"),Re(m),on(m,"link",u),s.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,dd(u,l.precedence,s));return a.instance}function dd(s,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,p=m,S=0;S<u.length;S++){var C=u[S];if(C.dataset.precedence===a)p=C;else if(p!==m)break}p?p.parentNode.insertBefore(s,p.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function lp(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function cp(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var fd=null;function lx(s,a,l){if(fd===null){var u=new Map,m=fd=new Map;m.set(l,u)}else m=fd,u=m.get(l),u||(u=new Map,m.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),m=0;m<l.length;m++){var p=l[m];if(!(p[Qr]||p[He]||s==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var S=p.getAttribute(a)||"";S=s+S;var C=u.get(S);C?C.push(p):u.set(S,[p])}}return u}function cx(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function AA(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function ux(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Nc=null;function NA(){}function kA(s,a,l){if(Nc===null)throw Error(i(475));var u=Nc;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=Go(l.href),p=s.querySelector(Cc(m));if(p){s=p._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(u.count++,u=gd.bind(u),s.then(u,u)),a.state.loading|=4,a.instance=p,Re(p);return}p=s.ownerDocument||s,l=ax(l),(m=Jn.get(m))&&lp(l,m),p=p.createElement("link"),Re(p);var S=p;S._p=new Promise(function(C,j){S.onload=C,S.onerror=j}),on(p,"link",l),a.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=gd.bind(u),s.addEventListener("load",a),s.addEventListener("error",a))}}function RA(){if(Nc===null)throw Error(i(475));var s=Nc;return s.stylesheets&&s.count===0&&up(s,s.stylesheets),0<s.count?function(a){var l=setTimeout(function(){if(s.stylesheets&&up(s,s.stylesheets),s.unsuspend){var u=s.unsuspend;s.unsuspend=null,u()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(l)}}:null}function gd(){if(this.count--,this.count===0){if(this.stylesheets)up(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var md=null;function up(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,md=new Map,a.forEach(MA,s),md=null,gd.call(s))}function MA(s,a){if(!(a.state.loading&4)){var l=md.get(s);if(l)var u=l.get(null);else{l=new Map,md.set(s,l);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<m.length;p++){var S=m[p];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),u=S)}u&&l.set(null,u)}m=a.instance,S=m.getAttribute("data-precedence"),p=l.get(S)||u,p===u&&l.set(null,m),l.set(S,m),this.count++,u=gd.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),p?p.parentNode.insertBefore(m,p.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),a.state.loading|=4}}var kc={$$typeof:Q,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function OA(s,a,l,u,m,p,S,C){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zi(0),this.hiddenUpdates=Zi(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=p,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function hx(s,a,l,u,m,p,S,C,j,Y,nt,at){return s=new OA(s,a,l,S,C,j,Y,at),a=1,p===!0&&(a|=24),p=jn(3,null,null,a),s.current=p,p.stateNode=s,a=Wg(),a.refCount++,s.pooledCache=a,a.refCount++,p.memoizedState={element:u,isDehydrated:l,cache:a},Xg(p),s}function dx(s){return s?(s=To,s):To}function fx(s,a,l,u,m,p){m=dx(m),u.context===null?u.context=m:u.pendingContext=m,u=tr(a),u.payload={element:l},p=p===void 0?null:p,p!==null&&(u.callback=p),l=er(s,u,a),l!==null&&(Bn(l,s,a),rc(l,s,a))}function gx(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function hp(s,a){gx(s,a),(s=s.alternate)&&gx(s,a)}function mx(s){if(s.tag===13){var a=Eo(s,67108864);a!==null&&Bn(a,s,67108864),hp(s,67108864)}}var pd=!0;function DA(s,a,l,u){var m=G.T;G.T=null;var p=V.p;try{V.p=2,dp(s,a,l,u)}finally{V.p=p,G.T=m}}function IA(s,a,l,u){var m=G.T;G.T=null;var p=V.p;try{V.p=8,dp(s,a,l,u)}finally{V.p=p,G.T=m}}function dp(s,a,l,u){if(pd){var m=fp(u);if(m===null)Jm(s,a,u,yd,l),yx(s,u);else if(LA(m,s,a,l,u))u.stopPropagation();else if(yx(s,u),a&4&&-1<jA.indexOf(s)){for(;m!==null;){var p=Ei(m);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var S=ai(p.pendingLanes);if(S!==0){var C=p;for(C.pendingLanes|=2,C.entangledLanes|=2;S;){var j=1<<31-un(S);C.entanglements[1]|=j,S&=~j}Pi(p),(Zt&6)===0&&(td=Hn()+500,wc(0))}}break;case 13:C=Eo(p,2),C!==null&&Bn(C,p,2),nd(),hp(p,2)}if(p=fp(u),p===null&&Jm(s,a,u,yd,l),p===m)break;m=p}m!==null&&u.stopPropagation()}else Jm(s,a,u,null,l)}}function fp(s){return s=qn(s),gp(s)}var yd=null;function gp(s){if(yd=null,s=Gs(s),s!==null){var a=o(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=c(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return yd=s,null}function px(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yg()){case kl:return 2;case io:return 8;case qr:case _g:return 32;case so:return 268435456;default:return 32}default:return 32}}var mp=!1,gr=null,mr=null,pr=null,Rc=new Map,Mc=new Map,yr=[],jA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yx(s,a){switch(s){case"focusin":case"focusout":gr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":Rc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mc.delete(a.pointerId)}}function Oc(s,a,l,u,m,p){return s===null||s.nativeEvent!==p?(s={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:p,targetContainers:[m]},a!==null&&(a=Ei(a),a!==null&&mx(a)),s):(s.eventSystemFlags|=u,a=s.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),s)}function LA(s,a,l,u,m){switch(a){case"focusin":return gr=Oc(gr,s,a,l,u,m),!0;case"dragenter":return mr=Oc(mr,s,a,l,u,m),!0;case"mouseover":return pr=Oc(pr,s,a,l,u,m),!0;case"pointerover":var p=m.pointerId;return Rc.set(p,Oc(Rc.get(p)||null,s,a,l,u,m)),!0;case"gotpointercapture":return p=m.pointerId,Mc.set(p,Oc(Mc.get(p)||null,s,a,l,u,m)),!0}return!1}function _x(s){var a=Gs(s.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){s.blockedOn=a,nh(s.priority,function(){if(l.tag===13){var u=zn();u=Xr(u);var m=Eo(l,u);m!==null&&Bn(m,l,u),hp(l,u)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function _d(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=fp(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);ss=u,l.target.dispatchEvent(u),ss=null}else return a=Ei(l),a!==null&&mx(a),s.blockedOn=l,!1;a.shift()}return!0}function vx(s,a,l){_d(s)&&l.delete(a)}function PA(){mp=!1,gr!==null&&_d(gr)&&(gr=null),mr!==null&&_d(mr)&&(mr=null),pr!==null&&_d(pr)&&(pr=null),Rc.forEach(vx),Mc.forEach(vx)}function vd(s,a){s.blockedOn===a&&(s.blockedOn=null,mp||(mp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,PA)))}var bd=null;function bx(s){bd!==s&&(bd=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){bd===s&&(bd=null);for(var a=0;a<s.length;a+=3){var l=s[a],u=s[a+1],m=s[a+2];if(typeof u!="function"){if(gp(u||l)===null)continue;break}var p=Ei(l);p!==null&&(s.splice(a,3),a-=3,gm(p,{pending:!0,data:m,method:l.method,action:u},u,m))}}))}function Dc(s){function a(j){return vd(j,s)}gr!==null&&vd(gr,s),mr!==null&&vd(mr,s),pr!==null&&vd(pr,s),Rc.forEach(a),Mc.forEach(a);for(var l=0;l<yr.length;l++){var u=yr[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<yr.length&&(l=yr[0],l.blockedOn===null);)_x(l),l.blockedOn===null&&yr.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var m=l[u],p=l[u+1],S=m[Ie]||null;if(typeof p=="function")S||bx(l);else if(S){var C=null;if(p&&p.hasAttribute("formAction")){if(m=p,S=p[Ie]||null)C=S.formAction;else if(gp(m)!==null)continue}else C=S.action;typeof C=="function"?l[u+1]=C:(l.splice(u,3),u-=3),bx(l)}}}function pp(s){this._internalRoot=s}xd.prototype.render=pp.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,u=zn();fx(l,u,s,a,null,null)},xd.prototype.unmount=pp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;fx(s.current,2,null,s,null,null),nd(),a[Fn]=null}};function xd(s){this._internalRoot=s}xd.prototype.unstable_scheduleHydration=function(s){if(s){var a=Ws();s={blockedOn:null,target:s,priority:a};for(var l=0;l<yr.length&&a!==0&&a<yr[l].priority;l++);yr.splice(l,0,s),l===0&&_x(s)}};var xx=t.version;if(xx!=="19.1.0")throw Error(i(527,xx,"19.1.0"));V.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=d(a),s=s!==null?g(s):null,s=s===null?null:s.stateNode,s};var UA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wd.isDisabled&&wd.supportsFiber)try{Ce=wd.inject(UA),Qt=wd}catch{}}return jc.createRoot=function(s,a){if(!r(s))throw Error(i(299));var l=!1,u="",m=Lv,p=Pv,S=Uv,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks)),a=hx(s,1,!1,null,null,l,u,m,p,S,C,null),s[Fn]=a.current,Zm(s),new pp(a)},jc.hydrateRoot=function(s,a,l){if(!r(s))throw Error(i(299));var u=!1,m="",p=Lv,S=Pv,C=Uv,j=null,Y=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(C=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(j=l.unstable_transitionCallbacks),l.formState!==void 0&&(Y=l.formState)),a=hx(s,1,!0,a,l??null,u,m,p,S,C,j,Y),a.context=dx(null),l=a.current,u=zn(),u=Xr(u),m=tr(u),m.callback=null,er(l,m,u),l=u,a.current.lanes=l,Ji(a,l),Pi(a),s[Fn]=a.current,Zm(s),new xd(a)},jc.version="19.1.0",jc}var Mx;function XA(){if(Mx)return vp.exports;Mx=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),vp.exports=$A(),vp.exports}var QA=XA();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ox="popstate";function KA(n={}){function t(i,r){let{pathname:o,search:c,hash:h}=i.location;return Jp("",{pathname:o,search:c,hash:h},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function e(i,r){return typeof r=="string"?r:yu(r)}return JA(t,e,null,n)}function Ee(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Gi(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ZA(){return Math.random().toString(36).substring(2,10)}function Dx(n,t){return{usr:n.state,key:n.key,idx:t}}function Jp(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?yl(t):t,state:e,key:t&&t.key||i||ZA()}}function yu({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function yl(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function JA(n,t,e,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,c=r.history,h="POP",d=null,g=_();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function _(){return(c.state||{idx:null}).idx}function b(){h="POP";let M=_(),U=M==null?null:M-g;g=M,d&&d({action:h,location:R.location,delta:U})}function x(M,U){h="PUSH";let $=Jp(R.location,M,U);g=_()+1;let Q=Dx($,g),tt=R.createHref($);try{c.pushState(Q,"",tt)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;r.location.assign(tt)}o&&d&&d({action:h,location:R.location,delta:1})}function E(M,U){h="REPLACE";let $=Jp(R.location,M,U);g=_();let Q=Dx($,g),tt=R.createHref($);c.replaceState(Q,"",tt),o&&d&&d({action:h,location:R.location,delta:0})}function N(M){return tN(M)}let R={get action(){return h},get location(){return n(r,c)},listen(M){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(Ox,b),d=M,()=>{r.removeEventListener(Ox,b),d=null}},createHref(M){return t(r,M)},createURL:N,encodeLocation(M){let U=N(M);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:x,replace:E,go(M){return c.go(M)}};return R}function tN(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),Ee(e,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:yu(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function LS(n,t,e="/"){return eN(n,t,e,!1)}function eN(n,t,e,i){let r=typeof t=="string"?yl(t):t,o=Us(r.pathname||"/",e);if(o==null)return null;let c=PS(n);nN(c);let h=null;for(let d=0;h==null&&d<c.length;++d){let g=fN(o);h=hN(c[d],g,i)}return h}function PS(n,t=[],e=[],i=""){let r=(o,c,h)=>{let d={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};d.relativePath.startsWith("/")&&(Ee(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length));let g=js([i,d.relativePath]),_=e.concat(d);o.children&&o.children.length>0&&(Ee(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),PS(o.children,t,_,g)),!(o.path==null&&!o.index)&&t.push({path:g,score:cN(g,o.index),routesMeta:_})};return n.forEach((o,c)=>{if(o.path===""||!o.path?.includes("?"))r(o,c);else for(let h of US(o.path))r(o,c,h)}),t}function US(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,r=e.endsWith("?"),o=e.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let c=US(i.join("/")),h=[];return h.push(...c.map(d=>d===""?o:[o,d].join("/"))),r&&h.push(...c),h.map(d=>n.startsWith("/")&&d===""?"/":d)}function nN(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:uN(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var iN=/^:[\w-]+$/,sN=3,rN=2,aN=1,oN=10,lN=-2,Ix=n=>n==="*";function cN(n,t){let e=n.split("/"),i=e.length;return e.some(Ix)&&(i+=lN),t&&(i+=rN),e.filter(r=>!Ix(r)).reduce((r,o)=>r+(iN.test(o)?sN:o===""?aN:oN),i)}function uN(n,t){return n.length===t.length&&n.slice(0,-1).every((i,r)=>i===t[r])?n[n.length-1]-t[t.length-1]:0}function hN(n,t,e=!1){let{routesMeta:i}=n,r={},o="/",c=[];for(let h=0;h<i.length;++h){let d=i[h],g=h===i.length-1,_=o==="/"?t:t.slice(o.length)||"/",b=ef({path:d.relativePath,caseSensitive:d.caseSensitive,end:g},_),x=d.route;if(!b&&g&&e&&!i[i.length-1].route.index&&(b=ef({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},_)),!b)return null;Object.assign(r,b.params),c.push({params:r,pathname:js([o,b.pathname]),pathnameBase:yN(js([o,b.pathnameBase])),route:x}),b.pathnameBase!=="/"&&(o=js([o,b.pathnameBase]))}return c}function ef(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=dN(n.path,n.caseSensitive,n.end),r=t.match(e);if(!r)return null;let o=r[0],c=o.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:i.reduce((g,{paramName:_,isOptional:b},x)=>{if(_==="*"){let N=h[x]||"";c=o.slice(0,o.length-N.length).replace(/(.)\/+$/,"$1")}const E=h[x];return b&&!E?g[_]=void 0:g[_]=(E||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:c,pattern:n}}function dN(n,t=!1,e=!0){Gi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,d)=>(i.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function fN(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Gi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Us(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}function gN(n,t="/"){let{pathname:e,search:i="",hash:r=""}=typeof n=="string"?yl(n):n;return{pathname:e?e.startsWith("/")?e:mN(e,t):t,search:_N(i),hash:vN(r)}}function mN(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function Sp(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pN(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function zS(n){let t=pN(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function BS(n,t,e,i=!1){let r;typeof n=="string"?r=yl(n):(r={...n},Ee(!r.pathname||!r.pathname.includes("?"),Sp("?","pathname","search",r)),Ee(!r.pathname||!r.pathname.includes("#"),Sp("#","pathname","hash",r)),Ee(!r.search||!r.search.includes("#"),Sp("#","search","hash",r)));let o=n===""||r.pathname==="",c=o?"/":r.pathname,h;if(c==null)h=e;else{let b=t.length-1;if(!i&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),b-=1;r.pathname=x.join("/")}h=b>=0?t[b]:"/"}let d=gN(r,h),g=c&&c!=="/"&&c.endsWith("/"),_=(o||c===".")&&e.endsWith("/");return!d.pathname.endsWith("/")&&(g||_)&&(d.pathname+="/"),d}var js=n=>n.join("/").replace(/\/\/+/g,"/"),yN=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),_N=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,vN=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function bN(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var HS=["POST","PUT","PATCH","DELETE"];new Set(HS);var xN=["GET",...HS];new Set(xN);var _l=B.createContext(null);_l.displayName="DataRouter";var Vf=B.createContext(null);Vf.displayName="DataRouterState";B.createContext(!1);var FS=B.createContext({isTransitioning:!1});FS.displayName="ViewTransition";var wN=B.createContext(new Map);wN.displayName="Fetchers";var SN=B.createContext(null);SN.displayName="Await";var $i=B.createContext(null);$i.displayName="Navigation";var ju=B.createContext(null);ju.displayName="Location";var Xi=B.createContext({outlet:null,matches:[],isDataRoute:!1});Xi.displayName="Route";var Iy=B.createContext(null);Iy.displayName="RouteError";function EN(n,{relative:t}={}){Ee(Lu(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=B.useContext($i),{hash:r,pathname:o,search:c}=Pu(n,{relative:t}),h=o;return e!=="/"&&(h=o==="/"?e:js([e,o])),i.createHref({pathname:h,search:c,hash:r})}function Lu(){return B.useContext(ju)!=null}function Ka(){return Ee(Lu(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(ju).location}var VS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qS(n){B.useContext($i).static||B.useLayoutEffect(n)}function Fs(){let{isDataRoute:n}=B.useContext(Xi);return n?UN():TN()}function TN(){Ee(Lu(),"useNavigate() may be used only in the context of a <Router> component.");let n=B.useContext(_l),{basename:t,navigator:e}=B.useContext($i),{matches:i}=B.useContext(Xi),{pathname:r}=Ka(),o=JSON.stringify(zS(i)),c=B.useRef(!1);return qS(()=>{c.current=!0}),B.useCallback((d,g={})=>{if(Gi(c.current,VS),!c.current)return;if(typeof d=="number"){e.go(d);return}let _=BS(d,JSON.parse(o),r,g.relative==="path");n==null&&t!=="/"&&(_.pathname=_.pathname==="/"?t:js([t,_.pathname])),(g.replace?e.replace:e.push)(_,g.state,g)},[t,e,o,r,n])}B.createContext(null);function CN(){let{matches:n}=B.useContext(Xi),t=n[n.length-1];return t?t.params:{}}function Pu(n,{relative:t}={}){let{matches:e}=B.useContext(Xi),{pathname:i}=Ka(),r=JSON.stringify(zS(e));return B.useMemo(()=>BS(n,JSON.parse(r),i,t==="path"),[n,r,i,t])}function AN(n,t){return WS(n,t)}function WS(n,t,e,i){Ee(Lu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=B.useContext($i),{matches:o}=B.useContext(Xi),c=o[o.length-1],h=c?c.params:{},d=c?c.pathname:"/",g=c?c.pathnameBase:"/",_=c&&c.route;{let U=_&&_.path||"";YS(d,!_||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let b=Ka(),x;if(t){let U=typeof t=="string"?yl(t):t;Ee(g==="/"||U.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${U.pathname}" was given in the \`location\` prop.`),x=U}else x=b;let E=x.pathname||"/",N=E;if(g!=="/"){let U=g.replace(/^\//,"").split("/");N="/"+E.replace(/^\//,"").split("/").slice(U.length).join("/")}let R=LS(n,{pathname:N});Gi(_||R!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Gi(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=ON(R&&R.map(U=>Object.assign({},U,{params:Object.assign({},h,U.params),pathname:js([g,r.encodeLocation?r.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?g:js([g,r.encodeLocation?r.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),o,e,i);return t&&M?B.createElement(ju.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},M):M}function NN(){let n=PN(),t=bN(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:o},"ErrorBoundary")," or"," ",B.createElement("code",{style:o},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},t),e?B.createElement("pre",{style:r},e):null,c)}var kN=B.createElement(NN,null),RN=class extends B.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?B.createElement(Xi.Provider,{value:this.props.routeContext},B.createElement(Iy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function MN({routeContext:n,match:t,children:e}){let i=B.useContext(_l);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),B.createElement(Xi.Provider,{value:n},e)}function ON(n,t=[],e=null,i=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let r=n,o=e?.errors;if(o!=null){let d=r.findIndex(g=>g.route.id&&o?.[g.route.id]!==void 0);Ee(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,d+1))}let c=!1,h=-1;if(e)for(let d=0;d<r.length;d++){let g=r[d];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=d),g.route.id){let{loaderData:_,errors:b}=e,x=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||x){c=!0,h>=0?r=r.slice(0,h+1):r=[r[0]];break}}}return r.reduceRight((d,g,_)=>{let b,x=!1,E=null,N=null;e&&(b=o&&g.route.id?o[g.route.id]:void 0,E=g.route.errorElement||kN,c&&(h<0&&_===0?(YS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,N=null):h===_&&(x=!0,N=g.route.hydrateFallbackElement||null)));let R=t.concat(r.slice(0,_+1)),M=()=>{let U;return b?U=E:x?U=N:g.route.Component?U=B.createElement(g.route.Component,null):g.route.element?U=g.route.element:U=d,B.createElement(MN,{match:g,routeContext:{outlet:d,matches:R,isDataRoute:e!=null},children:U})};return e&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?B.createElement(RN,{location:e.location,revalidation:e.revalidation,component:E,error:b,children:M(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):M()},null)}function jy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DN(n){let t=B.useContext(_l);return Ee(t,jy(n)),t}function IN(n){let t=B.useContext(Vf);return Ee(t,jy(n)),t}function jN(n){let t=B.useContext(Xi);return Ee(t,jy(n)),t}function Ly(n){let t=jN(n),e=t.matches[t.matches.length-1];return Ee(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function LN(){return Ly("useRouteId")}function PN(){let n=B.useContext(Iy),t=IN("useRouteError"),e=Ly("useRouteError");return n!==void 0?n:t.errors?.[e]}function UN(){let{router:n}=DN("useNavigate"),t=Ly("useNavigate"),e=B.useRef(!1);return qS(()=>{e.current=!0}),B.useCallback(async(r,o={})=>{Gi(e.current,VS),e.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:t,...o}))},[n,t])}var jx={};function YS(n,t,e){!t&&!jx[n]&&(jx[n]=!0,Gi(!1,e))}B.memo(zN);function zN({routes:n,future:t,state:e}){return WS(n,void 0,e,t)}function di(n){Ee(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function BN({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:r,static:o=!1}){Ee(!Lu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),h=B.useMemo(()=>({basename:c,navigator:r,static:o,future:{}}),[c,r,o]);typeof e=="string"&&(e=yl(e));let{pathname:d="/",search:g="",hash:_="",state:b=null,key:x="default"}=e,E=B.useMemo(()=>{let N=Us(d,c);return N==null?null:{location:{pathname:N,search:g,hash:_,state:b,key:x},navigationType:i}},[c,d,g,_,b,x,i]);return Gi(E!=null,`<Router basename="${c}"> is not able to match the URL "${d}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:B.createElement($i.Provider,{value:h},B.createElement(ju.Provider,{children:t,value:E}))}function HN({children:n,location:t}){return AN(ty(n),t)}function ty(n,t=[]){let e=[];return B.Children.forEach(n,(i,r)=>{if(!B.isValidElement(i))return;let o=[...t,r];if(i.type===B.Fragment){e.push.apply(e,ty(i.props.children,o));return}Ee(i.type===di,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ee(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=ty(i.props.children,o)),e.push(c)}),e}var Vd="get",qd="application/x-www-form-urlencoded";function qf(n){return n!=null&&typeof n.tagName=="string"}function FN(n){return qf(n)&&n.tagName.toLowerCase()==="button"}function VN(n){return qf(n)&&n.tagName.toLowerCase()==="form"}function qN(n){return qf(n)&&n.tagName.toLowerCase()==="input"}function WN(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function YN(n,t){return n.button===0&&(!t||t==="_self")&&!WN(n)}var Sd=null;function GN(){if(Sd===null)try{new FormData(document.createElement("form"),0),Sd=!1}catch{Sd=!0}return Sd}var $N=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ep(n){return n!=null&&!$N.has(n)?(Gi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qd}"`),null):n}function XN(n,t){let e,i,r,o,c;if(VN(n)){let h=n.getAttribute("action");i=h?Us(h,t):null,e=n.getAttribute("method")||Vd,r=Ep(n.getAttribute("enctype"))||qd,o=new FormData(n)}else if(FN(n)||qN(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||h.getAttribute("action");if(i=d?Us(d,t):null,e=n.getAttribute("formmethod")||h.getAttribute("method")||Vd,r=Ep(n.getAttribute("formenctype"))||Ep(h.getAttribute("enctype"))||qd,o=new FormData(h,n),!GN()){let{name:g,type:_,value:b}=n;if(_==="image"){let x=g?`${g}.`:"";o.append(`${x}x`,"0"),o.append(`${x}y`,"0")}else g&&o.append(g,b)}}else{if(qf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Vd,i=null,r=qd,c=n}return o&&r==="text/plain"&&(c=o,o=void 0),{action:i,method:e.toLowerCase(),encType:r,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Py(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function QN(n,t,e){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${e}`:t&&Us(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${e}`,i}async function KN(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ZN(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function JN(n,t,e){let i=await Promise.all(n.map(async r=>{let o=t.routes[r.route.id];if(o){let c=await KN(o,e);return c.links?c.links():[]}return[]}));return ik(i.flat(1).filter(ZN).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function Lx(n,t,e,i,r,o){let c=(d,g)=>e[g]?d.route.id!==e[g].route.id:!0,h=(d,g)=>e[g].pathname!==d.pathname||e[g].route.path?.endsWith("*")&&e[g].params["*"]!==d.params["*"];return o==="assets"?t.filter((d,g)=>c(d,g)||h(d,g)):o==="data"?t.filter((d,g)=>{let _=i.routes[d.route.id];if(!_||!_.hasLoader)return!1;if(c(d,g)||h(d,g))return!0;if(d.route.shouldRevalidate){let b=d.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function tk(n,t,{includeHydrateFallback:e}={}){return ek(n.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function ek(n){return[...new Set(n)]}function nk(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function ik(n,t){let e=new Set;return new Set(t),n.reduce((i,r)=>{let o=JSON.stringify(nk(r));return e.has(o)||(e.add(o),i.push({key:o,link:r})),i},[])}function GS(){let n=B.useContext(_l);return Py(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function sk(){let n=B.useContext(Vf);return Py(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Uy=B.createContext(void 0);Uy.displayName="FrameworkContext";function $S(){let n=B.useContext(Uy);return Py(n,"You must render this element inside a <HydratedRouter> element"),n}function rk(n,t){let e=B.useContext(Uy),[i,r]=B.useState(!1),[o,c]=B.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:g,onMouseLeave:_,onTouchStart:b}=t,x=B.useRef(null);B.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let R=U=>{U.forEach($=>{c($.isIntersecting)})},M=new IntersectionObserver(R,{threshold:.5});return x.current&&M.observe(x.current),()=>{M.disconnect()}}},[n]),B.useEffect(()=>{if(i){let R=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(R)}}},[i]);let E=()=>{r(!0)},N=()=>{r(!1),c(!1)};return e?n!=="intent"?[o,x,{}]:[o,x,{onFocus:Lc(h,E),onBlur:Lc(d,N),onMouseEnter:Lc(g,E),onMouseLeave:Lc(_,N),onTouchStart:Lc(b,E)}]:[!1,x,{}]}function Lc(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function ak({page:n,...t}){let{router:e}=GS(),i=B.useMemo(()=>LS(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?B.createElement(lk,{page:n,matches:i,...t}):null}function ok(n){let{manifest:t,routeModules:e}=$S(),[i,r]=B.useState([]);return B.useEffect(()=>{let o=!1;return JN(n,t,e).then(c=>{o||r(c)}),()=>{o=!0}},[n,t,e]),i}function lk({page:n,matches:t,...e}){let i=Ka(),{manifest:r,routeModules:o}=$S(),{basename:c}=GS(),{loaderData:h,matches:d}=sk(),g=B.useMemo(()=>Lx(n,t,d,r,i,"data"),[n,t,d,r,i]),_=B.useMemo(()=>Lx(n,t,d,r,i,"assets"),[n,t,d,r,i]),b=B.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let N=new Set,R=!1;if(t.forEach(U=>{let $=r.routes[U.route.id];!$||!$.hasLoader||(!g.some(Q=>Q.route.id===U.route.id)&&U.route.id in h&&o[U.route.id]?.shouldRevalidate||$.hasClientLoader?R=!0:N.add(U.route.id))}),N.size===0)return[];let M=QN(n,c,"data");return R&&N.size>0&&M.searchParams.set("_routes",t.filter(U=>N.has(U.route.id)).map(U=>U.route.id).join(",")),[M.pathname+M.search]},[c,h,i,r,g,t,n,o]),x=B.useMemo(()=>tk(_,r),[_,r]),E=ok(_);return B.createElement(B.Fragment,null,b.map(N=>B.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...e})),x.map(N=>B.createElement("link",{key:N,rel:"modulepreload",href:N,...e})),E.map(({key:N,link:R})=>B.createElement("link",{key:N,...R})))}function ck(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var XS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{XS&&(window.__reactRouterVersion="7.7.1")}catch{}function uk({basename:n,children:t,window:e}){let i=B.useRef();i.current==null&&(i.current=KA({window:e,v5Compat:!0}));let r=i.current,[o,c]=B.useState({action:r.action,location:r.location}),h=B.useCallback(d=>{B.startTransition(()=>c(d))},[c]);return B.useLayoutEffect(()=>r.listen(h),[r,h]),B.createElement(BN,{basename:n,children:t,location:o.location,navigationType:o.action,navigator:r})}var QS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vt=B.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:r,reloadDocument:o,replace:c,state:h,target:d,to:g,preventScrollReset:_,viewTransition:b,...x},E){let{basename:N}=B.useContext($i),R=typeof g=="string"&&QS.test(g),M,U=!1;if(typeof g=="string"&&R&&(M=g,XS))try{let k=new URL(window.location.href),I=g.startsWith("//")?new URL(k.protocol+g):new URL(g),L=Us(I.pathname,N);I.origin===k.origin&&L!=null?g=L+I.search+I.hash:U=!0}catch{Gi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=EN(g,{relative:r}),[Q,tt,Z]=rk(i,x),ot=gk(g,{replace:c,state:h,target:d,preventScrollReset:_,relative:r,viewTransition:b});function O(k){t&&t(k),k.defaultPrevented||ot(k)}let T=B.createElement("a",{...x,...Z,href:M||$,onClick:U||o?t:O,ref:ck(E,tt),target:d,"data-discover":!R&&e==="render"?"true":void 0});return Q&&!R?B.createElement(B.Fragment,null,T,B.createElement(ak,{page:$})):T});Vt.displayName="Link";var hk=B.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:r=!1,style:o,to:c,viewTransition:h,children:d,...g},_){let b=Pu(c,{relative:g.relative}),x=Ka(),E=B.useContext(Vf),{navigator:N,basename:R}=B.useContext($i),M=E!=null&&vk(b)&&h===!0,U=N.encodeLocation?N.encodeLocation(b).pathname:b.pathname,$=x.pathname,Q=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;e||($=$.toLowerCase(),Q=Q?Q.toLowerCase():null,U=U.toLowerCase()),Q&&R&&(Q=Us(Q,R)||Q);const tt=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let Z=$===U||!r&&$.startsWith(U)&&$.charAt(tt)==="/",ot=Q!=null&&(Q===U||!r&&Q.startsWith(U)&&Q.charAt(U.length)==="/"),O={isActive:Z,isPending:ot,isTransitioning:M},T=Z?t:void 0,k;typeof i=="function"?k=i(O):k=[i,Z?"active":null,ot?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let I=typeof o=="function"?o(O):o;return B.createElement(Vt,{...g,"aria-current":T,className:k,ref:_,style:I,to:c,viewTransition:h},typeof d=="function"?d(O):d)});hk.displayName="NavLink";var dk=B.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:r,state:o,method:c=Vd,action:h,onSubmit:d,relative:g,preventScrollReset:_,viewTransition:b,...x},E)=>{let N=yk(),R=_k(h,{relative:g}),M=c.toLowerCase()==="get"?"get":"post",U=typeof h=="string"&&QS.test(h),$=Q=>{if(d&&d(Q),Q.defaultPrevented)return;Q.preventDefault();let tt=Q.nativeEvent.submitter,Z=tt?.getAttribute("formmethod")||c;N(tt||Q.currentTarget,{fetcherKey:t,method:Z,navigate:e,replace:r,state:o,relative:g,preventScrollReset:_,viewTransition:b})};return B.createElement("form",{ref:E,method:M,action:R,onSubmit:i?d:$,...x,"data-discover":!U&&n==="render"?"true":void 0})});dk.displayName="Form";function fk(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KS(n){let t=B.useContext(_l);return Ee(t,fk(n)),t}function gk(n,{target:t,replace:e,state:i,preventScrollReset:r,relative:o,viewTransition:c}={}){let h=Fs(),d=Ka(),g=Pu(n,{relative:o});return B.useCallback(_=>{if(YN(_,t)){_.preventDefault();let b=e!==void 0?e:yu(d)===yu(g);h(n,{replace:b,state:i,preventScrollReset:r,relative:o,viewTransition:c})}},[d,h,g,e,i,t,n,r,o,c])}var mk=0,pk=()=>`__${String(++mk)}__`;function yk(){let{router:n}=KS("useSubmit"),{basename:t}=B.useContext($i),e=LN();return B.useCallback(async(i,r={})=>{let{action:o,method:c,encType:h,formData:d,body:g}=XN(i,t);if(r.navigate===!1){let _=r.fetcherKey||pk();await n.fetch(_,e,r.action||o,{preventScrollReset:r.preventScrollReset,formData:d,body:g,formMethod:r.method||c,formEncType:r.encType||h,flushSync:r.flushSync})}else await n.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:d,body:g,formMethod:r.method||c,formEncType:r.encType||h,replace:r.replace,state:r.state,fromRouteId:e,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,t,e])}function _k(n,{relative:t}={}){let{basename:e}=B.useContext($i),i=B.useContext(Xi);Ee(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...Pu(n||".",{relative:t})},c=Ka();if(n==null){o.search=c.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(_=>_==="")){h.delete("index"),d.filter(b=>b).forEach(b=>h.append("index",b));let _=h.toString();o.search=_?`?${_}`:""}}return(!n||n===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:js([e,o.pathname])),yu(o)}function vk(n,{relative:t}={}){let e=B.useContext(FS);Ee(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=KS("useViewTransitionState"),r=Pu(n,{relative:t});if(!e.isTransitioning)return!1;let o=Us(e.currentLocation.pathname,i)||e.currentLocation.pathname,c=Us(e.nextLocation.pathname,i)||e.nextLocation.pathname;return ef(r.pathname,c)!=null||ef(r.pathname,o)!=null}const ZS=B.createContext();function JS({children:n}){const[t,e]=B.useState(()=>{const i=localStorage.getItem("darkMode");return i?JSON.parse(i):!1});return B.useEffect(()=>{document.documentElement.classList.toggle("dark",t),localStorage.setItem("darkMode",JSON.stringify(t))},[t]),y.jsx(ZS.Provider,{value:{darkMode:t,setDarkMode:e},children:n})}function Wf(){return B.useContext(ZS)}const bk=()=>{};var Px={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ut=function(n,t){if(!n)throw vl(t)},vl=function(n){return new Error("Firebase Database ("+tE.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},xk=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[e++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[e++],c=n[e++],h=n[e++],d=((r&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(d>>10)),t[i++]=String.fromCharCode(56320+(d&1023))}else{const o=n[e++],c=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|c&63)}}return t.join("")},zy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],c=r+1<n.length,h=c?n[r+1]:0,d=r+2<n.length,g=d?n[r+2]:0,_=o>>2,b=(o&3)<<4|h>>4;let x=(h&15)<<2|g>>6,E=g&63;d||(E=64,c||(x=64)),i.push(e[_],e[b],e[x],e[E])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(eE(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):xk(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=e[n.charAt(r++)],h=r<n.length?e[n.charAt(r)]:0;++r;const g=r<n.length?e[n.charAt(r)]:64;++r;const b=r<n.length?e[n.charAt(r)]:64;if(++r,o==null||h==null||g==null||b==null)throw new wk;const x=o<<2|h>>4;if(i.push(x),g!==64){const E=h<<4&240|g>>2;if(i.push(E),b!==64){const N=g<<6&192|b;i.push(N)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class wk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nE=function(n){const t=eE(n);return zy.encodeByteArray(t,!0)},nf=function(n){return nE(n).replace(/\./g,"")},sf=function(n){try{return zy.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(n){return iE(void 0,n)}function iE(n,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const e=t;return new Date(e.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return t}for(const e in t)!t.hasOwnProperty(e)||!Ek(e)||(n[e]=iE(n[e],t[e]));return n}function Ek(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck=()=>Tk().__FIREBASE_DEFAULTS__,Ak=()=>{if(typeof process>"u"||typeof Px>"u")return;const n=Px.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Nk=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&sf(n[1]);return t&&JSON.parse(t)},By=()=>{try{return bk()||Ck()||Ak()||Nk()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},sE=n=>By()?.emulatorHosts?.[n],rE=n=>{const t=sE(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},aE=()=>By()?.config,oE=n=>By()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Hy(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[nf(JSON.stringify(e)),nf(JSON.stringify(c)),""].join(".")}const nu={};function kk(){const n={prod:[],emulator:[]};for(const t of Object.keys(nu))nu[t]?n.emulator.push(t):n.prod.push(t);return n}function Rk(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let Ux=!1;function Fy(n,t){if(typeof window>"u"||typeof document>"u"||!Za(window.location.host)||nu[n]===t||nu[n]||Ux)return;nu[n]=t;function e(x){return`__firebase__banner__${x}`}const i="__firebase__banner",o=kk().prod.length>0;function c(){const x=document.getElementById(i);x&&x.remove()}function h(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function d(x,E){x.setAttribute("width","24"),x.setAttribute("id",E),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function g(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Ux=!0,c()},x}function _(x,E){x.setAttribute("id",E),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=Rk(i),E=e("text"),N=document.getElementById(E)||document.createElement("span"),R=e("learnmore"),M=document.getElementById(R)||document.createElement("a"),U=e("preprendIcon"),$=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const Q=x.element;h(Q),_(M,R);const tt=g();d($,U),Q.append($,N,M,tt),document.body.appendChild(Q)}o?(N.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Vy(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())}function Mk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ok(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function cE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Dk(){const n=bn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Ik(){return tE.NODE_ADMIN===!0}function jk(){try{return typeof indexedDB=="object"}catch{return!1}}function Lk(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{t(r.error?.message||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk="FirebaseError";class Vs extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=Pk,Object.setPrototypeOf(this,Vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zu.prototype.create)}}class zu{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],c=o?Uk(o,i):"Error",h=`${this.serviceName}: ${c} (${r}).`;return new Vs(r,h,i)}}function Uk(n,t){return n.replace(zk,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const zk=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(n){return JSON.parse(n)}function tn(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE=function(n){let t={},e={},i={},r="";try{const o=n.split(".");t=_u(sf(o[0])||""),e=_u(sf(o[1])||""),r=o[2],i=e.d||{},delete e.d}catch{}return{header:t,claims:e,data:i,signature:r}},Bk=function(n){const t=uE(n),e=t.claims;return!!e&&typeof e=="object"&&e.hasOwnProperty("iat")},Hk=function(n){const t=uE(n).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function cl(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]}function ey(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function rf(n,t,e){const i={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=t.call(e,n[r],r,n));return i}function Or(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const o=n[r],c=t[r];if(zx(o)&&zx(c)){if(!Or(o,c))return!1}else if(o!==c)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function zx(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Xc(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(o)}}),t}function Qc(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,e){e||(e=0);const i=this.W_;if(typeof t=="string")for(let b=0;b<16;b++)i[b]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(let b=0;b<16;b++)i[b]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(let b=16;b<80;b++){const x=i[b-3]^i[b-8]^i[b-14]^i[b-16];i[b]=(x<<1|x>>>31)&4294967295}let r=this.chain_[0],o=this.chain_[1],c=this.chain_[2],h=this.chain_[3],d=this.chain_[4],g,_;for(let b=0;b<80;b++){b<40?b<20?(g=h^o&(c^h),_=1518500249):(g=o^c^h,_=1859775393):b<60?(g=o&c|h&(o|c),_=2400959708):(g=o^c^h,_=3395469782);const x=(r<<5|r>>>27)+g+d+_+i[b]&4294967295;d=h,h=c,c=(o<<30|o>>>2)&4294967295,o=r,r=x}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(t,e){if(t==null)return;e===void 0&&(e=t.length);const i=e-this.blockSize;let r=0;const o=this.buf_;let c=this.inbuf_;for(;r<e;){if(c===0)for(;r<=i;)this.compress_(t,r),r+=this.blockSize;if(typeof t=="string"){for(;r<e;)if(o[c]=t.charCodeAt(r),++c,++r,c===this.blockSize){this.compress_(o),c=0;break}}else for(;r<e;)if(o[c]=t[r],++c,++r,c===this.blockSize){this.compress_(o),c=0;break}}this.inbuf_=c,this.total_+=e}digest(){const t=[];let e=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=e&255,e/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let o=24;o>=0;o-=8)t[i]=this.chain_[r]>>o&255,++i;return t}}function Vk(n,t){const e=new qk(n,t);return e.subscribe.bind(e)}class qk{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");Wk(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=Tp),r.error===void 0&&(r.error=Tp),r.complete===void 0&&(r.complete=Tp);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Wk(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Tp(){}function Yf(n,t){return`${n} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);if(r>=55296&&r<=56319){const o=r-55296;i++,ut(i<n.length,"Surrogate pair missing trail surrogate.");const c=n.charCodeAt(i)-56320;r=65536+(o<<10)+c}r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):r<65536?(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},Gf=function(n){let t=0;for(let e=0;e<n.length;e++){const i=n.charCodeAt(e);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,e++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(n){return n&&n._delegate?n._delegate:n}class Dr{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new Uu;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Xk(t))try{this.getOrInitializeService({instanceIdentifier:ka})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=ka){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ka){return this.instances.has(t)}getOptions(t=ka){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&c.resolve(r)}return r}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),r=this.onInitCallbacks.get(i)??new Set;r.add(t),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&t(o,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:$k(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=ka){return this.component?this.component.multipleInstances?t:ka:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $k(n){return n===ka?void 0:n}function Xk(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new Gk(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(qt||(qt={}));const Kk={debug:qt.DEBUG,verbose:qt.VERBOSE,info:qt.INFO,warn:qt.WARN,error:qt.ERROR,silent:qt.SILENT},Zk=qt.INFO,Jk={[qt.DEBUG]:"log",[qt.VERBOSE]:"log",[qt.INFO]:"info",[qt.WARN]:"warn",[qt.ERROR]:"error"},tR=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=Jk[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class $f{constructor(t){this.name=t,this._logLevel=Zk,this._logHandler=tR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in qt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Kk[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,qt.DEBUG,...t),this._logHandler(this,qt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,qt.VERBOSE,...t),this._logHandler(this,qt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,qt.INFO,...t),this._logHandler(this,qt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,qt.WARN,...t),this._logHandler(this,qt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,qt.ERROR,...t),this._logHandler(this,qt.ERROR,...t)}}const eR=(n,t)=>t.some(e=>n instanceof e);let Bx,Hx;function nR(){return Bx||(Bx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iR(){return Hx||(Hx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hE=new WeakMap,ny=new WeakMap,dE=new WeakMap,Cp=new WeakMap,qy=new WeakMap;function sR(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{e(Ar(n.result)),r()},c=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&hE.set(e,n)}).catch(()=>{}),qy.set(t,n),t}function rR(n){if(ny.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{e(),r()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});ny.set(n,t)}let iy={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return ny.get(n);if(t==="objectStoreNames")return n.objectStoreNames||dE.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Ar(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function aR(n){iy=n(iy)}function oR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Ap(this),t,...e);return dE.set(i,t.sort?t.sort():[t]),Ar(i)}:iR().includes(n)?function(...t){return n.apply(Ap(this),t),Ar(hE.get(this))}:function(...t){return Ar(n.apply(Ap(this),t))}}function lR(n){return typeof n=="function"?oR(n):(n instanceof IDBTransaction&&rR(n),eR(n,nR())?new Proxy(n,iy):n)}function Ar(n){if(n instanceof IDBRequest)return sR(n);if(Cp.has(n))return Cp.get(n);const t=lR(n);return t!==n&&(Cp.set(n,t),qy.set(t,n)),t}const Ap=n=>qy.get(n);function cR(n,t,{blocked:e,upgrade:i,blocking:r,terminated:o}={}){const c=indexedDB.open(n,t),h=Ar(c);return i&&c.addEventListener("upgradeneeded",d=>{i(Ar(c.result),d.oldVersion,d.newVersion,Ar(c.transaction),d)}),e&&c.addEventListener("blocked",d=>e(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),r&&d.addEventListener("versionchange",g=>r(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const uR=["get","getKey","getAll","getAllKeys","count"],hR=["put","add","delete","clear"],Np=new Map;function Fx(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Np.get(t))return Np.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=hR.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||uR.includes(e)))return;const o=async function(c,...h){const d=this.transaction(c,r?"readwrite":"readonly");let g=d.store;return i&&(g=g.index(h.shift())),(await Promise.all([g[e](...h),r&&d.done]))[0]};return Np.set(t,o),o}aR(n=>({...n,get:(t,e,i)=>Fx(t,e)||n.get(t,e,i),has:(t,e)=>!!Fx(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(fR(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function fR(n){return n.getComponent()?.type==="VERSION"}const sy="@firebase/app",Vx="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs=new $f("@firebase/app"),gR="@firebase/app-compat",mR="@firebase/analytics-compat",pR="@firebase/analytics",yR="@firebase/app-check-compat",_R="@firebase/app-check",vR="@firebase/auth",bR="@firebase/auth-compat",xR="@firebase/database",wR="@firebase/data-connect",SR="@firebase/database-compat",ER="@firebase/functions",TR="@firebase/functions-compat",CR="@firebase/installations",AR="@firebase/installations-compat",NR="@firebase/messaging",kR="@firebase/messaging-compat",RR="@firebase/performance",MR="@firebase/performance-compat",OR="@firebase/remote-config",DR="@firebase/remote-config-compat",IR="@firebase/storage",jR="@firebase/storage-compat",LR="@firebase/firestore",PR="@firebase/ai",UR="@firebase/firestore-compat",zR="firebase",BR="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry="[DEFAULT]",HR={[sy]:"fire-core",[gR]:"fire-core-compat",[pR]:"fire-analytics",[mR]:"fire-analytics-compat",[_R]:"fire-app-check",[yR]:"fire-app-check-compat",[vR]:"fire-auth",[bR]:"fire-auth-compat",[xR]:"fire-rtdb",[wR]:"fire-data-connect",[SR]:"fire-rtdb-compat",[ER]:"fire-fn",[TR]:"fire-fn-compat",[CR]:"fire-iid",[AR]:"fire-iid-compat",[NR]:"fire-fcm",[kR]:"fire-fcm-compat",[RR]:"fire-perf",[MR]:"fire-perf-compat",[OR]:"fire-rc",[DR]:"fire-rc-compat",[IR]:"fire-gcs",[jR]:"fire-gcs-compat",[LR]:"fire-fst",[UR]:"fire-fst-compat",[PR]:"fire-vertex","fire-js":"fire-js",[zR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const af=new Map,FR=new Map,ay=new Map;function qx(n,t){try{n.container.addComponent(t)}catch(e){zs.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Fa(n){const t=n.name;if(ay.has(t))return zs.debug(`There were multiple attempts to register component ${t}.`),!1;ay.set(t,n);for(const e of af.values())qx(e,n);for(const e of FR.values())qx(e,n);return!0}function Xf(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function An(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Nr=new zu("app","Firebase",VR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Dr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Nr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja=BR;function fE(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:ry,automaticDataCollectionEnabled:!0,...t},r=i.name;if(typeof r!="string"||!r)throw Nr.create("bad-app-name",{appName:String(r)});if(e||(e=aE()),!e)throw Nr.create("no-options");const o=af.get(r);if(o){if(Or(e,o.options)&&Or(i,o.config))return o;throw Nr.create("duplicate-app",{appName:r})}const c=new Qk(r);for(const d of ay.values())c.addComponent(d);const h=new qR(e,i,c);return af.set(r,h),h}function Wy(n=ry){const t=af.get(n);if(!t&&n===ry&&aE())return fE();if(!t)throw Nr.create("no-app",{appName:n});return t}function Wi(n,t,e){let i=HR[n]??n;e&&(i+=`-${e}`);const r=i.match(/\s|\//),o=t.match(/\s|\//);if(r||o){const c=[`Unable to register library "${i}" with version "${t}":`];r&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&c.push("and"),o&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),zs.warn(c.join(" "));return}Fa(new Dr(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR="firebase-heartbeat-database",YR=1,vu="firebase-heartbeat-store";let kp=null;function gE(){return kp||(kp=cR(WR,YR,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(vu)}catch(e){console.warn(e)}}}}).catch(n=>{throw Nr.create("idb-open",{originalErrorMessage:n.message})})),kp}async function GR(n){try{const e=(await gE()).transaction(vu),i=await e.objectStore(vu).get(mE(n));return await e.done,i}catch(t){if(t instanceof Vs)zs.warn(t.message);else{const e=Nr.create("idb-get",{originalErrorMessage:t?.message});zs.warn(e.message)}}}async function Wx(n,t){try{const i=(await gE()).transaction(vu,"readwrite");await i.objectStore(vu).put(t,mE(n)),await i.done}catch(e){if(e instanceof Vs)zs.warn(e.message);else{const i=Nr.create("idb-set",{originalErrorMessage:e?.message});zs.warn(i.message)}}}function mE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=1024,XR=30;class QR{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new ZR(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Yx();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>XR){const r=JR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){zs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Yx(),{heartbeatsToSend:e,unsentEntries:i}=KR(this._heartbeatsCache.heartbeats),r=nf(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return zs.warn(t),""}}}function Yx(){return new Date().toISOString().substring(0,10)}function KR(n,t=$R){const e=[];let i=n.slice();for(const r of n){const o=e.find(c=>c.agent===r.agent);if(o){if(o.dates.push(r.date),Gx(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),Gx(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class ZR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jk()?Lk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await GR(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Wx(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Wx(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Gx(n){return nf(JSON.stringify({version:2,heartbeats:n})).length}function JR(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(n){Fa(new Dr("platform-logger",t=>new dR(t),"PRIVATE")),Fa(new Dr("heartbeat",t=>new QR(t),"PRIVATE")),Wi(sy,Vx,n),Wi(sy,Vx,"esm2020"),Wi("fire-js","")}tM("");var eM="firebase",nM="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wi(eM,nM,"app");function pE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iM=pE,yE=new zu("auth","Firebase",pE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of=new $f("@firebase/auth");function sM(n,...t){of.logLevel<=qt.WARN&&of.warn(`Auth (${Ja}): ${n}`,...t)}function Wd(n,...t){of.logLevel<=qt.ERROR&&of.error(`Auth (${Ja}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(n,...t){throw Gy(n,...t)}function vi(n,...t){return Gy(n,...t)}function Yy(n,t,e){const i={...iM(),[t]:e};return new zu("auth","Firebase",i).create(t,{appName:n.name})}function Ls(n){return Yy(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rM(n,t,e){const i=e;if(!(t instanceof i))throw i.name!==t.constructor.name&&ii(n,"argument-error"),Yy(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Gy(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return yE.create(n,...t)}function bt(n,t,...e){if(!n)throw Gy(t,...e)}function Rs(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Wd(t),new Error(t)}function Bs(n,t){n||Rs(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(){return typeof self<"u"&&self.location?.href||""}function aM(){return $x()==="http:"||$x()==="https:"}function $x(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aM()||Ok()||"connection"in navigator)?navigator.onLine:!0}function lM(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(t,e){this.shortDelay=t,this.longDelay=e,Bs(e>t,"Short delay should be less than long delay!"),this.isMobile=Vy()||cE()}get(){return oM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(n,t){Bs(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hM=new Bu(3e4,6e4);function qs(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function Ki(n,t,e,i,r={}){return vE(n,r,async()=>{let o={},c={};i&&(t==="GET"?c=i:o={body:JSON.stringify(i)});const h=bl({key:n.config.apiKey,...c}).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const g={method:t,headers:d,...o};return Mk()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Za(n.emulatorConfig.host)&&(g.credentials="include"),_E.fetch()(await bE(n,n.config.apiHost,e,h),g)})}async function vE(n,t,e){n._canInitEmulator=!1;const i={...cM,...t};try{const r=new fM(n),o=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw Ed(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[d,g]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ed(n,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw Ed(n,"email-already-in-use",c);if(d==="USER_DISABLED")throw Ed(n,"user-disabled",c);const _=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Yy(n,_,g);ii(n,_)}}catch(r){if(r instanceof Vs)throw r;ii(n,"network-request-failed",{message:String(r)})}}async function Hu(n,t,e,i,r={}){const o=await Ki(n,t,e,i,r);return"mfaPendingCredential"in o&&ii(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function bE(n,t,e,i){const r=`${t}${e}?${i}`,o=n,c=o.config.emulator?$y(n.config,r):`${n.config.apiScheme}://${r}`;return uM.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function dM(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(vi(this.auth,"network-request-failed")),hM.get())})}}function Ed(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=vi(n,t,i);return r.customData._tokenResponse=e,r}function Xx(n){return n!==void 0&&n.enterprise!==void 0}class gM{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return dM(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function mM(n,t){return Ki(n,"GET","/v2/recaptchaConfig",qs(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pM(n,t){return Ki(n,"POST","/v1/accounts:delete",t)}async function lf(n,t){return Ki(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function yM(n,t=!1){const e=nn(n),i=await e.getIdToken(t),r=Xy(i);bt(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,c=o?.sign_in_provider;return{claims:r,token:i,authTime:iu(Rp(r.auth_time)),issuedAtTime:iu(Rp(r.iat)),expirationTime:iu(Rp(r.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Rp(n){return Number(n)*1e3}function Xy(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return Wd("JWT malformed, contained fewer than 3 sections"),null;try{const r=sf(e);return r?JSON.parse(r):(Wd("Failed to decode base64 JWT payload"),null)}catch(r){return Wd("Caught error parsing JWT payload as JSON",r?.toString()),null}}function Qx(n){const t=Xy(n);return bt(t,"internal-error"),bt(typeof t.exp<"u","internal-error"),bt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ul(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof Vs&&_M(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function _M({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=iu(this.lastLoginAt),this.creationTime=iu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cf(n){const t=n.auth,e=await n.getIdToken(),i=await ul(n,lf(t,{idToken:e}));bt(i?.users.length,t,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const o=r.providerUserInfo?.length?xE(r.providerUserInfo):[],c=xM(n.providerData,o),h=n.isAnonymous,d=!(n.email&&r.passwordHash)&&!c?.length,g=h?d:!1,_={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:c,metadata:new ly(r.createdAt,r.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function bM(n){const t=nn(n);await cf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function xM(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function xE(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wM(n,t){const e=await vE(n,{},async()=>{const i=bl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,c=await bE(n,r,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:i};return n.emulatorConfig&&Za(n.emulatorConfig.host)&&(d.credentials="include"),_E.fetch()(c,d)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function SM(n,t){return Ki(n,"POST","/v2/accounts:revokeToken",qs(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){bt(t.idToken,"internal-error"),bt(typeof t.idToken<"u","internal-error"),bt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Qx(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){bt(t.length!==0,"internal-error");const e=Qx(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:o}=await wM(t,e);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:o}=e,c=new el;return i&&(bt(typeof i=="string","internal-error",{appName:t}),c.refreshToken=i),r&&(bt(typeof r=="string","internal-error",{appName:t}),c.accessToken=r),o&&(bt(typeof o=="number","internal-error",{appName:t}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new el,this.toJSON())}_performRefresh(){return Rs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(n,t){bt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class pi{constructor({uid:t,auth:e,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new vM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new ly(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const e=await ul(this,this.stsTokenManager.getToken(this.auth,t));return bt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return yM(this,t)}reload(){return bM(this)}_assign(t){this!==t&&(bt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new pi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await cf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(An(this.auth.app))return Promise.reject(Ls(this.auth));const t=await this.getIdToken();return await ul(this,pM(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,r=e.email??void 0,o=e.phoneNumber??void 0,c=e.photoURL??void 0,h=e.tenantId??void 0,d=e._redirectEventId??void 0,g=e.createdAt??void 0,_=e.lastLoginAt??void 0,{uid:b,emailVerified:x,isAnonymous:E,providerData:N,stsTokenManager:R}=e;bt(b&&R,t,"internal-error");const M=el.fromJSON(this.name,R);bt(typeof b=="string",t,"internal-error"),vr(i,t.name),vr(r,t.name),bt(typeof x=="boolean",t,"internal-error"),bt(typeof E=="boolean",t,"internal-error"),vr(o,t.name),vr(c,t.name),vr(h,t.name),vr(d,t.name),vr(g,t.name),vr(_,t.name);const U=new pi({uid:b,auth:t,email:r,emailVerified:x,displayName:i,isAnonymous:E,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:M,createdAt:g,lastLoginAt:_});return N&&Array.isArray(N)&&(U.providerData=N.map($=>({...$}))),d&&(U._redirectEventId=d),U}static async _fromIdTokenResponse(t,e,i=!1){const r=new el;r.updateFromServerResponse(e);const o=new pi({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await cf(o),o}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];bt(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?xE(r.providerUserInfo):[],c=!(r.email&&r.passwordHash)&&!o?.length,h=new el;h.updateFromIdToken(i);const d=new pi({uid:r.localId,auth:t,stsTokenManager:h,isAnonymous:c}),g={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new ly(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(d,g),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx=new Map;function Ms(n){Bs(n instanceof Function,"Expected a class definition");let t=Kx.get(n);return t?(Bs(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,Kx.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}wE.type="NONE";const Zx=wE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yd(n,t,e){return`firebase:${n}:${t}:${e}`}class nl{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=Yd(this.userKey,r.apiKey,o),this.fullPersistenceKey=Yd("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await lf(this.auth,{idToken:t}).catch(()=>{});return e?pi._fromGetAccountInfoResponse(this.auth,e,t):null}return pi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new nl(Ms(Zx),t,i);const r=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let o=r[0]||Ms(Zx);const c=Yd(i,t.config.apiKey,t.name);let h=null;for(const g of e)try{const _=await g._get(c);if(_){let b;if(typeof _=="string"){const x=await lf(t,{idToken:_}).catch(()=>{});if(!x)break;b=await pi._fromGetAccountInfoResponse(t,x,_)}else b=pi._fromJSON(t,_);g!==o&&(h=b),o=g;break}}catch{}const d=r.filter(g=>g._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new nl(o,t,i):(o=d[0],h&&await o._set(c,h.toJSON()),await Promise.all(e.map(async g=>{if(g!==o)try{await g._remove(c)}catch{}})),new nl(o,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(CE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(SE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(NE(t))return"Blackberry";if(kE(t))return"Webos";if(EE(t))return"Safari";if((t.includes("chrome/")||TE(t))&&!t.includes("edge/"))return"Chrome";if(AE(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function SE(n=bn()){return/firefox\//i.test(n)}function EE(n=bn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function TE(n=bn()){return/crios\//i.test(n)}function CE(n=bn()){return/iemobile/i.test(n)}function AE(n=bn()){return/android/i.test(n)}function NE(n=bn()){return/blackberry/i.test(n)}function kE(n=bn()){return/webos/i.test(n)}function Qy(n=bn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function EM(n=bn()){return Qy(n)&&!!window.navigator?.standalone}function TM(){return Dk()&&document.documentMode===10}function RE(n=bn()){return Qy(n)||AE(n)||kE(n)||NE(n)||/windows phone/i.test(n)||CE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(n,t=[]){let e;switch(n){case"Browser":e=Jx(bn());break;case"Worker":e=`${Jx(bn())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Ja}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((c,h)=>{try{const d=t(o);c(d)}catch(d){h(d)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AM(n,t={}){return Ki(n,"GET","/v2/passwordPolicy",qs(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM=6;class kM{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??NM,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tw(this),this.idTokenSubscription=new tw(this),this.beforeStateQueue=new CM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Ms(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await nl.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await lf(this,{idToken:t}),i=await pi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(An(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=i?._redirectEventId,h=await this.tryRedirectSignIn(t);(!o||o===c)&&h?.user&&(i=h.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await cf(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=lM()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(An(this.app))return Promise.reject(Ls(this));const e=t?nn(t):null;return e&&bt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&bt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return An(this.app)?Promise.reject(Ls(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return An(this.app)?Promise.reject(Ls(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ms(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await AM(this),e=new kM(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new zu("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await SM(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Ms(t)||this._popupRedirectResolver;bt(e,this,"argument-error"),this.redirectPersistenceManager=await nl.create(this,[Ms(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof e=="function"){const d=t.addObserver(e,i,r);return()=>{c=!0,d()}}else{const d=t.addObserver(e);return()=>{c=!0,d()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=ME(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&sM(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Hr(n){return nn(n)}class tw{constructor(t){this.auth=t,this.observer=null,this.addObserver=Vk(e=>this.observer=e)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function MM(n){Qf=n}function OE(n){return Qf.loadJS(n)}function OM(){return Qf.recaptchaEnterpriseScript}function DM(){return Qf.gapiScript}function IM(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class jM{constructor(){this.enterprise=new LM}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class LM{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const PM="recaptcha-enterprise",DE="NO_RECAPTCHA";class UM{constructor(t){this.type=PM,this.auth=Hr(t)}async verify(t="verify",e=!1){async function i(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,h)=>{mM(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const g=new gM(d);return o.tenantId==null?o._agentRecaptchaConfig=g:o._tenantRecaptchaConfigs[o.tenantId]=g,c(g.siteKey)}}).catch(d=>{h(d)})})}function r(o,c,h){const d=window.grecaptcha;Xx(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:t}).then(g=>{c(g)}).catch(()=>{c(DE)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new jM().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{i(this.auth).then(h=>{if(!e&&Xx(window.grecaptcha))r(h,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let d=OM();d.length!==0&&(d+=h),OE(d).then(()=>{r(h,o,c)}).catch(g=>{c(g)})}}).catch(h=>{c(h)})})}}async function ew(n,t,e,i=!1,r=!1){const o=new UM(n);let c;if(r)c=DE;else try{c=await o.verify(e)}catch{c=await o.verify(e,!0)}const h={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,g=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function cy(n,t,e,i,r){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await ew(n,t,e,e==="getOobCode");return i(n,o)}else return i(n,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await ew(n,t,e,e==="getOobCode");return i(n,c)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zM(n,t){const e=Xf(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),o=e.getOptions();if(Or(o,t??{}))return r;ii(r,"already-initialized")}return e.initialize({options:t})}function BM(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Ms);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function HM(n,t,e){const i=Hr(n);bt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,o=IE(t),{host:c,port:h}=FM(t),d=h===null?"":`:${h}`,g={url:`${o}//${c}${d}/`},_=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){bt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),bt(Or(g,i.config.emulator)&&Or(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,Za(c)?(Hy(`${o}//${c}${d}`),Fy("Auth",!0)):VM()}function IE(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function FM(n){const t=IE(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:nw(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:nw(c)}}}function nw(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function VM(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Rs("not implemented")}_getIdTokenResponse(t){return Rs("not implemented")}_linkToIdToken(t,e){return Rs("not implemented")}_getReauthenticationResolver(t){return Rs("not implemented")}}async function qM(n,t){return Ki(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WM(n,t){return Hu(n,"POST","/v1/accounts:signInWithPassword",qs(n,t))}async function YM(n,t){return Ki(n,"POST","/v1/accounts:sendOobCode",qs(n,t))}async function GM(n,t){return YM(n,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $M(n,t){return Hu(n,"POST","/v1/accounts:signInWithEmailLink",qs(n,t))}async function XM(n,t){return Hu(n,"POST","/v1/accounts:signInWithEmailLink",qs(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends Ky{constructor(t,e,i,r=null){super("password",i),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new bu(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new bu(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cy(t,e,"signInWithPassword",WM);case"emailLink":return $M(t,{email:this._email,oobCode:this._password});default:ii(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cy(t,i,"signUpPassword",qM);case"emailLink":return XM(t,{idToken:e,email:this._email,oobCode:this._password});default:ii(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function il(n,t){return Hu(n,"POST","/v1/accounts:signInWithIdp",qs(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM="http://localhost";class Va extends Ky{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Va(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):ii("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r,...o}=e;if(!i||!r)return null;const c=new Va(i,r);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return il(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,il(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,il(t,e)}buildRequest(){const t={requestUri:QM,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=bl(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ZM(n){const t=Xc(Qc(n)).link,e=t?Xc(Qc(t)).deep_link_id:null,i=Xc(Qc(n)).deep_link_id;return(i?Xc(Qc(i)).link:null)||i||e||t||n}class Zy{constructor(t){const e=Xc(Qc(t)),i=e.apiKey??null,r=e.oobCode??null,o=KM(e.mode??null);bt(i&&r&&o,"argument-error"),this.apiKey=i,this.operation=o,this.code=r,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=ZM(t);try{return new Zy(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(){this.providerId=xl.PROVIDER_ID}static credential(t,e){return bu._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=Zy.parseLink(e);return bt(i,"argument-error"),bu._fromEmailAndCode(t,i.code,i.tenantId)}}xl.PROVIDER_ID="password";xl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu extends Jy{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends Fu{constructor(){super("facebook.com")}static credential(t){return Va._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return xr.credentialFromTaggedObject(t)}static credentialFromError(t){return xr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return xr.credential(t.oauthAccessToken)}catch{return null}}}xr.FACEBOOK_SIGN_IN_METHOD="facebook.com";xr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends Fu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Va._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Ns.credentialFromTaggedObject(t)}static credentialFromError(t){return Ns.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return Ns.credential(e,i)}catch{return null}}}Ns.GOOGLE_SIGN_IN_METHOD="google.com";Ns.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends Fu{constructor(){super("github.com")}static credential(t){return Va._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return wr.credentialFromTaggedObject(t)}static credentialFromError(t){return wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return wr.credential(t.oauthAccessToken)}catch{return null}}}wr.GITHUB_SIGN_IN_METHOD="github.com";wr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends Fu{constructor(){super("twitter.com")}static credential(t,e){return Va._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Sr.credentialFromTaggedObject(t)}static credentialFromError(t){return Sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return Sr.credential(e,i)}catch{return null}}}Sr.TWITTER_SIGN_IN_METHOD="twitter.com";Sr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JM(n,t){return Hu(n,"POST","/v1/accounts:signUp",qs(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const o=await pi._fromIdTokenResponse(t,i,r),c=iw(i);return new qa({user:o,providerId:c,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=iw(i);return new qa({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function iw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf extends Vs{constructor(t,e,i,r){super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,uf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new uf(t,e,i,r)}}function jE(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?uf._fromErrorAndOperation(n,o,t,i):o})}async function tO(n,t,e=!1){const i=await ul(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return qa._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eO(n,t,e=!1){const{auth:i}=n;if(An(i.app))return Promise.reject(Ls(i));const r="reauthenticate";try{const o=await ul(n,jE(i,r,t,n),e);bt(o.idToken,i,"internal-error");const c=Xy(o.idToken);bt(c,i,"internal-error");const{sub:h}=c;return bt(n.uid===h,i,"user-mismatch"),qa._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&ii(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LE(n,t,e=!1){if(An(n.app))return Promise.reject(Ls(n));const i="signIn",r=await jE(n,i,t),o=await qa._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(o.user),o}async function nO(n,t){return LE(Hr(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PE(n){const t=Hr(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function iO(n,t,e){if(An(n.app))return Promise.reject(Ls(n));const i=Hr(n),c=await cy(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",JM).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&PE(n),d}),h=await qa._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(h.user),h}function sO(n,t,e){return An(n.app)?Promise.reject(Ls(n)):nO(nn(n),xl.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&PE(n),i})}async function rO(n,t){const e=nn(n),r={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:o}=await GM(e.auth,r);o!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aO(n,t){return Ki(n,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UE(n,{displayName:t,photoURL:e}){if(t===void 0&&e===void 0)return;const i=nn(n),o={idToken:await i.getIdToken(),displayName:t,photoUrl:e,returnSecureToken:!0},c=await ul(i,aO(i.auth,o));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const h=i.providerData.find(({providerId:d})=>d==="password");h&&(h.displayName=i.displayName,h.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function oO(n,t,e,i){return nn(n).onIdTokenChanged(t,e,i)}function lO(n,t,e){return nn(n).beforeAuthStateChanged(t,e)}function zE(n,t,e,i){return nn(n).onAuthStateChanged(t,e,i)}function cO(n){return nn(n).signOut()}const hf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(hf,"1"),this.storage.removeItem(hf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=1e3,hO=10;class HE extends BE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=RE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,h,d)=>{this.notifyListeners(c,d)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const c=this.storage.getItem(i);!e&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);TM()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,hO):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},uO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}HE.type="LOCAL";const dO=HE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE extends BE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}FE.type="SESSION";const VE=FE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new Kf(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:o}=e.data,c=this.handlersMap[r];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const h=Array.from(c).map(async g=>g(e.origin,o)),d=await fO(h);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:d})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,c;return new Promise((h,d)=>{const g=t0("",20);r.port1.start();const _=setTimeout(()=>{d(new Error("unsupported_event"))},i);c={messageChannel:r,onMessage(b){const x=b;if(x.data.eventId===g)switch(x.data.status){case"ack":clearTimeout(_),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(x.data.response);break;default:clearTimeout(_),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(c),r.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[r.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(){return window}function mO(n){Yi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(){return typeof Yi().WorkerGlobalScope<"u"&&typeof Yi().importScripts=="function"}async function pO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yO(){return navigator?.serviceWorker?.controller||null}function _O(){return qE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="firebaseLocalStorageDb",vO=1,df="firebaseLocalStorage",YE="fbase_key";class Vu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Zf(n,t){return n.transaction([df],t?"readwrite":"readonly").objectStore(df)}function bO(){const n=indexedDB.deleteDatabase(WE);return new Vu(n).toPromise()}function uy(){const n=indexedDB.open(WE,vO);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(df,{keyPath:YE})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(df)?t(i):(i.close(),await bO(),t(await uy()))})})}async function sw(n,t,e){const i=Zf(n,!0).put({[YE]:t,value:e});return new Vu(i).toPromise()}async function xO(n,t){const e=Zf(n,!1).get(t),i=await new Vu(e).toPromise();return i===void 0?null:i.value}function rw(n,t){const e=Zf(n,!0).delete(t);return new Vu(e).toPromise()}const wO=800,SO=3;class GE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await uy(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>SO)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kf._getInstance(_O()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await pO(),!this.activeServiceWorker)return;this.sender=new gO(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||yO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await uy();return await sw(t,hf,"1"),await rw(t,hf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>sw(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>xO(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>rw(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const o=Zf(r,!1).getAll();return new Vu(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:o}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GE.type="LOCAL";const EO=GE;new Bu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(n,t){return t?Ms(t):(bt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0 extends Ky{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return il(t,this._buildIdpRequest())}_linkToIdToken(t,e){return il(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return il(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function TO(n){return LE(n.auth,new e0(n),n.bypassAuthState)}function CO(n){const{auth:t,user:e}=n;return bt(e,t,"internal-error"),eO(e,new e0(n),n.bypassAuthState)}async function AO(n){const{auth:t,user:e}=n;return bt(e,t,"internal-error"),tO(e,new e0(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(t,e,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:o,error:c,type:h}=t;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return TO;case"linkViaPopup":case"linkViaRedirect":return AO;case"reauthViaPopup":case"reauthViaRedirect":return CO;default:ii(this.auth,"internal-error")}}resolve(t){Bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO=new Bu(2e3,1e4);async function QE(n,t,e){if(An(n.app))return Promise.reject(vi(n,"operation-not-supported-in-this-environment"));const i=Hr(n);rM(n,t,Jy);const r=$E(i,e);return new Ia(i,"signInViaPopup",t,r).executeNotNull()}class Ia extends XE{constructor(t,e,i,r,o){super(t,e,r,o),this.provider=i,this.authWindow=null,this.pollId=null,Ia.currentPopupAction&&Ia.currentPopupAction.cancel(),Ia.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return bt(t,this.auth,"internal-error"),t}async onExecution(){Bs(this.filter.length===1,"Popup operations only handle one event");const t=t0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ia.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,NO.get())};t()}}Ia.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO="pendingRedirect",Gd=new Map;class RO extends XE{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=Gd.get(this.auth._key());if(!t){try{const i=await MO(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}Gd.set(this.auth._key(),t)}return this.bypassAuthState||Gd.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MO(n,t){const e=IO(t),i=DO(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function OO(n,t){Gd.set(n._key(),t)}function DO(n){return Ms(n._redirectPersistence)}function IO(n){return Yd(kO,n.config.apiKey,n.name)}async function jO(n,t,e=!1){if(An(n.app))return Promise.reject(Ls(n));const i=Hr(n),r=$E(i,t),c=await new RO(i,r,e).execute();return c&&!e&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=600*1e3;class PO{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!UO(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!KE(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(vi(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=LO&&this.cachedEventUids.clear(),this.cachedEventUids.has(aw(t))}saveEventToCache(t){this.cachedEventUids.add(aw(t)),this.lastProcessedEventTime=Date.now()}}function aw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function KE({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function UO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zO(n,t={}){return Ki(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HO=/^https?/;async function FO(n){if(n.config.emulator)return;const{authorizedDomains:t}=await zO(n);for(const e of t)try{if(VO(e))return}catch{}ii(n,"unauthorized-domain")}function VO(n){const t=oy(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===i}if(!HO.test(e))return!1;if(BO.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO=new Bu(3e4,6e4);function ow(){const n=Yi().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function WO(n){return new Promise((t,e)=>{function i(){ow(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ow(),e(vi(n,"network-request-failed"))},timeout:qO.get()})}if(Yi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Yi().gapi?.load)i();else{const r=IM("iframefcb");return Yi()[r]=()=>{gapi.load?i():e(vi(n,"network-request-failed"))},OE(`${DM()}?onload=${r}`).catch(o=>e(o))}}).catch(t=>{throw $d=null,t})}let $d=null;function YO(n){return $d=$d||WO(n),$d}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO=new Bu(5e3,15e3),$O="__/auth/iframe",XO="emulator/auth/iframe",QO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZO(n){const t=n.config;bt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?$y(t,XO):`https://${n.config.authDomain}/${$O}`,i={apiKey:t.apiKey,appName:n.name,v:Ja},r=KO.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${bl(i).slice(1)}`}async function JO(n){const t=await YO(n),e=Yi().gapi;return bt(e,n,"internal-error"),t.open({where:document.body,url:ZO(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QO,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const c=vi(n,"network-request-failed"),h=Yi().setTimeout(()=>{o(c)},GO.get());function d(){Yi().clearTimeout(h),r(i)}i.ping(d).then(d,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eD=500,nD=600,iD="_blank",sD="http://localhost";class lw{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rD(n,t,e,i=eD,r=nD){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const d={...tD,width:i.toString(),height:r.toString(),top:o,left:c},g=bn().toLowerCase();e&&(h=TE(g)?iD:e),SE(g)&&(t=t||sD,d.scrollbars="yes");const _=Object.entries(d).reduce((x,[E,N])=>`${x}${E}=${N},`,"");if(EM(g)&&h!=="_self")return aD(t||"",h),new lw(null);const b=window.open(t||"",h,_);bt(b,n,"popup-blocked");try{b.focus()}catch{}return new lw(b)}function aD(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD="__/auth/handler",lD="emulator/auth/handler",cD=encodeURIComponent("fac");async function cw(n,t,e,i,r,o){bt(n.config.authDomain,n,"auth-domain-config-required"),bt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Ja,eventId:r};if(t instanceof Jy){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",ey(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[_,b]of Object.entries({}))c[_]=b}if(t instanceof Fu){const _=t.getScopes().filter(b=>b!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const d=await n._getAppCheckToken(),g=d?`#${cD}=${encodeURIComponent(d)}`:"";return`${uD(n)}?${bl(h).slice(1)}${g}`}function uD({config:n}){return n.emulator?$y(n,lD):`https://${n.authDomain}/${oD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp="webStorageSupport";class hD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VE,this._completeRedirectFn=jO,this._overrideRedirectResult=OO}async _openPopup(t,e,i,r){Bs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await cw(t,e,i,oy(),r);return rD(t,o,t0())}async _openRedirect(t,e,i,r){await this._originValidation(t);const o=await cw(t,e,i,oy(),r);return mO(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:o}=this.eventManagers[e];return r?Promise.resolve(r):(Bs(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await JO(t),i=new PO(t);return e.register("authEvent",r=>(bt(r?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Mp,{type:Mp},r=>{const o=r?.[0]?.[Mp];o!==void 0&&e(!!o),ii(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=FO(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return RE()||EE()||Qy()}}const dD=hD;var uw="@firebase/auth",hw="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mD(n){Fa(new Dr("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;bt(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ME(n)},g=new RM(i,r,o,d);return BM(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Fa(new Dr("auth-internal",t=>{const e=Hr(t.getProvider("auth").getImmediate());return(i=>new fD(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wi(uw,hw,gD(n)),Wi(uw,hw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD=300,yD=oE("authIdTokenMaxAge")||pD;let dw=null;const _D=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>yD)return;const r=e?.token;dw!==r&&(dw=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function vD(n=Wy()){const t=Xf(n,"auth");if(t.isInitialized())return t.getImmediate();const e=zM(n,{popupRedirectResolver:dD,persistence:[EO,dO,VE]}),i=oE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=_D(o.toString());lO(e,c,()=>c(e.currentUser)),oO(e,h=>c(h))}}const r=sE("auth");return r&&HM(e,`http://${r}`),e}function bD(){return document.getElementsByTagName("head")?.[0]??document}MM({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const o=vi("internal-error");o.customData=r,e(o)},i.type="text/javascript",i.charset="UTF-8",bD().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mD("Browser");var fw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var n0;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,T){function k(){}k.prototype=T.prototype,O.D=T.prototype,O.prototype=new k,O.prototype.constructor=O,O.C=function(I,L,z){for(var D=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)D[Tt-2]=arguments[Tt];return T.prototype[L].apply(I,D)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(O,T,k){k||(k=0);var I=Array(16);if(typeof T=="string")for(var L=0;16>L;++L)I[L]=T.charCodeAt(k++)|T.charCodeAt(k++)<<8|T.charCodeAt(k++)<<16|T.charCodeAt(k++)<<24;else for(L=0;16>L;++L)I[L]=T[k++]|T[k++]<<8|T[k++]<<16|T[k++]<<24;T=O.g[0],k=O.g[1],L=O.g[2];var z=O.g[3],D=T+(z^k&(L^z))+I[0]+3614090360&4294967295;T=k+(D<<7&4294967295|D>>>25),D=z+(L^T&(k^L))+I[1]+3905402710&4294967295,z=T+(D<<12&4294967295|D>>>20),D=L+(k^z&(T^k))+I[2]+606105819&4294967295,L=z+(D<<17&4294967295|D>>>15),D=k+(T^L&(z^T))+I[3]+3250441966&4294967295,k=L+(D<<22&4294967295|D>>>10),D=T+(z^k&(L^z))+I[4]+4118548399&4294967295,T=k+(D<<7&4294967295|D>>>25),D=z+(L^T&(k^L))+I[5]+1200080426&4294967295,z=T+(D<<12&4294967295|D>>>20),D=L+(k^z&(T^k))+I[6]+2821735955&4294967295,L=z+(D<<17&4294967295|D>>>15),D=k+(T^L&(z^T))+I[7]+4249261313&4294967295,k=L+(D<<22&4294967295|D>>>10),D=T+(z^k&(L^z))+I[8]+1770035416&4294967295,T=k+(D<<7&4294967295|D>>>25),D=z+(L^T&(k^L))+I[9]+2336552879&4294967295,z=T+(D<<12&4294967295|D>>>20),D=L+(k^z&(T^k))+I[10]+4294925233&4294967295,L=z+(D<<17&4294967295|D>>>15),D=k+(T^L&(z^T))+I[11]+2304563134&4294967295,k=L+(D<<22&4294967295|D>>>10),D=T+(z^k&(L^z))+I[12]+1804603682&4294967295,T=k+(D<<7&4294967295|D>>>25),D=z+(L^T&(k^L))+I[13]+4254626195&4294967295,z=T+(D<<12&4294967295|D>>>20),D=L+(k^z&(T^k))+I[14]+2792965006&4294967295,L=z+(D<<17&4294967295|D>>>15),D=k+(T^L&(z^T))+I[15]+1236535329&4294967295,k=L+(D<<22&4294967295|D>>>10),D=T+(L^z&(k^L))+I[1]+4129170786&4294967295,T=k+(D<<5&4294967295|D>>>27),D=z+(k^L&(T^k))+I[6]+3225465664&4294967295,z=T+(D<<9&4294967295|D>>>23),D=L+(T^k&(z^T))+I[11]+643717713&4294967295,L=z+(D<<14&4294967295|D>>>18),D=k+(z^T&(L^z))+I[0]+3921069994&4294967295,k=L+(D<<20&4294967295|D>>>12),D=T+(L^z&(k^L))+I[5]+3593408605&4294967295,T=k+(D<<5&4294967295|D>>>27),D=z+(k^L&(T^k))+I[10]+38016083&4294967295,z=T+(D<<9&4294967295|D>>>23),D=L+(T^k&(z^T))+I[15]+3634488961&4294967295,L=z+(D<<14&4294967295|D>>>18),D=k+(z^T&(L^z))+I[4]+3889429448&4294967295,k=L+(D<<20&4294967295|D>>>12),D=T+(L^z&(k^L))+I[9]+568446438&4294967295,T=k+(D<<5&4294967295|D>>>27),D=z+(k^L&(T^k))+I[14]+3275163606&4294967295,z=T+(D<<9&4294967295|D>>>23),D=L+(T^k&(z^T))+I[3]+4107603335&4294967295,L=z+(D<<14&4294967295|D>>>18),D=k+(z^T&(L^z))+I[8]+1163531501&4294967295,k=L+(D<<20&4294967295|D>>>12),D=T+(L^z&(k^L))+I[13]+2850285829&4294967295,T=k+(D<<5&4294967295|D>>>27),D=z+(k^L&(T^k))+I[2]+4243563512&4294967295,z=T+(D<<9&4294967295|D>>>23),D=L+(T^k&(z^T))+I[7]+1735328473&4294967295,L=z+(D<<14&4294967295|D>>>18),D=k+(z^T&(L^z))+I[12]+2368359562&4294967295,k=L+(D<<20&4294967295|D>>>12),D=T+(k^L^z)+I[5]+4294588738&4294967295,T=k+(D<<4&4294967295|D>>>28),D=z+(T^k^L)+I[8]+2272392833&4294967295,z=T+(D<<11&4294967295|D>>>21),D=L+(z^T^k)+I[11]+1839030562&4294967295,L=z+(D<<16&4294967295|D>>>16),D=k+(L^z^T)+I[14]+4259657740&4294967295,k=L+(D<<23&4294967295|D>>>9),D=T+(k^L^z)+I[1]+2763975236&4294967295,T=k+(D<<4&4294967295|D>>>28),D=z+(T^k^L)+I[4]+1272893353&4294967295,z=T+(D<<11&4294967295|D>>>21),D=L+(z^T^k)+I[7]+4139469664&4294967295,L=z+(D<<16&4294967295|D>>>16),D=k+(L^z^T)+I[10]+3200236656&4294967295,k=L+(D<<23&4294967295|D>>>9),D=T+(k^L^z)+I[13]+681279174&4294967295,T=k+(D<<4&4294967295|D>>>28),D=z+(T^k^L)+I[0]+3936430074&4294967295,z=T+(D<<11&4294967295|D>>>21),D=L+(z^T^k)+I[3]+3572445317&4294967295,L=z+(D<<16&4294967295|D>>>16),D=k+(L^z^T)+I[6]+76029189&4294967295,k=L+(D<<23&4294967295|D>>>9),D=T+(k^L^z)+I[9]+3654602809&4294967295,T=k+(D<<4&4294967295|D>>>28),D=z+(T^k^L)+I[12]+3873151461&4294967295,z=T+(D<<11&4294967295|D>>>21),D=L+(z^T^k)+I[15]+530742520&4294967295,L=z+(D<<16&4294967295|D>>>16),D=k+(L^z^T)+I[2]+3299628645&4294967295,k=L+(D<<23&4294967295|D>>>9),D=T+(L^(k|~z))+I[0]+4096336452&4294967295,T=k+(D<<6&4294967295|D>>>26),D=z+(k^(T|~L))+I[7]+1126891415&4294967295,z=T+(D<<10&4294967295|D>>>22),D=L+(T^(z|~k))+I[14]+2878612391&4294967295,L=z+(D<<15&4294967295|D>>>17),D=k+(z^(L|~T))+I[5]+4237533241&4294967295,k=L+(D<<21&4294967295|D>>>11),D=T+(L^(k|~z))+I[12]+1700485571&4294967295,T=k+(D<<6&4294967295|D>>>26),D=z+(k^(T|~L))+I[3]+2399980690&4294967295,z=T+(D<<10&4294967295|D>>>22),D=L+(T^(z|~k))+I[10]+4293915773&4294967295,L=z+(D<<15&4294967295|D>>>17),D=k+(z^(L|~T))+I[1]+2240044497&4294967295,k=L+(D<<21&4294967295|D>>>11),D=T+(L^(k|~z))+I[8]+1873313359&4294967295,T=k+(D<<6&4294967295|D>>>26),D=z+(k^(T|~L))+I[15]+4264355552&4294967295,z=T+(D<<10&4294967295|D>>>22),D=L+(T^(z|~k))+I[6]+2734768916&4294967295,L=z+(D<<15&4294967295|D>>>17),D=k+(z^(L|~T))+I[13]+1309151649&4294967295,k=L+(D<<21&4294967295|D>>>11),D=T+(L^(k|~z))+I[4]+4149444226&4294967295,T=k+(D<<6&4294967295|D>>>26),D=z+(k^(T|~L))+I[11]+3174756917&4294967295,z=T+(D<<10&4294967295|D>>>22),D=L+(T^(z|~k))+I[2]+718787259&4294967295,L=z+(D<<15&4294967295|D>>>17),D=k+(z^(L|~T))+I[9]+3951481745&4294967295,O.g[0]=O.g[0]+T&4294967295,O.g[1]=O.g[1]+(L+(D<<21&4294967295|D>>>11))&4294967295,O.g[2]=O.g[2]+L&4294967295,O.g[3]=O.g[3]+z&4294967295}i.prototype.u=function(O,T){T===void 0&&(T=O.length);for(var k=T-this.blockSize,I=this.B,L=this.h,z=0;z<T;){if(L==0)for(;z<=k;)r(this,O,z),z+=this.blockSize;if(typeof O=="string"){for(;z<T;)if(I[L++]=O.charCodeAt(z++),L==this.blockSize){r(this,I),L=0;break}}else for(;z<T;)if(I[L++]=O[z++],L==this.blockSize){r(this,I),L=0;break}}this.h=L,this.o+=T},i.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var T=1;T<O.length-8;++T)O[T]=0;var k=8*this.o;for(T=O.length-8;T<O.length;++T)O[T]=k&255,k/=256;for(this.u(O),O=Array(16),T=k=0;4>T;++T)for(var I=0;32>I;I+=8)O[k++]=this.g[T]>>>I&255;return O};function o(O,T){var k=h;return Object.prototype.hasOwnProperty.call(k,O)?k[O]:k[O]=T(O)}function c(O,T){this.h=T;for(var k=[],I=!0,L=O.length-1;0<=L;L--){var z=O[L]|0;I&&z==T||(k[L]=z,I=!1)}this.g=k}var h={};function d(O){return-128<=O&&128>O?o(O,function(T){return new c([T|0],0>T?-1:0)}):new c([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return b;if(0>O)return M(g(-O));for(var T=[],k=1,I=0;O>=k;I++)T[I]=O/k|0,k*=4294967296;return new c(T,0)}function _(O,T){if(O.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(O.charAt(0)=="-")return M(_(O.substring(1),T));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=g(Math.pow(T,8)),I=b,L=0;L<O.length;L+=8){var z=Math.min(8,O.length-L),D=parseInt(O.substring(L,L+z),T);8>z?(z=g(Math.pow(T,z)),I=I.j(z).add(g(D))):(I=I.j(k),I=I.add(g(D)))}return I}var b=d(0),x=d(1),E=d(16777216);n=c.prototype,n.m=function(){if(R(this))return-M(this).m();for(var O=0,T=1,k=0;k<this.g.length;k++){var I=this.i(k);O+=(0<=I?I:4294967296+I)*T,T*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(N(this))return"0";if(R(this))return"-"+M(this).toString(O);for(var T=g(Math.pow(O,6)),k=this,I="";;){var L=tt(k,T).g;k=U(k,L.j(T));var z=((0<k.g.length?k.g[0]:k.h)>>>0).toString(O);if(k=L,N(k))return z+I;for(;6>z.length;)z="0"+z;I=z+I}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function N(O){if(O.h!=0)return!1;for(var T=0;T<O.g.length;T++)if(O.g[T]!=0)return!1;return!0}function R(O){return O.h==-1}n.l=function(O){return O=U(this,O),R(O)?-1:N(O)?0:1};function M(O){for(var T=O.g.length,k=[],I=0;I<T;I++)k[I]=~O.g[I];return new c(k,~O.h).add(x)}n.abs=function(){return R(this)?M(this):this},n.add=function(O){for(var T=Math.max(this.g.length,O.g.length),k=[],I=0,L=0;L<=T;L++){var z=I+(this.i(L)&65535)+(O.i(L)&65535),D=(z>>>16)+(this.i(L)>>>16)+(O.i(L)>>>16);I=D>>>16,z&=65535,D&=65535,k[L]=D<<16|z}return new c(k,k[k.length-1]&-2147483648?-1:0)};function U(O,T){return O.add(M(T))}n.j=function(O){if(N(this)||N(O))return b;if(R(this))return R(O)?M(this).j(M(O)):M(M(this).j(O));if(R(O))return M(this.j(M(O)));if(0>this.l(E)&&0>O.l(E))return g(this.m()*O.m());for(var T=this.g.length+O.g.length,k=[],I=0;I<2*T;I++)k[I]=0;for(I=0;I<this.g.length;I++)for(var L=0;L<O.g.length;L++){var z=this.i(I)>>>16,D=this.i(I)&65535,Tt=O.i(L)>>>16,mt=O.i(L)&65535;k[2*I+2*L]+=D*mt,$(k,2*I+2*L),k[2*I+2*L+1]+=z*mt,$(k,2*I+2*L+1),k[2*I+2*L+1]+=D*Tt,$(k,2*I+2*L+1),k[2*I+2*L+2]+=z*Tt,$(k,2*I+2*L+2)}for(I=0;I<T;I++)k[I]=k[2*I+1]<<16|k[2*I];for(I=T;I<2*T;I++)k[I]=0;return new c(k,0)};function $(O,T){for(;(O[T]&65535)!=O[T];)O[T+1]+=O[T]>>>16,O[T]&=65535,T++}function Q(O,T){this.g=O,this.h=T}function tt(O,T){if(N(T))throw Error("division by zero");if(N(O))return new Q(b,b);if(R(O))return T=tt(M(O),T),new Q(M(T.g),M(T.h));if(R(T))return T=tt(O,M(T)),new Q(M(T.g),T.h);if(30<O.g.length){if(R(O)||R(T))throw Error("slowDivide_ only works with positive integers.");for(var k=x,I=T;0>=I.l(O);)k=Z(k),I=Z(I);var L=ot(k,1),z=ot(I,1);for(I=ot(I,2),k=ot(k,2);!N(I);){var D=z.add(I);0>=D.l(O)&&(L=L.add(k),z=D),I=ot(I,1),k=ot(k,1)}return T=U(O,L.j(T)),new Q(L,T)}for(L=b;0<=O.l(T);){for(k=Math.max(1,Math.floor(O.m()/T.m())),I=Math.ceil(Math.log(k)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),z=g(k),D=z.j(T);R(D)||0<D.l(O);)k-=I,z=g(k),D=z.j(T);N(z)&&(z=x),L=L.add(z),O=U(O,D)}return new Q(L,O)}n.A=function(O){return tt(this,O).h},n.and=function(O){for(var T=Math.max(this.g.length,O.g.length),k=[],I=0;I<T;I++)k[I]=this.i(I)&O.i(I);return new c(k,this.h&O.h)},n.or=function(O){for(var T=Math.max(this.g.length,O.g.length),k=[],I=0;I<T;I++)k[I]=this.i(I)|O.i(I);return new c(k,this.h|O.h)},n.xor=function(O){for(var T=Math.max(this.g.length,O.g.length),k=[],I=0;I<T;I++)k[I]=this.i(I)^O.i(I);return new c(k,this.h^O.h)};function Z(O){for(var T=O.g.length+1,k=[],I=0;I<T;I++)k[I]=O.i(I)<<1|O.i(I-1)>>>31;return new c(k,O.h)}function ot(O,T){var k=T>>5;T%=32;for(var I=O.g.length-k,L=[],z=0;z<I;z++)L[z]=0<T?O.i(z+k)>>>T|O.i(z+k+1)<<32-T:O.i(z+k);return new c(L,O.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,n0=c}).apply(typeof fw<"u"?fw:typeof self<"u"?self:typeof window<"u"?window:{});var Td=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,v,w){return f==Array.prototype||f==Object.prototype||(f[v]=w.value),f};function e(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Td=="object"&&Td];for(var v=0;v<f.length;++v){var w=f[v];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=e(this);function r(f,v){if(v)t:{var w=i;f=f.split(".");for(var A=0;A<f.length-1;A++){var q=f[A];if(!(q in w))break t;w=w[q]}f=f[f.length-1],A=w[f],v=v(A),v!=A&&v!=null&&t(w,f,{configurable:!0,writable:!0,value:v})}}function o(f,v){f instanceof String&&(f+="");var w=0,A=!1,q={next:function(){if(!A&&w<f.length){var J=w++;return{value:v(J,f[J]),done:!1}}return A=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}r("Array.prototype.values",function(f){return f||function(){return o(this,function(v,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function d(f){var v=typeof f;return v=v!="object"?v:f?Array.isArray(f)?"array":v:"null",v=="array"||v=="object"&&typeof f.length=="number"}function g(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function _(f,v,w){return f.call.apply(f.bind,arguments)}function b(f,v,w){if(!f)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,A),f.apply(v,q)}}return function(){return f.apply(v,arguments)}}function x(f,v,w){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:b,x.apply(null,arguments)}function E(f,v){var w=Array.prototype.slice.call(arguments,1);return function(){var A=w.slice();return A.push.apply(A,arguments),f.apply(this,A)}}function N(f,v){function w(){}w.prototype=v.prototype,f.aa=v.prototype,f.prototype=new w,f.prototype.constructor=f,f.Qb=function(A,q,J){for(var ht=Array(arguments.length-2),Gt=2;Gt<arguments.length;Gt++)ht[Gt-2]=arguments[Gt];return v.prototype[q].apply(A,ht)}}function R(f){const v=f.length;if(0<v){const w=Array(v);for(let A=0;A<v;A++)w[A]=f[A];return w}return[]}function M(f,v){for(let w=1;w<arguments.length;w++){const A=arguments[w];if(d(A)){const q=f.length||0,J=A.length||0;f.length=q+J;for(let ht=0;ht<J;ht++)f[q+ht]=A[ht]}else f.push(A)}}class U{constructor(v,w){this.i=v,this.j=w,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function $(f){return/^[\s\xa0]*$/.test(f)}function Q(){var f=h.navigator;return f&&(f=f.userAgent)?f:""}function tt(f){return tt[" "](f),f}tt[" "]=function(){};var Z=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function ot(f,v,w){for(const A in f)v.call(w,f[A],A,f)}function O(f,v){for(const w in f)v.call(void 0,f[w],w,f)}function T(f){const v={};for(const w in f)v[w]=f[w];return v}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(f,v){let w,A;for(let q=1;q<arguments.length;q++){A=arguments[q];for(w in A)f[w]=A[w];for(let J=0;J<k.length;J++)w=k[J],Object.prototype.hasOwnProperty.call(A,w)&&(f[w]=A[w])}}function L(f){var v=1;f=f.split(":");const w=[];for(;0<v&&f.length;)w.push(f.shift()),v--;return f.length&&w.push(f.join(":")),w}function z(f){h.setTimeout(()=>{throw f},0)}function D(){var f=gt;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class Tt{constructor(){this.h=this.g=null}add(v,w){const A=mt.get();A.set(v,w),this.h?this.h.next=A:this.g=A,this.h=A}}var mt=new U(()=>new G,f=>f.reset());class G{constructor(){this.next=this.g=this.h=null}set(v,w){this.h=v,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let V,lt=!1,gt=new Tt,P=()=>{const f=h.Promise.resolve(void 0);V=()=>{f.then(it)}};var it=()=>{for(var f;f=D();){try{f.h.call(f.g)}catch(w){z(w)}var v=mt;v.j(f),100>v.h&&(v.h++,f.next=v.g,v.g=f)}lt=!1};function ct(){this.s=this.s,this.C=this.C}ct.prototype.s=!1,ct.prototype.ma=function(){this.s||(this.s=!0,this.N())},ct.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function rt(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}rt.prototype.h=function(){this.defaultPrevented=!0};var dt=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const w=()=>{};h.addEventListener("test",w,v),h.removeEventListener("test",w,v)}catch{}return f}();function yt(f,v){if(rt.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var w=this.type=f.type,A=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget){if(Z){t:{try{tt(v.nodeName);var q=!0;break t}catch{}q=!1}q||(v=null)}}else w=="mouseover"?v=f.fromElement:w=="mouseout"&&(v=f.toElement);this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:et[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&yt.aa.h.call(this)}}N(yt,rt);var et={2:"touch",3:"pen",4:"mouse"};yt.prototype.h=function(){yt.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var St="closure_listenable_"+(1e6*Math.random()|0),Et=0;function Te(f,v,w,A,q){this.listener=f,this.proxy=null,this.src=v,this.type=w,this.capture=!!A,this.ha=q,this.key=++Et,this.da=this.fa=!1}function Yt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function me(f){this.src=f,this.g={},this.h=0}me.prototype.add=function(f,v,w,A,q){var J=f.toString();f=this.g[J],f||(f=this.g[J]=[],this.h++);var ht=se(f,v,A,q);return-1<ht?(v=f[ht],w||(v.fa=!1)):(v=new Te(v,this.src,J,!!A,q),v.fa=w,f.push(v)),v};function Be(f,v){var w=v.type;if(w in f.g){var A=f.g[w],q=Array.prototype.indexOf.call(A,v,void 0),J;(J=0<=q)&&Array.prototype.splice.call(A,q,1),J&&(Yt(v),f.g[w].length==0&&(delete f.g[w],f.h--))}}function se(f,v,w,A){for(var q=0;q<f.length;++q){var J=f[q];if(!J.da&&J.listener==v&&J.capture==!!w&&J.ha==A)return q}return-1}var Xt="closure_lm_"+(1e6*Math.random()|0),Vr={};function Zu(f,v,w,A,q){if(Array.isArray(v)){for(var J=0;J<v.length;J++)Zu(f,v[J],w,A,q);return null}return w=Ju(w),f&&f[St]?f.K(v,w,g(A)?!!A.capture:!1,q):Hn(f,v,w,!1,A,q)}function Hn(f,v,w,A,q,J){if(!v)throw Error("Invalid event type");var ht=g(q)?!!q.capture:!!q,Gt=so(f);if(Gt||(f[Xt]=Gt=new me(f)),w=Gt.add(v,w,A,ht,J),w.proxy)return w;if(A=yg(),w.proxy=A,A.src=f,A.listener=w,f.addEventListener)dt||(q=ht),q===void 0&&(q=!1),f.addEventListener(v.toString(),A,q);else if(f.attachEvent)f.attachEvent(qr(v.toString()),A);else if(f.addListener&&f.removeListener)f.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return w}function yg(){function f(w){return v.call(f.src,f.listener,w)}const v=_g;return f}function kl(f,v,w,A,q){if(Array.isArray(v))for(var J=0;J<v.length;J++)kl(f,v[J],w,A,q);else A=g(A)?!!A.capture:!!A,w=Ju(w),f&&f[St]?(f=f.i,v=String(v).toString(),v in f.g&&(J=f.g[v],w=se(J,w,A,q),-1<w&&(Yt(J[w]),Array.prototype.splice.call(J,w,1),J.length==0&&(delete f.g[v],f.h--)))):f&&(f=so(f))&&(v=f.g[v.toString()],f=-1,v&&(f=se(v,w,A,q)),(w=-1<f?v[f]:null)&&io(w))}function io(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[St])Be(v.i,f);else{var w=f.type,A=f.proxy;v.removeEventListener?v.removeEventListener(w,A,f.capture):v.detachEvent?v.detachEvent(qr(w),A):v.addListener&&v.removeListener&&v.removeListener(A),(w=so(v))?(Be(w,f),w.h==0&&(w.src=null,v[Xt]=null)):Yt(f)}}}function qr(f){return f in Vr?Vr[f]:Vr[f]="on"+f}function _g(f,v){if(f.da)f=!0;else{v=new yt(v,this);var w=f.listener,A=f.ha||f.src;f.fa&&io(f),f=w.call(A,v)}return f}function so(f){return f=f[Xt],f instanceof me?f:null}var Rl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ju(f){return typeof f=="function"?f:(f[Rl]||(f[Rl]=function(v){return f.handleEvent(v)}),f[Rl])}function Ce(){ct.call(this),this.i=new me(this),this.M=this,this.F=null}N(Ce,ct),Ce.prototype[St]=!0,Ce.prototype.removeEventListener=function(f,v,w,A){kl(this,f,v,w,A)};function Qt(f,v){var w,A=f.F;if(A)for(w=[];A;A=A.F)w.push(A);if(f=f.M,A=v.type||v,typeof v=="string")v=new rt(v,f);else if(v instanceof rt)v.target=v.target||f;else{var q=v;v=new rt(A,f),I(v,q)}if(q=!0,w)for(var J=w.length-1;0<=J;J--){var ht=v.g=w[J];q=On(ht,A,!0,v)&&q}if(ht=v.g=f,q=On(ht,A,!0,v)&&q,q=On(ht,A,!1,v)&&q,w)for(J=0;J<w.length;J++)ht=v.g=w[J],q=On(ht,A,!1,v)&&q}Ce.prototype.N=function(){if(Ce.aa.N.call(this),this.i){var f=this.i,v;for(v in f.g){for(var w=f.g[v],A=0;A<w.length;A++)Yt(w[A]);delete f.g[v],f.h--}}this.F=null},Ce.prototype.K=function(f,v,w,A){return this.i.add(String(f),v,!1,w,A)},Ce.prototype.L=function(f,v,w,A){return this.i.add(String(f),v,!0,w,A)};function On(f,v,w,A){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();for(var q=!0,J=0;J<v.length;++J){var ht=v[J];if(ht&&!ht.da&&ht.capture==w){var Gt=ht.listener,ye=ht.ha||ht.src;ht.fa&&Be(f.i,ht),q=Gt.call(ye,A)!==!1&&q}}return q&&!A.defaultPrevented}function un(f,v,w){if(typeof f=="function")w&&(f=x(f,w));else if(f&&typeof f.handleEvent=="function")f=x(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:h.setTimeout(f,v||0)}function th(f){f.g=un(()=>{f.g=null,f.i&&(f.i=!1,th(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class vg extends ct{constructor(v,w){super(),this.m=v,this.l=w,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:th(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wr(f){ct.call(this),this.h=f,this.g={}}N(Wr,ct);var Yr=[];function Gr(f){ot(f.g,function(v,w){this.g.hasOwnProperty(w)&&io(v)},f),f.g={}}Wr.prototype.N=function(){Wr.aa.N.call(this),Gr(this)},Wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ai=h.JSON.stringify,ro=h.JSON.parse,$r=class{stringify(f){return h.JSON.stringify(f,void 0)}parse(f){return h.JSON.parse(f,void 0)}};function Ml(){}Ml.prototype.h=null;function Ol(f){return f.h||(f.h=f.i())}function eh(){}var Zi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ji(){rt.call(this,"d")}N(Ji,rt);function Dl(){rt.call(this,"c")}N(Dl,rt);var ts={},Il=null;function Xr(){return Il=Il||new Ce}ts.La="serverreachability";function ao(f){rt.call(this,ts.La,f)}N(ao,rt);function Ws(f){const v=Xr();Qt(v,new ao(v))}ts.STAT_EVENT="statevent";function nh(f,v){rt.call(this,ts.STAT_EVENT,f),this.stat=v}N(nh,rt);function pe(f){const v=Xr();Qt(v,new nh(v,f))}ts.Ma="timingevent";function He(f,v){rt.call(this,ts.Ma,f),this.size=v}N(He,rt);function Ie(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){f()},v)}function Fn(){this.g=!0}Fn.prototype.xa=function(){this.g=!1};function jl(f,v,w,A,q,J){f.info(function(){if(f.g)if(J)for(var ht="",Gt=J.split("&"),ye=0;ye<Gt.length;ye++){var jt=Gt[ye].split("=");if(1<jt.length){var Ye=jt[0];jt=jt[1];var Ge=Ye.split("_");ht=2<=Ge.length&&Ge[1]=="type"?ht+(Ye+"="+jt+"&"):ht+(Ye+"=redacted&")}}else ht=null;else ht=J;return"XMLHTTP REQ ("+A+") [attempt "+q+"]: "+v+`
`+w+`
`+ht})}function bg(f,v,w,A,q,J,ht){f.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+q+"]: "+v+`
`+w+`
`+J+" "+ht})}function Ys(f,v,w,A){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+Qr(f,w)+(A?" "+A:"")})}function ih(f,v){f.info(function(){return"TIMEOUT: "+v})}Fn.prototype.info=function(){};function Qr(f,v){if(!f.g)return v;if(!v)return null;try{var w=JSON.parse(v);if(w){for(f=0;f<w.length;f++)if(Array.isArray(w[f])){var A=w[f];if(!(2>A.length)){var q=A[1];if(Array.isArray(q)&&!(1>q.length)){var J=q[0];if(J!="noop"&&J!="stop"&&J!="close")for(var ht=1;ht<q.length;ht++)q[ht]=""}}}}return ai(w)}catch{return v}}var Kr={NO_ERROR:0,TIMEOUT:8},Gs={},Ei;function Ti(){}N(Ti,Ml),Ti.prototype.g=function(){return new XMLHttpRequest},Ti.prototype.i=function(){return{}},Ei=new Ti;function mn(f,v,w,A){this.j=f,this.i=v,this.l=w,this.R=A||1,this.U=new Wr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Re}function Re(){this.i=null,this.g="",this.h=!1}var Ll={},oo={};function oi(f,v,w){f.L=1,f.v=na(Dn(v)),f.m=w,f.P=!0,es(f,null)}function es(f,v){f.F=Date.now(),Zr(f),f.A=Dn(f.v);var w=f.A,A=f.R;Array.isArray(A)||(A=[String(A)]),Fl(w.i,"t",A),f.C=0,w=f.j.J,f.h=new Re,f.g=vh(f.j,w?v:null,!f.m),0<f.O&&(f.M=new vg(x(f.Y,f,f.g),f.O)),v=f.U,w=f.g,A=f.ca;var q="readystatechange";Array.isArray(q)||(q&&(Yr[0]=q.toString()),q=Yr);for(var J=0;J<q.length;J++){var ht=Zu(w,q[J],A||v.handleEvent,!1,v.h||v);if(!ht)break;v.g[ht.key]=ht}v=f.H?T(f.H):{},f.m?(f.u||(f.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,v)):(f.u="GET",f.g.ea(f.A,f.u,null,v)),Ws(),jl(f.i,f.u,f.A,f.l,f.R,f.m)}mn.prototype.ca=function(f){f=f.target;const v=this.M;v&&Yn(f)==3?v.j():this.Y(f)},mn.prototype.Y=function(f){try{if(f==this.g)t:{const Ge=Yn(this.g);var v=this.g.Ba();const cs=this.g.Z();if(!(3>Ge)&&(Ge!=3||this.g&&(this.h.h||this.g.oa()||hh(this.g)))){this.J||Ge!=4||v==7||(v==8||0>=cs?Ws(3):Ws(2)),$s(this);var w=this.g.Z();this.X=w;e:if(sh(this)){var A=hh(this.g);f="";var q=A.length,J=Yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sn(this),Ci(this);var ht="";break e}this.h.i=new h.TextDecoder}for(v=0;v<q;v++)this.h.h=!0,f+=this.h.i.decode(A[v],{stream:!(J&&v==q-1)});A.length=0,this.h.g+=f,this.C=0,ht=this.h.g}else ht=this.g.oa();if(this.o=w==200,bg(this.i,this.u,this.A,this.l,this.R,Ge,w),this.o){if(this.T&&!this.K){e:{if(this.g){var Gt,ye=this.g;if((Gt=ye.g?ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(Gt)){var jt=Gt;break e}}jt=null}if(w=jt)Ys(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jr(this,w);else{this.o=!1,this.s=3,pe(12),sn(this),Ci(this);break t}}if(this.P){w=!0;let wn;for(;!this.J&&this.C<ht.length;)if(wn=rh(this,ht),wn==oo){Ge==4&&(this.s=4,pe(14),w=!1),Ys(this.i,this.l,null,"[Incomplete Response]");break}else if(wn==Ll){this.s=4,pe(15),Ys(this.i,this.l,ht,"[Invalid Chunk]"),w=!1;break}else Ys(this.i,this.l,wn,null),Jr(this,wn);if(sh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ge!=4||ht.length!=0||this.h.h||(this.s=1,pe(16),w=!1),this.o=this.o&&w,!w)Ys(this.i,this.l,ht,"[Invalid Chunked Response]"),sn(this),Ci(this);else if(0<ht.length&&!this.W){this.W=!0;var Ye=this.j;Ye.g==this&&Ye.ba&&!Ye.M&&(Ye.j.info("Great, no buffering proxy detected. Bytes received: "+ht.length),ua(Ye),Ye.M=!0,pe(11))}}else Ys(this.i,this.l,ht,null),Jr(this,ht);Ge==4&&sn(this),this.o&&!this.J&&(Ge==4?ph(this.j,this):(this.o=!1,Zr(this)))}else Tg(this.g),w==400&&0<ht.indexOf("Unknown SID")?(this.s=3,pe(12)):(this.s=0,pe(13)),sn(this),Ci(this)}}}catch{}finally{}};function sh(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function rh(f,v){var w=f.C,A=v.indexOf(`
`,w);return A==-1?oo:(w=Number(v.substring(w,A)),isNaN(w)?Ll:(A+=1,A+w>v.length?oo:(v=v.slice(A,A+w),f.C=A+w,v)))}mn.prototype.cancel=function(){this.J=!0,sn(this)};function Zr(f){f.S=Date.now()+f.I,ah(f,f.I)}function ah(f,v){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Ie(x(f.ba,f),v)}function $s(f){f.B&&(h.clearTimeout(f.B),f.B=null)}mn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(ih(this.i,this.A),this.L!=2&&(Ws(),pe(17)),sn(this),this.s=2,Ci(this)):ah(this,this.S-f)};function Ci(f){f.j.G==0||f.J||ph(f.j,f)}function sn(f){$s(f);var v=f.M;v&&typeof v.ma=="function"&&v.ma(),f.M=null,Gr(f.U),f.g&&(v=f.g,f.g=null,v.abort(),v.ma())}function Jr(f,v){try{var w=f.j;if(w.G!=0&&(w.g==f||Pl(w.h,f))){if(!f.K&&Pl(w.h,f)&&w.G==3){try{var A=w.Da.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var q=A;if(q[0]==0){t:if(!w.u){if(w.g)if(w.g.F+3e3<f.F)bo(w),_o(w);else break t;Gl(w),pe(18)}}else w.za=q[1],0<w.za-w.T&&37500>q[2]&&w.F&&w.v==0&&!w.C&&(w.C=Ie(x(w.Za,w),6e3));if(1>=co(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else ls(w,11)}else if((f.K||w.g==f)&&bo(w),!$(v))for(q=w.Da.g.parse(v),v=0;v<q.length;v++){let jt=q[v];if(w.T=jt[0],jt=jt[1],w.G==2)if(jt[0]=="c"){w.K=jt[1],w.ia=jt[2];const Ye=jt[3];Ye!=null&&(w.la=Ye,w.j.info("VER="+w.la));const Ge=jt[4];Ge!=null&&(w.Aa=Ge,w.j.info("SVER="+w.Aa));const cs=jt[5];cs!=null&&typeof cs=="number"&&0<cs&&(A=1.5*cs,w.L=A,w.j.info("backChannelRequestTimeoutMs_="+A)),A=w;const wn=f.g;if(wn){const Oi=wn.g?wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Oi){var J=A.h;J.g||Oi.indexOf("spdy")==-1&&Oi.indexOf("quic")==-1&&Oi.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(uo(J,J.h),J.h=null))}if(A.D){const us=wn.g?wn.g.getResponseHeader("X-HTTP-Session-Id"):null;us&&(A.ya=us,re(A.I,A.D,us))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-f.F,w.j.info("Handshake RTT: "+w.R+"ms")),A=w;var ht=f;if(A.qa=_h(A,A.J?A.ia:null,A.W),ht.K){pn(A.h,ht);var Gt=ht,ye=A.L;ye&&(Gt.I=ye),Gt.B&&($s(Gt),Zr(Gt)),A.g=ht}else gh(A);0<w.i.length&&vo(w)}else jt[0]!="stop"&&jt[0]!="close"||ls(w,7);else w.G==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?ls(w,7):Wl(w):jt[0]!="noop"&&w.l&&w.l.ta(jt),w.v=0)}}Ws(4)}catch{}}var oh=class{constructor(f,v){this.g=f,this.map=v}};function ns(f){this.l=f||10,h.PerformanceNavigationTiming?(f=h.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function lo(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function co(f){return f.h?1:f.g?f.g.size:0}function Pl(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function uo(f,v){f.g?f.g.add(v):f.h=v}function pn(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}ns.prototype.cancel=function(){if(this.i=Ul(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Ul(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const w of f.g.values())v=v.concat(w.D);return v}return R(f.i)}function xg(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var v=[],w=f.length,A=0;A<w;A++)v.push(f[A]);return v}v=[],w=0;for(A in f)v[w++]=f[A];return v}function ho(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var v=[];f=f.length;for(var w=0;w<f;w++)v.push(w);return v}v=[],w=0;for(const A in f)v[w++]=A;return v}}}function zl(f,v){if(f.forEach&&typeof f.forEach=="function")f.forEach(v,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,v,void 0);else for(var w=ho(f),A=xg(f),q=A.length,J=0;J<q;J++)v.call(void 0,A[J],w&&w[J],f)}var ta=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wg(f,v){if(f){f=f.split("&");for(var w=0;w<f.length;w++){var A=f[w].indexOf("="),q=null;if(0<=A){var J=f[w].substring(0,A);q=f[w].substring(A+1)}else J=f[w];v(J,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function je(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof je){this.h=f.h,ea(this,f.j),this.o=f.o,this.g=f.g,Xs(this,f.s),this.l=f.l;var v=f.i,w=new ss;w.i=v.i,v.g&&(w.g=new Map(v.g),w.h=v.h),is(this,w),this.m=f.m}else f&&(v=String(f).match(ta))?(this.h=!1,ea(this,v[1]||"",!0),this.o=Vn(v[2]||""),this.g=Vn(v[3]||"",!0),Xs(this,v[4]),this.l=Vn(v[5]||"",!0),is(this,v[6]||"",!0),this.m=Vn(v[7]||"")):(this.h=!1,this.i=new ss(null,this.h))}je.prototype.toString=function(){var f=[],v=this.j;v&&f.push(ia(v,Bl,!0),":");var w=this.g;return(w||v=="file")&&(f.push("//"),(v=this.o)&&f.push(ia(v,Bl,!0),"@"),f.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&f.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&f.push("/"),f.push(ia(w,w.charAt(0)=="/"?Sg:Hl,!0))),(w=this.i.toString())&&f.push("?",w),(w=this.m)&&f.push("#",ia(w,fo)),f.join("")};function Dn(f){return new je(f)}function ea(f,v,w){f.j=w?Vn(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function Xs(f,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);f.s=v}else f.s=null}function is(f,v,w){v instanceof ss?(f.i=v,ch(f.i,f.h)):(w||(v=ia(v,Eg)),f.i=new ss(v,f.h))}function re(f,v,w){f.i.set(v,w)}function na(f){return re(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Vn(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ia(f,v,w){return typeof f=="string"?(f=encodeURI(f).replace(v,lh),w&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function lh(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Bl=/[#\/\?@]/g,Hl=/[#\?:]/g,Sg=/[#\?]/g,Eg=/[#\?@]/g,fo=/#/g;function ss(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function qn(f){f.g||(f.g=new Map,f.h=0,f.i&&wg(f.i,function(v,w){f.add(decodeURIComponent(v.replace(/\+/g," ")),w)}))}n=ss.prototype,n.add=function(f,v){qn(this),this.i=null,f=Ai(this,f);var w=this.g.get(f);return w||this.g.set(f,w=[]),w.push(v),this.h+=1,this};function rs(f,v){qn(f),v=Ai(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function as(f,v){return qn(f),v=Ai(f,v),f.g.has(v)}n.forEach=function(f,v){qn(this),this.g.forEach(function(w,A){w.forEach(function(q){f.call(v,q,A,this)},this)},this)},n.na=function(){qn(this);const f=Array.from(this.g.values()),v=Array.from(this.g.keys()),w=[];for(let A=0;A<v.length;A++){const q=f[A];for(let J=0;J<q.length;J++)w.push(v[A])}return w},n.V=function(f){qn(this);let v=[];if(typeof f=="string")as(this,f)&&(v=v.concat(this.g.get(Ai(this,f))));else{f=Array.from(this.g.values());for(let w=0;w<f.length;w++)v=v.concat(f[w])}return v},n.set=function(f,v){return qn(this),this.i=null,f=Ai(this,f),as(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},n.get=function(f,v){return f?(f=this.V(f),0<f.length?String(f[0]):v):v};function Fl(f,v,w){rs(f,v),0<w.length&&(f.i=null,f.g.set(Ai(f,v),R(w)),f.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(var w=0;w<v.length;w++){var A=v[w];const J=encodeURIComponent(String(A)),ht=this.V(A);for(A=0;A<ht.length;A++){var q=J;ht[A]!==""&&(q+="="+encodeURIComponent(String(ht[A]))),f.push(q)}}return this.i=f.join("&")};function Ai(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function ch(f,v){v&&!f.j&&(qn(f),f.i=null,f.g.forEach(function(w,A){var q=A.toLowerCase();A!=q&&(rs(this,A),Fl(this,q,w))},f)),f.j=v}function sa(f,v){const w=new Fn;if(h.Image){const A=new Image;A.onload=E(Wn,w,"TestLoadImage: loaded",!0,v,A),A.onerror=E(Wn,w,"TestLoadImage: error",!1,v,A),A.onabort=E(Wn,w,"TestLoadImage: abort",!1,v,A),A.ontimeout=E(Wn,w,"TestLoadImage: timeout",!1,v,A),h.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=f}else v(!1)}function li(f,v){const w=new Fn,A=new AbortController,q=setTimeout(()=>{A.abort(),Wn(w,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:A.signal}).then(J=>{clearTimeout(q),J.ok?Wn(w,"TestPingServer: ok",!0,v):Wn(w,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),Wn(w,"TestPingServer: error",!1,v)})}function Wn(f,v,w,A,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),A(w)}catch{}}function ra(){this.g=new $r}function Ni(f,v,w){const A=w||"";try{zl(f,function(q,J){let ht=q;g(q)&&(ht=ai(q)),v.push(A+J+"="+encodeURIComponent(ht))})}catch(q){throw v.push(A+"type="+encodeURIComponent("_badmap")),q}}function Qs(f){this.l=f.Ub||null,this.j=f.eb||!1}N(Qs,Ml),Qs.prototype.g=function(){return new os(this.l,this.j)},Qs.prototype.i=function(f){return function(){return f}}({});function os(f,v){Ce.call(this),this.D=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(os,Ce),n=os.prototype,n.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=v,this.readyState=1,Ri(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(v.body=f),(this.D||h).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ki(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Ri(this)),this.g&&(this.readyState=3,Ri(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vl(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vl(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?ki(this):Ri(this),this.readyState==3&&Vl(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,ki(this))},n.Qa=function(f){this.g&&(this.response=f,ki(this))},n.ga=function(){this.g&&ki(this)};function ki(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Ri(f)}n.setRequestHeader=function(f,v){this.u.append(f,v)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var w=v.next();!w.done;)w=w.value,f.push(w[0]+": "+w[1]),w=v.next();return f.join(`\r
`)};function Ri(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(os.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ql(f){let v="";return ot(f,function(w,A){v+=A,v+=":",v+=w,v+=`\r
`}),v}function We(f,v,w){t:{for(A in w){var A=!1;break t}A=!0}A||(w=ql(w),typeof f=="string"?w!=null&&encodeURIComponent(String(w)):re(f,v,w))}function Kt(f){Ce.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Kt,Ce);var go=/^https?$/i,aa=["POST","PUT"];n=Kt.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,v,w,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ei.g(),this.v=this.o?Ol(this.o):Ol(Ei),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(J){uh(this,J);return}if(f=w||"",w=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var q in A)w.set(q,A[q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const J of A.keys())w.set(J,A.get(J));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(w.keys()).find(J=>J.toLowerCase()=="content-type"),q=h.FormData&&f instanceof h.FormData,!(0<=Array.prototype.indexOf.call(aa,v,void 0))||A||q||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ht]of w)this.g.setRequestHeader(J,ht);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{oa(this),this.u=!0,this.g.send(f),this.u=!1}catch(J){uh(this,J)}};function uh(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.m=5,mo(f),Mi(f)}function mo(f){f.A||(f.A=!0,Qt(f,"complete"),Qt(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Qt(this,"complete"),Qt(this,"abort"),Mi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mi(this,!0)),Kt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?po(this):this.bb())},n.bb=function(){po(this)};function po(f){if(f.h&&typeof c<"u"&&(!f.v[1]||Yn(f)!=4||f.Z()!=2)){if(f.u&&Yn(f)==4)un(f.Ea,0,f);else if(Qt(f,"readystatechange"),Yn(f)==4){f.h=!1;try{const ht=f.Z();t:switch(ht){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var w;if(!(w=v)){var A;if(A=ht===0){var q=String(f.D).match(ta)[1]||null;!q&&h.self&&h.self.location&&(q=h.self.location.protocol.slice(0,-1)),A=!go.test(q?q.toLowerCase():"")}w=A}if(w)Qt(f,"complete"),Qt(f,"success");else{f.m=6;try{var J=2<Yn(f)?f.g.statusText:""}catch{J=""}f.l=J+" ["+f.Z()+"]",mo(f)}}finally{Mi(f)}}}}function Mi(f,v){if(f.g){oa(f);const w=f.g,A=f.v[0]?()=>{}:null;f.g=null,f.v=null,v||Qt(f,"ready");try{w.onreadystatechange=A}catch{}}}function oa(f){f.I&&(h.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function Yn(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<Yn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),ro(v)}};function hh(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Tg(f){const v={};f=(f.g&&2<=Yn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<f.length;A++){if($(f[A]))continue;var w=L(f[A]);const q=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const J=v[q]||[];v[q]=J,J.push(w)}O(v,function(A){return A.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function la(f,v,w){return w&&w.internalChannelParams&&w.internalChannelParams[f]||v}function yo(f){this.Aa=0,this.i=[],this.j=new Fn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=la("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=la("baseRetryDelayMs",5e3,f),this.cb=la("retryDelaySeedMs",1e4,f),this.Wa=la("forwardChannelMaxRetries",2,f),this.wa=la("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new ns(f&&f.concurrentRequestLimit),this.Da=new ra,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=yo.prototype,n.la=8,n.G=1,n.connect=function(f,v,w,A){pe(0),this.W=f,this.H=v||{},w&&A!==void 0&&(this.H.OSID=w,this.H.OAID=A),this.F=this.X,this.I=_h(this,null,this.W),vo(this)};function Wl(f){if(dh(f),f.G==3){var v=f.U++,w=Dn(f.I);if(re(w,"SID",f.K),re(w,"RID",v),re(w,"TYPE","terminate"),ca(f,w),v=new mn(f,f.j,v),v.L=2,v.v=na(Dn(w)),w=!1,h.navigator&&h.navigator.sendBeacon)try{w=h.navigator.sendBeacon(v.v.toString(),"")}catch{}!w&&h.Image&&(new Image().src=v.v,w=!0),w||(v.g=vh(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Zr(v)}yh(f)}function _o(f){f.g&&(ua(f),f.g.cancel(),f.g=null)}function dh(f){_o(f),f.u&&(h.clearTimeout(f.u),f.u=null),bo(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&h.clearTimeout(f.s),f.s=null)}function vo(f){if(!lo(f.h)&&!f.s){f.s=!0;var v=f.Ga;V||P(),lt||(V(),lt=!0),gt.add(v,f),f.B=0}}function Cg(f,v){return co(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=v.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Ie(x(f.Ga,f,v),$l(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const q=new mn(this,this.j,f);let J=this.o;if(this.S&&(J?(J=T(J),I(J,this.S)):J=this.S),this.m!==null||this.O||(q.H=J,J=null),this.P)t:{for(var v=0,w=0;w<this.i.length;w++){e:{var A=this.i[w];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(v+=A,4096<v){v=w;break t}if(v===4096||w===this.i.length-1){v=w+1;break t}}v=1e3}else v=1e3;v=fh(this,q,v),w=Dn(this.I),re(w,"RID",f),re(w,"CVER",22),this.D&&re(w,"X-HTTP-Session-Id",this.D),ca(this,w),J&&(this.O?v="headers="+encodeURIComponent(String(ql(J)))+"&"+v:this.m&&We(w,this.m,J)),uo(this.h,q),this.Ua&&re(w,"TYPE","init"),this.P?(re(w,"$req",v),re(w,"SID","null"),q.T=!0,oi(q,w,null)):oi(q,w,v),this.G=2}}else this.G==3&&(f?Yl(this,f):this.i.length==0||lo(this.h)||Yl(this))};function Yl(f,v){var w;v?w=v.l:w=f.U++;const A=Dn(f.I);re(A,"SID",f.K),re(A,"RID",w),re(A,"AID",f.T),ca(f,A),f.m&&f.o&&We(A,f.m,f.o),w=new mn(f,f.j,w,f.B+1),f.m===null&&(w.H=f.o),v&&(f.i=v.D.concat(f.i)),v=fh(f,w,1e3),w.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),uo(f.h,w),oi(w,A,v)}function ca(f,v){f.H&&ot(f.H,function(w,A){re(v,A,w)}),f.l&&zl({},function(w,A){re(v,A,w)})}function fh(f,v,w){w=Math.min(f.i.length,w);var A=f.l?x(f.l.Na,f.l,f):null;t:{var q=f.i;let J=-1;for(;;){const ht=["count="+w];J==-1?0<w?(J=q[0].g,ht.push("ofs="+J)):J=0:ht.push("ofs="+J);let Gt=!0;for(let ye=0;ye<w;ye++){let jt=q[ye].g;const Ye=q[ye].map;if(jt-=J,0>jt)J=Math.max(0,q[ye].g-100),Gt=!1;else try{Ni(Ye,ht,"req"+jt+"_")}catch{A&&A(Ye)}}if(Gt){A=ht.join("&");break t}}}return f=f.i.splice(0,w),v.D=f,A}function gh(f){if(!f.g&&!f.u){f.Y=1;var v=f.Fa;V||P(),lt||(V(),lt=!0),gt.add(v,f),f.v=0}}function Gl(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Ie(x(f.Fa,f),$l(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,mh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Ie(x(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pe(10),_o(this),mh(this))};function ua(f){f.A!=null&&(h.clearTimeout(f.A),f.A=null)}function mh(f){f.g=new mn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var v=Dn(f.qa);re(v,"RID","rpc"),re(v,"SID",f.K),re(v,"AID",f.T),re(v,"CI",f.F?"0":"1"),!f.F&&f.ja&&re(v,"TO",f.ja),re(v,"TYPE","xmlhttp"),ca(f,v),f.m&&f.o&&We(v,f.m,f.o),f.L&&(f.g.I=f.L);var w=f.g;f=f.ia,w.L=1,w.v=na(Dn(v)),w.m=null,w.P=!0,es(w,f)}n.Za=function(){this.C!=null&&(this.C=null,_o(this),Gl(this),pe(19))};function bo(f){f.C!=null&&(h.clearTimeout(f.C),f.C=null)}function ph(f,v){var w=null;if(f.g==v){bo(f),ua(f),f.g=null;var A=2}else if(Pl(f.h,v))w=v.D,pn(f.h,v),A=1;else return;if(f.G!=0){if(v.o)if(A==1){w=v.m?v.m.length:0,v=Date.now()-v.F;var q=f.B;A=Xr(),Qt(A,new He(A,w)),vo(f)}else gh(f);else if(q=v.s,q==3||q==0&&0<v.X||!(A==1&&Cg(f,v)||A==2&&Gl(f)))switch(w&&0<w.length&&(v=f.h,v.i=v.i.concat(w)),q){case 1:ls(f,5);break;case 4:ls(f,10);break;case 3:ls(f,6);break;default:ls(f,2)}}}function $l(f,v){let w=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(w*=2),w*v}function ls(f,v){if(f.j.info("Error code "+v),v==2){var w=x(f.fb,f),A=f.Xa;const q=!A;A=new je(A||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||ea(A,"https"),na(A),q?sa(A.toString(),w):li(A.toString(),w)}else pe(2);f.G=0,f.l&&f.l.sa(v),yh(f),dh(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),pe(2)):(this.j.info("Failed to ping google.com"),pe(1))};function yh(f){if(f.G=0,f.ka=[],f.l){const v=Ul(f.h);(v.length!=0||f.i.length!=0)&&(M(f.ka,v),M(f.ka,f.i),f.h.i.length=0,R(f.i),f.i.length=0),f.l.ra()}}function _h(f,v,w){var A=w instanceof je?Dn(w):new je(w);if(A.g!="")v&&(A.g=v+"."+A.g),Xs(A,A.s);else{var q=h.location;A=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;var J=new je(null);A&&ea(J,A),v&&(J.g=v),q&&Xs(J,q),w&&(J.l=w),A=J}return w=f.D,v=f.ya,w&&v&&re(A,w,v),re(A,"VER",f.la),ca(f,A),A}function vh(f,v,w){if(v&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Ca&&!f.pa?new Kt(new Qs({eb:w})):new Kt(f.pa),v.Ha(f.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function bh(){}n=bh.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function xn(f,v){Ce.call(this),this.g=new yo(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(f?f["X-WebChannel-Client-Profile"]=v.va:f={"X-WebChannel-Client-Profile":v.va}),this.g.S=f,(f=v&&v.Sb)&&!$(f)&&(this.g.m=f),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!$(v)&&(this.g.D=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new Ks(this)}N(xn,Ce),xn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xn.prototype.close=function(){Wl(this.g)},xn.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var w={};w.__data__=f,f=w}else this.u&&(w={},w.__data__=ai(f),f=w);v.i.push(new oh(v.Ya++,f)),v.G==3&&vo(v)},xn.prototype.N=function(){this.g.l=null,delete this.j,Wl(this.g),delete this.g,xn.aa.N.call(this)};function xh(f){Ji.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){t:{for(const w in v){f=w;break t}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}N(xh,Ji);function wh(){Dl.call(this),this.status=1}N(wh,Dl);function Ks(f){this.g=f}N(Ks,bh),Ks.prototype.ua=function(){Qt(this.g,"a")},Ks.prototype.ta=function(f){Qt(this.g,new xh(f))},Ks.prototype.sa=function(f){Qt(this.g,new wh)},Ks.prototype.ra=function(){Qt(this.g,"b")},xn.prototype.send=xn.prototype.o,xn.prototype.open=xn.prototype.m,xn.prototype.close=xn.prototype.close,Kr.NO_ERROR=0,Kr.TIMEOUT=8,Kr.HTTP_ERROR=6,Gs.COMPLETE="complete",eh.EventType=Zi,Zi.OPEN="a",Zi.CLOSE="b",Zi.ERROR="c",Zi.MESSAGE="d",Ce.prototype.listen=Ce.prototype.K,Kt.prototype.listenOnce=Kt.prototype.L,Kt.prototype.getLastError=Kt.prototype.Ka,Kt.prototype.getLastErrorCode=Kt.prototype.Ba,Kt.prototype.getStatus=Kt.prototype.Z,Kt.prototype.getResponseJson=Kt.prototype.Oa,Kt.prototype.getResponseText=Kt.prototype.oa,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Ha}).apply(typeof Td<"u"?Td:typeof self<"u"?self:typeof window<"u"?window:{});const gw="@firebase/firestore",mw="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qu="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl=new $f("@firebase/firestore");function yi(n,...t){if(hl.logLevel<=qt.DEBUG){const e=t.map(i0);hl.debug(`Firestore (${qu}): ${n}`,...e)}}function ZE(n,...t){if(hl.logLevel<=qt.ERROR){const e=t.map(i0);hl.error(`Firestore (${qu}): ${n}`,...e)}}function xD(n,...t){if(hl.logLevel<=qt.WARN){const e=t.map(i0);hl.warn(`Firestore (${qu}): ${n}`,...e)}}function i0(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xu(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,JE(n,i,e)}function JE(n,t,e){let i=`FIRESTORE (${qu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw ZE(i),new Error(i)}function su(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||JE(t,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ut={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class zt extends Vs{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class wD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(_n.UNAUTHENTICATED))}shutdown(){}}class SD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class ED{constructor(t){this.t=t,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){su(this.o===void 0,42304);let i=this.i;const r=d=>this.i!==i?(i=this.i,e(d)):Promise.resolve();let o=new ru;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ru,t.enqueueRetryable(()=>r(this.currentUser))};const c=()=>{const d=o;t.enqueueRetryable(async()=>{await d.promise,await r(this.currentUser)})},h=d=>{yi("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(yi("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ru)}},0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(yi("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(su(typeof i.accessToken=="string",31837,{l:i}),new t2(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return su(t===null||typeof t=="string",2055,{h:t}),new _n(t)}}class TD{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class CD{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new TD(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(_n.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pw{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AD{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,An(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){su(this.o===void 0,3512);const i=o=>{o.error!=null&&yi("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,yi("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{yi("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):yi("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new pw(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(su(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new pw(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=ND(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%62))}return i}}function Ir(n,t){return n<t?-1:n>t?1:0}function RD(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const r=n.charAt(i),o=t.charAt(i);if(r!==o)return Op(r)===Op(o)?Ir(r,o):Op(r)?1:-1}return Ir(n.length,t.length)}const MD=55296,OD=57343;function Op(n){const t=n.charCodeAt(0);return t>=MD&&t<=OD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="__name__";class Hi{constructor(t,e,i){e===void 0?e=0:e>t.length&&xu(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&xu(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Hi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Hi?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=Hi.compareSegments(t.get(r),e.get(r));if(o!==0)return o}return Ir(t.length,e.length)}static compareSegments(t,e){const i=Hi.isNumericId(t),r=Hi.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?Hi.extractNumericId(t).compare(Hi.extractNumericId(e)):RD(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return n0.fromString(t.substring(4,t.length-2))}}class fi extends Hi{construct(t,e,i){return new fi(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new zt(Ut.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new fi(e)}static emptyPath(){return new fi([])}}const DD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Da extends Hi{construct(t,e,i){return new Da(t,e,i)}static isValidIdentifier(t){return DD.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Da.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yw}static keyField(){return new Da([yw])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(i.length===0)throw new zt(Ut.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const h=t[r];if(h==="\\"){if(r+1===t.length)throw new zt(Ut.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const d=t[r+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new zt(Ut.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=d,r+=2}else h==="`"?(c=!c,r++):h!=="."||c?(i+=h,r++):(o(),r++)}if(o(),c)throw new zt(Ut.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Da(e)}static emptyPath(){return new Da([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(t){this.path=t}static fromPath(t){return new ja(fi.fromString(t))}static fromName(t){return new ja(fi.fromString(t).popFirst(5))}static empty(){return new ja(fi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&fi.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return fi.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ja(new fi(t.slice()))}}function ID(n,t,e,i){if(t===!0&&i===!0)throw new zt(Ut.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function jD(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function LD(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":xu(12329,{type:typeof n})}function PD(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new zt(Ut.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=LD(n);throw new zt(Ut.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(n,t){const e={typeString:n};return t&&(e.value=t),e}function Wu(n,t){if(!jD(n))throw new zt(Ut.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const r=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const c=n[i];if(r&&typeof c!==r){e=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&c!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new zt(Ut.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w=-62135596800,vw=1e6;class Vi{static now(){return Vi.fromMillis(Date.now())}static fromDate(t){return Vi.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*vw);return new Vi(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new zt(Ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new zt(Ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<_w)throw new zt(Ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new zt(Ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vw}_compareTo(t){return this.seconds===t.seconds?Ir(this.nanoseconds,t.nanoseconds):Ir(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Vi._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Wu(t,Vi._jsonSchema))return new Vi(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-_w;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Vi._jsonSchemaVersion="firestore/timestamp/1.0",Vi._jsonSchema={type:Ue("string",Vi._jsonSchemaVersion),seconds:Ue("number"),nanoseconds:Ue("number")};function UD(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new zD("Invalid base64 string: "+o):o}}(t);return new Wa(e)}static fromUint8Array(t){const e=function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o}(t);return new Wa(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ir(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Wa.EMPTY_BYTE_STRING=new Wa("");const hy="(default)";class ff{constructor(t,e){this.projectId=t,this.database=e||hy}static empty(){return new ff("","")}get isDefaultDatabase(){return this.database===hy}isEqual(t){return t instanceof ff&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(t,e=null,i=[],r=[],o=null,c="F",h=null,d=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function HD(n){return new BD(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bw,Pt;(Pt=bw||(bw={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new n0([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD=1048576;function Dp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Mi=t,this.timerId=e,this.d_=i,this.A_=r,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,e-i);r>0&&yi("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new ru,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const c=Date.now()+i,h=new s0(t,e,c,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new zt(Ut.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var xw,ww;(ww=xw||(xw={})).Ma="default",ww.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2="firestore.googleapis.com",Ew=!0;class Tw{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new zt(Ut.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=e2,this.ssl=Ew}else this.host=t.host,this.ssl=t.ssl??Ew;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=FD;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<VD)throw new zt(Ut.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}ID("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WD(t.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new zt(Ut.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new zt(Ut.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new zt(Ut.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class n2{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new zt(Ut.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new zt(Ut.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tw(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new wD;switch(i.type){case"firstParty":return new CD(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new zt(Ut.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=Sw.get(e);i&&(yi("ComponentProvider","Removing Datastore"),Sw.delete(e),i.terminate())}(this),Promise.resolve()}}function YD(n,t,e,i={}){n=PD(n,n2);const r=Za(t),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},h=`${t}:${e}`;r&&(Hy(`https://${h}`),Fy("Firestore",!0)),o.host!==e2&&o.host!==h&&xD("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:h,ssl:r,emulatorOptions:i};if(!Or(d,c)&&(n._setSettings(d),i.mockUserToken)){let g,_;if(typeof i.mockUserToken=="string")g=i.mockUserToken,_=_n.MOCK_USER;else{g=lE(i.mockUserToken,n._app?.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new zt(Ut.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new _n(b)}n._authCredentials=new SD(new t2(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new r0(this.firestore,t,this._query)}}class qi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new a0(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new qi(this.firestore,t,this._key)}toJSON(){return{type:qi._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(Wu(e,qi._jsonSchema))return new qi(t,i||null,new ja(fi.fromString(e.referencePath)))}}qi._jsonSchemaVersion="firestore/documentReference/1.0",qi._jsonSchema={type:Ue("string",qi._jsonSchemaVersion),referencePath:Ue("string")};class a0 extends r0{constructor(t,e,i){super(t,e,HD(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new qi(this.firestore,null,new ja(t))}withConverter(t){return new a0(this.firestore,t,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="AsyncQueue";class Aw{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new qD(this,"async_queue_retry"),this._c=()=>{const i=Dp();i&&yi(Cw,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=Dp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Dp();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const e=new ru;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!UD(t))throw t;yi(Cw,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const e=this.ac.then(()=>(this.rc=!0,t().catch(i=>{throw this.nc=i,this.rc=!1,ZE("INTERNAL UNHANDLED ERROR: ",Nw(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const r=s0.createAndSchedule(this,t,e,i,o=>this.hc(o));return this.tc.push(r),r}uc(){this.nc&&xu(47125,{Pc:Nw(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function Nw(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class GD extends n2{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new Aw,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Aw(t),this._firestoreClient=void 0,await t}}}function $D(n,t){const e=typeof n=="object"?n:Wy(),i=typeof n=="string"?n:hy,r=Xf(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=rE("firestore");o&&YD(r,...o)}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ks(Wa.fromBase64String(t))}catch(e){throw new zt(Ut.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new ks(Wa.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ks._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Wu(t,ks._jsonSchema))return ks.fromBase64String(t.bytes)}}ks._jsonSchemaVersion="firestore/bytes/1.0",ks._jsonSchema={type:Ue("string",ks._jsonSchemaVersion),bytes:Ue("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new zt(Ut.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Da(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new zt(Ut.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new zt(Ut.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ir(this._lat,t._lat)||Ir(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ua._jsonSchemaVersion}}static fromJSON(t){if(Wu(t,Ua._jsonSchema))return new Ua(t.latitude,t.longitude)}}Ua._jsonSchemaVersion="firestore/geoPoint/1.0",Ua._jsonSchema={type:Ue("string",Ua._jsonSchemaVersion),latitude:Ue("number"),longitude:Ue("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,t._values)}toJSON(){return{type:za._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Wu(t,za._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(e=>typeof e=="number"))return new za(t.vectorValues);throw new zt(Ut.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}za._jsonSchemaVersion="firestore/vectorValue/1.0",za._jsonSchema={type:Ue("string",za._jsonSchemaVersion),vectorValues:Ue("object")};const XD=new RegExp("[~\\*/\\[\\]]");function QD(n,t,e){if(t.search(XD)>=0)throw kw(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n);try{return new i2(...t.split("."))._internalPath}catch{throw kw(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n)}}function kw(n,t,e,i,r){let o=`Function ${t}() called with invalid data`;o+=". ";let c="";return new zt(Ut.INVALID_ARGUMENT,o+n+c)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new qi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new KD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(r2("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class KD extends s2{data(){return super.data()}}function r2(n,t){return typeof t=="string"?QD(n,t):t instanceof i2?t._internalPath:t._delegate._internalPath}class Cd{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class sl extends s2{constructor(t,e,i,r,o,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Xd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(r2("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new zt(Ut.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=sl._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}sl._jsonSchemaVersion="firestore/documentSnapshot/1.0",sl._jsonSchema={type:Ue("string",sl._jsonSchemaVersion),bundleSource:Ue("string","DocumentSnapshot"),bundleName:Ue("string"),bundle:Ue("string")};class Xd extends sl{data(t={}){return super.data(t)}}class au{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Cd(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Xd(this._firestore,this._userDataWriter,i.key,i,new Cd(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new zt(Ut.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map(h=>{const d=new Xd(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Cd(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}})}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const d=new Xd(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Cd(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let g=-1,_=-1;return h.type!==0&&(g=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),_=c.indexOf(h.doc.key)),{type:ZD(h.type),doc:d,oldIndex:g,newIndex:_}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new zt(Ut.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=au._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=kD.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],r=[];return this.docs.forEach(o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function ZD(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xu(61501,{type:n})}}au._jsonSchemaVersion="firestore/querySnapshot/1.0",au._jsonSchema={type:Ue("string",au._jsonSchemaVersion),bundleSource:Ue("string","QuerySnapshot"),bundleName:Ue("string"),bundle:Ue("string")};(function(t,e=!0){(function(r){qu=r})(Ja),Fa(new Dr("firestore",(i,{instanceIdentifier:r,options:o})=>{const c=i.getProvider("app").getImmediate(),h=new GD(new ED(i.getProvider("auth-internal")),new AD(c,i.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new zt(Ut.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ff(g.options.projectId,_)}(c,r),c);return o={useFetchStreams:e,...o},h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),Wi(gw,mw,t),Wi(gw,mw,"esm2020")})();var Rw={};const Mw="@firebase/database",Ow="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let a2="";function JD(n){a2=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){e==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),tn(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return e==null?null:_u(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){e==null?delete this.cache_[t]:this.cache_[t]=e}get(t){return Qi(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new tI(t)}}catch{}return new eI},La=o2("localStorage"),nI=o2("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl=new $f("@firebase/database"),iI=function(){let n=1;return function(){return n++}}(),l2=function(n){const t=Yk(n),e=new Fk;e.update(t);const i=e.digest();return zy.encodeByteArray(i)},Yu=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?t+=Yu.apply(null,i):typeof i=="object"?t+=tn(i):t+=i,t+=" "}return t};let ou=null,Dw=!0;const sI=function(n,t){ut(!0,"Can't turn on custom loggers persistently."),rl.logLevel=qt.VERBOSE,ou=rl.log.bind(rl)},ln=function(...n){if(Dw===!0&&(Dw=!1,ou===null&&nI.get("logging_enabled")===!0&&sI()),ou){const t=Yu.apply(null,n);ou(t)}},Gu=function(n){return function(...t){ln(n,...t)}},dy=function(...n){const t="FIREBASE INTERNAL ERROR: "+Yu(...n);rl.error(t)},Hs=function(...n){const t=`FIREBASE FATAL ERROR: ${Yu(...n)}`;throw rl.error(t),new Error(t)},vn=function(...n){const t="FIREBASE WARNING: "+Yu(...n);rl.warn(t)},rI=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&vn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},o0=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},aI=function(n){if(document.readyState==="complete")n();else{let t=!1;const e=function(){if(!document.body){setTimeout(e,Math.floor(10));return}t||(t=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&e()}),window.attachEvent("onload",e))}},Ya="[MIN_NAME]",jr="[MAX_NAME]",to=function(n,t){if(n===t)return 0;if(n===Ya||t===jr)return-1;if(t===Ya||n===jr)return 1;{const e=Iw(n),i=Iw(t);return e!==null?i!==null?e-i===0?n.length-t.length:e-i:-1:i!==null?1:n<t?-1:1}},oI=function(n,t){return n===t?0:n<t?-1:1},Pc=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+tn(t))},l0=function(n){if(typeof n!="object"||n===null)return tn(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)i!==0&&(e+=","),e+=tn(t[i]),e+=":",e+=l0(n[t[i]]);return e+="}",e},c2=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)r+t>e?i.push(n.substring(r,e)):i.push(n.substring(r,r+t));return i};function cn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const u2=function(n){ut(!o0(n),"Invalid JSON number");const t=11,e=52,i=(1<<t-1)-1;let r,o,c,h,d;n===0?(o=0,c=0,r=1/n===-1/0?1:0):(r=n<0,n=Math.abs(n),n>=Math.pow(2,1-i)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=h+i,c=Math.round(n*Math.pow(2,e-h)-Math.pow(2,e))):(o=0,c=Math.round(n/Math.pow(2,1-i-e))));const g=[];for(d=e;d;d-=1)g.push(c%2?1:0),c=Math.floor(c/2);for(d=t;d;d-=1)g.push(o%2?1:0),o=Math.floor(o/2);g.push(r?1:0),g.reverse();const _=g.join("");let b="";for(d=0;d<64;d+=8){let x=parseInt(_.substr(d,8),2).toString(16);x.length===1&&(x="0"+x),b=b+x}return b.toLowerCase()},lI=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},cI=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function uI(n,t){let e="Unknown Error";n==="too_big"?e="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?e="Client doesn't have permission to access the desired data.":n==="unavailable"&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}const hI=new RegExp("^-?(0*)\\d{1,10}$"),dI=-2147483648,fI=2147483647,Iw=function(n){if(hI.test(n)){const t=Number(n);if(t>=dI&&t<=fI)return t}return null},wl=function(n){try{n()}catch(t){setTimeout(()=>{const e=t.stack||"";throw vn("Exception was thrown by user callback.",e),t},Math.floor(0))}},gI=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},lu=function(n,t){const e=setTimeout(n,t);return typeof e=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):typeof e=="object"&&e.unref&&e.unref(),e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(t,e){this.appCheckProvider=e,this.appName=t.name,An(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(e=>e.addTokenListener(t))}notifyForInvalidToken(){vn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&e.code==="auth/token-not-initialized"?(ln("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',vn(t)}}class Qd{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Qd.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="5",h2="v",d2="s",f2="r",g2="f",m2=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,p2="ls",y2="p",fy="ac",_2="websocket",v2="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(t,e,i,r,o=!1,c="",h=!1,d=!1,g=null){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=d,this.emulatorOptions=g,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=La.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&La.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",e=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${e}`}}function yI(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function x2(n,t,e){ut(typeof t=="string","typeof type must == string"),ut(typeof e=="object","typeof params must == object");let i;if(t===_2)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(t===v2)i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);yI(n)&&(e.ns=n.namespace);const r=[];return cn(e,(o,c)=>{r.push(o+"="+c)}),i+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(){this.counters_={}}incrementCounter(t,e=1){Qi(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return Sk(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip={},jp={};function u0(n){const t=n.toString();return Ip[t]||(Ip[t]=new _I),Ip[t]}function vI(n,t){const e=n.toString();return jp[e]||(jp[e]=t()),jp[e]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&wl(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="start",xI="close",wI="pLPCommand",SI="pRTLPCB",w2="id",S2="pw",E2="ser",EI="cb",TI="seg",CI="ts",AI="d",NI="dframe",T2=1870,C2=30,kI=T2-C2,RI=25e3,MI=3e4;class Jo{constructor(t,e,i,r,o,c,h){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Gu(t),this.stats_=u0(e),this.urlFn=d=>(this.appCheckToken&&(d[fy]=this.appCheckToken),x2(e,v2,d))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new bI(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(MI)),aI(()=>{if(this.isClosed_)return;this.scriptTagHolder=new h0((...o)=>{const[c,h,d,g,_]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===jw)this.id=h,this.password=d;else if(c===xI)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...o)=>{const[c,h]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const i={};i[jw]="t",i[E2]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[EI]=this.scriptTagHolder.uniqueCallbackIdentifier),i[h2]=c0,this.transportSessionId&&(i[d2]=this.transportSessionId),this.lastSessionId&&(i[p2]=this.lastSessionId),this.applicationId&&(i[y2]=this.applicationId),this.appCheckToken&&(i[fy]=this.appCheckToken),typeof location<"u"&&location.hostname&&m2.test(location.hostname)&&(i[f2]=g2);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Jo.forceAllow_=!0}static forceDisallow(){Jo.forceDisallow_=!0}static isAvailable(){return Jo.forceAllow_?!0:!Jo.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!lI()&&!cI()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=tn(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=nE(e),r=c2(i,kI);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,e){this.myDisconnFrame=document.createElement("iframe");const i={};i[NI]="t",i[w2]=t,i[S2]=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=tn(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class h0{constructor(t,e,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=iI(),window[wI+this.uniqueCallbackIdentifier]=t,window[SI+this.uniqueCallbackIdentifier]=e,this.myIFrame=h0.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){ln("frame writing exception"),h.stack&&ln(h.stack),ln(h)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||ln("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[w2]=this.myID,t[S2]=this.myPW,t[E2]=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+C2+i.length<=T2;){const c=this.pendingSegs.shift();i=i+"&"+TI+r+"="+c.seg+"&"+CI+r+"="+c.ts+"&"+AI+r+"="+c.d,r++}return e=e+i,this.addLongPollTag_(e,this.currentSerial),!0}else return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(RI)),o=()=>{clearTimeout(r),i()};this.addTag(t,o)}addTag(t,e){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{ln("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI=16384,DI=45e3;let gf=null;typeof MozWebSocket<"u"?gf=MozWebSocket:typeof WebSocket<"u"&&(gf=WebSocket);class mi{constructor(t,e,i,r,o,c,h){this.connId=t,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Gu(this.connId),this.stats_=u0(e),this.connURL=mi.connectionURL_(e,c,h,r,i),this.nodeAdmin=e.nodeAdmin}static connectionURL_(t,e,i,r,o){const c={};return c[h2]=c0,typeof location<"u"&&location.hostname&&m2.test(location.hostname)&&(c[f2]=g2),e&&(c[d2]=e),i&&(c[p2]=i),r&&(c[fy]=r),o&&(c[y2]=o),x2(t,_2,c)}open(t,e){this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,La.set("previous_websocket_failure",!0);try{let i;Ik(),this.mySock=new gf(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){mi.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const e=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(e);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&gf!==null&&!mi.forceDisallow_}static previouslyFailed(){return La.isInMemoryStorage||La.get("previous_websocket_failure")===!0}markConnectionHealthy(){La.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const i=_u(e);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(ut(this.frames===null,"We already have a frame buffer"),t.length<=6){const e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(e);else{const i=this.extractFrameCount_(e);i!==null&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const e=tn(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=c2(e,OI);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(DI))}sendString_(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}mi.responsesRequiredToBeHealthy=2;mi.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{static get ALL_TRANSPORTS(){return[Jo,mi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const e=mi&&mi.isAvailable();let i=e&&!mi.previouslyFailed();if(t.webSocketOnly&&(e||vn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[mi];else{const r=this.transports_=[];for(const o of wu.ALL_TRANSPORTS)o&&o.isAvailable()&&r.push(o);wu.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}wu.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=6e4,jI=5e3,LI=10*1024,PI=100*1024,Lp="t",Lw="d",UI="s",Pw="r",zI="e",Uw="o",zw="a",Bw="n",Hw="p",BI="h";class HI{constructor(t,e,i,r,o,c,h,d,g,_){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=d,this.onKill_=g,this.lastSessionId=_,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Gu("c:"+this.id+":"),this.transportManager_=new wu(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=lu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>PI?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>LI?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){const e={t:"d",d:t};this.sendData_(e)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Lp in t){const e=t[Lp];e===zw?this.upgradeIfSecondaryHealthy_():e===Pw?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):e===Uw&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Pc("t",t),i=Pc("d",t);if(e==="c")this.onSecondaryControl_(i);else if(e==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+e)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Hw,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:zw,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Bw,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Pc("t",t),i=Pc("d",t);e==="c"?this.onControl_(i):e==="d"&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Pc(Lp,t);if(Lw in t){const i=t[Lw];if(e===BI){const r={...i};this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(e===Bw){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else e===UI?this.onConnectionShutdown_(i):e===Pw?this.onReset_(i):e===zI?dy("Server Error: "+i):e===Uw?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):dy("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),c0!==i&&vn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),lu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(II))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):lu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(jI))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Hw,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(La.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(t){this.allowedEvents_=t,this.listeners_={},ut(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===e&&(!i||i===r[o].context)){r.splice(o,1);return}}validateEventType_(t){ut(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf extends N2{static getInstance(){return new mf}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Vy()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return ut(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=32,Vw=768;class ie{constructor(t,e){if(e===void 0){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)this.pieces_[e]!==""&&(t+="/"+this.pieces_[e]);return t||"/"}}function Wt(){return new ie("")}function kt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Lr(n){return n.pieces_.length-n.pieceNum_}function fe(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new ie(n.pieces_,t)}function d0(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function FI(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)n.pieces_[e]!==""&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}function Su(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function k2(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new ie(t,0)}function ke(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof ie)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new ie(e,0)}function Rt(n){return n.pieceNum_>=n.pieces_.length}function kn(n,t){const e=kt(n),i=kt(t);if(e===null)return t;if(e===i)return kn(fe(n),fe(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function VI(n,t){const e=Su(n,0),i=Su(t,0);for(let r=0;r<e.length&&r<i.length;r++){const o=to(e[r],i[r]);if(o!==0)return o}return e.length===i.length?0:e.length<i.length?-1:1}function f0(n,t){if(Lr(n)!==Lr(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function ei(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(Lr(n)>Lr(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class qI{constructor(t,e){this.errorPrefix_=e,this.parts_=Su(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Gf(this.parts_[i]);R2(this)}}function WI(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=Gf(t),R2(n)}function YI(n){const t=n.parts_.pop();n.byteLength_-=Gf(t),n.parts_.length>0&&(n.byteLength_-=1)}function R2(n){if(n.byteLength_>Vw)throw new Error(n.errorPrefix_+"has a key path longer than "+Vw+" bytes ("+n.byteLength_+").");if(n.parts_.length>Fw)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Fw+") or object contains a cycle "+Ra(n))}function Ra(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0 extends N2{static getInstance(){return new g0}constructor(){super(["visible"]);let t,e;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(t){return ut(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=1e3,GI=300*1e3,qw=30*1e3,$I=1.3,XI=3e4,QI="server_kill",Ww=3;class Ps extends A2{constructor(t,e,i,r,o,c,h,d){if(super(),this.repoInfo_=t,this.applicationId_=e,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=o,this.authTokenProvider_=c,this.appCheckTokenProvider_=h,this.authOverride_=d,this.id=Ps.nextPersistentConnectionId_++,this.log_=Gu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Uc,this.maxReconnectDelay_=GI,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");g0.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&mf.getInstance().on("online",this.onOnline_,this)}sendRequest(t,e,i){const r=++this.requestNumber_,o={r,a:t,b:e};this.log_(tn(o)),ut(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[r]=i)}get(t){this.initConnection_();const e=new Uu,r={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:c=>{const h=c.d;c.s==="ok"?e.resolve(h):e.reject(h)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),e.promise}listen(t,e,i,r){this.initConnection_();const o=t._queryIdentifier,c=t._path.toString();this.log_("Listen called for "+c+" "+o),this.listens.has(c)||this.listens.set(c,new Map),ut(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ut(!this.listens.get(c).has(o),"listen() called twice for same path/queryId.");const h={onComplete:r,hashFn:e,query:t,tag:i};this.listens.get(c).set(o,h),this.connected_&&this.sendListen_(h)}sendGet_(t){const e=this.outstandingGets_[t];this.sendRequest("g",e.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),e.onComplete&&e.onComplete(i)})}sendListen_(t){const e=t.query,i=e._path.toString(),r=e._queryIdentifier;this.log_("Listen on "+i+" for "+r);const o={p:i},c="q";t.tag&&(o.q=e._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest(c,o,h=>{const d=h.d,g=h.s;Ps.warnOnListenWarnings_(d,e),(this.listens.get(i)&&this.listens.get(i).get(r))===t&&(this.log_("listen response",h),g!=="ok"&&this.removeListen_(i,r),t.onComplete&&t.onComplete(g,d))})}static warnOnListenWarnings_(t,e){if(t&&typeof t=="object"&&Qi(t,"w")){const i=cl(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+e._queryParams.getIndex().toString()+'"',o=e._path.toString();vn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||Hk(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=qw)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,e=Bk(t)?"auth":"gauth",i={cred:t};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(e,i,r=>{const o=r.s,c=r.d||"error";this.authToken_===t&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const e=t.s,i=t.d||"error";e==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(e,i)})}unlisten(t,e){const i=t._path.toString(),r=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),ut(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,t._queryObject,e)}sendUnlisten_(t,e,i,r){this.log_("Unlisten on "+t+" for "+e);const o={p:t},c="n";r&&(o.q=i,o.t=r),this.sendRequest(c,o)}onDisconnectPut(t,e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,e,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:i})}onDisconnectMerge(t,e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,e,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:i})}onDisconnectCancel(t,e){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})}sendOnDisconnect_(t,e,i,r){const o={p:e,d:i};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,c=>{r&&setTimeout(()=>{r(c.s,c.d)},Math.floor(0))})}put(t,e,i,r){this.putInternal("p",t,e,i,r)}merge(t,e,i,r){this.putInternal("m",t,e,i,r)}putInternal(t,e,i,r,o){this.initConnection_();const c={p:e,d:i};o!==void 0&&(c.h=o),this.outstandingPuts_.push({action:t,request:c,onComplete:r}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+e)}sendPut_(t){const e=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,r=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(e,i,o=>{this.log_(e+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(o.s,o.d)})}reportStats(t){if(this.connected_){const e={c:t};this.log_("reportStats",e),this.sendRequest("s",e,i=>{if(i.s!=="ok"){const o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+tn(t));const e=t.r,i=this.requestCBHash_[e];i&&(delete this.requestCBHash_[e],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,e){this.log_("handleServerMessage",t,e),t==="d"?this.onDataUpdate_(e.p,e.d,!1,e.t):t==="m"?this.onDataUpdate_(e.p,e.d,!0,e.t):t==="c"?this.onListenRevoked_(e.p,e.q):t==="ac"?this.onAuthRevoked_(e.s,e.d):t==="apc"?this.onAppCheckRevoked_(e.s,e.d):t==="sd"?this.onSecurityDebugPacket_(e):dy("Unrecognized action received from server: "+tn(t)+`
Are you using the latest client?`)}onReady_(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){ut(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Uc,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Uc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>XI&&(this.reconnectDelay_=Uc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*$I)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),e=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Ps.nextConnectionId_++,o=this.lastSessionId;let c=!1,h=null;const d=function(){h?h.close():(c=!0,i())},g=function(b){ut(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(b)};this.realtime_={close:d,sendRequest:g};const _=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[b,x]=await Promise.all([this.authTokenProvider_.getToken(_),this.appCheckTokenProvider_.getToken(_)]);c?ln("getToken() completed but was canceled"):(ln("getToken() completed. Creating connection."),this.authToken_=b&&b.accessToken,this.appCheckToken_=x&&x.token,h=new HI(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,e,i,E=>{vn(E+" ("+this.repoInfo_.toString()+")"),this.interrupt(QI)},o))}catch(b){this.log_("Failed to get token: "+b),c||(this.repoInfo_.nodeAdmin&&vn(b),d())}}}interrupt(t){ln("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){ln("Resuming connection for reason: "+t),delete this.interruptReasons_[t],ey(this.interruptReasons_)&&(this.reconnectDelay_=Uc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const e=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:e})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,e){let i;e?i=e.map(o=>l0(o)).join("$"):i="default";const r=this.removeListen_(t,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(t,e){const i=new ie(t).toString();let r;if(this.listens.has(i)){const o=this.listens.get(i);r=o.get(e),o.delete(e),o.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(t,e){ln("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Ww&&(this.reconnectDelay_=qw,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,e){ln("App check token revoked: "+t+"/"+e),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Ww&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const e of t.values())this.sendListen_(e);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let e="js";t["sdk."+e+"."+a2.replace(/\./g,"-")]=1,Vy()?t["framework.cordova"]=1:cE()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=mf.getInstance().currentlyOnline();return ey(this.interruptReasons_)&&t}}Ps.nextPersistentConnectionId_=0;Ps.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Mt(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new Mt(Ya,t),r=new Mt(Ya,e);return this.compare(i,r)!==0}minPost(){return Mt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ad;class M2 extends Jf{static get __EMPTY_NODE(){return Ad}static set __EMPTY_NODE(t){Ad=t}compare(t,e){return to(t.name,e.name)}isDefinedOn(t){throw vl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Mt.MIN}maxPost(){return new Mt(jr,Ad)}makePost(t,e){return ut(typeof t=="string","KeyIndex indexValue must always be a string."),new Mt(t,Ad)}toString(){return".key"}}const Ba=new M2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(t,e,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let c=1;for(;!t.isEmpty();)if(t=t,c=e?i(t.key,e):1,r&&(c*=-1),c<0)this.isReverse_?t=t.left:t=t.right;else if(c===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),e;if(this.resultGenerator_?e=this.resultGenerator_(t.key,t.value):e={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Ze{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??Ze.RED,this.left=r??Rn.EMPTY_NODE,this.right=o??Rn.EMPTY_NODE}copy(t,e,i,r,o){return new Ze(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return o<0?r=r.copy(null,null,null,r.left.insert(t,e,i),null):o===0?r=r.copy(null,e,null,null,null):r=r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Rn.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,e){let i,r;if(i=this,e(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),e(t,i.key)===0){if(i.right.isEmpty())return Rn.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Ze.RED=!0;Ze.BLACK=!1;class KI{copy(t,e,i,r,o){return this}insert(t,e,i){return new Ze(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Rn{constructor(t,e=Rn.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Rn(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Ze.BLACK,null,null))}remove(t){return new Rn(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ze.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),e===0)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();)if(e=this.comparator_(t,i.key),e===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else e<0?i=i.left:e>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Nd(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Nd(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Nd(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Nd(this.root_,null,this.comparator_,!0,t)}}Rn.EMPTY_NODE=new KI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(n,t){return to(n.name,t.name)}function m0(n,t){return to(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gy;function JI(n){gy=n}const O2=function(n){return typeof n=="number"?"number:"+u2(n):"string:"+n},D2=function(n){if(n.isLeafNode()){const t=n.val();ut(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Qi(t,".sv"),"Priority must be a string or number.")}else ut(n===gy||n.isEmpty(),"priority of unexpected type.");ut(n===gy||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yw;class Ke{static set __childrenNodeConstructor(t){Yw=t}static get __childrenNodeConstructor(){return Yw}constructor(t,e=Ke.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=e,this.lazyHash_=null,ut(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),D2(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Ke(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Ke.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Rt(t)?this:kt(t)===".priority"?this.priorityNode_:Ke.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,e){return null}updateImmediateChild(t,e){return t===".priority"?this.updatePriority(e):e.isEmpty()&&t!==".priority"?this:Ke.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,e).updatePriority(this.priorityNode_)}updateChild(t,e){const i=kt(t);return i===null?e:e.isEmpty()&&i!==".priority"?this:(ut(i!==".priority"||Lr(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Ke.__childrenNodeConstructor.EMPTY_NODE.updateChild(fe(t),e)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,e){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+O2(this.priorityNode_.val())+":");const e=typeof this.value_;t+=e+":",e==="number"?t+=u2(this.value_):t+=this.value_,this.lazyHash_=l2(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Ke.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Ke.__childrenNodeConstructor?-1:(ut(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const e=typeof t.value_,i=typeof this.value_,r=Ke.VALUE_TYPE_ORDER.indexOf(e),o=Ke.VALUE_TYPE_ORDER.indexOf(i);return ut(r>=0,"Unknown leaf type: "+e),ut(o>=0,"Unknown leaf type: "+i),r===o?i==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-r}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}else return!1}}Ke.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let I2,j2;function t4(n){I2=n}function e4(n){j2=n}class n4 extends Jf{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),o=i.compareTo(r);return o===0?to(t.name,e.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Mt.MIN}maxPost(){return new Mt(jr,new Ke("[PRIORITY-POST]",j2))}makePost(t,e){const i=I2(t);return new Mt(e,new Ke("[PRIORITY-POST]",i))}toString(){return".priority"}}const Se=new n4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4=Math.log(2);class s4{constructor(t){const e=o=>parseInt(Math.log(o)/i4,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=e(t+1),this.current_=this.count-1;const r=i(this.count);this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const pf=function(n,t,e,i){n.sort(t);const r=function(d,g){const _=g-d;let b,x;if(_===0)return null;if(_===1)return b=n[d],x=e?e(b):b,new Ze(x,b.node,Ze.BLACK,null,null);{const E=parseInt(_/2,10)+d,N=r(d,E),R=r(E+1,g);return b=n[E],x=e?e(b):b,new Ze(x,b.node,Ze.BLACK,N,R)}},o=function(d){let g=null,_=null,b=n.length;const x=function(N,R){const M=b-N,U=b;b-=N;const $=r(M+1,U),Q=n[M],tt=e?e(Q):Q;E(new Ze(tt,Q.node,R,null,$))},E=function(N){g?(g.left=N,g=N):(_=N,g=N)};for(let N=0;N<d.count;++N){const R=d.nextBitIsOne(),M=Math.pow(2,d.count-(N+1));R?x(M,Ze.BLACK):(x(M,Ze.BLACK),x(M,Ze.RED))}return _},c=new s4(n.length),h=o(c);return new Rn(i||t,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pp;const Xo={};class Os{static get Default(){return ut(Xo&&Se,"ChildrenNode.ts has not been loaded"),Pp=Pp||new Os({".priority":Xo},{".priority":Se}),Pp}constructor(t,e){this.indexes_=t,this.indexSet_=e}get(t){const e=cl(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Rn?e:null}hasIndex(t){return Qi(this.indexSet_,t.toString())}addIndex(t,e){ut(t!==Ba,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=e.getIterator(Mt.Wrap);let c=o.getNext();for(;c;)r=r||t.isDefinedOn(c.node),i.push(c),c=o.getNext();let h;r?h=pf(i,t.getCompare()):h=Xo;const d=t.toString(),g={...this.indexSet_};g[d]=t;const _={...this.indexes_};return _[d]=h,new Os(_,g)}addToIndexes(t,e){const i=rf(this.indexes_,(r,o)=>{const c=cl(this.indexSet_,o);if(ut(c,"Missing index implementation for "+o),r===Xo)if(c.isDefinedOn(t.node)){const h=[],d=e.getIterator(Mt.Wrap);let g=d.getNext();for(;g;)g.name!==t.name&&h.push(g),g=d.getNext();return h.push(t),pf(h,c.getCompare())}else return Xo;else{const h=e.get(t.name);let d=r;return h&&(d=d.remove(new Mt(t.name,h))),d.insert(t,t.node)}});return new Os(i,this.indexSet_)}removeFromIndexes(t,e){const i=rf(this.indexes_,r=>{if(r===Xo)return r;{const o=e.get(t.name);return o?r.remove(new Mt(t.name,o)):r}});return new Os(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zc;class wt{static get EMPTY_NODE(){return zc||(zc=new wt(new Rn(m0),null,Os.Default))}constructor(t,e,i){this.children_=t,this.priorityNode_=e,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&D2(this.priorityNode_),this.children_.isEmpty()&&ut(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||zc}updatePriority(t){return this.children_.isEmpty()?this:new wt(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const e=this.children_.get(t);return e===null?zc:e}}getChild(t){const e=kt(t);return e===null?this:this.getImmediateChild(e).getChild(fe(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,e){if(ut(e,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(e);{const i=new Mt(t,e);let r,o;e.isEmpty()?(r=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(t,e),o=this.indexMap_.addToIndexes(i,this.children_));const c=r.isEmpty()?zc:this.priorityNode_;return new wt(r,c,o)}}updateChild(t,e){const i=kt(t);if(i===null)return e;{ut(kt(t)!==".priority"||Lr(t)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild(fe(t),e);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const e={};let i=0,r=0,o=!0;if(this.forEachChild(Se,(c,h)=>{e[c]=h.val(t),i++,o&&wt.INTEGER_REGEXP_.test(c)?r=Math.max(r,Number(c)):o=!1}),!t&&o&&r<2*i){const c=[];for(const h in e)c[h]=e[h];return c}else return t&&!this.getPriority().isEmpty()&&(e[".priority"]=this.getPriority().val()),e}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+O2(this.getPriority().val())+":"),this.forEachChild(Se,(e,i)=>{const r=i.hash();r!==""&&(t+=":"+e+":"+r)}),this.lazyHash_=t===""?"":l2(t)}return this.lazyHash_}getPredecessorChildName(t,e,i){const r=this.resolveIndex_(i);if(r){const o=r.getPredecessorKey(new Mt(t,e));return o?o.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const e=this.resolveIndex_(t);if(e){const i=e.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(t){const e=this.getFirstChildName(t);return e?new Mt(e,this.children_.get(e)):null}getLastChildName(t){const e=this.resolveIndex_(t);if(e){const i=e.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(t){const e=this.getLastChildName(t);return e?new Mt(e,this.children_.get(e)):null}forEachChild(t,e){const i=this.resolveIndex_(t);return i?i.inorderTraversal(r=>e(r.name,r.node)):this.children_.inorderTraversal(e)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,e){const i=this.resolveIndex_(e);if(i)return i.getIteratorFrom(t,r=>r);{const r=this.children_.getIteratorFrom(t.name,Mt.Wrap);let o=r.peek();for(;o!=null&&e.compare(o,t)<0;)r.getNext(),o=r.peek();return r}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,e){const i=this.resolveIndex_(e);if(i)return i.getReverseIteratorFrom(t,r=>r);{const r=this.children_.getReverseIteratorFrom(t.name,Mt.Wrap);let o=r.peek();for(;o!=null&&e.compare(o,t)>0;)r.getNext(),o=r.peek();return r}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===$u?-1:0}withIndex(t){if(t===Ba||this.indexMap_.hasIndex(t))return this;{const e=this.indexMap_.addIndex(t,this.children_);return new wt(this.children_,this.priorityNode_,e)}}isIndexed(t){return t===Ba||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const e=t;if(this.getPriority().equals(e.getPriority()))if(this.children_.count()===e.children_.count()){const i=this.getIterator(Se),r=e.getIterator(Se);let o=i.getNext(),c=r.getNext();for(;o&&c;){if(o.name!==c.name||!o.node.equals(c.node))return!1;o=i.getNext(),c=r.getNext()}return o===null&&c===null}else return!1;else return!1}}resolveIndex_(t){return t===Ba?null:this.indexMap_.get(t.toString())}}wt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class r4 extends wt{constructor(){super(new Rn(m0),wt.EMPTY_NODE,Os.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return wt.EMPTY_NODE}isEmpty(){return!1}}const $u=new r4;Object.defineProperties(Mt,{MIN:{value:new Mt(Ya,wt.EMPTY_NODE)},MAX:{value:new Mt(jr,$u)}});M2.__EMPTY_NODE=wt.EMPTY_NODE;Ke.__childrenNodeConstructor=wt;JI($u);e4($u);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=!0;function Je(n,t=null){if(n===null)return wt.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(t=n[".priority"]),ut(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const e=n;return new Ke(e,Je(t))}if(!(n instanceof Array)&&a4){const e=[];let i=!1;if(cn(n,(c,h)=>{if(c.substring(0,1)!=="."){const d=Je(h);d.isEmpty()||(i=i||!d.getPriority().isEmpty(),e.push(new Mt(c,d)))}}),e.length===0)return wt.EMPTY_NODE;const o=pf(e,ZI,c=>c.name,m0);if(i){const c=pf(e,Se.getCompare());return new wt(o,Je(t),new Os({".priority":c},{".priority":Se}))}else return new wt(o,Je(t),Os.Default)}else{let e=wt.EMPTY_NODE;return cn(n,(i,r)=>{if(Qi(n,i)&&i.substring(0,1)!=="."){const o=Je(r);(o.isLeafNode()||!o.isEmpty())&&(e=e.updateImmediateChild(i,o))}}),e.updatePriority(Je(t))}}t4(Je);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0 extends Jf{constructor(t){super(),this.indexPath_=t,ut(!Rt(t)&&kt(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),o=i.compareTo(r);return o===0?to(t.name,e.name):o}makePost(t,e){const i=Je(t),r=wt.EMPTY_NODE.updateChild(this.indexPath_,i);return new Mt(e,r)}maxPost(){const t=wt.EMPTY_NODE.updateChild(this.indexPath_,$u);return new Mt(jr,t)}toString(){return Su(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4 extends Jf{compare(t,e){const i=t.node.compareTo(e.node);return i===0?to(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Mt.MIN}maxPost(){return Mt.MAX}makePost(t,e){const i=Je(t);return new Mt(e,i)}toString(){return".value"}}const L2=new o4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(n){return{type:"value",snapshotNode:n}}function dl(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function Eu(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function Tu(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}function l4(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(t){this.index_=t}updateChild(t,e,i,r,o,c){ut(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=t.getImmediateChild(e);return h.getChild(r).equals(i.getChild(r))&&h.isEmpty()===i.isEmpty()||(c!=null&&(i.isEmpty()?t.hasChild(e)?c.trackChildChange(Eu(e,h)):ut(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?c.trackChildChange(dl(e,i)):c.trackChildChange(Tu(e,i,h))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return i!=null&&(t.isLeafNode()||t.forEachChild(Se,(r,o)=>{e.hasChild(r)||i.trackChildChange(Eu(r,o))}),e.isLeafNode()||e.forEachChild(Se,(r,o)=>{if(t.hasChild(r)){const c=t.getImmediateChild(r);c.equals(o)||i.trackChildChange(Tu(r,o,c))}else i.trackChildChange(dl(r,o))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?wt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(t){this.indexedFilter_=new y0(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Cu.getStartPost_(t),this.endPost_=Cu.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,r,o,c){return this.matches(new Mt(e,i))||(i=wt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,o,c)}updateFullNode(t,e,i){e.isLeafNode()&&(e=wt.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(wt.EMPTY_NODE);const o=this;return e.forEachChild(Se,(c,h)=>{o.matches(new Mt(c,h))||(r=r.updateImmediateChild(c,wt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Cu(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,r,o,c){return this.rangedFilter_.matches(new Mt(e,i))||(i=wt.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,o,c):this.fullLimitUpdateChild_(t,e,i,o,c)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=wt.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<e.numChildren()&&e.isIndexed(this.index_)){r=wt.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;o.hasNext()&&c<this.limit_;){const h=o.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))r=r.updateImmediateChild(h.name,h.node),c++;else break;else continue}}else{r=e.withIndex(this.index_),r=r.updatePriority(wt.EMPTY_NODE);let o;this.reverse_?o=r.getReverseIterator(this.index_):o=r.getIterator(this.index_);let c=0;for(;o.hasNext();){const h=o.getNext();c<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?c++:r=r.updateImmediateChild(h.name,wt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,o){let c;if(this.reverse_){const b=this.index_.getCompare();c=(x,E)=>b(E,x)}else c=this.index_.getCompare();const h=t;ut(h.numChildren()===this.limit_,"");const d=new Mt(e,i),g=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),_=this.rangedFilter_.matches(d);if(h.hasChild(e)){const b=h.getImmediateChild(e);let x=r.getChildAfterChild(this.index_,g,this.reverse_);for(;x!=null&&(x.name===e||h.hasChild(x.name));)x=r.getChildAfterChild(this.index_,x,this.reverse_);const E=x==null?1:c(x,d);if(_&&!i.isEmpty()&&E>=0)return o?.trackChildChange(Tu(e,i,b)),h.updateImmediateChild(e,i);{o?.trackChildChange(Eu(e,b));const R=h.updateImmediateChild(e,wt.EMPTY_NODE);return x!=null&&this.rangedFilter_.matches(x)?(o?.trackChildChange(dl(x.name,x.node)),R.updateImmediateChild(x.name,x.node)):R}}else return i.isEmpty()?t:_&&c(g,d)>=0?(o!=null&&(o.trackChildChange(Eu(g.name,g.node)),o.trackChildChange(dl(e,i))),h.updateImmediateChild(e,i).updateImmediateChild(g.name,wt.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Se}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ut(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ut(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ya}hasEnd(){return this.endSet_}getIndexEndValue(){return ut(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ut(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:jr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ut(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Se}copy(){const t=new _0;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function u4(n){return n.loadsAllData()?new y0(n.getIndex()):n.hasLimit()?new c4(n):new Cu(n)}function h4(n,t,e){const i=n.copy();return i.startSet_=!0,t===void 0&&(t=null),i.indexStartValue_=t,e!=null?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function d4(n,t,e){const i=n.copy();return i.endSet_=!0,t===void 0&&(t=null),i.indexEndValue_=t,e!==void 0?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function f4(n,t){const e=n.copy();return e.index_=t,e}function Gw(n){const t={};if(n.isDefault())return t;let e;if(n.index_===Se?e="$priority":n.index_===L2?e="$value":n.index_===Ba?e="$key":(ut(n.index_ instanceof p0,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=tn(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=tn(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+tn(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=tn(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+tn(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function $w(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;e===""&&(n.isViewFromLeft()?e="l":e="r"),t.vf=e}return n.index_!==Se&&(t.i=n.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf extends A2{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return e!==void 0?"tag$"+e:(ut(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Gu("p:rest:"),this.listens_={}}listen(t,e,i,r){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const c=yf.getListenId_(t,i),h={};this.listens_[c]=h;const d=Gw(t._queryParams);this.restRequest_(o+".json",d,(g,_)=>{let b=_;if(g===404&&(b=null,g=null),g===null&&this.onDataUpdate_(o,b,!1,i),cl(this.listens_,c)===h){let x;g?g===401?x="permission_denied":x="rest_error:"+g:x="ok",r(x,null)}})}unlisten(t,e){const i=yf.getListenId_(t,e);delete this.listens_[i]}get(t){const e=Gw(t._queryParams),i=t._path.toString(),r=new Uu;return this.restRequest_(i+".json",e,(o,c)=>{let h=c;o===404&&(h=null,o=null),o===null?(this.onDataUpdate_(i,h,!1,null),r.resolve(h)):r.reject(new Error(h))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(e.auth=r.accessToken),o&&o.token&&(e.ac=o.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+bl(e);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(i&&h.readyState===4){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let d=null;if(h.status>=200&&h.status<300){try{d=_u(h.responseText)}catch{vn("Failed to parse JSON response for "+c+": "+h.responseText)}i(null,d)}else h.status!==401&&h.status!==404&&vn("Got unsuccessful REST response for "+c+" Status: "+h.status),i(h.status);i=null}},h.open("GET",c,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(){this.rootNode_=wt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(){return{value:null,children:new Map}}function U2(n,t,e){if(Rt(t))n.value=e,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(t,e);else{const i=kt(t);n.children.has(i)||n.children.set(i,_f());const r=n.children.get(i);t=fe(t),U2(r,t,e)}}function my(n,t,e){n.value!==null?e(t,n.value):m4(n,(i,r)=>{const o=new ie(t.toString()+"/"+i);my(r,o,e)})}function m4(n,t){n.children.forEach((e,i)=>{t(i,e)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e={...t};return this.last_&&cn(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=10*1e3,y4=30*1e3,_4=300*1e3;class v4{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new p4(t);const i=Xw+(y4-Xw)*Math.random();lu(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;cn(t,(r,o)=>{o>0&&Qi(this.statsToReport_,r)&&(e[r]=o,i=!0)}),i&&this.server_.reportStats(e),lu(this.reportStats_.bind(this),Math.floor(Math.random()*2*_4))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _i;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(_i||(_i={}));function v0(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function b0(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function x0(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=_i.ACK_USER_WRITE,this.source=v0()}operationForChild(t){if(Rt(this.path)){if(this.affectedTree.value!=null)return ut(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new ie(t));return new vf(Wt(),e,this.revert)}}else return ut(kt(this.path)===t,"operationForChild called for unrelated child."),new vf(fe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(t,e){this.source=t,this.path=e,this.type=_i.LISTEN_COMPLETE}operationForChild(t){return Rt(this.path)?new Au(this.source,Wt()):new Au(this.source,fe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=_i.OVERWRITE}operationForChild(t){return Rt(this.path)?new Ga(this.source,Wt(),this.snap.getImmediateChild(t)):new Ga(this.source,fe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=_i.MERGE}operationForChild(t){if(Rt(this.path)){const e=this.children.subtree(new ie(t));return e.isEmpty()?null:e.value?new Ga(this.source,Wt(),e.value):new fl(this.source,Wt(),e)}else return ut(kt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new fl(this.source,fe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Rt(t))return this.isFullyInitialized()&&!this.filtered_;const e=kt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function x4(n,t,e,i){const r=[],o=[];return t.forEach(c=>{c.type==="child_changed"&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&o.push(l4(c.childName,c.snapshotNode))}),Bc(n,r,"child_removed",t,i,e),Bc(n,r,"child_added",t,i,e),Bc(n,r,"child_moved",o,i,e),Bc(n,r,"child_changed",t,i,e),Bc(n,r,"value",t,i,e),r}function Bc(n,t,e,i,r,o){const c=i.filter(h=>h.type===e);c.sort((h,d)=>S4(n,h,d)),c.forEach(h=>{const d=w4(n,h,o);r.forEach(g=>{g.respondsTo(h.type)&&t.push(g.createEvent(d,n.query_))})})}function w4(n,t,e){return t.type==="value"||t.type==="child_removed"||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}function S4(n,t,e){if(t.childName==null||e.childName==null)throw vl("Should only compare child_ events.");const i=new Mt(t.childName,t.snapshotNode),r=new Mt(e.childName,e.snapshotNode);return n.index_.compare(i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(n,t){return{eventCache:n,serverCache:t}}function cu(n,t,e,i){return tg(new $a(t,e,i),n.serverCache)}function z2(n,t,e,i){return tg(n.eventCache,new $a(t,e,i))}function py(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Xa(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Up;const E4=()=>(Up||(Up=new Rn(oI)),Up);class de{static fromObject(t){let e=new de(null);return cn(t,(i,r)=>{e=e.set(new ie(i),r)}),e}constructor(t,e=E4()){this.value=t,this.children=e}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(this.value!=null&&e(this.value))return{path:Wt(),value:this.value};if(Rt(t))return null;{const i=kt(t),r=this.children.get(i);if(r!==null){const o=r.findRootMostMatchingPathAndValue(fe(t),e);return o!=null?{path:ke(new ie(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Rt(t))return this;{const e=kt(t),i=this.children.get(e);return i!==null?i.subtree(fe(t)):new de(null)}}set(t,e){if(Rt(t))return new de(e,this.children);{const i=kt(t),o=(this.children.get(i)||new de(null)).set(fe(t),e),c=this.children.insert(i,o);return new de(this.value,c)}}remove(t){if(Rt(t))return this.children.isEmpty()?new de(null):new de(null,this.children);{const e=kt(t),i=this.children.get(e);if(i){const r=i.remove(fe(t));let o;return r.isEmpty()?o=this.children.remove(e):o=this.children.insert(e,r),this.value===null&&o.isEmpty()?new de(null):new de(this.value,o)}else return this}}get(t){if(Rt(t))return this.value;{const e=kt(t),i=this.children.get(e);return i?i.get(fe(t)):null}}setTree(t,e){if(Rt(t))return e;{const i=kt(t),o=(this.children.get(i)||new de(null)).setTree(fe(t),e);let c;return o.isEmpty()?c=this.children.remove(i):c=this.children.insert(i,o),new de(this.value,c)}}fold(t){return this.fold_(Wt(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(ke(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,Wt(),e)}findOnPath_(t,e,i){const r=this.value?i(e,this.value):!1;if(r)return r;if(Rt(t))return null;{const o=kt(t),c=this.children.get(o);return c?c.findOnPath_(fe(t),ke(e,o),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Wt(),e)}foreachOnPath_(t,e,i){if(Rt(t))return this;{this.value&&i(e,this.value);const r=kt(t),o=this.children.get(r);return o?o.foreachOnPath_(fe(t),ke(e,r),i):new de(null)}}foreach(t){this.foreach_(Wt(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(ke(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(t){this.writeTree_=t}static empty(){return new bi(new de(null))}}function uu(n,t,e){if(Rt(t))return new bi(new de(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(i!=null){const r=i.path;let o=i.value;const c=kn(r,t);return o=o.updateChild(c,e),new bi(n.writeTree_.set(r,o))}else{const r=new de(e),o=n.writeTree_.setTree(t,r);return new bi(o)}}}function yy(n,t,e){let i=n;return cn(e,(r,o)=>{i=uu(i,ke(t,r),o)}),i}function Qw(n,t){if(Rt(t))return bi.empty();{const e=n.writeTree_.setTree(t,new de(null));return new bi(e)}}function _y(n,t){return eo(n,t)!=null}function eo(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return e!=null?n.writeTree_.get(e.path).getChild(kn(e.path,t)):null}function Kw(n){const t=[],e=n.writeTree_.value;return e!=null?e.isLeafNode()||e.forEachChild(Se,(i,r)=>{t.push(new Mt(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&t.push(new Mt(i,r.value))}),t}function kr(n,t){if(Rt(t))return n;{const e=eo(n,t);return e!=null?new bi(new de(e)):new bi(n.writeTree_.subtree(t))}}function vy(n){return n.writeTree_.isEmpty()}function gl(n,t){return B2(Wt(),n.writeTree_,t)}function B2(n,t,e){if(t.value!=null)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,o)=>{r===".priority"?(ut(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):e=B2(ke(n,r),o,e)}),!e.getChild(n).isEmpty()&&i!==null&&(e=e.updateChild(ke(n,".priority"),i)),e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(n,t){return q2(t,n)}function T4(n,t,e,i,r){ut(i>n.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=uu(n.visibleWrites,t,e)),n.lastWriteId=i}function C4(n,t,e,i){ut(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=yy(n.visibleWrites,t,e),n.lastWriteId=i}function A4(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}function N4(n,t){const e=n.allWrites.findIndex(h=>h.writeId===t);ut(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,o=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const h=n.allWrites[c];h.visible&&(c>=e&&k4(h,i.path)?r=!1:ei(i.path,h.path)&&(o=!0)),c--}if(r){if(o)return R4(n),!0;if(i.snap)n.visibleWrites=Qw(n.visibleWrites,i.path);else{const h=i.children;cn(h,d=>{n.visibleWrites=Qw(n.visibleWrites,ke(i.path,d))})}return!0}else return!1}function k4(n,t){if(n.snap)return ei(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&ei(ke(n.path,e),t))return!0;return!1}function R4(n){n.visibleWrites=H2(n.allWrites,M4,Wt()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function M4(n){return n.visible}function H2(n,t,e){let i=bi.empty();for(let r=0;r<n.length;++r){const o=n[r];if(t(o)){const c=o.path;let h;if(o.snap)ei(e,c)?(h=kn(e,c),i=uu(i,h,o.snap)):ei(c,e)&&(h=kn(c,e),i=uu(i,Wt(),o.snap.getChild(h)));else if(o.children){if(ei(e,c))h=kn(e,c),i=yy(i,h,o.children);else if(ei(c,e))if(h=kn(c,e),Rt(h))i=yy(i,Wt(),o.children);else{const d=cl(o.children,kt(h));if(d){const g=d.getChild(fe(h));i=uu(i,Wt(),g)}}}else throw vl("WriteRecord should have .snap or .children")}}return i}function F2(n,t,e,i,r){if(!i&&!r){const o=eo(n.visibleWrites,t);if(o!=null)return o;{const c=kr(n.visibleWrites,t);if(vy(c))return e;if(e==null&&!_y(c,Wt()))return null;{const h=e||wt.EMPTY_NODE;return gl(c,h)}}}else{const o=kr(n.visibleWrites,t);if(!r&&vy(o))return e;if(!r&&e==null&&!_y(o,Wt()))return null;{const c=function(g){return(g.visible||r)&&(!i||!~i.indexOf(g.writeId))&&(ei(g.path,t)||ei(t,g.path))},h=H2(n.allWrites,c,t),d=e||wt.EMPTY_NODE;return gl(h,d)}}}function O4(n,t,e){let i=wt.EMPTY_NODE;const r=eo(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(Se,(o,c)=>{i=i.updateImmediateChild(o,c)}),i;if(e){const o=kr(n.visibleWrites,t);return e.forEachChild(Se,(c,h)=>{const d=gl(kr(o,new ie(c)),h);i=i.updateImmediateChild(c,d)}),Kw(o).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}else{const o=kr(n.visibleWrites,t);return Kw(o).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}}function D4(n,t,e,i,r){ut(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=ke(t,e);if(_y(n.visibleWrites,o))return null;{const c=kr(n.visibleWrites,o);return vy(c)?r.getChild(e):gl(c,r.getChild(e))}}function I4(n,t,e,i){const r=ke(t,e),o=eo(n.visibleWrites,r);if(o!=null)return o;if(i.isCompleteForChild(e)){const c=kr(n.visibleWrites,r);return gl(c,i.getNode().getImmediateChild(e))}else return null}function j4(n,t){return eo(n.visibleWrites,t)}function L4(n,t,e,i,r,o,c){let h;const d=kr(n.visibleWrites,t),g=eo(d,Wt());if(g!=null)h=g;else if(e!=null)h=gl(d,e);else return[];if(h=h.withIndex(c),!h.isEmpty()&&!h.isLeafNode()){const _=[],b=c.getCompare(),x=o?h.getReverseIteratorFrom(i,c):h.getIteratorFrom(i,c);let E=x.getNext();for(;E&&_.length<r;)b(E,i)!==0&&_.push(E),E=x.getNext();return _}else return[]}function P4(){return{visibleWrites:bi.empty(),allWrites:[],lastWriteId:-1}}function bf(n,t,e,i){return F2(n.writeTree,n.treePath,t,e,i)}function S0(n,t){return O4(n.writeTree,n.treePath,t)}function Zw(n,t,e,i){return D4(n.writeTree,n.treePath,t,e,i)}function xf(n,t){return j4(n.writeTree,ke(n.treePath,t))}function U4(n,t,e,i,r,o){return L4(n.writeTree,n.treePath,t,e,i,r,o)}function E0(n,t,e){return I4(n.writeTree,n.treePath,t,e)}function V2(n,t){return q2(ke(n.treePath,t),n.writeTree)}function q2(n,t){return{treePath:n,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;ut(e==="child_added"||e==="child_changed"||e==="child_removed","Only child changes supported for tracking"),ut(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if(e==="child_added"&&o==="child_removed")this.changeMap.set(i,Tu(i,t.snapshotNode,r.snapshotNode));else if(e==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(e==="child_removed"&&o==="child_changed")this.changeMap.set(i,Eu(i,r.oldSnap));else if(e==="child_changed"&&o==="child_added")this.changeMap.set(i,dl(i,t.snapshotNode));else if(e==="child_changed"&&o==="child_changed")this.changeMap.set(i,Tu(i,t.snapshotNode,r.oldSnap));else throw vl("Illegal combination of changes: "+t+" occurred after "+r)}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}}const W2=new B4;class T0{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=this.optCompleteServerCache_!=null?new $a(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return E0(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Xa(this.viewCache_),o=U4(this.writes_,r,e,1,i,t);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(n){return{filter:n}}function F4(n,t){ut(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),ut(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function V4(n,t,e,i,r){const o=new z4;let c,h;if(e.type===_i.OVERWRITE){const g=e;g.source.fromUser?c=by(n,t,g.path,g.snap,i,r,o):(ut(g.source.fromServer,"Unknown source."),h=g.source.tagged||t.serverCache.isFiltered()&&!Rt(g.path),c=wf(n,t,g.path,g.snap,i,r,h,o))}else if(e.type===_i.MERGE){const g=e;g.source.fromUser?c=W4(n,t,g.path,g.children,i,r,o):(ut(g.source.fromServer,"Unknown source."),h=g.source.tagged||t.serverCache.isFiltered(),c=xy(n,t,g.path,g.children,i,r,h,o))}else if(e.type===_i.ACK_USER_WRITE){const g=e;g.revert?c=$4(n,t,g.path,i,r,o):c=Y4(n,t,g.path,g.affectedTree,i,r,o)}else if(e.type===_i.LISTEN_COMPLETE)c=G4(n,t,e.path,i,o);else throw vl("Unknown operation type: "+e.type);const d=o.getChanges();return q4(t,c,d),{viewCache:c,changes:d}}function q4(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=py(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&e.push(P2(py(t)))}}function Y2(n,t,e,i,r,o){const c=t.eventCache;if(xf(i,e)!=null)return t;{let h,d;if(Rt(e))if(ut(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const g=Xa(t),_=g instanceof wt?g:wt.EMPTY_NODE,b=S0(i,_);h=n.filter.updateFullNode(t.eventCache.getNode(),b,o)}else{const g=bf(i,Xa(t));h=n.filter.updateFullNode(t.eventCache.getNode(),g,o)}else{const g=kt(e);if(g===".priority"){ut(Lr(e)===1,"Can't have a priority with additional path components");const _=c.getNode();d=t.serverCache.getNode();const b=Zw(i,e,_,d);b!=null?h=n.filter.updatePriority(_,b):h=c.getNode()}else{const _=fe(e);let b;if(c.isCompleteForChild(g)){d=t.serverCache.getNode();const x=Zw(i,e,c.getNode(),d);x!=null?b=c.getNode().getImmediateChild(g).updateChild(_,x):b=c.getNode().getImmediateChild(g)}else b=E0(i,g,t.serverCache);b!=null?h=n.filter.updateChild(c.getNode(),g,b,_,r,o):h=c.getNode()}}return cu(t,h,c.isFullyInitialized()||Rt(e),n.filter.filtersNodes())}}function wf(n,t,e,i,r,o,c,h){const d=t.serverCache;let g;const _=c?n.filter:n.filter.getIndexedFilter();if(Rt(e))g=_.updateFullNode(d.getNode(),i,null);else if(_.filtersNodes()&&!d.isFiltered()){const E=d.getNode().updateChild(e,i);g=_.updateFullNode(d.getNode(),E,null)}else{const E=kt(e);if(!d.isCompleteForPath(e)&&Lr(e)>1)return t;const N=fe(e),M=d.getNode().getImmediateChild(E).updateChild(N,i);E===".priority"?g=_.updatePriority(d.getNode(),M):g=_.updateChild(d.getNode(),E,M,N,W2,null)}const b=z2(t,g,d.isFullyInitialized()||Rt(e),_.filtersNodes()),x=new T0(r,b,o);return Y2(n,b,e,r,x,h)}function by(n,t,e,i,r,o,c){const h=t.eventCache;let d,g;const _=new T0(r,t,o);if(Rt(e))g=n.filter.updateFullNode(t.eventCache.getNode(),i,c),d=cu(t,g,!0,n.filter.filtersNodes());else{const b=kt(e);if(b===".priority")g=n.filter.updatePriority(t.eventCache.getNode(),i),d=cu(t,g,h.isFullyInitialized(),h.isFiltered());else{const x=fe(e),E=h.getNode().getImmediateChild(b);let N;if(Rt(x))N=i;else{const R=_.getCompleteChild(b);R!=null?d0(x)===".priority"&&R.getChild(k2(x)).isEmpty()?N=R:N=R.updateChild(x,i):N=wt.EMPTY_NODE}if(E.equals(N))d=t;else{const R=n.filter.updateChild(h.getNode(),b,N,x,_,c);d=cu(t,R,h.isFullyInitialized(),n.filter.filtersNodes())}}}return d}function Jw(n,t){return n.eventCache.isCompleteForChild(t)}function W4(n,t,e,i,r,o,c){let h=t;return i.foreach((d,g)=>{const _=ke(e,d);Jw(t,kt(_))&&(h=by(n,h,_,g,r,o,c))}),i.foreach((d,g)=>{const _=ke(e,d);Jw(t,kt(_))||(h=by(n,h,_,g,r,o,c))}),h}function t1(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function xy(n,t,e,i,r,o,c,h){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let d=t,g;Rt(e)?g=i:g=new de(null).setTree(e,i);const _=t.serverCache.getNode();return g.children.inorderTraversal((b,x)=>{if(_.hasChild(b)){const E=t.serverCache.getNode().getImmediateChild(b),N=t1(n,E,x);d=wf(n,d,new ie(b),N,r,o,c,h)}}),g.children.inorderTraversal((b,x)=>{const E=!t.serverCache.isCompleteForChild(b)&&x.value===null;if(!_.hasChild(b)&&!E){const N=t.serverCache.getNode().getImmediateChild(b),R=t1(n,N,x);d=wf(n,d,new ie(b),R,r,o,c,h)}}),d}function Y4(n,t,e,i,r,o,c){if(xf(r,e)!=null)return t;const h=t.serverCache.isFiltered(),d=t.serverCache;if(i.value!=null){if(Rt(e)&&d.isFullyInitialized()||d.isCompleteForPath(e))return wf(n,t,e,d.getNode().getChild(e),r,o,h,c);if(Rt(e)){let g=new de(null);return d.getNode().forEachChild(Ba,(_,b)=>{g=g.set(new ie(_),b)}),xy(n,t,e,g,r,o,h,c)}else return t}else{let g=new de(null);return i.foreach((_,b)=>{const x=ke(e,_);d.isCompleteForPath(x)&&(g=g.set(_,d.getNode().getChild(x)))}),xy(n,t,e,g,r,o,h,c)}}function G4(n,t,e,i,r){const o=t.serverCache,c=z2(t,o.getNode(),o.isFullyInitialized()||Rt(e),o.isFiltered());return Y2(n,c,e,i,W2,r)}function $4(n,t,e,i,r,o){let c;if(xf(i,e)!=null)return t;{const h=new T0(i,t,r),d=t.eventCache.getNode();let g;if(Rt(e)||kt(e)===".priority"){let _;if(t.serverCache.isFullyInitialized())_=bf(i,Xa(t));else{const b=t.serverCache.getNode();ut(b instanceof wt,"serverChildren would be complete if leaf node"),_=S0(i,b)}_=_,g=n.filter.updateFullNode(d,_,o)}else{const _=kt(e);let b=E0(i,_,t.serverCache);b==null&&t.serverCache.isCompleteForChild(_)&&(b=d.getImmediateChild(_)),b!=null?g=n.filter.updateChild(d,_,b,fe(e),h,o):t.eventCache.getNode().hasChild(_)?g=n.filter.updateChild(d,_,wt.EMPTY_NODE,fe(e),h,o):g=d,g.isEmpty()&&t.serverCache.isFullyInitialized()&&(c=bf(i,Xa(t)),c.isLeafNode()&&(g=n.filter.updateFullNode(g,c,o)))}return c=t.serverCache.isFullyInitialized()||xf(i,Wt())!=null,cu(t,g,c,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new y0(i.getIndex()),o=u4(i);this.processor_=H4(o);const c=e.serverCache,h=e.eventCache,d=r.updateFullNode(wt.EMPTY_NODE,c.getNode(),null),g=o.updateFullNode(wt.EMPTY_NODE,h.getNode(),null),_=new $a(d,c.isFullyInitialized(),r.filtersNodes()),b=new $a(g,h.isFullyInitialized(),o.filtersNodes());this.viewCache_=tg(b,_),this.eventGenerator_=new b4(this.query_)}get query(){return this.query_}}function Q4(n){return n.viewCache_.serverCache.getNode()}function K4(n,t){const e=Xa(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Rt(t)&&!e.getImmediateChild(kt(t)).isEmpty())?e.getChild(t):null}function e1(n){return n.eventRegistrations_.length===0}function Z4(n,t){n.eventRegistrations_.push(t)}function n1(n,t,e){const i=[];if(e){ut(t==null,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(o=>{const c=o.createCancelEvent(e,r);c&&i.push(c)})}if(t){let r=[];for(let o=0;o<n.eventRegistrations_.length;++o){const c=n.eventRegistrations_[o];if(!c.matches(t))r.push(c);else if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(o+1));break}}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function i1(n,t,e,i){t.type===_i.MERGE&&t.source.queryId!==null&&(ut(Xa(n.viewCache_),"We should always have a full cache before handling merges"),ut(py(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=V4(n.processor_,r,t,e,i);return F4(n.processor_,o.viewCache),ut(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,G2(n,o.changes,o.viewCache.eventCache.getNode(),null)}function J4(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Se,(o,c)=>{i.push(dl(o,c))}),e.isFullyInitialized()&&i.push(P2(e.getNode())),G2(n,i,e.getNode(),t)}function G2(n,t,e,i){const r=i?[i]:n.eventRegistrations_;return x4(n.eventGenerator_,t,e,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sf;class tj{constructor(){this.views=new Map}}function ej(n){ut(!Sf,"__referenceConstructor has already been defined"),Sf=n}function nj(){return ut(Sf,"Reference.ts has not been loaded"),Sf}function ij(n){return n.views.size===0}function C0(n,t,e,i){const r=t.source.queryId;if(r!==null){const o=n.views.get(r);return ut(o!=null,"SyncTree gave us an op for an invalid query."),i1(o,t,e,i)}else{let o=[];for(const c of n.views.values())o=o.concat(i1(c,t,e,i));return o}}function sj(n,t,e,i,r){const o=t._queryIdentifier,c=n.views.get(o);if(!c){let h=bf(e,r?i:null),d=!1;h?d=!0:i instanceof wt?(h=S0(e,i),d=!1):(h=wt.EMPTY_NODE,d=!1);const g=tg(new $a(h,d,!1),new $a(i,r,!1));return new X4(t,g)}return c}function rj(n,t,e,i,r,o){const c=sj(n,t,i,r,o);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,c),Z4(c,e),J4(c,e)}function aj(n,t,e,i){const r=t._queryIdentifier,o=[];let c=[];const h=Pr(n);if(r==="default")for(const[d,g]of n.views.entries())c=c.concat(n1(g,e,i)),e1(g)&&(n.views.delete(d),g.query._queryParams.loadsAllData()||o.push(g.query));else{const d=n.views.get(r);d&&(c=c.concat(n1(d,e,i)),e1(d)&&(n.views.delete(r),d.query._queryParams.loadsAllData()||o.push(d.query)))}return h&&!Pr(n)&&o.push(new(nj())(t._repo,t._path)),{removed:o,events:c}}function $2(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function al(n,t){let e=null;for(const i of n.views.values())e=e||K4(i,t);return e}function X2(n,t){if(t._queryParams.loadsAllData())return eg(n);{const i=t._queryIdentifier;return n.views.get(i)}}function Q2(n,t){return X2(n,t)!=null}function Pr(n){return eg(n)!=null}function eg(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ef;function oj(n){ut(!Ef,"__referenceConstructor has already been defined"),Ef=n}function lj(){return ut(Ef,"Reference.ts has not been loaded"),Ef}let cj=1;class s1{constructor(t){this.listenProvider_=t,this.syncPointTree_=new de(null),this.pendingWriteTree_=P4(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function K2(n,t,e,i,r){return T4(n.pendingWriteTree_,t,e,i,r),r?Sl(n,new Ga(v0(),t,e)):[]}function uj(n,t,e,i){C4(n.pendingWriteTree_,t,e,i);const r=de.fromObject(e);return Sl(n,new fl(v0(),t,r))}function Er(n,t,e=!1){const i=A4(n.pendingWriteTree_,t);if(N4(n.pendingWriteTree_,t)){let o=new de(null);return i.snap!=null?o=o.set(Wt(),!0):cn(i.children,c=>{o=o.set(new ie(c),!0)}),Sl(n,new vf(i.path,o,e))}else return[]}function ng(n,t,e){return Sl(n,new Ga(b0(),t,e))}function hj(n,t,e){const i=de.fromObject(e);return Sl(n,new fl(b0(),t,i))}function dj(n,t){return Sl(n,new Au(b0(),t))}function fj(n,t,e){const i=N0(n,e);if(i){const r=k0(i),o=r.path,c=r.queryId,h=kn(o,t),d=new Au(x0(c),h);return R0(n,o,d)}else return[]}function wy(n,t,e,i,r=!1){const o=t._path,c=n.syncPointTree_.get(o);let h=[];if(c&&(t._queryIdentifier==="default"||Q2(c,t))){const d=aj(c,t,e,i);ij(c)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const g=d.removed;if(h=d.events,!r){const _=g.findIndex(x=>x._queryParams.loadsAllData())!==-1,b=n.syncPointTree_.findOnPath(o,(x,E)=>Pr(E));if(_&&!b){const x=n.syncPointTree_.subtree(o);if(!x.isEmpty()){const E=pj(x);for(let N=0;N<E.length;++N){const R=E[N],M=R.query,U=tT(n,R);n.listenProvider_.startListening(hu(M),Tf(n,M),U.hashFn,U.onComplete)}}}!b&&g.length>0&&!i&&(_?n.listenProvider_.stopListening(hu(t),null):g.forEach(x=>{const E=n.queryToTagMap.get(ig(x));n.listenProvider_.stopListening(hu(x),E)}))}yj(n,g)}return h}function gj(n,t,e,i){const r=N0(n,i);if(r!=null){const o=k0(r),c=o.path,h=o.queryId,d=kn(c,t),g=new Ga(x0(h),d,e);return R0(n,c,g)}else return[]}function mj(n,t,e,i){const r=N0(n,i);if(r){const o=k0(r),c=o.path,h=o.queryId,d=kn(c,t),g=de.fromObject(e),_=new fl(x0(h),d,g);return R0(n,c,_)}else return[]}function r1(n,t,e,i=!1){const r=t._path;let o=null,c=!1;n.syncPointTree_.foreachOnPath(r,(x,E)=>{const N=kn(x,r);o=o||al(E,N),c=c||Pr(E)});let h=n.syncPointTree_.get(r);h?(c=c||Pr(h),o=o||al(h,Wt())):(h=new tj,n.syncPointTree_=n.syncPointTree_.set(r,h));let d;o!=null?d=!0:(d=!1,o=wt.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((E,N)=>{const R=al(N,Wt());R&&(o=o.updateImmediateChild(E,R))}));const g=Q2(h,t);if(!g&&!t._queryParams.loadsAllData()){const x=ig(t);ut(!n.queryToTagMap.has(x),"View does not exist, but we have a tag");const E=_j();n.queryToTagMap.set(x,E),n.tagToQueryMap.set(E,x)}const _=w0(n.pendingWriteTree_,r);let b=rj(h,t,e,_,o,d);if(!g&&!c&&!i){const x=X2(h,t);b=b.concat(vj(n,t,x))}return b}function A0(n,t,e){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(t,(c,h)=>{const d=kn(c,t),g=al(h,d);if(g)return g});return F2(r,t,o,e,!0)}function Sl(n,t){return Z2(t,n.syncPointTree_,null,w0(n.pendingWriteTree_,Wt()))}function Z2(n,t,e,i){if(Rt(n.path))return J2(n,t,e,i);{const r=t.get(Wt());e==null&&r!=null&&(e=al(r,Wt()));let o=[];const c=kt(n.path),h=n.operationForChild(c),d=t.children.get(c);if(d&&h){const g=e?e.getImmediateChild(c):null,_=V2(i,c);o=o.concat(Z2(h,d,g,_))}return r&&(o=o.concat(C0(r,n,i,e))),o}}function J2(n,t,e,i){const r=t.get(Wt());e==null&&r!=null&&(e=al(r,Wt()));let o=[];return t.children.inorderTraversal((c,h)=>{const d=e?e.getImmediateChild(c):null,g=V2(i,c),_=n.operationForChild(c);_&&(o=o.concat(J2(_,h,d,g)))}),r&&(o=o.concat(C0(r,n,i,e))),o}function tT(n,t){const e=t.query,i=Tf(n,e);return{hashFn:()=>(Q4(t)||wt.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?fj(n,e._path,i):dj(n,e._path);{const o=uI(r,e);return wy(n,e,null,o)}}}}function Tf(n,t){const e=ig(t);return n.queryToTagMap.get(e)}function ig(n){return n._path.toString()+"$"+n._queryIdentifier}function N0(n,t){return n.tagToQueryMap.get(t)}function k0(n){const t=n.indexOf("$");return ut(t!==-1&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new ie(n.substr(0,t))}}function R0(n,t,e){const i=n.syncPointTree_.get(t);ut(i,"Missing sync point for query tag that we're tracking");const r=w0(n.pendingWriteTree_,t);return C0(i,e,r,null)}function pj(n){return n.fold((t,e,i)=>{if(e&&Pr(e))return[eg(e)];{let r=[];return e&&(r=$2(e)),cn(i,(o,c)=>{r=r.concat(c)}),r}})}function hu(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(lj())(n._repo,n._path):n}function yj(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=ig(i),o=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(o)}}}function _j(){return cj++}function vj(n,t,e){const i=t._path,r=Tf(n,t),o=tT(n,e),c=n.listenProvider_.startListening(hu(t),r,o.hashFn,o.onComplete),h=n.syncPointTree_.subtree(i);if(r)ut(!Pr(h.value),"If we're adding a query, it shouldn't be shadowed");else{const d=h.fold((g,_,b)=>{if(!Rt(g)&&_&&Pr(_))return[eg(_).query];{let x=[];return _&&(x=x.concat($2(_).map(E=>E.query))),cn(b,(E,N)=>{x=x.concat(N)}),x}});for(let g=0;g<d.length;++g){const _=d[g];n.listenProvider_.stopListening(hu(_),Tf(n,_))}}return c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new M0(e)}node(){return this.node_}}class O0{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=ke(this.path_,t);return new O0(this.syncTree_,e)}node(){return A0(this.syncTree_,this.path_)}}const bj=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},a1=function(n,t,e){if(!n||typeof n!="object")return n;if(ut(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return xj(n[".sv"],t,e);if(typeof n[".sv"]=="object")return wj(n[".sv"],t);ut(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},xj=function(n,t,e){switch(n){case"timestamp":return e.timestamp;default:ut(!1,"Unexpected server value: "+n)}},wj=function(n,t,e){n.hasOwnProperty("increment")||ut(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;typeof i!="number"&&ut(!1,"Unexpected increment value: "+i);const r=t.node();if(ut(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return typeof c!="number"?i:c+i},eT=function(n,t,e,i){return D0(t,new O0(e,n),i)},nT=function(n,t,e){return D0(n,new M0(t),e)};function D0(n,t,e){const i=n.getPriority().val(),r=a1(i,t.getImmediateChild(".priority"),e);let o;if(n.isLeafNode()){const c=n,h=a1(c.getValue(),t,e);return h!==c.getValue()||r!==c.getPriority().val()?new Ke(h,Je(r)):n}else{const c=n;return o=c,r!==c.getPriority().val()&&(o=o.updatePriority(new Ke(r))),c.forEachChild(Se,(h,d)=>{const g=D0(d,t.getImmediateChild(h),e);g!==d&&(o=o.updateImmediateChild(h,g))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function j0(n,t){let e=t instanceof ie?t:new ie(t),i=n,r=kt(e);for(;r!==null;){const o=cl(i.node.children,r)||{children:{},childCount:0};i=new I0(r,i,o),e=fe(e),r=kt(e)}return i}function El(n){return n.node.value}function iT(n,t){n.node.value=t,Sy(n)}function sT(n){return n.node.childCount>0}function Sj(n){return El(n)===void 0&&!sT(n)}function sg(n,t){cn(n.node.children,(e,i)=>{t(new I0(e,n,i))})}function rT(n,t,e,i){e&&t(n),sg(n,r=>{rT(r,t,!0)})}function Ej(n,t,e){let i=n.parent;for(;i!==null;){if(t(i))return!0;i=i.parent}return!1}function Xu(n){return new ie(n.parent===null?n.name:Xu(n.parent)+"/"+n.name)}function Sy(n){n.parent!==null&&Tj(n.parent,n.name,n)}function Tj(n,t,e){const i=Sj(e),r=Qi(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,Sy(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,Sy(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj=/[\[\].#$\/\u0000-\u001F\u007F]/,Aj=/[\[\].#$\u0000-\u001F\u007F]/,zp=10*1024*1024,L0=function(n){return typeof n=="string"&&n.length!==0&&!Cj.test(n)},aT=function(n){return typeof n=="string"&&n.length!==0&&!Aj.test(n)},Nj=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),aT(n)},Ey=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!o0(n)||n&&typeof n=="object"&&Qi(n,".sv")},Qu=function(n,t,e,i){i&&t===void 0||rg(Yf(n,"value"),t,e)},rg=function(n,t,e){const i=e instanceof ie?new qI(e,n):e;if(t===void 0)throw new Error(n+"contains undefined "+Ra(i));if(typeof t=="function")throw new Error(n+"contains a function "+Ra(i)+" with contents = "+t.toString());if(o0(t))throw new Error(n+"contains "+t.toString()+" "+Ra(i));if(typeof t=="string"&&t.length>zp/3&&Gf(t)>zp)throw new Error(n+"contains a string greater than "+zp+" utf8 bytes "+Ra(i)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let r=!1,o=!1;if(cn(t,(c,h)=>{if(c===".value")r=!0;else if(c!==".priority"&&c!==".sv"&&(o=!0,!L0(c)))throw new Error(n+" contains an invalid key ("+c+") "+Ra(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);WI(i,c),rg(n,h,i),YI(i)}),r&&o)throw new Error(n+' contains ".value" child '+Ra(i)+" in addition to actual children.")}},kj=function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const o=Su(i);for(let c=0;c<o.length;c++)if(!(o[c]===".priority"&&c===o.length-1)){if(!L0(o[c]))throw new Error(n+"contains an invalid key ("+o[c]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(VI);let r=null;for(e=0;e<t.length;e++){if(i=t[e],r!==null&&ei(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},Rj=function(n,t,e,i){const r=Yf(n,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const o=[];cn(t,(c,h)=>{const d=new ie(c);if(rg(r,h,ke(e,d)),d0(d)===".priority"&&!Ey(h))throw new Error(r+"contains an invalid value for '"+d.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(d)}),kj(r,o)},P0=function(n,t,e,i){if(!aT(e))throw new Error(Yf(n,t)+'was an invalid path = "'+e+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Mj=function(n,t,e,i){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),P0(n,t,e)},oT=function(n,t){if(kt(t)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},Oj=function(n,t){const e=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!L0(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||e.length!==0&&!Nj(e))throw new Error(Yf(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ag(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],o=r.getPath();e!==null&&!f0(o,e.path)&&(n.eventLists_.push(e),e=null),e===null&&(e={events:[],path:o}),e.events.push(r)}e&&n.eventLists_.push(e)}function lT(n,t,e){ag(n,e),cT(n,i=>f0(i,t))}function wi(n,t,e){ag(n,e),cT(n,i=>ei(i,t)||ei(t,i))}function cT(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];if(r){const o=r.path;t(o)?(Ij(n.eventLists_[i]),n.eventLists_[i]=null):e=!1}}e&&(n.eventLists_=[]),n.recursionDepth_--}function Ij(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(e!==null){n.events[t]=null;const i=e.getEventRunner();ou&&ln("event: "+e.toString()),wl(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj="repo_interrupt",Lj=25;class Pj{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Dj,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=_f(),this.transactionQueueTree_=new I0,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Uj(n,t,e){if(n.stats_=u0(n.repoInfo_),n.forceRestClient_||gI())n.server_=new yf(n.repoInfo_,(i,r,o,c)=>{o1(n,i,r,o,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>l1(n,!0),0);else{if(typeof e<"u"&&e!==null){if(typeof e!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{tn(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Ps(n.repoInfo_,t,(i,r,o,c)=>{o1(n,i,r,o,c)},i=>{l1(n,i)},i=>{zj(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=vI(n.repoInfo_,()=>new v4(n.stats_,n.server_)),n.infoData_=new g4,n.infoSyncTree_=new s1({startListening:(i,r,o,c)=>{let h=[];const d=n.infoData_.getNode(i._path);return d.isEmpty()||(h=ng(n.infoSyncTree_,i._path,d),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),U0(n,"connected",!1),n.serverSyncTree_=new s1({startListening:(i,r,o,c)=>(n.server_.listen(i,o,r,(h,d)=>{const g=c(h,d);wi(n.eventQueue_,i._path,g)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}function uT(n){const e=n.infoData_.getNode(new ie(".info/serverTimeOffset")).val()||0;return new Date().getTime()+e}function og(n){return bj({timestamp:uT(n)})}function o1(n,t,e,i,r){n.dataUpdateCount++;const o=new ie(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let c=[];if(r)if(i){const d=rf(e,g=>Je(g));c=mj(n.serverSyncTree_,o,d,r)}else{const d=Je(e);c=gj(n.serverSyncTree_,o,d,r)}else if(i){const d=rf(e,g=>Je(g));c=hj(n.serverSyncTree_,o,d)}else{const d=Je(e);c=ng(n.serverSyncTree_,o,d)}let h=o;c.length>0&&(h=ml(n,o)),wi(n.eventQueue_,h,c)}function l1(n,t){U0(n,"connected",t),t===!1&&Fj(n)}function zj(n,t){cn(t,(e,i)=>{U0(n,e,i)})}function U0(n,t,e){const i=new ie("/.info/"+t),r=Je(e);n.infoData_.updateSnapshot(i,r);const o=ng(n.infoSyncTree_,i,r);wi(n.eventQueue_,i,o)}function z0(n){return n.nextWriteId_++}function Bj(n,t,e,i,r){lg(n,"set",{path:t.toString(),value:e,priority:i});const o=og(n),c=Je(e,i),h=A0(n.serverSyncTree_,t),d=nT(c,h,o),g=z0(n),_=K2(n.serverSyncTree_,t,d,g,!0);ag(n.eventQueue_,_),n.server_.put(t.toString(),c.val(!0),(x,E)=>{const N=x==="ok";N||vn("set at "+t+" failed: "+x);const R=Er(n.serverSyncTree_,g,!N);wi(n.eventQueue_,t,R),Ty(n,r,x,E)});const b=H0(n,t);ml(n,b),wi(n.eventQueue_,b,[])}function Hj(n,t,e,i){lg(n,"update",{path:t.toString(),value:e});let r=!0;const o=og(n),c={};if(cn(e,(h,d)=>{r=!1,c[h]=eT(ke(t,h),Je(d),n.serverSyncTree_,o)}),r)ln("update() called with empty data.  Don't do anything."),Ty(n,i,"ok",void 0);else{const h=z0(n),d=uj(n.serverSyncTree_,t,c,h);ag(n.eventQueue_,d),n.server_.merge(t.toString(),e,(g,_)=>{const b=g==="ok";b||vn("update at "+t+" failed: "+g);const x=Er(n.serverSyncTree_,h,!b),E=x.length>0?ml(n,t):t;wi(n.eventQueue_,E,x),Ty(n,i,g,_)}),cn(e,g=>{const _=H0(n,ke(t,g));ml(n,_)}),wi(n.eventQueue_,t,[])}}function Fj(n){lg(n,"onDisconnectEvents");const t=og(n),e=_f();my(n.onDisconnect_,Wt(),(r,o)=>{const c=eT(r,o,n.serverSyncTree_,t);U2(e,r,c)});let i=[];my(e,Wt(),(r,o)=>{i=i.concat(ng(n.serverSyncTree_,r,o));const c=H0(n,r);ml(n,c)}),n.onDisconnect_=_f(),wi(n.eventQueue_,Wt(),i)}function Vj(n,t,e){let i;kt(t._path)===".info"?i=r1(n.infoSyncTree_,t,e):i=r1(n.serverSyncTree_,t,e),lT(n.eventQueue_,t._path,i)}function c1(n,t,e){let i;kt(t._path)===".info"?i=wy(n.infoSyncTree_,t,e):i=wy(n.serverSyncTree_,t,e),lT(n.eventQueue_,t._path,i)}function qj(n){n.persistentConnection_&&n.persistentConnection_.interrupt(jj)}function lg(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),ln(e,...t)}function Ty(n,t,e,i){t&&wl(()=>{if(e==="ok")t(null);else{const r=(e||"error").toUpperCase();let o=r;i&&(o+=": "+i);const c=new Error(o);c.code=r,t(c)}})}function hT(n,t,e){return A0(n.serverSyncTree_,t,e)||wt.EMPTY_NODE}function B0(n,t=n.transactionQueueTree_){if(t||cg(n,t),El(t)){const e=fT(n,t);ut(e.length>0,"Sending zero length transaction queue"),e.every(r=>r.status===0)&&Wj(n,Xu(t),e)}else sT(t)&&sg(t,e=>{B0(n,e)})}function Wj(n,t,e){const i=e.map(g=>g.currentWriteId),r=hT(n,t,i);let o=r;const c=r.hash();for(let g=0;g<e.length;g++){const _=e[g];ut(_.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),_.status=1,_.retryCount++;const b=kn(t,_.path);o=o.updateChild(b,_.currentOutputSnapshotRaw)}const h=o.val(!0),d=t;n.server_.put(d.toString(),h,g=>{lg(n,"transaction put response",{path:d.toString(),status:g});let _=[];if(g==="ok"){const b=[];for(let x=0;x<e.length;x++)e[x].status=2,_=_.concat(Er(n.serverSyncTree_,e[x].currentWriteId)),e[x].onComplete&&b.push(()=>e[x].onComplete(null,!0,e[x].currentOutputSnapshotResolved)),e[x].unwatcher();cg(n,j0(n.transactionQueueTree_,t)),B0(n,n.transactionQueueTree_),wi(n.eventQueue_,t,_);for(let x=0;x<b.length;x++)wl(b[x])}else{if(g==="datastale")for(let b=0;b<e.length;b++)e[b].status===3?e[b].status=4:e[b].status=0;else{vn("transaction at "+d.toString()+" failed: "+g);for(let b=0;b<e.length;b++)e[b].status=4,e[b].abortReason=g}ml(n,t)}},c)}function ml(n,t){const e=dT(n,t),i=Xu(e),r=fT(n,e);return Yj(n,r,i),i}function Yj(n,t,e){if(t.length===0)return;const i=[];let r=[];const c=t.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<t.length;h++){const d=t[h],g=kn(e,d.path);let _=!1,b;if(ut(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)_=!0,b=d.abortReason,r=r.concat(Er(n.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=Lj)_=!0,b="maxretry",r=r.concat(Er(n.serverSyncTree_,d.currentWriteId,!0));else{const x=hT(n,d.path,c);d.currentInputSnapshot=x;const E=t[h].update(x.val());if(E!==void 0){rg("transaction failed: Data returned ",E,d.path);let N=Je(E);typeof E=="object"&&E!=null&&Qi(E,".priority")||(N=N.updatePriority(x.getPriority()));const M=d.currentWriteId,U=og(n),$=nT(N,x,U);d.currentOutputSnapshotRaw=N,d.currentOutputSnapshotResolved=$,d.currentWriteId=z0(n),c.splice(c.indexOf(M),1),r=r.concat(K2(n.serverSyncTree_,d.path,$,d.currentWriteId,d.applyLocally)),r=r.concat(Er(n.serverSyncTree_,M,!0))}else _=!0,b="nodata",r=r.concat(Er(n.serverSyncTree_,d.currentWriteId,!0))}wi(n.eventQueue_,e,r),r=[],_&&(t[h].status=2,function(x){setTimeout(x,Math.floor(0))}(t[h].unwatcher),t[h].onComplete&&(b==="nodata"?i.push(()=>t[h].onComplete(null,!1,t[h].currentInputSnapshot)):i.push(()=>t[h].onComplete(new Error(b),!1,null))))}cg(n,n.transactionQueueTree_);for(let h=0;h<i.length;h++)wl(i[h]);B0(n,n.transactionQueueTree_)}function dT(n,t){let e,i=n.transactionQueueTree_;for(e=kt(t);e!==null&&El(i)===void 0;)i=j0(i,e),t=fe(t),e=kt(t);return i}function fT(n,t){const e=[];return gT(n,t,e),e.sort((i,r)=>i.order-r.order),e}function gT(n,t,e){const i=El(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);sg(t,r=>{gT(n,r,e)})}function cg(n,t){const e=El(t);if(e){let i=0;for(let r=0;r<e.length;r++)e[r].status!==2&&(e[i]=e[r],i++);e.length=i,iT(t,e.length>0?e:void 0)}sg(t,i=>{cg(n,i)})}function H0(n,t){const e=Xu(dT(n,t)),i=j0(n.transactionQueueTree_,t);return Ej(i,r=>{Bp(n,r)}),Bp(n,i),rT(i,r=>{Bp(n,r)}),e}function Bp(n,t){const e=El(t);if(e){const i=[];let r=[],o=-1;for(let c=0;c<e.length;c++)e[c].status===3||(e[c].status===1?(ut(o===c-1,"All SENT items should be at beginning of queue."),o=c,e[c].status=3,e[c].abortReason="set"):(ut(e[c].status===0,"Unexpected transaction status in abort"),e[c].unwatcher(),r=r.concat(Er(n.serverSyncTree_,e[c].currentWriteId,!0)),e[c].onComplete&&i.push(e[c].onComplete.bind(null,new Error("set"),!1,null))));o===-1?iT(t,void 0):e.length=o+1,wi(n.eventQueue_,Xu(t),r);for(let c=0;c<i.length;c++)wl(i[c])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}function $j(n){const t={};n.charAt(0)==="?"&&(n=n.substring(1));for(const e of n.split("&")){if(e.length===0)continue;const i=e.split("=");i.length===2?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):vn(`Invalid query segment '${e}' in query '${n}'`)}return t}const u1=function(n,t){const e=Xj(n),i=e.namespace;e.domain==="firebase.com"&&Hs(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&e.domain!=="localhost"&&Hs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||rI();const r=e.scheme==="ws"||e.scheme==="wss";return{repoInfo:new b2(e.host,e.secure,i,r,t,"",i!==e.subdomain),path:new ie(e.pathString)}},Xj=function(n){let t="",e="",i="",r="",o="",c=!0,h="https",d=443;if(typeof n=="string"){let g=n.indexOf("//");g>=0&&(h=n.substring(0,g-1),n=n.substring(g+2));let _=n.indexOf("/");_===-1&&(_=n.length);let b=n.indexOf("?");b===-1&&(b=n.length),t=n.substring(0,Math.min(_,b)),_<b&&(r=Gj(n.substring(_,b)));const x=$j(n.substring(Math.min(n.length,b)));g=t.indexOf(":"),g>=0?(c=h==="https"||h==="wss",d=parseInt(t.substring(g+1),10)):g=t.length;const E=t.slice(0,g);if(E.toLowerCase()==="localhost")e="localhost";else if(E.split(".").length<=2)e=E;else{const N=t.indexOf(".");i=t.substring(0,N).toLowerCase(),e=t.substring(N+1),o=i}"ns"in x&&(o=x.ns)}return{host:t,port:d,domain:e,subdomain:i,secure:c,scheme:h,pathString:r,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Qj=function(){let n=0;const t=[];return function(e){const i=e===n;n=e;let r;const o=new Array(8);for(r=7;r>=0;r--)o[r]=h1.charAt(e%64),e=Math.floor(e/64);ut(e===0,"Cannot push at time == 0");let c=o.join("");if(i){for(r=11;r>=0&&t[r]===63;r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)c+=h1.charAt(t[r]);return ut(c.length===20,"nextPushId: Length should be 20."),c}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+tn(this.snapshot.exportVal())}}class Zj{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return ut(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return Rt(this._path)?null:d0(this._path)}get ref(){return new Fr(this._repo,this._path)}get _queryIdentifier(){const t=$w(this._queryParams),e=l0(t);return e==="{}"?"default":e}get _queryObject(){return $w(this._queryParams)}isEqual(t){if(t=nn(t),!(t instanceof Tl))return!1;const e=this._repo===t._repo,i=f0(this._path,t._path),r=this._queryIdentifier===t._queryIdentifier;return e&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+FI(this._path)}}function t6(n,t){if(n._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function F0(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Ba){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Ya)throw new Error(i);if(typeof t!="string")throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==jr)throw new Error(i);if(typeof e!="string")throw new Error(r)}}else if(n.getIndex()===Se){if(t!=null&&!Ey(t)||e!=null&&!Ey(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(ut(n.getIndex()instanceof p0||n.getIndex()===L2,"unknown index type."),t!=null&&typeof t=="object"||e!=null&&typeof e=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function mT(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Fr extends Tl{constructor(t,e){super(t,e,new _0,!1)}get parent(){const t=k2(this._path);return t===null?null:new Fr(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Cf{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new ie(t),i=Nu(this.ref,t);return new Cf(this._node.getChild(e),i,Se)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>t(new Cf(r,Nu(this.ref,i),Se)))}hasChild(t){const e=new ie(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ee(n,t){return n=nn(n),n._checkNotDeleted("ref"),t!==void 0?Nu(n._root,t):n._root}function Nu(n,t){return n=nn(n),kt(n._path)===null?Mj("child","path",t):P0("child","path",t),new Fr(n._repo,ke(n._path,t))}function d1(n,t){n=nn(n),oT("push",n._path),Qu("push",t,n._path,!0);const e=uT(n._repo),i=Qj(e),r=Nu(n,i),o=Nu(n,i);let c;return c=Promise.resolve(o),r.then=c.then.bind(c),r.catch=c.then.bind(c,void 0),r}function Rr(n,t){n=nn(n),oT("set",n._path),Qu("set",t,n._path,!1);const e=new Uu;return Bj(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function xi(n,t){Rj("update",t,n._path);const e=new Uu;return Hj(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}class V0{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,e){const i=e._queryParams.getIndex();return new Kj("value",this,new Cf(t.snapshotNode,new Fr(e._repo,e._path),i))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Zj(this,t,e):null}matches(t){return t instanceof V0?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function e6(n,t,e,i,r){let o;if(typeof i=="object"&&(o=void 0,r=i),typeof i=="function"&&(o=i),r&&r.onlyOnce){const d=e,g=(_,b)=>{c1(n._repo,n,h),d(_,b)};g.userCallback=e.userCallback,g.context=e.context,e=g}const c=new Jj(e,o||void 0),h=new V0(c);return Vj(n._repo,n,h),()=>c1(n._repo,n,h)}function gi(n,t,e,i){return e6(n,"value",t,e,i)}class ug{}class n6 extends ug{constructor(t,e){super(),this._value=t,this._key=e,this.type="endAt"}_apply(t){Qu("endAt",this._value,t._path,!0);const e=d4(t._queryParams,this._value,this._key);if(mT(e),F0(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Tl(t._repo,t._path,e,t._orderByCalled)}}class i6 extends ug{constructor(t,e){super(),this._value=t,this._key=e,this.type="startAt"}_apply(t){Qu("startAt",this._value,t._path,!0);const e=h4(t._queryParams,this._value,this._key);if(mT(e),F0(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Tl(t._repo,t._path,e,t._orderByCalled)}}class s6 extends ug{constructor(t){super(),this._path=t,this.type="orderByChild"}_apply(t){t6(t,"orderByChild");const e=new ie(this._path);if(Rt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new p0(e),r=f4(t._queryParams,i);return F0(r),new Tl(t._repo,t._path,r,!0)}}function r6(n){return P0("orderByChild","path",n),new s6(n)}class a6 extends ug{constructor(t,e){super(),this._value=t,this._key=e,this.type="equalTo"}_apply(t){if(Qu("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new n6(this._value,this._key)._apply(new i6(this._value,this._key)._apply(t))}}function o6(n,t){return new a6(n,t)}function l6(n,...t){let e=nn(n);for(const i of t)e=i._apply(e);return e}ej(Fr);oj(Fr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6="FIREBASE_DATABASE_EMULATOR_HOST",Cy={};let u6=!1;function h6(n,t,e,i){const r=t.lastIndexOf(":"),o=t.substring(0,r),c=Za(o);n.repoInfo_=new b2(t,c,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,e),i&&(n.authTokenProvider_=i)}function d6(n,t,e,i,r){let o=i||n.options.databaseURL;o===void 0&&(n.options.projectId||Hs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ln("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let c=u1(o,r),h=c.repoInfo,d;typeof process<"u"&&Rw&&(d=Rw[c6]),d?(o=`http://${d}?ns=${h.namespace}`,c=u1(o,r),h=c.repoInfo):c.repoInfo.secure;const g=new pI(n.name,n.options,t);Oj("Invalid Firebase Database URL",c),Rt(c.path)||Hs("Database URL must point to the root of a Firebase Database (not including a child path).");const _=g6(h,n,g,new mI(n,e));return new m6(_,n)}function f6(n,t){const e=Cy[t];(!e||e[n.key]!==n)&&Hs(`Database ${t}(${n.repoInfo_}) has already been deleted.`),qj(n),delete e[n.key]}function g6(n,t,e,i){let r=Cy[t.name];r||(r={},Cy[t.name]=r);let o=r[n.toURLString()];return o&&Hs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Pj(n,u6,e,i),r[n.toURLString()]=o,o}class m6{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Uj(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Fr(this._repo,Wt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(f6(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Hs("Cannot call "+t+" on a deleted database.")}}function p6(n=Wy(),t){const e=Xf(n,"database").getImmediate({identifier:t});if(!e._instanceStarted){const i=rE("database");i&&y6(e,...i)}return e}function y6(n,t,e,i={}){n=nn(n),n._checkNotDeleted("useEmulator");const r=`${t}:${e}`,o=n._repoInternal;if(n._instanceStarted){if(r===n._repoInternal.repoInfo_.host&&Or(i,o.repoInfo_.emulatorOptions))return;Hs("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let c;if(o.repoInfo_.nodeAdmin)i.mockUserToken&&Hs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new Qd(Qd.OWNER);else if(i.mockUserToken){const h=typeof i.mockUserToken=="string"?i.mockUserToken:lE(i.mockUserToken,n.app.options.projectId);c=new Qd(h)}Za(t)&&(Hy(t),Fy("Database",!0)),h6(o,r,i,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _6(n){JD(Ja),Fa(new Dr("database",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return d6(i,r,o,e)},"PUBLIC").setMultipleInstances(!0)),Wi(Mw,Ow,n),Wi(Mw,Ow,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6={".sv":"timestamp"};function du(){return v6}function f1(n){return{".sv":{increment:n}}}Ps.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)};Ps.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)};_6();const b6={apiKey:"AIzaSyArw4hta6dNfJRp48bY5Z2b47ag_R5G-mI",authDomain:"studi-2e08c.firebaseapp.com",projectId:"studi-2e08c",storageBucket:"studi-2e08c.firebasestorage.app",messagingSenderId:"414723164531",appId:"1:414723164531:web:9c553047baef7d1b681d06",measurementId:"G-FNRLSJDHG8",databaseURL:"https://studi-2e08c-default-rtdb.firebaseio.com"},q0=fE(b6),xe=vD(q0),pT=new Ns,g1=$D(q0),be=p6(q0),x6=B.createContext();function w6({children:n}){const[t,e]=B.useState(null),[i,r]=B.useState(!0);B.useEffect(()=>zE(xe,h=>{e(h),r(!1)}),[]);const o={currentUser:t,loading:i};return y.jsx(x6.Provider,{value:o,children:!i&&n})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function S6(n,t,e,i){function r(o){return o instanceof e?o:new e(function(c){c(o)})}return new(e||(e=Promise))(function(o,c){function h(_){try{g(i.next(_))}catch(b){c(b)}}function d(_){try{g(i.throw(_))}catch(b){c(b)}}function g(_){_.done?o(_.value):r(_.value).then(h,d)}g((i=i.apply(n,[])).next())})}function E6(n,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,r,o,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(g){return function(_){return d([g,_])}}function d(g){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(o=g[0]&2?r.return:g[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,g[1])).done)return o;switch(r=0,o&&(g=[g[0]&2,o.value]),g[0]){case 0:case 1:o=g;break;case 4:return e.label++,{value:g[1],done:!1};case 5:e.label++,r=g[1],g=[0];continue;case 7:g=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(g[0]===6||g[0]===2)){e=0;continue}if(g[0]===3&&(!o||g[1]>o[0]&&g[1]<o[3])){e.label=g[1];break}if(g[0]===6&&e.label<o[1]){e.label=o[1],o=g;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(g);break}o[2]&&e.ops.pop(),e.trys.pop();continue}g=t.call(n,e)}catch(_){g=[6,_],r=0}finally{i=o=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var tl=function(){return tl=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++){e=arguments[i];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},tl.apply(this,arguments)},yT=function(n){return{loading:n==null,value:n}},T6=function(){return function(n,t){switch(t.type){case"error":return tl(tl({},n),{error:t.error,loading:!1,value:void 0});case"reset":return yT(t.defaultValue);case"value":return tl(tl({},n),{error:void 0,loading:!1,value:t.value});default:return n}}},C6=function(n){var t=n?n():void 0,e=B.useReducer(T6(),yT(t)),i=e[0],r=e[1],o=B.useCallback(function(){var d=n?n():void 0;r({type:"reset",defaultValue:d})},[n]),c=B.useCallback(function(d){r({type:"error",error:d})},[]),h=B.useCallback(function(d){r({type:"value",value:d})},[]);return B.useMemo(function(){return{error:i.error,loading:i.loading,reset:o,setError:c,setValue:h,value:i.value}},[i.error,i.loading,o,c,h,i.value])},hg=function(n,t){var e=C6(function(){return n.currentUser}),i=e.error,r=e.loading,o=e.setError,c=e.setValue,h=e.value;return B.useEffect(function(){var d=zE(n,function(g){return S6(void 0,void 0,void 0,function(){var _;return E6(this,function(b){switch(b.label){case 0:return[3,4];case 1:return b.trys.push([1,3,,4]),[4,t.onUserChanged(g)];case 2:return b.sent(),[3,4];case 3:return _=b.sent(),o(_),[3,4];case 4:return c(g),[2]}})})},o);return function(){d()}},[n]),[h,r,i]};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ku(n){return n+.5|0}const Tr=(n,t,e)=>Math.max(Math.min(n,e),t);function Kc(n){return Tr(Ku(n*2.55),0,255)}function Mr(n){return Tr(Ku(n*255),0,255)}function As(n){return Tr(Ku(n/2.55)/100,0,1)}function m1(n){return Tr(Ku(n*100),0,100)}const ti={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ay=[..."0123456789ABCDEF"],A6=n=>Ay[n&15],N6=n=>Ay[(n&240)>>4]+Ay[n&15],kd=n=>(n&240)>>4===(n&15),k6=n=>kd(n.r)&&kd(n.g)&&kd(n.b)&&kd(n.a);function R6(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&ti[n[1]]*17,g:255&ti[n[2]]*17,b:255&ti[n[3]]*17,a:t===5?ti[n[4]]*17:255}:(t===7||t===9)&&(e={r:ti[n[1]]<<4|ti[n[2]],g:ti[n[3]]<<4|ti[n[4]],b:ti[n[5]]<<4|ti[n[6]],a:t===9?ti[n[7]]<<4|ti[n[8]]:255})),e}const M6=(n,t)=>n<255?t(n):"";function O6(n){var t=k6(n)?A6:N6;return n?"#"+t(n.r)+t(n.g)+t(n.b)+M6(n.a,t):void 0}const D6=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function _T(n,t,e){const i=t*Math.min(e,1-e),r=(o,c=(o+n/30)%12)=>e-i*Math.max(Math.min(c-3,9-c,1),-1);return[r(0),r(8),r(4)]}function I6(n,t,e){const i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function j6(n,t,e){const i=_T(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function L6(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function W0(n){const e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),c=Math.min(e,i,r),h=(o+c)/2;let d,g,_;return o!==c&&(_=o-c,g=h>.5?_/(2-o-c):_/(o+c),d=L6(e,i,r,_,o),d=d*60+.5),[d|0,g||0,h]}function Y0(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(Mr)}function G0(n,t,e){return Y0(_T,n,t,e)}function P6(n,t,e){return Y0(j6,n,t,e)}function U6(n,t,e){return Y0(I6,n,t,e)}function vT(n){return(n%360+360)%360}function z6(n){const t=D6.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Kc(+t[5]):Mr(+t[5]));const r=vT(+t[2]),o=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?i=P6(r,o,c):t[1]==="hsv"?i=U6(r,o,c):i=G0(r,o,c),{r:i[0],g:i[1],b:i[2],a:e}}function B6(n,t){var e=W0(n);e[0]=vT(e[0]+t),e=G0(e),n.r=e[0],n.g=e[1],n.b=e[2]}function H6(n){if(!n)return;const t=W0(n),e=t[0],i=m1(t[1]),r=m1(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${As(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const p1={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},y1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function F6(){const n={},t=Object.keys(y1),e=Object.keys(p1);let i,r,o,c,h;for(i=0;i<t.length;i++){for(c=h=t[i],r=0;r<e.length;r++)o=e[r],h=h.replace(o,p1[o]);o=parseInt(y1[c],16),n[h]=[o>>16&255,o>>8&255,o&255]}return n}let Rd;function V6(n){Rd||(Rd=F6(),Rd.transparent=[0,0,0,0]);const t=Rd[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const q6=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function W6(n){const t=q6.exec(n);let e=255,i,r,o;if(t){if(t[7]!==i){const c=+t[7];e=t[8]?Kc(c):Tr(c*255,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?Kc(i):Tr(i,0,255)),r=255&(t[4]?Kc(r):Tr(r,0,255)),o=255&(t[6]?Kc(o):Tr(o,0,255)),{r:i,g:r,b:o,a:e}}}function Y6(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${As(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Hp=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Qo=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function G6(n,t,e){const i=Qo(As(n.r)),r=Qo(As(n.g)),o=Qo(As(n.b));return{r:Mr(Hp(i+e*(Qo(As(t.r))-i))),g:Mr(Hp(r+e*(Qo(As(t.g))-r))),b:Mr(Hp(o+e*(Qo(As(t.b))-o))),a:n.a+e*(t.a-n.a)}}function Md(n,t,e){if(n){let i=W0(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=G0(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function bT(n,t){return n&&Object.assign(t||{},n)}function _1(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Mr(n[3]))):(t=bT(n,{r:0,g:0,b:0,a:1}),t.a=Mr(t.a)),t}function $6(n){return n.charAt(0)==="r"?W6(n):z6(n)}class ku{constructor(t){if(t instanceof ku)return t;const e=typeof t;let i;e==="object"?i=_1(t):e==="string"&&(i=R6(t)||V6(t)||$6(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=bT(this._rgb);return t&&(t.a=As(t.a)),t}set rgb(t){this._rgb=_1(t)}rgbString(){return this._valid?Y6(this._rgb):void 0}hexString(){return this._valid?O6(this._rgb):void 0}hslString(){return this._valid?H6(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let o;const c=e===o?.5:e,h=2*c-1,d=i.a-r.a,g=((h*d===-1?h:(h+d)/(1+h*d))+1)/2;o=1-g,i.r=255&g*i.r+o*r.r+.5,i.g=255&g*i.g+o*r.g+.5,i.b=255&g*i.b+o*r.b+.5,i.a=c*i.a+(1-c)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=G6(this._rgb,t._rgb,e)),this}clone(){return new ku(this.rgb)}alpha(t){return this._rgb.a=Mr(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Ku(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Md(this._rgb,2,t),this}darken(t){return Md(this._rgb,2,-t),this}saturate(t){return Md(this._rgb,1,t),this}desaturate(t){return Md(this._rgb,1,-t),this}rotate(t){return B6(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Es(){}const X6=(()=>{let n=0;return()=>n++})();function we(n){return n==null}function en(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Bt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function si(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Ui(n,t){return si(n)?n:t}function $t(n,t){return typeof n>"u"?t:n}const Q6=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,xT=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function ge(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function ne(n,t,e,i){let r,o,c;if(en(n))for(o=n.length,r=0;r<o;r++)t.call(e,n[r],r);else if(Bt(n))for(c=Object.keys(n),o=c.length,r=0;r<o;r++)t.call(e,n[c[r]],c[r])}function Af(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function Nf(n){if(en(n))return n.map(Nf);if(Bt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=Nf(n[e[r]]);return t}return n}function wT(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function K6(n,t,e,i){if(!wT(n))return;const r=t[n],o=e[n];Bt(r)&&Bt(o)?Ru(r,o,i):t[n]=Nf(o)}function Ru(n,t,e){const i=en(t)?t:[t],r=i.length;if(!Bt(n))return n;e=e||{};const o=e.merger||K6;let c;for(let h=0;h<r;++h){if(c=i[h],!Bt(c))continue;const d=Object.keys(c);for(let g=0,_=d.length;g<_;++g)o(d[g],n,c,e)}return n}function fu(n,t){return Ru(n,t,{merger:Z6})}function Z6(n,t,e){if(!wT(n))return;const i=t[n],r=e[n];Bt(i)&&Bt(r)?fu(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Nf(r))}const v1={"":n=>n,x:n=>n.x,y:n=>n.y};function J6(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function t3(n){const t=J6(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Mu(n,t){return(v1[t]||(v1[t]=t3(t)))(n)}function $0(n){return n.charAt(0).toUpperCase()+n.slice(1)}const kf=n=>typeof n<"u",Ur=n=>typeof n=="function",b1=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function e3(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const ue=Math.PI,ze=2*ue,Rf=Number.POSITIVE_INFINITY,n3=ue/180,qe=ue/2,Ca=ue/4,x1=ue*2/3,ST=Math.log10,Mf=Math.sign;function Kd(n,t,e){return Math.abs(n-t)<e}function w1(n){const t=Math.round(n);n=Kd(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(ST(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function i3(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function s3(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Of(n){return!s3(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function r3(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function a3(n,t,e){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Ds(n){return n*(ue/180)}function o3(n){return n*(180/ue)}function S1(n){if(!si(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function ET(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*ue&&(o+=ze),{angle:o,distance:r}}function l3(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function Fi(n){return(n%ze+ze)%ze}function Df(n,t,e,i){const r=Fi(n),o=Fi(t),c=Fi(e),h=Fi(o-r),d=Fi(c-r),g=Fi(r-o),_=Fi(r-c);return r===o||r===c||i&&o===c||h>d&&g<_}function Mn(n,t,e){return Math.max(t,Math.min(e,n))}function c3(n){return Mn(n,-32768,32767)}function Pa(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function X0(n,t,e){e=e||(c=>n[c]<t);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const Ny=(n,t,e,i)=>X0(n,e,i?r=>{const o=n[r][t];return o<e||o===e&&n[r+1][t]===e}:r=>n[r][t]<e),u3=(n,t,e)=>X0(n,e,i=>n[i][t]>=e);function h3(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const TT=["push","pop","shift","splice","unshift"];function d3(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),TT.forEach(e=>{const i="_onData"+$0(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const c=r.apply(this,o);return n._chartjs.listeners.forEach(h=>{typeof h[i]=="function"&&h[i](...o)}),c}})})}function E1(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(TT.forEach(o=>{delete n[o]}),delete n._chartjs)}function f3(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const CT=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function AT(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,CT.call(window,()=>{i=!1,n.apply(t,e)}))}}function g3(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const Q0=n=>n==="start"?"left":n==="end"?"right":"center",fn=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,m3=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t,Od=n=>n===0||n===1,T1=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*ze/e)),C1=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*ze/e)+1,gu={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*qe)+1,easeOutSine:n=>Math.sin(n*qe),easeInOutSine:n=>-.5*(Math.cos(ue*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Od(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Od(n)?n:T1(n,.075,.3),easeOutElastic:n=>Od(n)?n:C1(n,.075,.3),easeInOutElastic(n){return Od(n)?n:n<.5?.5*T1(n*2,.1125,.45):.5+.5*C1(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-gu.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?gu.easeInBounce(n*2)*.5:gu.easeOutBounce(n*2-1)*.5+.5};function NT(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function A1(n){return NT(n)?n:new ku(n)}function Fp(n){return NT(n)?n:new ku(n).saturate(.5).darken(.1).hexString()}const p3=["x","y","borderWidth","radius","tension"],y3=["color","borderColor","backgroundColor"];function _3(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:y3},numbers:{type:"number",properties:p3}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function v3(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const N1=new Map;function b3(n,t){t=t||{};const e=n+JSON.stringify(t);let i=N1.get(e);return i||(i=new Intl.NumberFormat(n,t),N1.set(e,i)),i}function K0(n,t,e){return b3(t,e).format(n)}const x3={values(n){return en(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,o=n;if(e.length>1){const g=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(g<1e-4||g>1e15)&&(r="scientific"),o=w3(n,e)}const c=ST(Math.abs(o)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),d={notation:r,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(d,this.options.ticks.format),K0(n,i,d)}};function w3(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var kT={formatters:x3};function S3(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:kT.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Qa=Object.create(null),ky=Object.create(null);function mu(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function Vp(n,t,e){return typeof t=="string"?Ru(mu(n,t),e):Ru(mu(n,""),t)}class E3{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Fp(r.backgroundColor),this.hoverBorderColor=(i,r)=>Fp(r.borderColor),this.hoverColor=(i,r)=>Fp(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Vp(this,t,e)}get(t){return mu(this,t)}describe(t,e){return Vp(ky,t,e)}override(t,e){return Vp(Qa,t,e)}route(t,e,i,r){const o=mu(this,t),c=mu(this,i),h="_"+e;Object.defineProperties(o,{[h]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const d=this[h],g=c[r];return Bt(d)?Object.assign({},g,d):$t(d,g)},set(d){this[h]=d}}})}apply(t){t.forEach(e=>e(this))}}var De=new E3({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[_3,v3,S3]);function T3(n){return!n||we(n.size)||we(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function k1(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function Aa(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function R1(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function M1(n,t,e,i){RT(n,t,e,i,null)}function RT(n,t,e,i,r){let o,c,h,d,g,_,b,x;const E=t.pointStyle,N=t.rotation,R=t.radius;let M=(N||0)*n3;if(E&&typeof E=="object"&&(o=E.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(M),n.drawImage(E,-E.width/2,-E.height/2,E.width,E.height),n.restore();return}if(!(isNaN(R)||R<=0)){switch(n.beginPath(),E){default:r?n.ellipse(e,i,r/2,R,0,0,ze):n.arc(e,i,R,0,ze),n.closePath();break;case"triangle":_=r?r/2:R,n.moveTo(e+Math.sin(M)*_,i-Math.cos(M)*R),M+=x1,n.lineTo(e+Math.sin(M)*_,i-Math.cos(M)*R),M+=x1,n.lineTo(e+Math.sin(M)*_,i-Math.cos(M)*R),n.closePath();break;case"rectRounded":g=R*.516,d=R-g,c=Math.cos(M+Ca)*d,b=Math.cos(M+Ca)*(r?r/2-g:d),h=Math.sin(M+Ca)*d,x=Math.sin(M+Ca)*(r?r/2-g:d),n.arc(e-b,i-h,g,M-ue,M-qe),n.arc(e+x,i-c,g,M-qe,M),n.arc(e+b,i+h,g,M,M+qe),n.arc(e-x,i+c,g,M+qe,M+ue),n.closePath();break;case"rect":if(!N){d=Math.SQRT1_2*R,_=r?r/2:d,n.rect(e-_,i-d,2*_,2*d);break}M+=Ca;case"rectRot":b=Math.cos(M)*(r?r/2:R),c=Math.cos(M)*R,h=Math.sin(M)*R,x=Math.sin(M)*(r?r/2:R),n.moveTo(e-b,i-h),n.lineTo(e+x,i-c),n.lineTo(e+b,i+h),n.lineTo(e-x,i+c),n.closePath();break;case"crossRot":M+=Ca;case"cross":b=Math.cos(M)*(r?r/2:R),c=Math.cos(M)*R,h=Math.sin(M)*R,x=Math.sin(M)*(r?r/2:R),n.moveTo(e-b,i-h),n.lineTo(e+b,i+h),n.moveTo(e+x,i-c),n.lineTo(e-x,i+c);break;case"star":b=Math.cos(M)*(r?r/2:R),c=Math.cos(M)*R,h=Math.sin(M)*R,x=Math.sin(M)*(r?r/2:R),n.moveTo(e-b,i-h),n.lineTo(e+b,i+h),n.moveTo(e+x,i-c),n.lineTo(e-x,i+c),M+=Ca,b=Math.cos(M)*(r?r/2:R),c=Math.cos(M)*R,h=Math.sin(M)*R,x=Math.sin(M)*(r?r/2:R),n.moveTo(e-b,i-h),n.lineTo(e+b,i+h),n.moveTo(e+x,i-c),n.lineTo(e-x,i+c);break;case"line":c=r?r/2:Math.cos(M)*R,h=Math.sin(M)*R,n.moveTo(e-c,i-h),n.lineTo(e+c,i+h);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(M)*(r?r/2:R),i+Math.sin(M)*R);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function MT(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function Z0(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function J0(n){n.restore()}function C3(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),we(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function A3(n,t,e,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),c=t-o.actualBoundingBoxLeft,h=t+o.actualBoundingBoxRight,d=e-o.actualBoundingBoxAscent,g=e+o.actualBoundingBoxDescent,_=r.strikethrough?(d+g)/2:g;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(c,_),n.lineTo(h,_),n.stroke()}}function N3(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Ou(n,t,e,i,r,o={}){const c=en(t)?t:[t],h=o.strokeWidth>0&&o.strokeColor!=="";let d,g;for(n.save(),n.font=r.string,C3(n,o),d=0;d<c.length;++d)g=c[d],o.backdrop&&N3(n,o.backdrop),h&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),we(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(g,e,i,o.maxWidth)),n.fillText(g,e,i,o.maxWidth),A3(n,e,i,g,o),i+=Number(r.lineHeight);n.restore()}function If(n,t){const{x:e,y:i,w:r,h:o,radius:c}=t;n.arc(e+c.topLeft,i+c.topLeft,c.topLeft,1.5*ue,ue,!0),n.lineTo(e,i+o-c.bottomLeft),n.arc(e+c.bottomLeft,i+o-c.bottomLeft,c.bottomLeft,ue,qe,!0),n.lineTo(e+r-c.bottomRight,i+o),n.arc(e+r-c.bottomRight,i+o-c.bottomRight,c.bottomRight,qe,0,!0),n.lineTo(e+r,i+c.topRight),n.arc(e+r-c.topRight,i+c.topRight,c.topRight,0,-qe,!0),n.lineTo(e+c.topLeft,i)}const k3=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,R3=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function M3(n,t){const e=(""+n).match(k3);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const O3=n=>+n||0;function t_(n,t){const e={},i=Bt(t),r=i?Object.keys(t):t,o=Bt(n)?i?c=>$t(n[c],n[t[c]]):c=>n[c]:()=>n;for(const c of r)e[c]=O3(o(c));return e}function OT(n){return t_(n,{top:"y",right:"x",bottom:"y",left:"x"})}function ol(n){return t_(n,["topLeft","topRight","bottomLeft","bottomRight"])}function ri(n){const t=OT(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function gn(n,t){n=n||{},t=t||De.font;let e=$t(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=$t(n.style,t.style);i&&!(""+i).match(R3)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:$t(n.family,t.family),lineHeight:M3($t(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:$t(n.weight,t.weight),string:""};return r.string=T3(r),r}function Dd(n,t,e,i){let r,o,c;for(r=0,o=n.length;r<o;++r)if(c=n[r],c!==void 0&&c!==void 0)return c}function D3(n,t,e){const{min:i,max:r}=n,o=xT(t,(r-i)/2),c=(h,d)=>e&&h===0?0:h+d;return{min:c(i,-Math.abs(o)),max:c(r,o)}}function Cl(n,t){return Object.assign(Object.create(n),t)}function e_(n,t=[""],e,i,r=()=>n[0]){const o=e||n;typeof i>"u"&&(i=LT("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:h=>e_([h,...n],t,o,i)};return new Proxy(c,{deleteProperty(h,d){return delete h[d],delete h._keys,delete n[0][d],!0},get(h,d){return IT(h,d,()=>H3(d,t,n,h))},getOwnPropertyDescriptor(h,d){return Reflect.getOwnPropertyDescriptor(h._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,d){return D1(h).includes(d)},ownKeys(h){return D1(h)},set(h,d,g){const _=h._storage||(h._storage=r());return h[d]=_[d]=g,delete h._keys,!0}})}function pl(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:DT(n,i),setContext:o=>pl(n,o,e,i),override:o=>pl(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty(o,c){return delete o[c],delete n[c],!0},get(o,c,h){return IT(o,c,()=>j3(o,c,h))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(o,c,h){return n[c]=h,delete o[c],!0}})}function DT(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:Ur(e)?e:()=>e,isIndexable:Ur(i)?i:()=>i}}const I3=(n,t)=>n?n+$0(t):t,n_=(n,t)=>Bt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function IT(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function j3(n,t,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:c}=n;let h=i[t];return Ur(h)&&c.isScriptable(t)&&(h=L3(t,h,n,e)),en(h)&&h.length&&(h=P3(t,h,n,c.isIndexable)),n_(t,h)&&(h=pl(h,r,o&&o[t],c)),h}function L3(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_stack:h}=e;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let d=t(o,c||i);return h.delete(n),n_(n,d)&&(d=i_(r._scopes,r,n,d)),d}function P3(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_descriptors:h}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(Bt(t[0])){const d=t,g=r._scopes.filter(_=>_!==d);t=[];for(const _ of d){const b=i_(g,r,n,_);t.push(pl(b,o,c&&c[n],h))}}return t}function jT(n,t,e){return Ur(n)?n(t,e):n}const U3=(n,t)=>n===!0?t:typeof n=="string"?Mu(t,n):void 0;function z3(n,t,e,i,r){for(const o of t){const c=U3(e,o);if(c){n.add(c);const h=jT(c._fallback,e,r);if(typeof h<"u"&&h!==e&&h!==i)return h}else if(c===!1&&typeof i<"u"&&e!==i)return null}return!1}function i_(n,t,e,i){const r=t._rootScopes,o=jT(t._fallback,e,i),c=[...n,...r],h=new Set;h.add(i);let d=O1(h,c,e,o||e,i);return d===null||typeof o<"u"&&o!==e&&(d=O1(h,c,o,d,i),d===null)?!1:e_(Array.from(h),[""],r,o,()=>B3(t,e,i))}function O1(n,t,e,i,r){for(;e;)e=z3(n,t,e,i,r);return e}function B3(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return en(r)&&Bt(e)?e:r||{}}function H3(n,t,e,i){let r;for(const o of t)if(r=LT(I3(o,n),e),typeof r<"u")return n_(n,r)?i_(e,i,n,r):r}function LT(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function D1(n){let t=n._keys;return t||(t=n._keys=F3(n._scopes)),t}function F3(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}function s_(){return typeof window<"u"&&typeof document<"u"}function r_(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function jf(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const dg=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function V3(n,t){return dg(n).getPropertyValue(t)}const q3=["top","right","bottom","left"];function Ha(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=q3[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const W3=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function Y3(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i;let c=!1,h,d;if(W3(r,o,n.target))h=r,d=o;else{const g=t.getBoundingClientRect();h=i.clientX-g.left,d=i.clientY-g.top,c=!0}return{x:h,y:d,box:c}}function Ma(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=dg(e),o=r.boxSizing==="border-box",c=Ha(r,"padding"),h=Ha(r,"border","width"),{x:d,y:g,box:_}=Y3(n,e),b=c.left+(_&&h.left),x=c.top+(_&&h.top);let{width:E,height:N}=t;return o&&(E-=c.width+h.width,N-=c.height+h.height),{x:Math.round((d-b)/E*e.width/i),y:Math.round((g-x)/N*e.height/i)}}function G3(n,t,e){let i,r;if(t===void 0||e===void 0){const o=n&&r_(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const c=o.getBoundingClientRect(),h=dg(o),d=Ha(h,"border","width"),g=Ha(h,"padding");t=c.width-g.width-d.width,e=c.height-g.height-d.height,i=jf(h.maxWidth,o,"clientWidth"),r=jf(h.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||Rf,maxHeight:r||Rf}}const Id=n=>Math.round(n*10)/10;function $3(n,t,e,i){const r=dg(n),o=Ha(r,"margin"),c=jf(r.maxWidth,n,"clientWidth")||Rf,h=jf(r.maxHeight,n,"clientHeight")||Rf,d=G3(n,t,e);let{width:g,height:_}=d;if(r.boxSizing==="content-box"){const x=Ha(r,"border","width"),E=Ha(r,"padding");g-=E.width+x.width,_-=E.height+x.height}return g=Math.max(0,g-o.width),_=Math.max(0,i?g/i:_-o.height),g=Id(Math.min(g,c,d.maxWidth)),_=Id(Math.min(_,h,d.maxHeight)),g&&!_&&(_=Id(g/2)),(t!==void 0||e!==void 0)&&i&&d.height&&_>d.height&&(_=d.height,g=Id(Math.floor(_*i))),{width:g,height:_}}function I1(n,t,e){const i=t||1,r=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const c=n.canvas;return c.style&&(e||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||c.height!==r||c.width!==o?(n.currentDevicePixelRatio=i,c.height=r,c.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const X3=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};s_()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function j1(n,t){const e=V3(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const Q3=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},K3=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function ll(n,t,e){return n?Q3(t,e):K3()}function PT(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function UT(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function jd(n,t,e){return n.options.clip?n[e]:t[e]}function Z3(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:jd(e,t,"left"),right:jd(e,t,"right"),top:jd(i,t,"top"),bottom:jd(i,t,"bottom")}:t}function J3(n,t){const e=t._clip;if(e.disabled)return!1;const i=Z3(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class tL{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const o=e.listeners[r],c=e.duration;o.forEach(h=>h({chart:t,initial:e.initial,numSteps:c,currentStep:Math.min(i-e.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=CT.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let c=o.length-1,h=!1,d;for(;c>=0;--c)d=o[c],d._active?(d._total>i.duration&&(i.duration=d._total),d.tick(t),h=!0):(o[c]=o[o.length-1],o.pop());h&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Ts=new tL;const L1="transparent",eL={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=A1(n||L1),r=i.valid&&A1(t||L1);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class nL{constructor(t,e,i,r){const o=e[i];r=Dd([t.to,r,o,t.from]);const c=Dd([t.from,o,r]);this._active=!0,this._fn=t.fn||eL[t.type||typeof c],this._easing=gu[t.easing]||gu.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=c,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,c=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Dd([t.to,e,r,t.from]),this._from=Dd([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,o=this._from,c=this._loop,h=this._to;let d;if(this._active=o!==h&&(c||e<i),!this._active){this._target[r]=h,this._notify(!0);return}if(e<0){this._target[r]=o;return}d=e/i%2,d=c&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[r]=this._fn(o,h,d)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class zT{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Bt(t))return;const e=Object.keys(De.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!Bt(o))return;const c={};for(const h of e)c[h]=o[h];(en(o.properties)&&o.properties||[r]).forEach(h=>{(h===r||!i.has(h))&&i.set(h,c)})})}_animateOptions(t,e){const i=e.options,r=sL(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&iL(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),c=Object.keys(e),h=Date.now();let d;for(d=c.length-1;d>=0;--d){const g=c[d];if(g.charAt(0)==="$")continue;if(g==="options"){r.push(...this._animateOptions(t,e));continue}const _=e[g];let b=o[g];const x=i.get(g);if(b)if(x&&b.active()){b.update(x,_,h);continue}else b.cancel();if(!x||!x.duration){t[g]=_;continue}o[g]=b=new nL(x,t,g,_),r.push(b)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return Ts.add(this._chart,i),!0}}function iL(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function sL(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function P1(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:r,end:i?r:o}}function rL(n,t,e){if(e===!1)return!1;const i=P1(n,e),r=P1(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function aL(n){let t,e,i,r;return Bt(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function BT(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function U1(n,t,e,i={}){const r=n.keys,o=i.mode==="single";let c,h,d,g;if(t===null)return;let _=!1;for(c=0,h=r.length;c<h;++c){if(d=+r[c],d===e){if(_=!0,i.all)continue;break}g=n.values[d],si(g)&&(o||t===0||Mf(t)===Mf(g))&&(t+=g)}return!_&&!i.all?0:t}function oL(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",c=Object.keys(n),h=new Array(c.length);let d,g,_;for(d=0,g=c.length;d<g;++d)_=c[d],h[d]={[r]:_,[o]:n[_]};return h}function qp(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function lL(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function cL(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function uL(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function z1(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function B1(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:c,index:h}=i,d=o.axis,g=c.axis,_=lL(o,c,i),b=t.length;let x;for(let E=0;E<b;++E){const N=t[E],{[d]:R,[g]:M}=N,U=N._stacks||(N._stacks={});x=U[g]=uL(r,_,R),x[h]=M,x._top=z1(x,c,!0,i.type),x._bottom=z1(x,c,!1,i.type);const $=x._visualValues||(x._visualValues={});$[h]=M}}function Wp(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function hL(n,t){return Cl(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function dL(n,t,e){return Cl(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Hc(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const Yp=n=>n==="reset"||n==="none",H1=(n,t)=>t?n:Object.assign({},n),fL=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:BT(e,!0),values:null};class HT{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=qp(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Hc(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(b,x,E,N)=>b==="x"?x:b==="r"?N:E,o=e.xAxisID=$t(i.xAxisID,Wp(t,"x")),c=e.yAxisID=$t(i.yAxisID,Wp(t,"y")),h=e.rAxisID=$t(i.rAxisID,Wp(t,"r")),d=e.indexAxis,g=e.iAxisID=r(d,o,c,h),_=e.vAxisID=r(d,c,o,h);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(c),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(g),e.vScale=this.getScaleForId(_)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&E1(this._data,this),t._stacked&&Hc(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Bt(e)){const r=this._cachedMeta;this._data=oL(e,r)}else if(i!==e){if(i){E1(i,this);const r=this._cachedMeta;Hc(r),r._parsed=[]}e&&Object.isExtensible(e)&&d3(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=e._stacked;e._stacked=qp(e.vScale,e),e.stack!==i.stack&&(r=!0,Hc(e),e.stack=i.stack),this._resyncElements(t),(r||o!==e._stacked)&&(B1(this,e._parsed),e._stacked=qp(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:c}=i,h=o.axis;let d=t===0&&e===r.length?!0:i._sorted,g=t>0&&i._parsed[t-1],_,b,x;if(this._parsing===!1)i._parsed=r,i._sorted=!0,x=r;else{en(r[t])?x=this.parseArrayData(i,r,t,e):Bt(r[t])?x=this.parseObjectData(i,r,t,e):x=this.parsePrimitiveData(i,r,t,e);const E=()=>b[h]===null||g&&b[h]<g[h];for(_=0;_<e;++_)i._parsed[_+t]=b=x[_],d&&(E()&&(d=!1),g=b);i._sorted=d}c&&B1(this,x)}parsePrimitiveData(t,e,i,r){const{iScale:o,vScale:c}=t,h=o.axis,d=c.axis,g=o.getLabels(),_=o===c,b=new Array(r);let x,E,N;for(x=0,E=r;x<E;++x)N=x+i,b[x]={[h]:_||o.parse(g[N],N),[d]:c.parse(e[N],N)};return b}parseArrayData(t,e,i,r){const{xScale:o,yScale:c}=t,h=new Array(r);let d,g,_,b;for(d=0,g=r;d<g;++d)_=d+i,b=e[_],h[d]={x:o.parse(b[0],_),y:c.parse(b[1],_)};return h}parseObjectData(t,e,i,r){const{xScale:o,yScale:c}=t,{xAxisKey:h="x",yAxisKey:d="y"}=this._parsing,g=new Array(r);let _,b,x,E;for(_=0,b=r;_<b;++_)x=_+i,E=e[x],g[_]={x:o.parse(Mu(E,h),x),y:c.parse(Mu(E,d),x)};return g}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,o=this._cachedMeta,c=e[t.axis],h={keys:BT(r,!0),values:e._stacks[t.axis]._visualValues};return U1(h,c,o.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const o=i[e.axis];let c=o===null?NaN:o;const h=r&&i._stacks[e.axis];r&&h&&(r.values=h,c=U1(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&t===i.iScale,c=r.length,h=this._getOtherScale(t),d=fL(e,i,this.chart),g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:_,max:b}=cL(h);let x,E;function N(){E=r[x];const R=E[h.axis];return!si(E[t.axis])||_>R||b<R}for(x=0;x<c&&!(!N()&&(this.updateRangeFromParsed(g,t,E,d),o));++x);if(o){for(x=c-1;x>=0;--x)if(!N()){this.updateRangeFromParsed(g,t,E,d);break}}return g}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,o,c;for(r=0,o=e.length;r<o;++r)c=e[r][t.axis],si(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=aL($t(this.options.clip,rL(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],o=e.chartArea,c=[],h=this._drawStart||0,d=this._drawCount||r.length-h,g=this.options.drawActiveElementsOnTop;let _;for(i.dataset&&i.dataset.draw(t,o,h,d),_=h;_<h+d;++_){const b=r[_];b.hidden||(b.active&&g?c.push(b):b.draw(t,o))}for(_=0;_<c.length;++_)c[_].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=dL(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=hL(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",o=this._cachedDataOpts,c=t+"-"+e,h=o[c],d=this.enableOptionSharing&&kf(i);if(h)return H1(h,d);const g=this.chart.config,_=g.datasetElementScopeKeys(this._type,t),b=r?[`${t}Hover`,"hover",t,""]:[t,""],x=g.getOptionScopes(this.getDataset(),_),E=Object.keys(De.elements[t]),N=()=>this.getContext(i,r,e),R=g.resolveNamedOptions(x,E,N,b);return R.$shared&&(R.$shared=d,o[c]=Object.freeze(H1(R,d))),R}_resolveAnimations(t,e,i){const r=this.chart,o=this._cachedDataOpts,c=`animation-${e}`,h=o[c];if(h)return h;let d;if(r.options.animation!==!1){const _=this.chart.config,b=_.datasetAnimationScopeKeys(this._type,e),x=_.getOptionScopes(this.getDataset(),b);d=_.createResolver(x,this.getContext(t,i,e))}const g=new zT(r,d&&d.animations);return d&&d._cacheable&&(o[c]=Object.freeze(g)),g}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Yp(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,o=this.getSharedOptions(i),c=this.includeOptions(e,o)||o!==r;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:c}}updateElement(t,e,i,r){Yp(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!Yp(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const o=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[h,d,g]of this._syncList)this[h](d,g);this._syncList=[];const r=i.length,o=e.length,c=Math.min(o,r);c&&this.parse(0,c),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,e,i=!0){const r=this._cachedMeta,o=r.data,c=t+e;let h;const d=g=>{for(g.length+=e,h=g.length-1;h>=c;h--)g[h]=g[h-e]};for(d(o),h=t;h<c;++h)o[h]=new this.dataElementType;this._parsing&&d(r._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&Hc(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function gL(n,t,e){let i=1,r=1,o=0,c=0;if(t<ze){const h=n,d=h+t,g=Math.cos(h),_=Math.sin(h),b=Math.cos(d),x=Math.sin(d),E=(Q,tt,Z)=>Df(Q,h,d,!0)?1:Math.max(tt,tt*e,Z,Z*e),N=(Q,tt,Z)=>Df(Q,h,d,!0)?-1:Math.min(tt,tt*e,Z,Z*e),R=E(0,g,b),M=E(qe,_,x),U=N(ue,g,b),$=N(ue+qe,_,x);i=(R-U)/2,r=(M-$)/2,o=-(R+U)/2,c=-(M+$)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:c}}class mL extends HT{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((o,c)=>{const d=t.getDatasetMeta(0).controller.getStyle(c);return{text:o,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,fontColor:r,lineWidth:d.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(c),index:c}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let o=d=>+i[d];if(Bt(i[t])){const{key:d="value"}=this._parsing;o=g=>+Mu(i[g],d)}let c,h;for(c=t,h=t+e;c<h;++c)r._parsed[c]=o(c)}}_getRotation(){return Ds(this.options.rotation-90)}_getCircumference(){return Ds(this.options.circumference)}_getRotationExtents(){let t=ze,e=-ze;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,o=r._getRotation(),c=r._getCircumference();t=Math.min(t,o),e=Math.max(e,o+c)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,r=this._cachedMeta,o=r.data,c=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,h=Math.max((Math.min(i.width,i.height)-c)/2,0),d=Math.min(Q6(this.options.cutout,h),1),g=this._getRingWeight(this.index),{circumference:_,rotation:b}=this._getRotationExtents(),{ratioX:x,ratioY:E,offsetX:N,offsetY:R}=gL(b,_,d),M=(i.width-c)/x,U=(i.height-c)/E,$=Math.max(Math.min(M,U)/2,0),Q=xT(this.options.radius,$),tt=Math.max(Q*d,0),Z=(Q-tt)/this._getVisibleDatasetWeightTotal();this.offsetX=N*Q,this.offsetY=R*Q,r.total=this.calculateTotal(),this.outerRadius=Q-Z*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Z*g,0),this.updateElements(o,0,o.length,t)}_circumference(t,e){const i=this.options,r=this._cachedMeta,o=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*o/ze)}updateElements(t,e,i,r){const o=r==="reset",c=this.chart,h=c.chartArea,g=c.options.animation,_=(h.left+h.right)/2,b=(h.top+h.bottom)/2,x=o&&g.animateScale,E=x?0:this.innerRadius,N=x?0:this.outerRadius,{sharedOptions:R,includeOptions:M}=this._getSharedOptions(e,r);let U=this._getRotation(),$;for($=0;$<e;++$)U+=this._circumference($,o);for($=e;$<e+i;++$){const Q=this._circumference($,o),tt=t[$],Z={x:_+this.offsetX,y:b+this.offsetY,startAngle:U,endAngle:U+Q,circumference:Q,outerRadius:N,innerRadius:E};M&&(Z.options=R||this.resolveDataElementOptions($,tt.active?"active":r)),U+=Q,this.updateElement(tt,$,Z,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,r;for(r=0;r<e.length;r++){const o=t._parsed[r];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!e[r].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?ze*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=K0(e._parsed[t],i.options.locale);return{label:r[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const i=this.chart;let r,o,c,h,d;if(!t){for(r=0,o=i.data.datasets.length;r<o;++r)if(i.isDatasetVisible(r)){c=i.getDatasetMeta(r),t=c.data,h=c.controller;break}}if(!t)return 0;for(r=0,o=t.length;r<o;++r)d=h.resolveDataElementOptions(r),d.borderAlign!=="inner"&&(e=Math.max(e,d.borderWidth||0,d.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,r=t.length;i<r;++i){const o=this.resolveDataElementOptions(i);e=Math.max(e,o.offset||0,o.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max($t(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class pL extends mL{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function Na(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class a_{static override(t){Object.assign(a_.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Na()}parse(){return Na()}format(){return Na()}add(){return Na()}diff(){return Na()}startOf(){return Na()}endOf(){return Na()}}var yL={_date:a_};function _L(n,t,e,i){const{controller:r,data:o,_sorted:c}=n,h=r._cachedMeta.iScale,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&c&&o.length){const g=h._reversePixels?u3:Ny;if(i){if(r._sharedOptions){const _=o[0],b=typeof _.getRange=="function"&&_.getRange(t);if(b){const x=g(o,t,e-b),E=g(o,t,e+b);return{lo:x.lo,hi:E.hi}}}}else{const _=g(o,t,e);if(d){const{vScale:b}=r._cachedMeta,{_parsed:x}=n,E=x.slice(0,_.lo+1).reverse().findIndex(R=>!we(R[b.axis]));_.lo-=Math.max(0,E);const N=x.slice(_.hi).findIndex(R=>!we(R[b.axis]));_.hi+=Math.max(0,N)}return _}}return{lo:0,hi:o.length-1}}function fg(n,t,e,i,r){const o=n.getSortedVisibleDatasetMetas(),c=e[t];for(let h=0,d=o.length;h<d;++h){const{index:g,data:_}=o[h],{lo:b,hi:x}=_L(o[h],t,c,r);for(let E=b;E<=x;++E){const N=_[E];N.skip||i(N,g,E)}}}function vL(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const o=t?Math.abs(i.x-r.x):0,c=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function Gp(n,t,e,i,r){const o=[];return!r&&!n.isPointInArea(t)||fg(n,e,t,function(h,d,g){!r&&!MT(h,n.chartArea,0)||h.inRange(t.x,t.y,i)&&o.push({element:h,datasetIndex:d,index:g})},!0),o}function bL(n,t,e,i){let r=[];function o(c,h,d){const{startAngle:g,endAngle:_}=c.getProps(["startAngle","endAngle"],i),{angle:b}=ET(c,{x:t.x,y:t.y});Df(b,g,_)&&r.push({element:c,datasetIndex:h,index:d})}return fg(n,e,t,o),r}function xL(n,t,e,i,r,o){let c=[];const h=vL(e);let d=Number.POSITIVE_INFINITY;function g(_,b,x){const E=_.inRange(t.x,t.y,r);if(i&&!E)return;const N=_.getCenterPoint(r);if(!(!!o||n.isPointInArea(N))&&!E)return;const M=h(t,N);M<d?(c=[{element:_,datasetIndex:b,index:x}],d=M):M===d&&c.push({element:_,datasetIndex:b,index:x})}return fg(n,e,t,g),c}function $p(n,t,e,i,r,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?bL(n,t,e,r):xL(n,t,e,i,r,o)}function F1(n,t,e,i,r){const o=[],c=e==="x"?"inXRange":"inYRange";let h=!1;return fg(n,e,t,(d,g,_)=>{d[c]&&d[c](t[e],r)&&(o.push({element:d,datasetIndex:g,index:_}),h=h||d.inRange(t.x,t.y,r))}),i&&!h?[]:o}var wL={modes:{index(n,t,e,i){const r=Ma(t,n),o=e.axis||"x",c=e.includeInvisible||!1,h=e.intersect?Gp(n,r,o,i,c):$p(n,r,o,!1,i,c),d=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(g=>{const _=h[0].index,b=g.data[_];b&&!b.skip&&d.push({element:b,datasetIndex:g.index,index:_})}),d):[]},dataset(n,t,e,i){const r=Ma(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;let h=e.intersect?Gp(n,r,o,i,c):$p(n,r,o,!1,i,c);if(h.length>0){const d=h[0].datasetIndex,g=n.getDatasetMeta(d).data;h=[];for(let _=0;_<g.length;++_)h.push({element:g[_],datasetIndex:d,index:_})}return h},point(n,t,e,i){const r=Ma(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return Gp(n,r,o,i,c)},nearest(n,t,e,i){const r=Ma(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return $p(n,r,o,e.intersect,i,c)},x(n,t,e,i){const r=Ma(t,n);return F1(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=Ma(t,n);return F1(n,r,"y",e.intersect,i)}}};const FT=["left","top","right","bottom"];function Fc(n,t){return n.filter(e=>e.pos===t)}function V1(n,t){return n.filter(e=>FT.indexOf(e.pos)===-1&&e.box.axis===t)}function Vc(n,t){return n.sort((e,i)=>{const r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function SL(n){const t=[];let e,i,r,o,c,h;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:o,options:{stack:c,stackWeight:h=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:c&&o+c,stackWeight:h});return t}function EL(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!FT.includes(r))continue;const c=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return t}function TL(n,t){const e=EL(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,c,h;for(o=0,c=n.length;o<c;++o){h=n[o];const{fullSize:d}=h.box,g=e[h.stack],_=g&&h.stackWeight/g.weight;h.horizontal?(h.width=_?_*i:d&&t.availableWidth,h.height=r):(h.width=i,h.height=_?_*r:d&&t.availableHeight)}return e}function CL(n){const t=SL(n),e=Vc(t.filter(g=>g.box.fullSize),!0),i=Vc(Fc(t,"left"),!0),r=Vc(Fc(t,"right")),o=Vc(Fc(t,"top"),!0),c=Vc(Fc(t,"bottom")),h=V1(t,"x"),d=V1(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(d).concat(c).concat(h),chartArea:Fc(t,"chartArea"),vertical:i.concat(r).concat(d),horizontal:o.concat(c).concat(h)}}function q1(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function VT(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function AL(n,t,e,i){const{pos:r,box:o}=e,c=n.maxPadding;if(!Bt(r)){e.size&&(n[r]-=e.size);const b=i[e.stack]||{size:0,count:1};b.size=Math.max(b.size,e.horizontal?o.height:o.width),e.size=b.size/b.count,n[r]+=e.size}o.getPadding&&VT(c,o.getPadding());const h=Math.max(0,t.outerWidth-q1(c,n,"left","right")),d=Math.max(0,t.outerHeight-q1(c,n,"top","bottom")),g=h!==n.w,_=d!==n.h;return n.w=h,n.h=d,e.horizontal?{same:g,other:_}:{same:_,other:g}}function NL(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function kL(n,t){const e=t.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(c=>{o[c]=Math.max(t[c],e[c])}),o}return i(n?["left","right"]:["top","bottom"])}function Zc(n,t,e,i){const r=[];let o,c,h,d,g,_;for(o=0,c=n.length,g=0;o<c;++o){h=n[o],d=h.box,d.update(h.width||t.w,h.height||t.h,kL(h.horizontal,t));const{same:b,other:x}=AL(t,e,h,i);g|=b&&r.length,_=_||x,d.fullSize||r.push(h)}return g&&Zc(r,t,e,i)||_}function Ld(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function W1(n,t,e,i){const r=e.padding;let{x:o,y:c}=t;for(const h of n){const d=h.box,g=i[h.stack]||{placed:0,weight:1},_=h.stackWeight/g.weight||1;if(h.horizontal){const b=t.w*_,x=g.size||d.height;kf(g.start)&&(c=g.start),d.fullSize?Ld(d,r.left,c,e.outerWidth-r.right-r.left,x):Ld(d,t.left+g.placed,c,b,x),g.start=c,g.placed+=b,c=d.bottom}else{const b=t.h*_,x=g.size||d.width;kf(g.start)&&(o=g.start),d.fullSize?Ld(d,o,r.top,x,e.outerHeight-r.bottom-r.top):Ld(d,o,t.top+g.placed,x,b),g.start=o,g.placed+=b,o=d.right}}t.x=o,t.y=c}var ni={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=ri(n.options.layout.padding),o=Math.max(t-r.width,0),c=Math.max(e-r.height,0),h=CL(n.boxes),d=h.vertical,g=h.horizontal;ne(n.boxes,R=>{typeof R.beforeLayout=="function"&&R.beforeLayout()});const _=d.reduce((R,M)=>M.box.options&&M.box.options.display===!1?R:R+1,0)||1,b=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/_,hBoxMaxHeight:c/2}),x=Object.assign({},r);VT(x,ri(i));const E=Object.assign({maxPadding:x,w:o,h:c,x:r.left,y:r.top},r),N=TL(d.concat(g),b);Zc(h.fullSize,E,b,N),Zc(d,E,b,N),Zc(g,E,b,N)&&Zc(d,E,b,N),NL(E),W1(h.leftAndTop,E,b,N),E.x+=E.w,E.y+=E.h,W1(h.rightAndBottom,E,b,N),n.chartArea={left:E.left,top:E.top,right:E.left+E.w,bottom:E.top+E.h,height:E.h,width:E.w},ne(h.chartArea,R=>{const M=R.box;Object.assign(M,n.chartArea),M.update(E.w,E.h,{left:0,top:0,right:0,bottom:0})})}};class qT{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class RL extends qT{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Zd="$chartjs",ML={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Y1=n=>n===null||n==="";function OL(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[Zd]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",Y1(r)){const o=j1(n,"width");o!==void 0&&(n.width=o)}if(Y1(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=j1(n,"height");o!==void 0&&(n.height=o)}return n}const WT=X3?{passive:!0}:!1;function DL(n,t,e){n&&n.addEventListener(t,e,WT)}function IL(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,WT)}function jL(n,t){const e=ML[n.type]||n.type,{x:i,y:r}=Ma(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Lf(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function LL(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Lf(h.addedNodes,i),c=c&&!Lf(h.removedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function PL(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Lf(h.removedNodes,i),c=c&&!Lf(h.addedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const Du=new Map;let G1=0;function YT(){const n=window.devicePixelRatio;n!==G1&&(G1=n,Du.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function UL(n,t){Du.size||window.addEventListener("resize",YT),Du.set(n,t)}function zL(n){Du.delete(n),Du.size||window.removeEventListener("resize",YT)}function BL(n,t,e){const i=n.canvas,r=i&&r_(i);if(!r)return;const o=AT((h,d)=>{const g=r.clientWidth;e(h,d),g<r.clientWidth&&e()},window),c=new ResizeObserver(h=>{const d=h[0],g=d.contentRect.width,_=d.contentRect.height;g===0&&_===0||o(g,_)});return c.observe(r),UL(n,o),c}function Xp(n,t,e){e&&e.disconnect(),t==="resize"&&zL(n)}function HL(n,t,e){const i=n.canvas,r=AT(o=>{n.ctx!==null&&e(jL(o,n))},n);return DL(i,t,r),r}class FL extends qT{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(OL(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[Zd])return!1;const i=e[Zd].initial;["height","width"].forEach(o=>{const c=i[o];we(c)?e.removeAttribute(o):e.setAttribute(o,c)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[Zd],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),c={attach:LL,detach:PL,resize:BL}[e]||HL;r[e]=c(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:Xp,detach:Xp,resize:Xp}[e]||IL)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return $3(t,e,i,r)}isAttached(t){const e=t&&r_(t);return!!(e&&e.isConnected)}}function VL(n){return!s_()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?RL:FL}class no{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Of(this.x)&&Of(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}function qL(n,t){const e=n.options.ticks,i=WL(n),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?GL(t):[],c=o.length,h=o[0],d=o[c-1],g=[];if(c>r)return $L(t,g,o,c/r),g;const _=YL(o,t,r);if(c>0){let b,x;const E=c>1?Math.round((d-h)/(c-1)):null;for(Pd(t,g,_,we(E)?0:h-E,h),b=0,x=c-1;b<x;b++)Pd(t,g,_,o[b],o[b+1]);return Pd(t,g,_,d,we(E)?t.length:d+E),g}return Pd(t,g,_),g}function WL(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function YL(n,t,e){const i=XL(n),r=t.length/e;if(!i)return Math.max(r,1);const o=i3(i);for(let c=0,h=o.length-1;c<h;c++){const d=o[c];if(d>r)return d}return Math.max(r,1)}function GL(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function $L(n,t,e,i){let r=0,o=e[0],c;for(i=Math.ceil(i),c=0;c<n.length;c++)c===o&&(t.push(n[c]),r++,o=e[r*i])}function Pd(n,t,e,i,r){const o=$t(i,0),c=Math.min($t(r,n.length),n.length);let h=0,d,g,_;for(e=Math.ceil(e),r&&(d=r-i,e=d/Math.floor(d/e)),_=o;_<0;)h++,_=Math.round(o+h*e);for(g=Math.max(o,0);g<c;g++)g===_&&(t.push(n[g]),h++,_=Math.round(o+h*e))}function XL(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const QL=n=>n==="left"?"right":n==="right"?"left":n,$1=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,X1=(n,t)=>Math.min(t||n,n);function Q1(n,t){const e=[],i=n.length/t,r=n.length;let o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function KL(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,c=n._endPixel,h=1e-6;let d=n.getPixelForTick(r),g;if(!(e&&(i===1?g=Math.max(d-o,c-d):t===0?g=(n.getPixelForTick(1)-d)/2:g=(d-n.getPixelForTick(r-1))/2,d+=r<t?g:-g,d<o-h||d>c+h)))return d}function ZL(n,t){ne(n,e=>{const i=e.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}function qc(n){return n.drawTicks?n.tickLength:0}function K1(n,t){if(!n.display)return 0;const e=gn(n.font,t),i=ri(n.padding);return(en(n.text)?n.text.length:1)*e.lineHeight+i.height}function JL(n,t){return Cl(n,{scale:t,type:"scale"})}function tP(n,t,e){return Cl(n,{tick:e,index:t,type:"tick"})}function eP(n,t,e){let i=Q0(n);return(e&&t!=="right"||!e&&t==="right")&&(i=QL(i)),i}function nP(n,t,e,i){const{top:r,left:o,bottom:c,right:h,chart:d}=n,{chartArea:g,scales:_}=d;let b=0,x,E,N;const R=c-r,M=h-o;if(n.isHorizontal()){if(E=fn(i,o,h),Bt(e)){const U=Object.keys(e)[0],$=e[U];N=_[U].getPixelForValue($)+R-t}else e==="center"?N=(g.bottom+g.top)/2+R-t:N=$1(n,e,t);x=h-o}else{if(Bt(e)){const U=Object.keys(e)[0],$=e[U];E=_[U].getPixelForValue($)-M+t}else e==="center"?E=(g.left+g.right)/2-M+t:E=$1(n,e,t);N=fn(i,c,r),b=e==="left"?-qe:qe}return{titleX:E,titleY:N,maxWidth:x,rotation:b}}class Al extends no{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=Ui(t,Number.POSITIVE_INFINITY),e=Ui(e,Number.NEGATIVE_INFINITY),i=Ui(i,Number.POSITIVE_INFINITY),r=Ui(r,Number.NEGATIVE_INFINITY),{min:Ui(t,i),max:Ui(e,r),minDefined:si(t),maxDefined:si(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),c;if(r&&o)return{min:e,max:i};const h=this.getMatchingVisibleMetas();for(let d=0,g=h.length;d<g;++d)c=h[d].controller.getMinMax(this,t),r||(e=Math.min(e,c.min)),o||(i=Math.max(i,c.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:Ui(e,Ui(i,e)),max:Ui(i,Ui(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ge(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:o,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=D3(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=h<this.ticks.length;this._convertTicksToLabels(d?Q1(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=qL(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ge(this.options.afterUpdate,[this])}beforeSetDimensions(){ge(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ge(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ge(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ge(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=ge(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){ge(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ge(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=X1(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let c=r,h,d,g;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const _=this._getLabelSizes(),b=_.widest.width,x=_.highest.height,E=Mn(this.chart.width-b,0,this.maxWidth);h=t.offset?this.maxWidth/i:E/(i-1),b+6>h&&(h=E/(i-(t.offset?.5:1)),d=this.maxHeight-qc(t.grid)-e.padding-K1(t.title,this.chart.options.font),g=Math.sqrt(b*b+x*x),c=o3(Math.min(Math.asin(Mn((_.highest.height+6)/h,-1,1)),Math.asin(Mn(d/g,-1,1))-Math.asin(Mn(x/g,-1,1)))),c=Math.max(r,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){ge(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ge(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const d=K1(r,e.options.font);if(h?(t.width=this.maxWidth,t.height=qc(o)+d):(t.height=this.maxHeight,t.width=qc(o)+d),i.display&&this.ticks.length){const{first:g,last:_,widest:b,highest:x}=this._getLabelSizes(),E=i.padding*2,N=Ds(this.labelRotation),R=Math.cos(N),M=Math.sin(N);if(h){const U=i.mirror?0:M*b.width+R*x.height;t.height=Math.min(this.maxHeight,t.height+U+E)}else{const U=i.mirror?0:R*b.width+M*x.height;t.width=Math.min(this.maxWidth,t.width+U+E)}this._calculatePadding(g,_,M,R)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:o,padding:c},position:h}=this.options,d=this.labelRotation!==0,g=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const _=this.getPixelForTick(0)-this.left,b=this.right-this.getPixelForTick(this.ticks.length-1);let x=0,E=0;d?g?(x=r*t.width,E=i*e.height):(x=i*t.height,E=r*e.width):o==="start"?E=e.width:o==="end"?x=t.width:o!=="inner"&&(x=t.width/2,E=e.width/2),this.paddingLeft=Math.max((x-_+c)*this.width/(this.width-_),0),this.paddingRight=Math.max((E-b+c)*this.width/(this.width-b),0)}else{let _=e.height/2,b=t.height/2;o==="start"?(_=0,b=t.height):o==="end"&&(_=e.height,b=0),this.paddingTop=_+c,this.paddingBottom=b+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ge(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)we(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=Q1(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:o}=this,c=[],h=[],d=Math.floor(e/X1(e,i));let g=0,_=0,b,x,E,N,R,M,U,$,Q,tt,Z;for(b=0;b<e;b+=d){if(N=t[b].label,R=this._resolveTickFontOptions(b),r.font=M=R.string,U=o[M]=o[M]||{data:{},gc:[]},$=R.lineHeight,Q=tt=0,!we(N)&&!en(N))Q=k1(r,U.data,U.gc,Q,N),tt=$;else if(en(N))for(x=0,E=N.length;x<E;++x)Z=N[x],!we(Z)&&!en(Z)&&(Q=k1(r,U.data,U.gc,Q,Z),tt+=$);c.push(Q),h.push(tt),g=Math.max(Q,g),_=Math.max(tt,_)}ZL(o,e);const ot=c.indexOf(g),O=h.indexOf(_),T=k=>({width:c[k]||0,height:h[k]||0});return{first:T(0),last:T(e-1),widest:T(ot),highest:T(O),widths:c,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return c3(this._alignToPixels?Aa(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=tP(this.getContext(),t,i))}return this.$context||(this.$context=JL(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Ds(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),c=t.autoSkipPadding||0,h=o?o.widest.width+c:0,d=o?o.highest.height+c:0;return this.isHorizontal()?d*i>h*r?h/i:d/r:d*r<h*i?d/i:h/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:c,border:h}=r,d=o.offset,g=this.isHorizontal(),b=this.ticks.length+(d?1:0),x=qc(o),E=[],N=h.setContext(this.getContext()),R=N.display?N.width:0,M=R/2,U=function(G){return Aa(i,G,R)};let $,Q,tt,Z,ot,O,T,k,I,L,z,D;if(c==="top")$=U(this.bottom),O=this.bottom-x,k=$-M,L=U(t.top)+M,D=t.bottom;else if(c==="bottom")$=U(this.top),L=t.top,D=U(t.bottom)-M,O=$+M,k=this.top+x;else if(c==="left")$=U(this.right),ot=this.right-x,T=$-M,I=U(t.left)+M,z=t.right;else if(c==="right")$=U(this.left),I=t.left,z=U(t.right)-M,ot=$+M,T=this.left+x;else if(e==="x"){if(c==="center")$=U((t.top+t.bottom)/2+.5);else if(Bt(c)){const G=Object.keys(c)[0],V=c[G];$=U(this.chart.scales[G].getPixelForValue(V))}L=t.top,D=t.bottom,O=$+M,k=O+x}else if(e==="y"){if(c==="center")$=U((t.left+t.right)/2);else if(Bt(c)){const G=Object.keys(c)[0],V=c[G];$=U(this.chart.scales[G].getPixelForValue(V))}ot=$-M,T=ot-x,I=t.left,z=t.right}const Tt=$t(r.ticks.maxTicksLimit,b),mt=Math.max(1,Math.ceil(b/Tt));for(Q=0;Q<b;Q+=mt){const G=this.getContext(Q),V=o.setContext(G),lt=h.setContext(G),gt=V.lineWidth,P=V.color,it=lt.dash||[],ct=lt.dashOffset,rt=V.tickWidth,dt=V.tickColor,yt=V.tickBorderDash||[],et=V.tickBorderDashOffset;tt=KL(this,Q,d),tt!==void 0&&(Z=Aa(i,tt,gt),g?ot=T=I=z=Z:O=k=L=D=Z,E.push({tx1:ot,ty1:O,tx2:T,ty2:k,x1:I,y1:L,x2:z,y2:D,width:gt,color:P,borderDash:it,borderDashOffset:ct,tickWidth:rt,tickColor:dt,tickBorderDash:yt,tickBorderDashOffset:et}))}return this._ticksLength=b,this._borderValue=$,E}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:o}=i,c=this.isHorizontal(),h=this.ticks,{align:d,crossAlign:g,padding:_,mirror:b}=o,x=qc(i.grid),E=x+_,N=b?-_:E,R=-Ds(this.labelRotation),M=[];let U,$,Q,tt,Z,ot,O,T,k,I,L,z,D="middle";if(r==="top")ot=this.bottom-N,O=this._getXAxisLabelAlignment();else if(r==="bottom")ot=this.top+N,O=this._getXAxisLabelAlignment();else if(r==="left"){const mt=this._getYAxisLabelAlignment(x);O=mt.textAlign,Z=mt.x}else if(r==="right"){const mt=this._getYAxisLabelAlignment(x);O=mt.textAlign,Z=mt.x}else if(e==="x"){if(r==="center")ot=(t.top+t.bottom)/2+E;else if(Bt(r)){const mt=Object.keys(r)[0],G=r[mt];ot=this.chart.scales[mt].getPixelForValue(G)+E}O=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")Z=(t.left+t.right)/2-E;else if(Bt(r)){const mt=Object.keys(r)[0],G=r[mt];Z=this.chart.scales[mt].getPixelForValue(G)}O=this._getYAxisLabelAlignment(x).textAlign}e==="y"&&(d==="start"?D="top":d==="end"&&(D="bottom"));const Tt=this._getLabelSizes();for(U=0,$=h.length;U<$;++U){Q=h[U],tt=Q.label;const mt=o.setContext(this.getContext(U));T=this.getPixelForTick(U)+o.labelOffset,k=this._resolveTickFontOptions(U),I=k.lineHeight,L=en(tt)?tt.length:1;const G=L/2,V=mt.color,lt=mt.textStrokeColor,gt=mt.textStrokeWidth;let P=O;c?(Z=T,O==="inner"&&(U===$-1?P=this.options.reverse?"left":"right":U===0?P=this.options.reverse?"right":"left":P="center"),r==="top"?g==="near"||R!==0?z=-L*I+I/2:g==="center"?z=-Tt.highest.height/2-G*I+I:z=-Tt.highest.height+I/2:g==="near"||R!==0?z=I/2:g==="center"?z=Tt.highest.height/2-G*I:z=Tt.highest.height-L*I,b&&(z*=-1),R!==0&&!mt.showLabelBackdrop&&(Z+=I/2*Math.sin(R))):(ot=T,z=(1-L)*I/2);let it;if(mt.showLabelBackdrop){const ct=ri(mt.backdropPadding),rt=Tt.heights[U],dt=Tt.widths[U];let yt=z-ct.top,et=0-ct.left;switch(D){case"middle":yt-=rt/2;break;case"bottom":yt-=rt;break}switch(O){case"center":et-=dt/2;break;case"right":et-=dt;break;case"inner":U===$-1?et-=dt:U>0&&(et-=dt/2);break}it={left:et,top:yt,width:dt+ct.width,height:rt+ct.height,color:mt.backdropColor}}M.push({label:tt,font:k,textOffset:z,options:{rotation:R,color:V,strokeColor:lt,strokeWidth:gt,textAlign:P,textBaseline:D,translation:[Z,ot],backdrop:it}})}return M}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Ds(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,c=this._getLabelSizes(),h=t+o,d=c.widest.width;let g,_;return e==="left"?r?(_=this.right+o,i==="near"?g="left":i==="center"?(g="center",_+=d/2):(g="right",_+=d)):(_=this.right-h,i==="near"?g="right":i==="center"?(g="center",_-=d/2):(g="left",_=this.left)):e==="right"?r?(_=this.left+o,i==="near"?g="right":i==="center"?(g="center",_-=d/2):(g="left",_-=d)):(_=this.left+h,i==="near"?g="left":i==="center"?(g="center",_+=d/2):(g="right",_=this.right)):g="right",{textAlign:g,x:_}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:c}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,c),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,c;const h=(d,g,_)=>{!_.width||!_.color||(i.save(),i.lineWidth=_.width,i.strokeStyle=_.color,i.setLineDash(_.borderDash||[]),i.lineDashOffset=_.borderDashOffset,i.beginPath(),i.moveTo(d.x,d.y),i.lineTo(g.x,g.y),i.stroke(),i.restore())};if(e.display)for(o=0,c=r.length;o<c;++o){const d=r[o];e.drawOnChartArea&&h({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),e.drawTicks&&h({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),c=i.display?o.width:0;if(!c)return;const h=r.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let g,_,b,x;this.isHorizontal()?(g=Aa(t,this.left,c)-c/2,_=Aa(t,this.right,h)+h/2,b=x=d):(b=Aa(t,this.top,c)-c/2,x=Aa(t,this.bottom,h)+h/2,g=_=d),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(g,b),e.lineTo(_,x),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&Z0(i,r);const o=this.getLabelItems(t);for(const c of o){const h=c.options,d=c.font,g=c.label,_=c.textOffset;Ou(i,g,0,_,d,h)}r&&J0(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=gn(i.font),c=ri(i.padding),h=i.align;let d=o.lineHeight/2;e==="bottom"||e==="center"||Bt(e)?(d+=c.bottom,en(i.text)&&(d+=o.lineHeight*(i.text.length-1))):d+=c.top;const{titleX:g,titleY:_,maxWidth:b,rotation:x}=nP(this,d,e,h);Ou(t,i.text,0,0,o,{color:i.color,maxWidth:b,rotation:x,textAlign:eP(h,e,r),textBaseline:"middle",translation:[g,_]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=$t(t.grid&&t.grid.z,-1),r=$t(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Al.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,c;for(o=0,c=e.length;o<c;++o){const h=e[o];h[i]===this.id&&(!t||h.type===t)&&r.push(h)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return gn(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Ud{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;rP(e)&&(i=this.register(e));const r=this.items,o=t.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,iP(t,c,i),this.override&&De.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in De[r]&&(delete De[r][i],this.override&&delete Qa[i])}}function iP(n,t,e){const i=Ru(Object.create(null),[e?De.get(e):{},De.get(t),n.defaults]);De.set(t,i),n.defaultRoutes&&sP(t,n.defaultRoutes),n.descriptors&&De.describe(t,n.descriptors)}function sP(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),c=t[e].split("."),h=c.pop(),d=c.join(".");De.route(o,r,d,h)})}function rP(n){return"id"in n&&"defaults"in n}class aP{constructor(){this.controllers=new Ud(HT,"datasets",!0),this.elements=new Ud(no,"elements"),this.plugins=new Ud(Object,"plugins"),this.scales=new Ud(Al,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):ne(r,c=>{const h=i||this._getRegistryForType(c);this._exec(t,h,c)})})}_exec(t,e,i){const r=$0(t);ge(i["before"+r],[],i),e[t](i),ge(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var Bi=new aP;class oP{constructor(){this._init=[]}notify(t,e,i,r){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=r?this._descriptors(t).filter(r):this._descriptors(t),c=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),c}_notify(t,e,i,r){r=r||{};for(const o of t){const c=o.plugin,h=c[i],d=[e,r,o.options];if(ge(h,d,c)===!1&&r.cancelable)return!1}return!0}invalidate(){we(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=$t(i.options&&i.options.plugins,{}),o=lP(i);return r===!1&&!e?[]:uP(t,o,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(o,c)=>o.filter(h=>!c.some(d=>h.plugin.id===d.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function lP(n){const t={},e=[],i=Object.keys(Bi.plugins.items);for(let o=0;o<i.length;o++)e.push(Bi.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const c=r[o];e.indexOf(c)===-1&&(e.push(c),t[c.id]=!0)}return{plugins:e,localIds:t}}function cP(n,t){return!t&&n===!1?null:n===!0?{}:n}function uP(n,{plugins:t,localIds:e},i,r){const o=[],c=n.getContext();for(const h of t){const d=h.id,g=cP(i[d],r);g!==null&&o.push({plugin:h,options:hP(n.config,{plugin:h,local:e[d]},g,c)})}return o}function hP(n,{plugin:t,local:e},i,r){const o=n.pluginScopeKeys(t),c=n.getOptionScopes(i,o);return e&&t.defaults&&c.push(t.defaults),n.createResolver(c,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ry(n,t){const e=De.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function dP(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function fP(n,t){return n===t?"_index_":"_value_"}function Z1(n){if(n==="x"||n==="y"||n==="r")return n}function gP(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function My(n,...t){if(Z1(n))return n;for(const e of t){const i=e.axis||gP(e.position)||n.length>1&&Z1(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function J1(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function mP(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return J1(n,"x",e[0])||J1(n,"y",e[0])}return{}}function pP(n,t){const e=Qa[n.type]||{scales:{}},i=t.scales||{},r=Ry(n.type,t),o=Object.create(null);return Object.keys(i).forEach(c=>{const h=i[c];if(!Bt(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const d=My(c,h,mP(c,n),De.scales[h.type]),g=fP(d,r),_=e.scales||{};o[c]=fu(Object.create(null),[{axis:d},h,_[d],_[g]])}),n.data.datasets.forEach(c=>{const h=c.type||n.type,d=c.indexAxis||Ry(h,t),_=(Qa[h]||{}).scales||{};Object.keys(_).forEach(b=>{const x=dP(b,d),E=c[x+"AxisID"]||x;o[E]=o[E]||Object.create(null),fu(o[E],[{axis:x},i[E],_[b]])})}),Object.keys(o).forEach(c=>{const h=o[c];fu(h,[De.scales[h.type],De.scale])}),o}function GT(n){const t=n.options||(n.options={});t.plugins=$t(t.plugins,{}),t.scales=pP(n,t)}function $T(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function yP(n){return n=n||{},n.data=$T(n.data),GT(n),n}const tS=new Map,XT=new Set;function zd(n,t){let e=tS.get(n);return e||(e=t(),tS.set(n,e),XT.add(e)),e}const Wc=(n,t,e)=>{const i=Mu(t,e);i!==void 0&&n.add(i)};class _P{constructor(t){this._config=yP(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=$T(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),GT(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return zd(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return zd(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return zd(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return zd(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:o}=this,c=this._cachedScopes(t,i),h=c.get(e);if(h)return h;const d=new Set;e.forEach(_=>{t&&(d.add(t),_.forEach(b=>Wc(d,t,b))),_.forEach(b=>Wc(d,r,b)),_.forEach(b=>Wc(d,Qa[o]||{},b)),_.forEach(b=>Wc(d,De,b)),_.forEach(b=>Wc(d,ky,b))});const g=Array.from(d);return g.length===0&&g.push(Object.create(null)),XT.has(e)&&c.set(e,g),g}chartOptionScopes(){const{options:t,type:e}=this;return[t,Qa[e]||{},De.datasets[e]||{},{type:e},De,ky]}resolveNamedOptions(t,e,i,r=[""]){const o={$shared:!0},{resolver:c,subPrefixes:h}=eS(this._resolverCache,t,r);let d=c;if(bP(c,e)){o.$shared=!1,i=Ur(i)?i():i;const g=this.createResolver(t,i,h);d=pl(c,i,g)}for(const g of e)o[g]=d[g];return o}createResolver(t,e,i=[""],r){const{resolver:o}=eS(this._resolverCache,t,i);return Bt(e)?pl(o,e,void 0,r):o}}function eS(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let o=i.get(r);return o||(o={resolver:e_(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},i.set(r,o)),o}const vP=n=>Bt(n)&&Object.getOwnPropertyNames(n).some(t=>Ur(n[t]));function bP(n,t){const{isScriptable:e,isIndexable:i}=DT(n);for(const r of t){const o=e(r),c=i(r),h=(c||o)&&n[r];if(o&&(Ur(h)||vP(h))||c&&en(h))return!0}return!1}var xP="4.5.0";const wP=["top","bottom","left","right","chartArea"];function nS(n,t){return n==="top"||n==="bottom"||wP.indexOf(n)===-1&&t==="x"}function iS(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function sS(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),ge(e&&e.onComplete,[n],t)}function SP(n){const t=n.chart,e=t.options.animation;ge(e&&e.onProgress,[n],t)}function QT(n){return s_()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Jd={},rS=n=>{const t=QT(n);return Object.values(Jd).filter(e=>e.canvas===t).pop()};function EP(n,t,e){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=t){const c=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=c)}}}function TP(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let gg=class{static defaults=De;static instances=Jd;static overrides=Qa;static registry=Bi;static version=xP;static getChart=rS;static register(...t){Bi.add(...t),aS()}static unregister(...t){Bi.remove(...t),aS()}constructor(t,e){const i=this.config=new _P(e),r=QT(t),o=rS(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||VL(r)),this.platform.updateConfig(i);const h=this.platform.acquireContext(r,c.aspectRatio),d=h&&h.canvas,g=d&&d.height,_=d&&d.width;if(this.id=X6(),this.ctx=h,this.canvas=d,this.width=_,this.height=g,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new oP,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=g3(b=>this.update(b),c.resizeDelay||0),this._dataChanges=[],Jd[this.id]=this,!h||!d){console.error("Failed to create chart: can't acquire context from the given item");return}Ts.listen(this,"complete",sS),Ts.listen(this,"progress",SP),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:o}=this;return we(t)?e&&o?o:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Bi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():I1(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return R1(this.canvas,this.ctx),this}stop(){return Ts.stop(this),this}resize(t,e){Ts.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(r,t,e,o),h=i.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,I1(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),ge(i.onResize,[this,c],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};ne(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((c,h)=>(c[h]=!1,c),{});let o=[];e&&(o=o.concat(Object.keys(e).map(c=>{const h=e[c],d=My(c,h),g=d==="r",_=d==="x";return{options:h,dposition:g?"chartArea":_?"bottom":"left",dtype:g?"radialLinear":_?"category":"linear"}}))),ne(o,c=>{const h=c.options,d=h.id,g=My(d,h),_=$t(h.type,c.dtype);(h.position===void 0||nS(h.position,g)!==nS(c.dposition))&&(h.position=c.dposition),r[d]=!0;let b=null;if(d in i&&i[d].type===_)b=i[d];else{const x=Bi.getScale(_);b=new x({id:d,type:_,ctx:this.ctx,chart:this}),i[b.id]=b}b.init(h,t)}),ne(r,(c,h)=>{c||delete i[h]}),ne(i,c=>{ni.configure(this,c,c.options),ni.addBox(this,c)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,o)=>r.index-o.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(iS("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const o=e[i];let c=this.getDatasetMeta(i);const h=o.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=h,c.indexAxis=o.indexAxis||Ry(h,this.options),c.order=o.order||0,c.index=i,c.label=""+o.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const d=Bi.getController(h),{datasetElementType:g,dataElementType:_}=De.datasets[h];Object.assign(d,{dataElementType:Bi.getElement(_),datasetElementType:g&&Bi.getElement(g)}),c.controller=new d(this,i),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){ne(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let g=0,_=this.data.datasets.length;g<_;g++){const{controller:b}=this.getDatasetMeta(g),x=!r&&o.indexOf(b)===-1;b.buildOrUpdateElements(x),c=Math.max(+b.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),r||ne(o,g=>{g.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(iS("z","_idx"));const{_active:h,_lastEvent:d}=this;d?this._eventHandler(d,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){ne(this.scales,t=>{ni.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!b1(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of e){const c=i==="_removeElements"?-o:o;EP(t,r,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(c=>c[0]===o).map((c,h)=>h+","+c.splice(1).join(","))),r=i(0);for(let o=1;o<e;o++)if(!b1(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ni.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],ne(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Ur(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ts.has(this)?this.attached&&!Ts.running(this)&&Ts.start(this):(this.draw(),sS({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,o;for(r=0,o=e.length;r<o;++r){const c=e[r];(!t||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=J3(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&Z0(e,r),t.controller.draw(),r&&J0(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return MT(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const o=wL.modes[e];return typeof o=="function"?o(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(o=>o&&o._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Cl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,r);kf(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),c.update(o,{visible:i}),this.update(h=>h.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Ts.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),R1(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Jd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,c)=>{e.addEventListener(this,o,c),t[o]=c},r=(o,c,h)=>{o.offsetX=c,o.offsetY=h,this._eventHandler(o)};ne(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(d,g)=>{e.addEventListener(this,d,g),t[d]=g},r=(d,g)=>{t[d]&&(e.removeEventListener(this,d,g),delete t[d])},o=(d,g)=>{this.canvas&&this.resize(d,g)};let c;const h=()=>{r("attach",h),this.attached=!0,this.resize(),i("resize",o),i("detach",c)};c=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",h)},e.isAttached(this.canvas)?h():c()}unbindEvents(){ne(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},ne(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let o,c,h,d;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),h=0,d=t.length;h<d;++h){c=t[h];const g=c&&this.getDatasetMeta(c.datasetIndex).controller;g&&g[r+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:c})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[c],index:c}});!Af(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,o=(d,g)=>d.filter(_=>!g.some(b=>_.datasetIndex===b.datasetIndex&&_.index===b.index)),c=o(e,t),h=i?t:o(t,e);c.length&&this.updateHoverStyle(c,r.mode,!1),h.length&&r.mode&&this.updateHoverStyle(h,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:o}=this,c=e,h=this._getActiveElements(t,r,i,c),d=e3(t),g=TP(t,this._lastEvent,i,d);i&&(this._lastEvent=null,ge(o.onHover,[t,h,this],this),d&&ge(o.onClick,[t,h,this],this));const _=!Af(h,r);return(_||e)&&(this._active=h,this._updateHoverStyles(h,r,e)),this._lastEvent=g,_}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}};function aS(){return ne(gg.instances,n=>n._plugins.invalidate())}function CP(n,t,e){const{startAngle:i,x:r,y:o,outerRadius:c,innerRadius:h,options:d}=t,{borderWidth:g,borderJoinStyle:_}=d,b=Math.min(g/c,Fi(i-e));if(n.beginPath(),n.arc(r,o,c-g/2,i+b/2,e-b/2),h>0){const x=Math.min(g/h,Fi(i-e));n.arc(r,o,h+g/2,e-x/2,i+x/2,!0)}else{const x=Math.min(g/2,c*Fi(i-e));if(_==="round")n.arc(r,o,x,e-ue/2,i+ue/2,!0);else if(_==="bevel"){const E=2*x*x,N=-E*Math.cos(e+ue/2)+r,R=-E*Math.sin(e+ue/2)+o,M=E*Math.cos(i+ue/2)+r,U=E*Math.sin(i+ue/2)+o;n.lineTo(N,R),n.lineTo(M,U)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function AP(n,t,e){const{startAngle:i,pixelMargin:r,x:o,y:c,outerRadius:h,innerRadius:d}=t;let g=r/h;n.beginPath(),n.arc(o,c,h,i-g,e+g),d>r?(g=r/d,n.arc(o,c,d,e+g,i-g,!0)):n.arc(o,c,r,e+qe,i-qe),n.closePath(),n.clip()}function NP(n){return t_(n,["outerStart","outerEnd","innerStart","innerEnd"])}function kP(n,t,e,i){const r=NP(n.options.borderRadius),o=(e-t)/2,c=Math.min(o,i*t/2),h=d=>{const g=(e-Math.min(o,d))*i/2;return Mn(d,0,Math.min(o,g))};return{outerStart:h(r.outerStart),outerEnd:h(r.outerEnd),innerStart:Mn(r.innerStart,0,c),innerEnd:Mn(r.innerEnd,0,c)}}function Ko(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function Pf(n,t,e,i,r,o){const{x:c,y:h,startAngle:d,pixelMargin:g,innerRadius:_}=t,b=Math.max(t.outerRadius+i+e-g,0),x=_>0?_+i+e+g:0;let E=0;const N=r-d;if(i){const mt=_>0?_-i:0,G=b>0?b-i:0,V=(mt+G)/2,lt=V!==0?N*V/(V+i):N;E=(N-lt)/2}const R=Math.max(.001,N*b-e/ue)/b,M=(N-R)/2,U=d+M+E,$=r-M-E,{outerStart:Q,outerEnd:tt,innerStart:Z,innerEnd:ot}=kP(t,x,b,$-U),O=b-Q,T=b-tt,k=U+Q/O,I=$-tt/T,L=x+Z,z=x+ot,D=U+Z/L,Tt=$-ot/z;if(n.beginPath(),o){const mt=(k+I)/2;if(n.arc(c,h,b,k,mt),n.arc(c,h,b,mt,I),tt>0){const gt=Ko(T,I,c,h);n.arc(gt.x,gt.y,tt,I,$+qe)}const G=Ko(z,$,c,h);if(n.lineTo(G.x,G.y),ot>0){const gt=Ko(z,Tt,c,h);n.arc(gt.x,gt.y,ot,$+qe,Tt+Math.PI)}const V=($-ot/x+(U+Z/x))/2;if(n.arc(c,h,x,$-ot/x,V,!0),n.arc(c,h,x,V,U+Z/x,!0),Z>0){const gt=Ko(L,D,c,h);n.arc(gt.x,gt.y,Z,D+Math.PI,U-qe)}const lt=Ko(O,U,c,h);if(n.lineTo(lt.x,lt.y),Q>0){const gt=Ko(O,k,c,h);n.arc(gt.x,gt.y,Q,U-qe,k)}}else{n.moveTo(c,h);const mt=Math.cos(k)*b+c,G=Math.sin(k)*b+h;n.lineTo(mt,G);const V=Math.cos(I)*b+c,lt=Math.sin(I)*b+h;n.lineTo(V,lt)}n.closePath()}function RP(n,t,e,i,r){const{fullCircles:o,startAngle:c,circumference:h}=t;let d=t.endAngle;if(o){Pf(n,t,e,i,d,r);for(let g=0;g<o;++g)n.fill();isNaN(h)||(d=c+(h%ze||ze))}return Pf(n,t,e,i,d,r),n.fill(),d}function MP(n,t,e,i,r){const{fullCircles:o,startAngle:c,circumference:h,options:d}=t,{borderWidth:g,borderJoinStyle:_,borderDash:b,borderDashOffset:x,borderRadius:E}=d,N=d.borderAlign==="inner";if(!g)return;n.setLineDash(b||[]),n.lineDashOffset=x,N?(n.lineWidth=g*2,n.lineJoin=_||"round"):(n.lineWidth=g,n.lineJoin=_||"bevel");let R=t.endAngle;if(o){Pf(n,t,e,i,R,r);for(let M=0;M<o;++M)n.stroke();isNaN(h)||(R=c+(h%ze||ze))}N&&AP(n,t,R),d.selfJoin&&R-c>=ue&&E===0&&_!=="miter"&&CP(n,t,R),o||(Pf(n,t,e,i,R,r),n.stroke())}class OP extends no{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.getProps(["x","y"],i),{angle:o,distance:c}=ET(r,{x:t,y:e}),{startAngle:h,endAngle:d,innerRadius:g,outerRadius:_,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),x=(this.options.spacing+this.options.borderWidth)/2,E=$t(b,d-h),N=Df(o,h,d)&&h!==d,R=E>=ze||N,M=Pa(c,g+x,_+x);return R&&M}getCenterPoint(t){const{x:e,y:i,startAngle:r,endAngle:o,innerRadius:c,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:d,spacing:g}=this.options,_=(r+o)/2,b=(c+h+g+d)/2;return{x:e+Math.cos(_)*b,y:i+Math.sin(_)*b}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,r=(e.offset||0)/4,o=(e.spacing||0)/2,c=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>ze?Math.floor(i/ze):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const h=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(h)*r,Math.sin(h)*r);const d=1-Math.sin(Math.min(ue,i||0)),g=r*d;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,RP(t,this,g,o,c),MP(t,this,g,o,c),t.restore()}}function KT(n,t){const{x:e,y:i,base:r,width:o,height:c}=n.getProps(["x","y","base","width","height"],t);let h,d,g,_,b;return n.horizontal?(b=c/2,h=Math.min(e,r),d=Math.max(e,r),g=i-b,_=i+b):(b=o/2,h=e-b,d=e+b,g=Math.min(i,r),_=Math.max(i,r)),{left:h,top:g,right:d,bottom:_}}function Cr(n,t,e,i){return n?0:Mn(t,e,i)}function DP(n,t,e){const i=n.options.borderWidth,r=n.borderSkipped,o=OT(i);return{t:Cr(r.top,o.top,0,e),r:Cr(r.right,o.right,0,t),b:Cr(r.bottom,o.bottom,0,e),l:Cr(r.left,o.left,0,t)}}function IP(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=ol(r),c=Math.min(t,e),h=n.borderSkipped,d=i||Bt(r);return{topLeft:Cr(!d||h.top||h.left,o.topLeft,0,c),topRight:Cr(!d||h.top||h.right,o.topRight,0,c),bottomLeft:Cr(!d||h.bottom||h.left,o.bottomLeft,0,c),bottomRight:Cr(!d||h.bottom||h.right,o.bottomRight,0,c)}}function jP(n){const t=KT(n),e=t.right-t.left,i=t.bottom-t.top,r=DP(n,e/2,i/2),o=IP(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function Qp(n,t,e,i){const r=t===null,o=e===null,h=n&&!(r&&o)&&KT(n,i);return h&&(r||Pa(t,h.left,h.right))&&(o||Pa(e,h.top,h.bottom))}function LP(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function PP(n,t){n.rect(t.x,t.y,t.w,t.h)}function Kp(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,c=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+o,h:n.h+c,radius:n.radius}}class UP extends no{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:c}=jP(this),h=LP(c.radius)?If:PP;t.save(),(c.w!==o.w||c.h!==o.h)&&(t.beginPath(),h(t,Kp(c,e,o)),t.clip(),h(t,Kp(o,-e,c)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),h(t,Kp(o,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return Qp(this,t,e,i)}inXRange(t,e){return Qp(this,t,null,e)}inYRange(t,e){return Qp(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+r)/2:e,y:o?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}const oS=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},zP=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class lS extends no{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=ge(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=gn(i.font),o=r.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:d}=oS(i,o);let g,_;e.font=r.string,this.isHorizontal()?(g=this.maxWidth,_=this._fitRows(c,o,h,d)+10):(_=this.maxHeight,g=this._fitCols(c,r,h,d)+10),this.width=Math.min(g,t.maxWidth||this.maxWidth),this.height=Math.min(_,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:o,maxWidth:c,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],g=this.lineWidths=[0],_=r+h;let b=t;o.textAlign="left",o.textBaseline="middle";let x=-1,E=-_;return this.legendItems.forEach((N,R)=>{const M=i+e/2+o.measureText(N.text).width;(R===0||g[g.length-1]+M+2*h>c)&&(b+=_,g[g.length-(R>0?0:1)]=0,E+=_,x++),d[R]={left:0,top:E,row:x,width:M,height:r},g[g.length-1]+=M+h}),b}_fitCols(t,e,i,r){const{ctx:o,maxHeight:c,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],g=this.columnSizes=[],_=c-t;let b=h,x=0,E=0,N=0,R=0;return this.legendItems.forEach((M,U)=>{const{itemWidth:$,itemHeight:Q}=BP(i,e,o,M,r);U>0&&E+Q+2*h>_&&(b+=x+h,g.push({width:x,height:E}),N+=x+h,R++,x=E=0),d[U]={left:N,top:E,col:R,width:$,height:Q},x=Math.max(x,$),E+=Q+h}),b+=x,g.push({width:x,height:E}),b}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,c=ll(o,this.left,this.width);if(this.isHorizontal()){let h=0,d=fn(i,this.left+r,this.right-this.lineWidths[h]);for(const g of e)h!==g.row&&(h=g.row,d=fn(i,this.left+r,this.right-this.lineWidths[h])),g.top+=this.top+t+r,g.left=c.leftForLtr(c.x(d),g.width),d+=g.width+r}else{let h=0,d=fn(i,this.top+t+r,this.bottom-this.columnSizes[h].height);for(const g of e)g.col!==h&&(h=g.col,d=fn(i,this.top+t+r,this.bottom-this.columnSizes[h].height)),g.top=d,g.left+=this.left+r,g.left=c.leftForLtr(c.x(g.left),g.width),d+=g.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Z0(t,this),this._draw(),J0(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:c}=t,h=De.color,d=ll(t.rtl,this.left,this.width),g=gn(c.font),{padding:_}=c,b=g.size,x=b/2;let E;this.drawTitle(),r.textAlign=d.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=g.string;const{boxWidth:N,boxHeight:R,itemHeight:M}=oS(c,b),U=function(ot,O,T){if(isNaN(N)||N<=0||isNaN(R)||R<0)return;r.save();const k=$t(T.lineWidth,1);if(r.fillStyle=$t(T.fillStyle,h),r.lineCap=$t(T.lineCap,"butt"),r.lineDashOffset=$t(T.lineDashOffset,0),r.lineJoin=$t(T.lineJoin,"miter"),r.lineWidth=k,r.strokeStyle=$t(T.strokeStyle,h),r.setLineDash($t(T.lineDash,[])),c.usePointStyle){const I={radius:R*Math.SQRT2/2,pointStyle:T.pointStyle,rotation:T.rotation,borderWidth:k},L=d.xPlus(ot,N/2),z=O+x;RT(r,I,L,z,c.pointStyleWidth&&N)}else{const I=O+Math.max((b-R)/2,0),L=d.leftForLtr(ot,N),z=ol(T.borderRadius);r.beginPath(),Object.values(z).some(D=>D!==0)?If(r,{x:L,y:I,w:N,h:R,radius:z}):r.rect(L,I,N,R),r.fill(),k!==0&&r.stroke()}r.restore()},$=function(ot,O,T){Ou(r,T.text,ot,O+M/2,g,{strikethrough:T.hidden,textAlign:d.textAlign(T.textAlign)})},Q=this.isHorizontal(),tt=this._computeTitleHeight();Q?E={x:fn(o,this.left+_,this.right-i[0]),y:this.top+_+tt,line:0}:E={x:this.left+_,y:fn(o,this.top+tt+_,this.bottom-e[0].height),line:0},PT(this.ctx,t.textDirection);const Z=M+_;this.legendItems.forEach((ot,O)=>{r.strokeStyle=ot.fontColor,r.fillStyle=ot.fontColor;const T=r.measureText(ot.text).width,k=d.textAlign(ot.textAlign||(ot.textAlign=c.textAlign)),I=N+x+T;let L=E.x,z=E.y;d.setWidth(this.width),Q?O>0&&L+I+_>this.right&&(z=E.y+=Z,E.line++,L=E.x=fn(o,this.left+_,this.right-i[E.line])):O>0&&z+Z>this.bottom&&(L=E.x=L+e[E.line].width+_,E.line++,z=E.y=fn(o,this.top+tt+_,this.bottom-e[E.line].height));const D=d.x(L);if(U(D,z,ot),L=m3(k,L+N+x,Q?L+I:this.right,t.rtl),$(d.x(L),z,ot),Q)E.x+=I+_;else if(typeof ot.text!="string"){const Tt=g.lineHeight;E.y+=ZT(ot,Tt)+_}else E.y+=Z}),UT(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=gn(e.font),r=ri(e.padding);if(!e.display)return;const o=ll(t.rtl,this.left,this.width),c=this.ctx,h=e.position,d=i.size/2,g=r.top+d;let _,b=this.left,x=this.width;if(this.isHorizontal())x=Math.max(...this.lineWidths),_=this.top+g,b=fn(t.align,b,this.right-x);else{const N=this.columnSizes.reduce((R,M)=>Math.max(R,M.height),0);_=g+fn(t.align,this.top,this.bottom-N-t.labels.padding-this._computeTitleHeight())}const E=fn(h,b,b+x);c.textAlign=o.textAlign(Q0(h)),c.textBaseline="middle",c.strokeStyle=e.color,c.fillStyle=e.color,c.font=i.string,Ou(c,e.text,E,_,i)}_computeTitleHeight(){const t=this.options.title,e=gn(t.font),i=ri(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if(Pa(t,this.left,this.right)&&Pa(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],Pa(t,r.left,r.left+r.width)&&Pa(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!VP(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=zP(r,i);r&&!o&&ge(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&ge(e.onHover,[t,i,this],this)}else i&&ge(e.onClick,[t,i,this],this)}}function BP(n,t,e,i,r){const o=HP(i,n,t,e),c=FP(r,i,t.lineHeight);return{itemWidth:o,itemHeight:c}}function HP(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,c)=>o.length>c.length?o:c)),t+e.size/2+i.measureText(r).width}function FP(n,t,e){let i=n;return typeof t.text!="string"&&(i=ZT(t,e)),i}function ZT(n,t){const e=n.text?n.text.length:0;return t*e}function VP(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var qP={id:"legend",_element:lS,start(n,t,e){const i=n.legend=new lS({ctx:n.ctx,options:e,chart:n});ni.configure(n,i,e),ni.addBox(n,i)},stop(n){ni.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;ni.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:c,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(d=>{const g=d.controller.getStyle(e?0:void 0),_=ri(g.borderWidth);return{text:t[d.index].label,fillStyle:g.backgroundColor,fontColor:o,hidden:!d.visible,lineCap:g.borderCapStyle,lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:(_.width+_.height)/4,strokeStyle:g.borderColor,pointStyle:i||g.pointStyle,rotation:g.rotation,textAlign:r||g.textAlign,borderRadius:c&&(h||g.borderRadius),datasetIndex:d.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class JT extends no{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=en(i.text)?i.text.length:1;this._padding=ri(i.padding);const o=r*gn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:r,right:o,options:c}=this,h=c.align;let d=0,g,_,b;return this.isHorizontal()?(_=fn(h,i,o),b=e+t,g=o-i):(c.position==="left"?(_=i+t,b=fn(h,r,e),d=ue*-.5):(_=o-t,b=fn(h,e,r),d=ue*.5),g=r-e),{titleX:_,titleY:b,maxWidth:g,rotation:d}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=gn(e.font),o=i.lineHeight/2+this._padding.top,{titleX:c,titleY:h,maxWidth:d,rotation:g}=this._drawArgs(o);Ou(t,e.text,0,0,i,{color:e.color,maxWidth:d,rotation:g,textAlign:Q0(e.align),textBaseline:"middle",translation:[c,h]})}}function WP(n,t){const e=new JT({ctx:n.ctx,options:t,chart:n});ni.configure(n,e,t),ni.addBox(n,e),n.titleBlock=e}var YP={id:"title",_element:JT,start(n,t,e){WP(n,e)},stop(n){const t=n.titleBlock;ni.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;ni.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Jc={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,o=0;for(t=0,e=n.length;t<e;++t){const h=n[t].element;if(h&&h.hasValue()){const d=h.tooltipPosition();i.add(d.x),r+=d.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((h,d)=>h+d)/i.size,y:r/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,o,c,h;for(o=0,c=n.length;o<c;++o){const d=n[o].element;if(d&&d.hasValue()){const g=d.getCenterPoint(),_=l3(t,g);_<r&&(r=_,h=d)}}if(h){const d=h.tooltipPosition();e=d.x,i=d.y}return{x:e,y:i}}};function zi(n,t){return t&&(en(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Cs(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function GP(n,t){const{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:c,value:h}=o.getLabelAndValue(r);return{chart:n,label:c,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:h,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function cS(n,t){const e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:c,boxHeight:h}=t,d=gn(t.bodyFont),g=gn(t.titleFont),_=gn(t.footerFont),b=o.length,x=r.length,E=i.length,N=ri(t.padding);let R=N.height,M=0,U=i.reduce((tt,Z)=>tt+Z.before.length+Z.lines.length+Z.after.length,0);if(U+=n.beforeBody.length+n.afterBody.length,b&&(R+=b*g.lineHeight+(b-1)*t.titleSpacing+t.titleMarginBottom),U){const tt=t.displayColors?Math.max(h,d.lineHeight):d.lineHeight;R+=E*tt+(U-E)*d.lineHeight+(U-1)*t.bodySpacing}x&&(R+=t.footerMarginTop+x*_.lineHeight+(x-1)*t.footerSpacing);let $=0;const Q=function(tt){M=Math.max(M,e.measureText(tt).width+$)};return e.save(),e.font=g.string,ne(n.title,Q),e.font=d.string,ne(n.beforeBody.concat(n.afterBody),Q),$=t.displayColors?c+2+t.boxPadding:0,ne(i,tt=>{ne(tt.before,Q),ne(tt.lines,Q),ne(tt.after,Q)}),$=0,e.font=_.string,ne(n.footer,Q),e.restore(),M+=N.width,{width:M,height:R}}function $P(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function XP(n,t,e,i){const{x:r,width:o}=i,c=e.caretSize+e.caretPadding;if(n==="left"&&r+o+c>t.width||n==="right"&&r-o-c<0)return!0}function QP(n,t,e,i){const{x:r,width:o}=e,{width:c,chartArea:{left:h,right:d}}=n;let g="center";return i==="center"?g=r<=(h+d)/2?"left":"right":r<=o/2?g="left":r>=c-o/2&&(g="right"),XP(g,n,t,e)&&(g="center"),g}function uS(n,t,e){const i=e.yAlign||t.yAlign||$P(n,e);return{xAlign:e.xAlign||t.xAlign||QP(n,t,e,i),yAlign:i}}function KP(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function ZP(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function hS(n,t,e,i){const{caretSize:r,caretPadding:o,cornerRadius:c}=n,{xAlign:h,yAlign:d}=e,g=r+o,{topLeft:_,topRight:b,bottomLeft:x,bottomRight:E}=ol(c);let N=KP(t,h);const R=ZP(t,d,g);return d==="center"?h==="left"?N+=g:h==="right"&&(N-=g):h==="left"?N-=Math.max(_,x)+r:h==="right"&&(N+=Math.max(b,E)+r),{x:Mn(N,0,i.width-t.width),y:Mn(R,0,i.height-t.height)}}function Bd(n,t,e){const i=ri(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function dS(n){return zi([],Cs(n))}function JP(n,t,e){return Cl(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function fS(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const tC={beforeTitle:Es,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Es,beforeBody:Es,beforeLabel:Es,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return we(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Es,afterBody:Es,beforeFooter:Es,footer:Es,afterFooter:Es};function Cn(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?tC[t].call(e,i):r}class gS extends no{static positioners=Jc;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,o=new zT(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=JP(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=Cn(i,"beforeTitle",this,t),o=Cn(i,"title",this,t),c=Cn(i,"afterTitle",this,t);let h=[];return h=zi(h,Cs(r)),h=zi(h,Cs(o)),h=zi(h,Cs(c)),h}getBeforeBody(t,e){return dS(Cn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return ne(t,o=>{const c={before:[],lines:[],after:[]},h=fS(i,o);zi(c.before,Cs(Cn(h,"beforeLabel",this,o))),zi(c.lines,Cn(h,"label",this,o)),zi(c.after,Cs(Cn(h,"afterLabel",this,o))),r.push(c)}),r}getAfterBody(t,e){return dS(Cn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=Cn(i,"beforeFooter",this,t),o=Cn(i,"footer",this,t),c=Cn(i,"afterFooter",this,t);let h=[];return h=zi(h,Cs(r)),h=zi(h,Cs(o)),h=zi(h,Cs(c)),h}_createItems(t){const e=this._active,i=this.chart.data,r=[],o=[],c=[];let h=[],d,g;for(d=0,g=e.length;d<g;++d)h.push(GP(this.chart,e[d]));return t.filter&&(h=h.filter((_,b,x)=>t.filter(_,b,x,i))),t.itemSort&&(h=h.sort((_,b)=>t.itemSort(_,b,i))),ne(h,_=>{const b=fS(t.callbacks,_);r.push(Cn(b,"labelColor",this,_)),o.push(Cn(b,"labelPointStyle",this,_)),c.push(Cn(b,"labelTextColor",this,_))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=h,h}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let o,c=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const h=Jc[i.position].call(this,r,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const d=this._size=cS(this,i),g=Object.assign({},h,d),_=uS(this.chart,i,g),b=hS(i,g,_,this.chart);this.xAlign=_.xAlign,this.yAlign=_.yAlign,o={opacity:1,x:b.x,y:b.y,width:d.width,height:d.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const o=this.getCaretPosition(t,i,r);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:o}=this,{caretSize:c,cornerRadius:h}=i,{topLeft:d,topRight:g,bottomLeft:_,bottomRight:b}=ol(h),{x,y:E}=t,{width:N,height:R}=e;let M,U,$,Q,tt,Z;return o==="center"?(tt=E+R/2,r==="left"?(M=x,U=M-c,Q=tt+c,Z=tt-c):(M=x+N,U=M+c,Q=tt-c,Z=tt+c),$=M):(r==="left"?U=x+Math.max(d,_)+c:r==="right"?U=x+N-Math.max(g,b)-c:U=this.caretX,o==="top"?(Q=E,tt=Q-c,M=U-c,$=U+c):(Q=E+R,tt=Q+c,M=U+c,$=U-c),Z=Q),{x1:M,x2:U,x3:$,y1:Q,y2:tt,y3:Z}}drawTitle(t,e,i){const r=this.title,o=r.length;let c,h,d;if(o){const g=ll(i.rtl,this.x,this.width);for(t.x=Bd(this,i.titleAlign,i),e.textAlign=g.textAlign(i.titleAlign),e.textBaseline="middle",c=gn(i.titleFont),h=i.titleSpacing,e.fillStyle=i.titleColor,e.font=c.string,d=0;d<o;++d)e.fillText(r[d],g.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+h,d+1===o&&(t.y+=i.titleMarginBottom-h)}}_drawColorBox(t,e,i,r,o){const c=this.labelColors[i],h=this.labelPointStyles[i],{boxHeight:d,boxWidth:g}=o,_=gn(o.bodyFont),b=Bd(this,"left",o),x=r.x(b),E=d<_.lineHeight?(_.lineHeight-d)/2:0,N=e.y+E;if(o.usePointStyle){const R={radius:Math.min(g,d)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},M=r.leftForLtr(x,g)+g/2,U=N+d/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,M1(t,R,M,U),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,M1(t,R,M,U)}else{t.lineWidth=Bt(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const R=r.leftForLtr(x,g),M=r.leftForLtr(r.xPlus(x,1),g-2),U=ol(c.borderRadius);Object.values(U).some($=>$!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,If(t,{x:R,y:N,w:g,h:d,radius:U}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),If(t,{x:M,y:N+1,w:g-2,h:d-2,radius:U}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(R,N,g,d),t.strokeRect(R,N,g,d),t.fillStyle=c.backgroundColor,t.fillRect(M,N+1,g-2,d-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:o,bodyAlign:c,displayColors:h,boxHeight:d,boxWidth:g,boxPadding:_}=i,b=gn(i.bodyFont);let x=b.lineHeight,E=0;const N=ll(i.rtl,this.x,this.width),R=function(T){e.fillText(T,N.x(t.x+E),t.y+x/2),t.y+=x+o},M=N.textAlign(c);let U,$,Q,tt,Z,ot,O;for(e.textAlign=c,e.textBaseline="middle",e.font=b.string,t.x=Bd(this,M,i),e.fillStyle=i.bodyColor,ne(this.beforeBody,R),E=h&&M!=="right"?c==="center"?g/2+_:g+2+_:0,tt=0,ot=r.length;tt<ot;++tt){for(U=r[tt],$=this.labelTextColors[tt],e.fillStyle=$,ne(U.before,R),Q=U.lines,h&&Q.length&&(this._drawColorBox(e,t,tt,N,i),x=Math.max(b.lineHeight,d)),Z=0,O=Q.length;Z<O;++Z)R(Q[Z]),x=b.lineHeight;ne(U.after,R)}E=0,x=b.lineHeight,ne(this.afterBody,R),t.y-=o}drawFooter(t,e,i){const r=this.footer,o=r.length;let c,h;if(o){const d=ll(i.rtl,this.x,this.width);for(t.x=Bd(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=d.textAlign(i.footerAlign),e.textBaseline="middle",c=gn(i.footerFont),e.fillStyle=i.footerColor,e.font=c.string,h=0;h<o;++h)e.fillText(r[h],d.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:o,yAlign:c}=this,{x:h,y:d}=t,{width:g,height:_}=i,{topLeft:b,topRight:x,bottomLeft:E,bottomRight:N}=ol(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(h+b,d),c==="top"&&this.drawCaret(t,e,i,r),e.lineTo(h+g-x,d),e.quadraticCurveTo(h+g,d,h+g,d+x),c==="center"&&o==="right"&&this.drawCaret(t,e,i,r),e.lineTo(h+g,d+_-N),e.quadraticCurveTo(h+g,d+_,h+g-N,d+_),c==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(h+E,d+_),e.quadraticCurveTo(h,d+_,h,d+_-E),c==="center"&&o==="left"&&this.drawCaret(t,e,i,r),e.lineTo(h,d+b),e.quadraticCurveTo(h,d,h+b,d),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const c=Jc[t.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=cS(this,t),d=Object.assign({},c,this._size),g=uS(e,t,d),_=hS(t,d,g,e);(r._to!==_.x||o._to!==_.y)&&(this.xAlign=g.xAlign,this.yAlign=g.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,_))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=ri(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,r,e),PT(t,e.textDirection),o.y+=c.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),UT(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:h,index:d})=>{const g=this.chart.getDatasetMeta(h);if(!g)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:g.data[d],index:d}}),o=!Af(i,r),c=this._positionChanged(r,e);(o||c)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],c=this._getActiveElements(t,o,e,i),h=this._positionChanged(c,t),d=e||!Af(c,o)||h;return d&&(this._active=c,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),d}_getActiveElements(t,e,i,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&c.reverse(),c}_positionChanged(t,e){const{caretX:i,caretY:r,options:o}=this,c=Jc[o.position].call(this,t,e);return c!==!1&&(i!==c.x||r!==c.y)}}var t5={id:"tooltip",_element:gS,positioners:Jc,afterInit(n,t,e){e&&(n.tooltip=new gS({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:tC},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const e5=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function n5(n,t,e,i){const r=n.indexOf(t);if(r===-1)return e5(n,t,e,i);const o=n.lastIndexOf(t);return r!==o?e:r}const i5=(n,t)=>n===null?null:Mn(Math.round(n),0,t);function mS(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class s5 extends Al{static id="category";static defaults={ticks:{callback:mS}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:o}of e)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(we(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:n5(i,t,$t(e,t),this._addedLabels),i5(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=t;c<=e;c++)r.push({value:c});return r}getLabelForValue(t){return mS.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function r5(n,t){const e=[],{bounds:r,step:o,min:c,max:h,precision:d,count:g,maxTicks:_,maxDigits:b,includeBounds:x}=n,E=o||1,N=_-1,{min:R,max:M}=t,U=!we(c),$=!we(h),Q=!we(g),tt=(M-R)/(b+1);let Z=w1((M-R)/N/E)*E,ot,O,T,k;if(Z<1e-14&&!U&&!$)return[{value:R},{value:M}];k=Math.ceil(M/Z)-Math.floor(R/Z),k>N&&(Z=w1(k*Z/N/E)*E),we(d)||(ot=Math.pow(10,d),Z=Math.ceil(Z*ot)/ot),r==="ticks"?(O=Math.floor(R/Z)*Z,T=Math.ceil(M/Z)*Z):(O=R,T=M),U&&$&&o&&r3((h-c)/o,Z/1e3)?(k=Math.round(Math.min((h-c)/Z,_)),Z=(h-c)/k,O=c,T=h):Q?(O=U?c:O,T=$?h:T,k=g-1,Z=(T-O)/k):(k=(T-O)/Z,Kd(k,Math.round(k),Z/1e3)?k=Math.round(k):k=Math.ceil(k));const I=Math.max(S1(Z),S1(O));ot=Math.pow(10,we(d)?I:d),O=Math.round(O*ot)/ot,T=Math.round(T*ot)/ot;let L=0;for(U&&(x&&O!==c?(e.push({value:c}),O<c&&L++,Kd(Math.round((O+L*Z)*ot)/ot,c,pS(c,tt,n))&&L++):O<c&&L++);L<k;++L){const z=Math.round((O+L*Z)*ot)/ot;if($&&z>h)break;e.push({value:z})}return $&&x&&T!==h?e.length&&Kd(e[e.length-1].value,h,pS(h,tt,n))?e[e.length-1].value=h:e.push({value:h}):(!$||T===h)&&e.push({value:T}),e}function pS(n,t,{horizontal:e,minRotation:i}){const r=Ds(i),o=(e?Math.sin(r):Math.cos(r))||.001,c=.75*t*(""+n).length;return Math.min(t/o,c)}class a5 extends Al{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return we(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const c=d=>r=e?r:d,h=d=>o=i?o:d;if(t){const d=Mf(r),g=Mf(o);d<0&&g<0?h(0):d>0&&g>0&&c(0)}if(r===o){let d=o===0?1:Math.abs(o*.05);h(o+d),t||c(r-d)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,c=r5(r,o);return t.bounds==="ticks"&&a3(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return K0(t,this.chart.options.locale,this.options.ticks.format)}}class o5 extends a5{static id="linear";static defaults={ticks:{callback:kT.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=si(t)?t:0,this.max=si(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Ds(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const mg={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Nn=Object.keys(mg);function yS(n,t){return n-t}function _S(n,t){if(we(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let c=t;return typeof i=="function"&&(c=i(c)),si(c)||(c=typeof i=="string"?e.parse(c,i):e.parse(c)),c===null?null:(r&&(c=r==="week"&&(Of(o)||o===!0)?e.startOf(c,"isoWeek",o):e.startOf(c,r)),+c)}function vS(n,t,e,i){const r=Nn.length;for(let o=Nn.indexOf(n);o<r-1;++o){const c=mg[Nn[o]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((e-t)/(h*c.size))<=i)return Nn[o]}return Nn[r-1]}function l5(n,t,e,i,r){for(let o=Nn.length-1;o>=Nn.indexOf(e);o--){const c=Nn[o];if(mg[c].common&&n._adapter.diff(r,i,c)>=t-1)return c}return Nn[e?Nn.indexOf(e):0]}function c5(n){for(let t=Nn.indexOf(n)+1,e=Nn.length;t<e;++t)if(mg[Nn[t]].common)return Nn[t]}function bS(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=X0(e,t),o=e[i]>=t?e[i]:e[r];n[o]=!0}}function u5(n,t,e,i){const r=n._adapter,o=+r.startOf(t[0].value,i),c=t[t.length-1].value;let h,d;for(h=o;h<=c;h=+r.add(h,1,i))d=e[h],d>=0&&(t[d].major=!0);return t}function xS(n,t,e){const i=[],r={},o=t.length;let c,h;for(c=0;c<o;++c)h=t[c],r[h]=c,i.push({value:h,major:!1});return o===0||!e?i:u5(n,i,r,e)}class wS extends Al{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new yL._date(t.adapters.date);r.init(e),fu(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:_S(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:o,minDefined:c,maxDefined:h}=this.getUserBounds();function d(g){!c&&!isNaN(g.min)&&(r=Math.min(r,g.min)),!h&&!isNaN(g.max)&&(o=Math.max(o,g.max))}(!c||!h)&&(d(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&d(this.getMinMax(!1))),r=si(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),o=si(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,c=this.max,h=h3(r,o,c);return this._unit=e.unit||(i.autoSkip?vS(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):l5(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:c5(this._unit),this.initOffsets(r),t.reverse&&h.reverse(),xS(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;e=Mn(e,0,c),i=Mn(i,0,c),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,o=r.time,c=o.unit||vS(o.minUnit,e,i,this._getLabelCapacity(e)),h=$t(r.ticks.stepSize,1),d=c==="week"?o.isoWeekday:!1,g=Of(d)||d===!0,_={};let b=e,x,E;if(g&&(b=+t.startOf(b,"isoWeek",d)),b=+t.startOf(b,g?"day":c),t.diff(i,e,c)>1e5*h)throw new Error(e+" and "+i+" are too far apart with stepSize of "+h+" "+c);const N=r.ticks.source==="data"&&this.getDataTimestamps();for(x=b,E=0;x<i;x=+t.add(x,h,c),E++)bS(_,x,N);return(x===i||r.bounds==="ticks"||E===1)&&bS(_,x,N),Object.keys(_).sort(yS).map(R=>+R)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,o=this._unit,c=e||r[o];return this._adapter.format(t,c)}_tickFormatFunction(t,e,i,r){const o=this.options,c=o.ticks.callback;if(c)return ge(c,[t,e,i],this);const h=o.time.displayFormats,d=this._unit,g=this._majorUnit,_=d&&h[d],b=g&&h[g],x=i[e],E=g&&b&&x&&x.major;return this._adapter.format(t,r||(E?b:_))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=Ds(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(r),c=Math.sin(r),h=this._resolveTickFontOptions(0).size;return{w:i*o+h*c,h:i*c+h*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,xS(this,[t],this._majorUnit),r),c=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(_S(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return f3(t.sort(yS))}}function Hd(n,t,e){let i=0,r=n.length-1,o,c,h,d;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=Ny(n,"pos",t)),{pos:o,time:h}=n[i],{pos:c,time:d}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=Ny(n,"time",t)),{time:o,pos:h}=n[i],{time:c,pos:d}=n[r]);const g=c-o;return g?h+(d-h)*(t-o)/g:h}class lU extends wS{static id="timeseries";static defaults=wS.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Hd(e,this.min),this._tableRange=Hd(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],o=[];let c,h,d,g,_;for(c=0,h=t.length;c<h;++c)g=t[c],g>=e&&g<=i&&r.push(g);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(c=0,h=r.length;c<h;++c)_=r[c+1],d=r[c-1],g=r[c],Math.round((_+d)/2)!==g&&o.push({time:g,pos:c/(h-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Hd(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Hd(this._table,i*this._tableRange+this._minPos,!0)}}const eC="label";function SS(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function h5(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function nC(n,t){n.labels=t}function iC(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:eC;const i=[];n.datasets=t.map(r=>{const o=n.datasets.find(c=>c[e]===r[e]);return!o||!r.data||i.includes(o)?{...r}:(i.push(o),Object.assign(o,r),o)})}function d5(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:eC;const e={labels:[],datasets:[]};return nC(e,n.labels),iC(e,n.datasets,t),e}function f5(n,t){const{height:e=150,width:i=300,redraw:r=!1,datasetIdKey:o,type:c,data:h,options:d,plugins:g=[],fallbackContent:_,updateMode:b,...x}=n,E=B.useRef(null),N=B.useRef(null),R=()=>{E.current&&(N.current=new gg(E.current,{type:c,data:d5(h,o),options:d&&{...d},plugins:g}),SS(t,N.current))},M=()=>{SS(t,null),N.current&&(N.current.destroy(),N.current=null)};return B.useEffect(()=>{!r&&N.current&&d&&h5(N.current,d)},[r,d]),B.useEffect(()=>{!r&&N.current&&nC(N.current.config.data,h.labels)},[r,h.labels]),B.useEffect(()=>{!r&&N.current&&h.datasets&&iC(N.current.config.data,h.datasets,o)},[r,h.datasets]),B.useEffect(()=>{N.current&&(r?(M(),setTimeout(R)):N.current.update(b))},[r,d,h.labels,h.datasets,b]),B.useEffect(()=>{N.current&&(M(),setTimeout(R))},[c]),B.useEffect(()=>(R(),()=>M()),[]),Is.createElement("canvas",{ref:E,role:"img",height:e,width:i,...x},_)}const g5=B.forwardRef(f5);function m5(n,t){return gg.register(t),B.forwardRef((e,i)=>Is.createElement(g5,{...e,ref:i,type:n}))}const p5=m5("pie",pL);var sC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ES=Is.createContext&&Is.createContext(sC),y5=["attr","size","title"];function _5(n,t){if(n==null)return{};var e=v5(n,t),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)i=o[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function v5(n,t){if(n==null)return{};var e={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function Uf(){return Uf=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Uf.apply(this,arguments)}function TS(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function zf(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?TS(Object(e),!0).forEach(function(i){b5(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):TS(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function b5(n,t,e){return t=x5(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function x5(n){var t=w5(n,"string");return typeof t=="symbol"?t:t+""}function w5(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function rC(n){return n&&n.map((t,e)=>Is.createElement(t.tag,zf({key:e},t.attr),rC(t.child)))}function Ot(n){return t=>Is.createElement(S5,Uf({attr:zf({},n.attr)},t),rC(n.child))}function S5(n){var t=e=>{var{attr:i,size:r,title:o}=n,c=_5(n,y5),h=r||e.size||"1em",d;return e.className&&(d=e.className),n.className&&(d=(d?d+" ":"")+n.className),Is.createElement("svg",Uf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,i,c,{className:d,style:zf(zf({color:n.color||e.color},e.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&Is.createElement("title",null,o),n.children)};return ES!==void 0?Is.createElement(ES.Consumer,null,e=>t(e)):t(sC)}function E5(n){return Ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(n)}function Nl(n){return Ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(n)}function Oy(n){return Ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"7"},child:[]},{tag:"polyline",attr:{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"},child:[]}]})(n)}function T5(n){return Ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(n)}function C5(n){return Ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"},child:[]},{tag:"path",attr:{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"},child:[]}]})(n)}function CS(n){return Ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"},child:[]},{tag:"path",attr:{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"},child:[]}]})(n)}function Bf(n){return Ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"},child:[]}]})(n)}function A5(n){return Ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(n)}function tu(n){return Ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(n)}function N5(n){return Ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(n)}function k5(n){return Ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(n)}function o_(n){return Ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(n)}function R5(n){return Ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(n)}function M5(n){return Ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(n)}function O5(n){return Ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(n)}function aC(n){return Ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(n)}function D5(n){return Ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(n)}function oC(n){return Ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(n)}function Hf(n){return Ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(n)}function l_(n){return Ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(n)}function I5(n){return Ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"},child:[]},{tag:"polyline",attr:{points:"10 17 15 12 10 7"},child:[]},{tag:"line",attr:{x1:"15",y1:"12",x2:"3",y2:"12"},child:[]}]})(n)}function c_(n){return Ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(n)}function u_(n){return Ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(n)}function pu(n){return Ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(n)}function j5(n){return Ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},child:[]}]})(n)}function lC(n){return Ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(n)}function AS(n){return Ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(n)}function cC(n){return Ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(n)}function L5(n){return Ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(n)}function P5(n){return Ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"},child:[]},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"},child:[]}]})(n)}function U5(n){return Ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"},child:[]}]})(n)}function z5(n){return Ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(n)}function B5(n){return Ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(n)}function zr(n){return Ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(n)}function uC(n){return Ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(n)}function eu(n){return Ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(n)}function H5(n){return Ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(n)}function tf(n){return Ot({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M32,224H64V416H32A31.96166,31.96166,0,0,1,0,384V256A31.96166,31.96166,0,0,1,32,224Zm512-48V448a64.06328,64.06328,0,0,1-64,64H160a64.06328,64.06328,0,0,1-64-64V176a79.974,79.974,0,0,1,80-80H288V32a32,32,0,0,1,64,0V96H464A79.974,79.974,0,0,1,544,176ZM264,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,264,256Zm-8,128H192v32h64Zm96,0H288v32h64ZM456,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,456,256Zm-8,128H384v32h64ZM640,256V384a31.96166,31.96166,0,0,1-32,32H576V224h32A31.96166,31.96166,0,0,1,640,256Z"},child:[]}]})(n)}const NS=({question:n,currentUser:t,darkMode:e,onAnswerSubmit:i,onRequestAiHelp:r})=>{const[o,c]=B.useState(!1),[h,d]=B.useState(!1),[g,_]=B.useState(""),[b,x]=B.useState(!1),[E,N]=B.useState([]),[R,M]=B.useState(!1),[U,$]=B.useState(n.views||0),[Q,tt]=B.useState(!1),[Z,ot]=B.useState([]),[O,T]=B.useState(!1),[k,I]=B.useState(null);B.useEffect(()=>{(async()=>{try{await xi(ee(db,`questions/${n.id}`),{views:f1(1)}),$(lt=>lt+1)}catch(lt){console.error("Error updating views:",lt)}})()},[n.id]),B.useEffect(()=>{if(!h)return;M(!0);const V=l6(ee(be,"answers"),r6("questionId"),o6(n.id)),lt=gi(V,gt=>{const P=gt.val(),it=[];P&&(Object.entries(P).forEach(([ct,rt])=>{it.push({id:ct,content:rt.content,createdAt:rt.createdAt,questionId:rt.questionId,userDisplayName:rt.userDisplayName||"Anonymous",userId:rt.userId,upvotes:rt.upvotes||0})}),it.sort((ct,rt)=>rt.createdAt-ct.createdAt)),N(it),M(!1)},gt=>{console.error("Error fetching answers:",gt),M(!1)});return()=>lt()},[h,n.id]);const L=V=>{if(!V)return"Just now";const lt=new Date(typeof V=="object"&&V.seconds?V.seconds*1e3:V);return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(lt)},z=async V=>{if(V.preventDefault(),!(!g.trim()||!t))try{c(!1);const lt=await i(n.id,g);_(""),lt>0&&I(Math.min(10,Math.floor(lt/2)))}catch(lt){console.error("Error submitting answer:",lt)}},D=async()=>{if(t)try{const V=ee(db,`users/${t.uid}/bookmarks/${n.id}`);newBookmarkState?await Rr(V,{timestamp:du(),questionId:n.id}):await Rr(V,null)}catch(V){console.error("Error updating bookmark:",V),x(!b)}},Tt=async V=>{if(t)try{await xi(ee(db,`answers/${V}/upvotes`),f1(1)),await Rr(ee(db,`users/${t.uid}/upvotes/${V}`),{timestamp:du()})}catch(lt){console.error("Error upvoting answer:",lt)}},mt=async()=>{if(g.trim()){tt(!0);try{await new Promise(lt=>setTimeout(lt,800));const V=["Consider adding more context about: "+g.split(" ").slice(0,3).join(" "),"A relevant example might help clarify your point","Have you considered mentioning alternative approaches?","Could you break this down into simpler steps?"];ot(V),T(!0)}catch(V){console.error("Error getting AI suggestions:",V)}finally{tt(!1)}}},G=V=>{_(lt=>`${lt}

 ${V}`),T(!1)};return y.jsxs("div",{className:`question-card ${n.answered?"answered":""} ${e?"dark":""}`,children:[y.jsxs("div",{className:"question-header",children:[y.jsxs("div",{className:"question-meta",children:[y.jsx("span",{className:`subject-badge ${n.subject?.toLowerCase()}`,children:n.subject}),y.jsxs("span",{className:"asked-by",children:[y.jsx(zr,{className:"icon"}),n.userDisplayName||"Anonymous"]}),y.jsxs("span",{className:"timestamp",children:[y.jsx(o_,{className:"icon"}),L(n.createdAt)]})]}),n.answered&&y.jsxs("div",{className:"answered-badge",children:[y.jsx(tu,{className:"icon"}),"Answered"]})]}),y.jsx("h3",{className:"question-title",children:y.jsx(Vt,{to:`/question/${n.id}`,children:n.title})}),n.aiOptimized&&y.jsxs("div",{className:"ai-optimized-badge",children:[y.jsx(tf,{className:"mr-1"}),"AI-Enhanced"]}),y.jsxs("div",{className:"question-stats",children:[y.jsxs("span",{className:"stat",children:[y.jsx(pu,{className:"icon"}),n.answerCount||0," answers"]}),y.jsxs("span",{className:"stat",children:[y.jsx(aC,{className:"icon"}),U," views"]})]}),n.answerCount>0&&y.jsx("div",{className:"answers-toggle",children:y.jsx("button",{onClick:()=>d(!h),className:"toggle-btn",children:h?y.jsxs(y.Fragment,{children:[y.jsx(k5,{className:"icon"}),"Hide Answers"]}):y.jsxs(y.Fragment,{children:[y.jsx(N5,{className:"icon"}),"Show Answers (",n.answerCount,")"]})})}),h&&y.jsx("div",{className:"answers-list",children:R?y.jsx("div",{className:"loading",children:"Loading answers..."}):E.length>0?E.map(V=>y.jsxs("div",{className:"answer",children:[y.jsxs("div",{className:"answer-header",children:[y.jsxs("span",{className:"author",children:[y.jsx(zr,{className:"icon"}),V.userDisplayName]}),y.jsx("span",{className:"date",children:L(V.createdAt)})]}),y.jsx("div",{className:"answer-content",children:V.content}),y.jsx("div",{className:"answer-footer",children:y.jsxs("button",{onClick:()=>Tt(V.id),className:"upvote-btn",children:[y.jsx(U5,{className:"icon"}),V.upvotes," upvotes"]})})]},V.id)):y.jsxs("div",{className:"no-answers",children:["No answers yet",y.jsxs("div",{className:"debug-info",children:["Question ID: ",n.id,y.jsx("br",{}),"Expected answers: ",n.answerCount]})]})}),t&&y.jsx("div",{className:"answer-section",children:o?y.jsxs("form",{onSubmit:z,className:"answer-form",children:[y.jsx("textarea",{value:g,onChange:V=>_(V.target.value),placeholder:"Write your detailed answer here...",rows:4,required:!0}),O&&y.jsxs("div",{className:"ai-suggestions",children:[y.jsx("h4",{children:"AI Suggestions"}),y.jsx("ul",{children:Z.map((V,lt)=>y.jsx("li",{onClick:()=>G(V),children:V},lt))})]}),y.jsxs("div",{className:"form-actions",children:[y.jsxs("div",{className:"left-actions",children:[y.jsx("button",{type:"button",onClick:()=>c(!1),className:"cancel-btn",children:"Cancel"}),y.jsx("button",{type:"button",onClick:mt,disabled:Q||!g.trim(),className:"ai-help-btn",children:Q?"Thinking...":"Get AI Help"})]}),y.jsx("button",{type:"submit",disabled:!g.trim(),className:"submit-btn",children:"Post Answer"})]})]}):y.jsxs("div",{className:"answer-prompt",children:[y.jsxs("button",{onClick:()=>c(!0),className:"add-answer-btn",children:[y.jsx(M5,{className:"icon"}),"Add Your Answer"]}),y.jsxs("button",{onClick:()=>r(n.id,n.title),className:"ai-hint-btn",children:[y.jsx(Hf,{className:"icon"}),"Need Help?"]})]})}),y.jsxs("div",{className:"question-footer",children:[y.jsxs("button",{onClick:D,className:`bookmark-btn ${b?"active":""}`,children:[y.jsx(Bf,{className:"icon"}),b?"Bookmarked":"Bookmark"]}),k&&y.jsxs("div",{className:"quality-indicator",children:[y.jsx("span",{children:"Answer Quality:"}),y.jsx("div",{className:"quality-meter",children:[...Array(10)].map((V,lt)=>y.jsx("div",{className:`bar ${lt<k?"filled":""}`},lt))})]})]})]})};gg.register(s5,o5,UP,YP,t5,qP,OP);const Yc=(n=1)=>({".sv":{increment:n}});function F5(){const[n]=hg(xe),t=Fs(),{darkMode:e}=Wf(),[i,r]=B.useState([]),[o,c]=B.useState([]),[h,d]=B.useState([]),[g,_]=B.useState([]),[b,x]=B.useState(null),[E,N]=B.useState([]),[R,M]=B.useState(""),[U,$]=B.useState(""),[Q,tt]=B.useState("all"),[Z,ot]=B.useState(!1),[O,T]=B.useState({totalQuestions:0,totalAnswers:0,answerRate:0,subjectDistribution:{}}),[k,I]=B.useState([]),[L,z]=B.useState(!1),[D,Tt]=B.useState(!1),[mt,G]=B.useState("");B.useEffect(()=>{const et=ee(be,"questions"),St=gi(et,Et=>{const Te=Et.val();if(Te){const Yt=Object.entries(Te).map(([se,Xt])=>({id:se,...Xt}));r(Yt);const me=Yt.reduce((se,Xt)=>(se[Xt.subject]=(se[Xt.subject]||0)+1,se),{}),Be=Yt.filter(se=>se.answered).length;T(se=>({...se,totalQuestions:Yt.length,totalAnswers:Yt.reduce((Xt,Vr)=>Xt+(Vr.answerCount||0),0),answerRate:Yt.length>0?Math.round(Be/Yt.length*100):0,subjectDistribution:me}))}});return()=>St()},[]),B.useEffect(()=>{const et=ee(be,"questions"),St=gi(et,Et=>{const Te=Et.val();if(Te){const Yt=Object.entries(Te).map(([me,Be])=>({id:me,...Be})).sort((me,Be)=>(Be.engagementScore||0)-(me.engagementScore||0)).slice(0,5);c(Yt)}});return()=>St()},[]),B.useEffect(()=>{if(n){const et=ee(be,`users/${n.uid}/stats`);gi(et,Yt=>{x(Yt.val())});const St=ee(be,`users/${n.uid}/recentlyViewed`);gi(St,Yt=>{const me=Yt.val();if(me){const Be=Object.entries(me).map(([se,Xt])=>({id:se,...Xt,viewedAt:Xt.timestamp})).sort((se,Xt)=>Xt.viewedAt-se.viewedAt);d(Be)}});const Et=ee(be,`users/${n.uid}/bookmarks`);gi(Et,Yt=>{const me=Yt.val();if(me){const Be=Object.entries(me).map(([se,Xt])=>({id:se,...Xt,bookmarkedAt:Xt.timestamp}));_(Be)}});const Te=ee(be,"users");gi(Te,Yt=>{const me=Yt.val();if(me){const Be=Object.entries(me).filter(([se,Xt])=>Xt.stats?.points>0).map(([se,Xt])=>({id:se,...Xt.profile,points:Xt.stats?.points||0})).sort((se,Xt)=>Xt.points-se.points).slice(0,5);N(Be)}})}},[n]);const V=async()=>{if(U.trim()){z(!0);try{await new Promise(et=>setTimeout(et,1e3)),I(["Consider adding more details about what you've tried","Specify which part you're struggling with","Adding an example would help others understand","Have you checked similar questions?"])}catch(et){console.error("Error getting AI suggestions:",et)}finally{z(!1)}}},lt=async(et,St)=>{Tt(!0);try{const Et=["This question seems to be about understanding the core concept rather than a specific calculation","A good approach would be to break down the problem into smaller steps","Consider explaining the fundamental principles involved","Visual aids or diagrams might help in explaining this concept"];await new Promise(Te=>setTimeout(Te,800)),G(Et[Math.floor(Math.random()*Et.length)])}catch(Et){console.error("Error getting AI hint:",Et),G("Couldn't generate a hint at this time. Please try again later.")}},gt=async et=>{if(et.preventDefault(),!(!U.trim()||!n))try{const St=d1(ee(be,"questions")),Et={id:St.key,title:U.trim(),subject:Q,userId:n.uid,userDisplayName:n.displayName||"Anonymous",createdAt:du(),answered:!1,engagementScore:0,answerCount:0,aiOptimized:k.length>0,views:0};await Rr(St,Et),await xi(ee(be,`users/${n.uid}/stats`),{questions:Yc(1)}),$(""),I([])}catch(St){console.error("Error submitting question:",St)}},P=async(et,St)=>{if(!(!n||!St.trim()))try{const Et=d1(ee(be,"answers")),Te={id:Et.key,questionId:et,content:St.trim(),userId:n.uid,userDisplayName:n.displayName||"Anonymous",createdAt:du(),upvotes:0};await Rr(Et,Te),await xi(ee(be,`questions/${et}`),{answerCount:Yc(1),answered:!0,lastAnsweredAt:du()});const Yt=Math.floor(Math.random()*20)+5;return await xi(ee(be,`users/${n.uid}/stats`),{answers:Yc(1),points:Yc(Yt),...Yt>15&&{bestAnswers:Yc(1)}}),Yt}catch(Et){return console.error("Error submitting answer:",Et),0}},it=i.filter(et=>(Q==="all"||et.subject===Q)&&et.title.toLowerCase().includes(R.toLowerCase())),ct=async()=>{try{await cO(xe),t("/login")}catch(et){console.error("Logout error:",et)}},rt=()=>y.jsxs("div",{className:"card",children:[y.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[y.jsx(T5,{className:"mr-2 text-primary"}),y.jsx("span",{children:"Community Stats"})]}),y.jsxs("div",{className:"stats-grid",children:[y.jsxs("div",{className:"stats-item",children:[y.jsx("div",{className:"text-sm font-medium mb-1",children:"Total Questions"}),y.jsx("div",{className:"text-2xl font-bold",children:O.totalQuestions})]}),y.jsxs("div",{className:"stats-item",children:[y.jsx("div",{className:"text-sm font-medium mb-1",children:"Total Answers"}),y.jsx("div",{className:"text-2xl font-bold",children:O.totalAnswers})]}),y.jsxs("div",{className:"stats-item",children:[y.jsx("div",{className:"text-sm font-medium mb-1",children:"Answer Rate"}),y.jsxs("div",{className:"text-2xl font-bold",children:[O.answerRate,"%"]})]})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-sm font-medium mb-2",children:"Topic Distribution"}),y.jsx("div",{className:"chart-container",children:y.jsx(p5,{data:{labels:Object.keys(O.subjectDistribution),datasets:[{data:Object.values(O.subjectDistribution),backgroundColor:["#06b6d4","#3b82f6","#8b5cf6","#ec4899","#f97316"],borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{color:e?"#fff":"#333"}}}}})})]})]}),dt=()=>y.jsxs("div",{className:"card",children:[y.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[y.jsx(uC,{className:"mr-2 text-primary"}),y.jsx("span",{children:"Top Contributors"})]}),y.jsx("div",{className:"space-y-3",children:E.map((et,St)=>y.jsx(Vt,{to:`/profile/${et.id}`,className:"block hover:opacity-80 transition-opacity",children:y.jsxs("div",{className:"expert-item",children:[y.jsxs("span",{className:"w-6 text-center mr-2 font-medium",children:[St+1,"."]}),y.jsx("div",{className:"expert-avatar",children:et.displayName?.charAt(0)||"E"}),y.jsxs("div",{className:"flex-1",children:[y.jsx("div",{className:"font-medium",children:et.displayName||"Expert"}),y.jsxs("div",{className:"text-sm text-secondary",children:[et.points||0," points"]})]}),y.jsx("div",{className:"expert-badge",children:y.jsx(Oy,{className:"text-yellow-500"})})]})},et.id))})]}),yt=()=>y.jsxs("div",{className:"card",children:[y.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[y.jsx(E5,{className:"mr-2 text-primary"}),y.jsx("span",{children:"Your Stats"})]}),y.jsxs("div",{className:"stats-grid",children:[y.jsxs("div",{className:"stats-item",children:[y.jsx("div",{className:"text-sm font-medium mb-1",children:"Points"}),y.jsx("div",{className:"text-2xl font-bold text-primary",children:b?.points||0}),y.jsx("div",{className:"text-xs text-secondary",children:"Earned through contributions"})]}),y.jsxs("div",{className:"stats-item",children:[y.jsx("div",{className:"text-sm font-medium mb-1",children:"Questions"}),y.jsx("div",{className:"text-2xl font-bold",children:b?.questions||0}),y.jsx("div",{className:"text-xs text-secondary",children:"Asked"})]}),y.jsxs("div",{className:"stats-item",children:[y.jsx("div",{className:"text-sm font-medium mb-1",children:"Answers"}),y.jsx("div",{className:"text-2xl font-bold",children:b?.answers||0}),y.jsx("div",{className:"text-xs text-secondary",children:"Provided"})]}),y.jsxs("div",{className:"stats-item",children:[y.jsx("div",{className:"text-sm font-medium mb-1",children:"Best Answers"}),y.jsx("div",{className:"text-2xl font-bold",children:b?.bestAnswers||0}),y.jsx("div",{className:"text-xs text-secondary",children:"High-quality solutions"})]})]}),b?.points&&y.jsxs("div",{className:"mt-4",children:[y.jsxs("div",{className:"flex items-center justify-between mb-1",children:[y.jsx("span",{className:"text-sm font-medium",children:"Your Contribution Level"}),y.jsx("span",{className:"text-xs text-primary",children:b.points>100?"Expert":b.points>50?"Advanced":b.points>20?"Intermediate":"Beginner"})]}),y.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:y.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${Math.min(100,b.points)}%`}})})]})]});return y.jsxs("div",{className:`home-container ${e?"dark":""}`,children:[y.jsxs("header",{className:"header",children:[y.jsxs("div",{className:"header-container",children:[y.jsxs(Vt,{to:"/",className:"logo",children:[y.jsx(H5,{className:"logo-icon"}),"StudiQ"]}),y.jsxs("div",{className:"search-bar desktop-only",children:[y.jsx(AS,{className:"search-icon"}),y.jsx("input",{type:"text",placeholder:"Search for questions...",className:"search-input",value:R,onChange:et=>M(et.target.value)})]}),y.jsx("nav",{className:"nav",children:n?y.jsxs("div",{className:"profile-dropdown",children:[y.jsxs("button",{onClick:()=>ot(!Z),className:"profile-button",children:[y.jsx("div",{className:"avatar",children:n.displayName?.charAt(0)||"U"}),y.jsx("span",{className:"display-name",children:n.displayName||"User"})]}),Z&&y.jsxs("div",{className:"dropdown-menu",children:[y.jsxs(Vt,{to:`/profile/${n.uid}`,className:"dropdown-item",children:[y.jsx(zr,{className:"dropdown-icon"})," Profile"]}),y.jsxs(Vt,{to:"/settings",className:"dropdown-item",children:[y.jsx(cC,{className:"dropdown-icon"})," Settings"]}),y.jsxs("button",{onClick:ct,className:"dropdown-item",children:[y.jsx(c_,{className:"dropdown-icon"})," Sign out"]})]})]}):y.jsxs(y.Fragment,{children:[y.jsx(Vt,{to:"/login",className:"login-link",children:"Log in"}),y.jsx(Vt,{to:"/signup",className:"signup-button",children:"Sign up"})]})})]}),y.jsx("div",{className:"mobile-search mobile-only",children:y.jsxs("div",{className:"search-bar",children:[y.jsx(AS,{className:"search-icon"}),y.jsx("input",{type:"text",placeholder:"Search for questions...",className:"search-input",value:R,onChange:et=>M(et.target.value)})]})})]}),y.jsx("main",{className:"container mx-auto px-4 py-8",children:y.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[y.jsxs("div",{className:"w-full md:w-1/4 space-y-6",children:[y.jsxs("div",{className:"card",children:[y.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[y.jsx(C5,{className:"mr-2 text-primary"}),y.jsx("span",{children:"Topics"})]}),y.jsxs("ul",{className:"space-y-2",children:[y.jsx("li",{children:y.jsx("button",{onClick:()=>tt("all"),className:`subject-item ${Q==="all"?"active":""}`,children:"All Topics"})}),["Mathematics","Science","History","Literature","Technology","Arts","Languages"].map(et=>y.jsx("li",{children:y.jsx("button",{onClick:()=>tt(et),className:`subject-item ${Q===et?"active":""}`,children:et})},et))]})]}),n&&y.jsxs(y.Fragment,{children:[yt(),h.length>0&&y.jsxs("div",{className:"card",children:[y.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[y.jsx(o_,{className:"mr-2 text-primary"}),y.jsx("span",{children:"Recently Viewed"})]}),y.jsx("div",{className:"space-y-3",children:h.slice(0,3).map(et=>y.jsx(Vt,{to:`/question/${et.id}`,className:"question-link text-sm",children:et.title},et.id))})]}),g.length>0&&y.jsxs("div",{className:"card",children:[y.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[y.jsx(Bf,{className:"mr-2 text-primary"}),y.jsx("span",{children:"Your Bookmarks"})]}),y.jsx("div",{className:"space-y-3",children:g.slice(0,3).map(et=>y.jsx(Vt,{to:`/question/${et.id}`,className:"question-link text-sm",children:et.title},et.id))})]})]})]}),y.jsxs("div",{className:"w-full md:w-2/4 space-y-6",children:[n&&y.jsxs("div",{className:"card",children:[y.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[y.jsx(Hf,{className:"mr-2 text-primary"}),y.jsx("span",{children:"Ask your question"})]}),y.jsxs("form",{onSubmit:gt,children:[y.jsx("textarea",{placeholder:"What concept or problem are you trying to understand? Be as specific as possible...",className:"input question-form",rows:4,value:U,onChange:et=>$(et.target.value),onBlur:V,required:!0}),k.length>0&&y.jsxs("div",{className:"ai-suggestions",children:[y.jsxs("div",{className:"flex items-center mb-2",children:[y.jsx(tf,{className:"mr-2 text-blue-500"}),y.jsx("span",{className:"text-sm font-medium",children:"AI Suggestions to Improve Your Question"})]}),y.jsx("ul",{className:"space-y-2",children:k.map((et,St)=>y.jsxs("li",{className:"text-sm text-secondary",children:[" ",et]},St))})]}),L&&y.jsxs("div",{className:"text-sm text-secondary flex items-center",children:[y.jsx(tf,{className:"mr-2 animate-pulse"}),"Analyzing your question for improvements..."]}),y.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[y.jsxs("select",{value:Q,onChange:et=>tt(et.target.value),className:"input py-1 px-3 text-sm",children:[y.jsx("option",{value:"all",children:"All Subjects"}),y.jsx("option",{value:"Mathematics",children:"Mathematics"}),y.jsx("option",{value:"Science",children:"Science"}),y.jsx("option",{value:"History",children:"History"}),y.jsx("option",{value:"Literature",children:"Literature"}),y.jsx("option",{value:"Technology",children:"Technology"}),y.jsx("option",{value:"Arts",children:"Arts"}),y.jsx("option",{value:"Languages",children:"Languages"})]}),y.jsx("button",{type:"submit",className:"btn-primary px-4 py-2",children:"Post Question"})]})]})]}),y.jsxs("div",{className:"card",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[y.jsx(z5,{className:"mr-2 text-primary"}),"Trending Questions"]}),y.jsx(Vt,{to:"/trending",className:"text-sm text-primary hover:underline",children:"View all"})]}),y.jsx("div",{className:"space-y-4",children:o.map(et=>y.jsx(NS,{question:et,darkMode:e,currentUser:n,onAnswerSubmit:P,onRequestAiHelp:lt},et.id))})]}),y.jsxs("div",{className:"card",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsx("h2",{className:"text-xl font-semibold",children:"Recent Questions"}),y.jsx(Vt,{to:"/questions",className:"text-sm text-primary hover:underline",children:"View all"})]}),y.jsx("div",{className:"space-y-4",children:it.slice(0,5).map(et=>y.jsx(NS,{question:et,darkMode:e,currentUser:n,onAnswerSubmit:P,onRequestAiHelp:lt},et.id))})]})]}),y.jsxs("div",{className:"w-full md:w-1/4 space-y-6",children:[dt(),rt(),y.jsxs("div",{className:"card",children:[y.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[y.jsx(L5,{className:"mr-2 text-primary"}),y.jsx("span",{children:"Featured Questions"})]}),y.jsx("div",{className:"space-y-3",children:i.filter(et=>et.featured).slice(0,3).map(et=>y.jsx(Vt,{to:`/question/${et.id}`,className:"question-link text-sm",children:et.title},et.id))})]}),D&&y.jsxs("div",{className:"card bg-blue-50 border-blue-200",children:[y.jsxs("div",{className:"flex justify-between items-center mb-3",children:[y.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[y.jsx(tf,{className:"mr-2 text-blue-600"}),y.jsx("span",{children:"AI Answer Assistant"})]}),y.jsx("button",{onClick:()=>Tt(!1),className:"text-blue-600 hover:text-blue-800",children:""})]}),y.jsxs("div",{className:"text-sm text-blue-800",children:[y.jsx("p",{className:"mb-2",children:"Here's a hint to help you craft a great answer:"}),y.jsx("div",{className:"bg-white p-3 rounded-lg border border-blue-200",children:mt}),y.jsx("p",{className:"mt-3 text-xs",children:"Remember: High-quality answers earn more points! Focus on clarity and depth."})]})]})]})]})})]})}function V5(){const[n,t]=B.useState(""),[e,i]=B.useState(""),[r,o]=B.useState(""),[c,h]=B.useState(!1),d=Fs(),g=async b=>{b.preventDefault(),h(!0),o("");try{await sO(xe,n,e),d("/")}catch(x){o(x.message)}finally{h(!1)}},_=async()=>{try{h(!0),await QE(xe,pT),d("/")}catch(b){o(b.message)}finally{h(!1)}};return y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center p-4",children:y.jsxs("div",{className:"max-w-md w-full p-8 rounded-xl bg-white shadow-lg",children:[y.jsxs("div",{className:"flex items-center mb-8",children:[y.jsx(Vt,{to:"/",className:"mr-4 text-gray-500 hover:text-teal-500",children:y.jsx(Nl,{className:"w-5 h-5"})}),y.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-teal-400 to-blue-500 bg-clip-text text-transparent",children:"Welcome Back"})]}),r&&y.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-lg text-sm",children:r}),y.jsxs("form",{onSubmit:g,className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:y.jsx(u_,{className:"h-5 w-5 text-gray-400"})}),y.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:b=>t(b.target.value),className:"bg-white border border-gray-300 focus:ring-teal-500 focus:border-teal-500 block w-full pl-10 pr-3 py-2 rounded-lg",placeholder:"your@email.com"})]})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:y.jsx(l_,{className:"h-5 w-5 text-gray-400"})}),y.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:e,onChange:b=>i(b.target.value),className:"bg-white border border-gray-300 focus:ring-teal-500 focus:border-teal-500 block w-full pl-10 pr-3 py-2 rounded-lg",placeholder:""})]})]}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-teal-600 focus:ring-teal-500 border-gray-300 rounded"}),y.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),y.jsx("div",{className:"text-sm",children:y.jsx(Vt,{to:"/forgot-password",className:"font-medium text-teal-600 hover:text-teal-500",children:"Forgot password?"})})]}),y.jsx("div",{children:y.jsx("button",{type:"submit",disabled:c,className:`w-full flex justify-center items-center py-2 px-4 border border-transparent rounded-lg shadow-sm text-white bg-teal-600 hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 ${c?"opacity-70 cursor-not-allowed":""}`,children:c?y.jsxs(y.Fragment,{children:[y.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):y.jsxs(y.Fragment,{children:[y.jsx(I5,{className:"w-5 h-5 mr-2"}),"Sign In"]})})})]}),y.jsxs("div",{className:"mt-6",children:[y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-0 flex items-center",children:y.jsx("div",{className:"w-full border-t border-gray-300"})}),y.jsx("div",{className:"relative flex justify-center text-sm",children:y.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),y.jsx("div",{className:"mt-6",children:y.jsxs("button",{onClick:_,disabled:c,className:"w-full flex justify-center items-center py-2 px-4 border border-gray-300 rounded-lg shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500",children:[y.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg",alt:"Google logo",className:"h-5 w-5 mr-2"}),"Google"]})})]}),y.jsxs("div",{className:"mt-6 text-center text-sm",children:[y.jsx("span",{className:"text-gray-600",children:"Don't have an account? "}),y.jsx(Vt,{to:"/signup",className:"font-medium text-teal-600 hover:text-teal-500",children:"Sign up"})]})]})})}function q5(){const[n,t]=B.useState(""),[e,i]=B.useState(""),[r,o]=B.useState(""),[c,h]=B.useState(""),[d,g]=B.useState(""),[_,b]=B.useState(!1),[x,E]=B.useState(!1),[N,R]=B.useState(!1),M=Fs(),U=T=>{switch(T){case"auth/email-already-in-use":return"This email is already registered. Try logging in instead.";case"auth/weak-password":return"Password should be at least 6 characters with a mix of letters and numbers.";case"auth/invalid-email":return"Please enter a valid email address.";case"auth/operation-not-allowed":return"Email/password accounts are not enabled.";case"auth/network-request-failed":return"Network error. Please check your internet connection.";default:return"An error occurred during signup. Please try again."}},$=()=>{const T={};return n.trim()||(T.name="Name is required"),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)||(T.email="Invalid email format"),r.length<6&&(T.password="Password must be at least 6 characters"),/[A-Z]/.test(r)||(T.password="Include at least one uppercase letter"),/[0-9]/.test(r)||(T.password="Include at least one number"),N||(T.terms="You must accept the terms and conditions"),T},Q=async T=>{T.preventDefault(),b(!0),h(""),g("");const k=$();if(Object.keys(k).length>0){h(k[Object.keys(k)[0]]),b(!1);return}try{const I=await iO(xe,e,r);await UE(I.user,{displayName:n}),await Rr(ee(g1,"users/"+I.user.uid),{name:n,email:e,createdAt:new Date().toISOString(),emailVerified:!1,lastLogin:new Date().toISOString(),profileComplete:!1,uid:I.user.uid}),await rO(I.user),g(`Verification email sent to ${e}. Please check your inbox.`),M("/verify-email")}catch(I){h(U(I.code))}finally{b(!1)}},tt=async()=>{try{b(!0),h("");const T=await QE(xe,pT);await Rr(ee(g1,"users/"+T.user.uid),{name:T.user.displayName,email:T.user.email,createdAt:new Date().toISOString(),emailVerified:T.user.emailVerified,lastLogin:new Date().toISOString(),profileComplete:!1,photoURL:T.user.photoURL,provider:"google",uid:T.user.uid}),M("/profile-setup")}catch(T){h(U(T.code))}finally{b(!1)}},ot=(T=>{if(!T)return 0;let k=0;return T.length>=6&&(k+=25),/[A-Z]/.test(T)&&(k+=25),/[0-9]/.test(T)&&(k+=25),/[^A-Za-z0-9]/.test(T)&&(k+=25),k})(r),O=()=>ot<50?"bg-red-500":ot<75?"bg-yellow-500":"bg-green-500";return y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center p-4",children:y.jsxs("div",{className:"max-w-md w-full p-8 rounded-xl bg-white shadow-lg",children:[y.jsxs("div",{className:"flex items-center mb-8",children:[y.jsx(Vt,{to:"/",className:"mr-4 text-gray-500 hover:text-teal-500",children:y.jsx(Nl,{className:"w-5 h-5"})}),y.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-teal-400 to-blue-500 bg-clip-text text-transparent",children:"Create Account"})]}),c&&y.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-lg text-sm",children:c}),d&&y.jsx("div",{className:"mb-4 p-3 bg-green-100 text-green-700 rounded-lg text-sm",children:d}),y.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:y.jsx(zr,{className:"h-5 w-5 text-gray-400"})}),y.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,value:n,onChange:T=>t(T.target.value),className:"bg-white border border-gray-300 focus:ring-teal-500 focus:border-teal-500 block w-full pl-10 pr-3 py-2 rounded-lg",placeholder:"Your Name"})]})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:y.jsx(u_,{className:"h-5 w-5 text-gray-400"})}),y.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:T=>i(T.target.value),className:"bg-white border border-gray-300 focus:ring-teal-500 focus:border-teal-500 block w-full pl-10 pr-3 py-2 rounded-lg",placeholder:"your@email.com"})]})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:y.jsx(l_,{className:"h-5 w-5 text-gray-400"})}),y.jsx("input",{id:"password",name:"password",type:x?"text":"password",autoComplete:"new-password",required:!0,minLength:6,value:r,onChange:T=>o(T.target.value),className:"bg-white border border-gray-300 focus:ring-teal-500 focus:border-teal-500 block w-full pl-10 pr-10 py-2 rounded-lg",placeholder:""}),y.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>E(!x),"aria-label":x?"Hide password":"Show password",children:x?y.jsx(O5,{className:"h-5 w-5 text-gray-400"}):y.jsx(aC,{className:"h-5 w-5 text-gray-400"})})]}),y.jsx("div",{className:"mt-1 h-1 w-full bg-gray-200 rounded-full overflow-hidden",children:y.jsx("div",{className:`h-full ${O()}`,style:{width:`${ot}%`}})}),y.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Strong password includes uppercase, numbers, and special characters"})]}),y.jsxs("div",{className:"flex items-start",children:[y.jsx("div",{className:"flex items-center h-5",children:y.jsx("input",{id:"terms",name:"terms",type:"checkbox",checked:N,onChange:T=>R(T.target.checked),className:"focus:ring-teal-500 h-4 w-4 text-teal-600 border-gray-300 rounded"})}),y.jsx("div",{className:"ml-3 text-sm",children:y.jsxs("label",{htmlFor:"terms",className:"font-medium text-gray-700",children:["I accept the"," ",y.jsx(Vt,{to:"/terms",className:"text-teal-600 hover:text-teal-500",children:"Terms and Conditions"})]})})]}),y.jsx("div",{children:y.jsx("button",{type:"submit",disabled:_,className:`w-full flex justify-center items-center py-2 px-4 border border-transparent rounded-lg shadow-sm text-white bg-teal-600 hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 ${_?"opacity-70 cursor-not-allowed":""}`,children:_?y.jsxs(y.Fragment,{children:[y.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating account..."]}):"Sign Up"})})]}),y.jsxs("div",{className:"mt-6",children:[y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-0 flex items-center",children:y.jsx("div",{className:"w-full border-t border-gray-300"})}),y.jsx("div",{className:"relative flex justify-center text-sm",children:y.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or sign up with"})})]}),y.jsx("div",{className:"mt-6 grid grid-cols-1 gap-3",children:y.jsxs("button",{onClick:tt,disabled:_,className:"w-full flex justify-center items-center py-2 px-4 border border-gray-300 rounded-lg shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500",children:[y.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg",alt:"Google logo",className:"h-5 w-5 mr-2"}),"Continue with Google"]})})]}),y.jsxs("div",{className:"mt-6 text-center text-sm",children:[y.jsx("span",{className:"text-gray-600",children:"Already have an account? "}),y.jsx(Vt,{to:"/login",className:"font-medium text-teal-600 hover:text-teal-500",children:"Log in"})]})]})})}function W5(){const[n]=hg(xe),t=Fs(),{darkMode:e,setDarkMode:i}=Wf(),[r,o]=B.useState(null),[c,h]=B.useState({displayName:"",email:"",currentPassword:"",newPassword:"",confirmPassword:"",language:"en",notifications:!0}),[d,g]=B.useState({}),[_,b]=B.useState(""),[x,E]=B.useState(!1),[N,R]=B.useState({length:!1,uppercase:!1,number:!1,specialChar:!1});B.useEffect(()=>{if(n){const tt=ee(be,`users/${n.uid}`);gi(tt,Z=>{const ot=Z.val();o(ot),h(O=>({...O,displayName:ot?.displayName||n.displayName||"",email:n.email||"",language:ot?.language||"en",notifications:ot?.notifications??!0}))})}},[n]),B.useEffect(()=>{c.newPassword&&R({length:c.newPassword.length>=8,uppercase:/[A-Z]/.test(c.newPassword),number:/\d/.test(c.newPassword),specialChar:/[!@#$%^&*(),.?":{}|<>]/.test(c.newPassword)})},[c.newPassword]);const M=tt=>{const{name:Z,value:ot,type:O,checked:T}=tt.target;h(k=>({...k,[Z]:O==="checkbox"?T:ot}))},U=async tt=>{tt.preventDefault(),E(!0),g({}),b("");try{if(c.newPassword&&c.newPassword!==c.confirmPassword)throw new Error("New passwords do not match");const Z={};c.displayName!==(r?.displayName||n.displayName)&&(Z.displayName=c.displayName,await UE(xe.currentUser,{displayName:c.displayName})),Z.language=c.language,Z.notifications=c.notifications,Z.darkMode=e,await xi(ee(be,`users/${n.uid}`),Z),b("Settings updated successfully!")}catch(Z){console.error("Update error:",Z),g({general:Z.message||"Failed to update settings"})}finally{E(!1)}},$=()=>{const tt=!e;i(tt),n&&xi(ee(be,`users/${n.uid}`),{darkMode:tt})},Q=async()=>{try{await xe.signOut(),t("/login")}catch(tt){console.error("Logout error:",tt)}};return n?y.jsxs("div",{className:`min-h-screen transition-colors duration-300 ${e?"dark bg-gray-900":"bg-gray-50"}`,children:[y.jsx("header",{className:`sticky top-0 z-10 backdrop-blur-md ${e?"bg-black/80":"bg-white/80"} shadow-sm`,children:y.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[y.jsxs(Vt,{to:`/profile/${n.uid}`,className:"flex items-center text-teal-600 hover:text-teal-700 dark:text-teal-400 dark:hover:text-teal-300",children:[y.jsx(Nl,{className:"mr-1"})," Back to Profile"]}),y.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-teal-400 to-teal-600 bg-clip-text text-transparent",children:"Account Settings"}),y.jsx("div",{})," "]})}),y.jsx("main",{className:"container mx-auto px-4 py-8",children:y.jsx("div",{className:"max-w-2xl mx-auto",children:y.jsx("div",{className:`p-6 rounded-xl shadow-lg mb-8 backdrop-blur-sm ${e?"bg-gray-800/70 border border-gray-700":"bg-white/80 border border-gray-200"}`,children:y.jsxs("form",{onSubmit:U,children:[d.general&&y.jsx("div",{className:`mb-4 p-3 rounded-lg ${e?"bg-red-900/50 text-red-200":"bg-red-100 text-red-800"}`,children:d.general}),_&&y.jsx("div",{className:`mb-4 p-3 rounded-lg ${e?"bg-teal-900/50 text-teal-200":"bg-teal-100 text-teal-800"}`,children:_}),y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{children:[y.jsxs("h2",{className:`text-lg font-semibold mb-4 flex items-center ${e?"text-gray-200":"text-gray-800"}`,children:[y.jsx(zr,{className:"mr-2 text-teal-500"}),"Profile Information"]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"displayName",className:`block text-sm font-medium mb-1 ${e?"text-gray-300":"text-gray-700"}`,children:"Display Name"}),y.jsx("input",{type:"text",id:"displayName",name:"displayName",value:c.displayName,onChange:M,className:`w-full p-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent ${e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"email",className:`block text-sm font-medium mb-1 ${e?"text-gray-300":"text-gray-700"}`,children:"Email Address"}),y.jsx("input",{type:"email",id:"email",name:"email",value:c.email,onChange:M,disabled:!0,className:`w-full p-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent ${e?"bg-gray-700/50 border-gray-600 text-gray-400":"bg-gray-100 border-gray-300 text-gray-600"}`}),y.jsx("p",{className:`mt-1 text-xs ${e?"text-gray-400":"text-gray-500"}`,children:"Contact support to change your email address"})]})]})]}),y.jsxs("div",{children:[y.jsxs("h2",{className:`text-lg font-semibold mb-4 flex items-center ${e?"text-gray-200":"text-gray-800"}`,children:[y.jsx(l_,{className:"mr-2 text-teal-500"}),"Security"]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"currentPassword",className:`block text-sm font-medium mb-1 ${e?"text-gray-300":"text-gray-700"}`,children:"Current Password"}),y.jsx("input",{type:"password",id:"currentPassword",name:"currentPassword",value:c.currentPassword,onChange:M,className:`w-full p-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent ${e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,placeholder:"Required for password changes"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"newPassword",className:`block text-sm font-medium mb-1 ${e?"text-gray-300":"text-gray-700"}`,children:"New Password"}),y.jsx("input",{type:"password",id:"newPassword",name:"newPassword",value:c.newPassword,onChange:M,className:`w-full p-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent ${e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,placeholder:"Leave blank to keep current password"})]}),c.newPassword&&y.jsxs("div",{className:`p-3 rounded-lg ${e?"bg-gray-700/50":"bg-gray-100"}`,children:[y.jsx("h4",{className:`text-sm font-medium mb-2 ${e?"text-gray-300":"text-gray-700"}`,children:"Password Requirements:"}),y.jsxs("ul",{className:"space-y-1 text-sm",children:[y.jsxs("li",{className:`flex items-center ${N.length?"text-green-500":e?"text-gray-400":"text-gray-600"}`,children:[N.length?y.jsx(tu,{className:"mr-1"}):y.jsx(eu,{className:"mr-1"}),"At least 8 characters"]}),y.jsxs("li",{className:`flex items-center ${N.uppercase?"text-green-500":e?"text-gray-400":"text-gray-600"}`,children:[N.uppercase?y.jsx(tu,{className:"mr-1"}):y.jsx(eu,{className:"mr-1"}),"At least one uppercase letter"]}),y.jsxs("li",{className:`flex items-center ${N.number?"text-green-500":e?"text-gray-400":"text-gray-600"}`,children:[N.number?y.jsx(tu,{className:"mr-1"}):y.jsx(eu,{className:"mr-1"}),"At least one number"]}),y.jsxs("li",{className:`flex items-center ${N.specialChar?"text-green-500":e?"text-gray-400":"text-gray-600"}`,children:[N.specialChar?y.jsx(tu,{className:"mr-1"}):y.jsx(eu,{className:"mr-1"}),"At least one special character"]})]})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"confirmPassword",className:`block text-sm font-medium mb-1 ${e?"text-gray-300":"text-gray-700"}`,children:"Confirm New Password"}),y.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:c.confirmPassword,onChange:M,className:`w-full p-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent ${e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,placeholder:"Confirm your new password"})]})]})]}),y.jsxs("div",{children:[y.jsxs("h2",{className:`text-lg font-semibold mb-4 flex items-center ${e?"text-gray-200":"text-gray-800"}`,children:[y.jsx(oC,{className:"mr-2 text-teal-500"}),"Preferences"]}),y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("h3",{className:`font-medium ${e?"text-gray-200":"text-gray-800"}`,children:"Theme"}),y.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:e?"Dark mode":"Light mode"})]}),y.jsx("button",{type:"button",onClick:$,className:`p-2 rounded-full ${e?"bg-gray-700 text-teal-400":"bg-gray-200 text-gray-700"}`,"aria-label":"Toggle dark mode",children:e?y.jsx(P5,{className:"w-5 h-5"}):y.jsx(j5,{className:"w-5 h-5"})})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"language",className:`block text-sm font-medium mb-1 ${e?"text-gray-300":"text-gray-700"}`,children:"Language"}),y.jsxs("select",{id:"language",name:"language",value:c.language,onChange:M,className:`w-full p-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent ${e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,children:[y.jsx("option",{value:"en",children:"English"}),y.jsx("option",{value:"hi",children:" (Hindi)"}),y.jsx("option",{value:"ta",children:" (Tamil)"}),y.jsx("option",{value:"te",children:" (Telugu)"}),y.jsx("option",{value:"bn",children:" (Bengali)"}),y.jsx("option",{value:"mr",children:" (Marathi)"})]})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("input",{type:"checkbox",id:"notifications",name:"notifications",checked:c.notifications,onChange:M,className:`h-4 w-4 rounded focus:ring-teal-500 ${e?"bg-gray-700 border-gray-600":"bg-white border-gray-300"}`}),y.jsx("label",{htmlFor:"notifications",className:`ml-2 block text-sm ${e?"text-gray-300":"text-gray-700"}`,children:"Email Notifications"})]})]})]}),y.jsxs("div",{className:"pt-4 flex flex-col sm:flex-row justify-between gap-4",children:[y.jsxs("button",{type:"submit",disabled:x,className:`flex-1 py-3 px-4 rounded-lg font-medium text-white bg-gradient-to-r from-teal-500 to-teal-600 hover:from-teal-600 hover:to-teal-700 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 flex items-center justify-center ${e?"focus:ring-offset-gray-800":"focus:ring-offset-white"}`,children:[y.jsx(lC,{className:"mr-2"}),x?"Saving...":"Save Changes"]}),y.jsxs("button",{type:"button",onClick:Q,className:`flex-1 py-3 px-4 rounded-lg font-medium flex items-center justify-center ${e?"bg-red-600/90 text-white hover:bg-red-700 border border-red-700":"bg-red-500 text-white hover:bg-red-600 border border-red-600"}`,children:[y.jsx(c_,{className:"mr-2"}),"Sign Out"]})]})]})]})})})})]}):y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:y.jsxs("div",{className:"text-center p-8 rounded-xl bg-white/80 dark:bg-gray-800/70 backdrop-blur-sm shadow-lg border border-gray-200 dark:border-gray-700",children:[y.jsx("h2",{className:"text-2xl font-bold mb-4 dark:text-gray-200",children:"Please sign in to access settings"}),y.jsx(Vt,{to:"/login",className:"text-teal-600 hover:text-teal-700 dark:text-teal-400 dark:hover:text-teal-300 font-medium",children:"Go to login page"})]})})}function Y5(){return y.jsxs("div",{className:"text-center p-10",children:[y.jsx("h1",{className:"text-4xl font-bold text-red-600",children:"404 - Page Not Found"}),y.jsx("p",{className:"text-gray-600 mt-4",children:"Oops! The page you're looking for doesn't exist."})]})}const hC=6048e5,G5=864e5,kS=Symbol.for("constructDateFrom");function Br(n,t){return typeof n=="function"?n(t):n&&typeof n=="object"&&kS in n?n[kS](t):n instanceof Date?new n.constructor(t):new Date(t)}function Si(n,t){return Br(t||n,n)}let $5={};function pg(){return $5}function Iu(n,t){const e=pg(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??e.weekStartsOn??e.locale?.options?.weekStartsOn??0,r=Si(n,t?.in),o=r.getDay(),c=(o<i?7:0)+o-i;return r.setDate(r.getDate()-c),r.setHours(0,0,0,0),r}function Ff(n,t){return Iu(n,{...t,weekStartsOn:1})}function dC(n,t){const e=Si(n,t?.in),i=e.getFullYear(),r=Br(e,0);r.setFullYear(i+1,0,4),r.setHours(0,0,0,0);const o=Ff(r),c=Br(e,0);c.setFullYear(i,0,4),c.setHours(0,0,0,0);const h=Ff(c);return e.getTime()>=o.getTime()?i+1:e.getTime()>=h.getTime()?i:i-1}function RS(n){const t=Si(n),e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+n-+e}function X5(n,...t){const e=Br.bind(null,t.find(i=>typeof i=="object"));return t.map(e)}function MS(n,t){const e=Si(n,t?.in);return e.setHours(0,0,0,0),e}function Q5(n,t,e){const[i,r]=X5(e?.in,n,t),o=MS(i),c=MS(r),h=+o-RS(o),d=+c-RS(c);return Math.round((h-d)/G5)}function K5(n,t){const e=dC(n,t),i=Br(n,0);return i.setFullYear(e,0,4),i.setHours(0,0,0,0),Ff(i)}function Z5(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function J5(n){return!(!Z5(n)&&typeof n!="number"||isNaN(+Si(n)))}function t9(n,t){const e=Si(n,t?.in);return e.setFullYear(e.getFullYear(),0,1),e.setHours(0,0,0,0),e}const e9={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},n9=(n,t,e)=>{let i;const r=e9[n];return typeof r=="string"?i=r:t===1?i=r.one:i=r.other.replace("{{count}}",t.toString()),e?.addSuffix?e.comparison&&e.comparison>0?"in "+i:i+" ago":i};function Zp(n){return(t={})=>{const e=t.width?String(t.width):n.defaultWidth;return n.formats[e]||n.formats[n.defaultWidth]}}const i9={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},s9={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},r9={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},a9={date:Zp({formats:i9,defaultWidth:"full"}),time:Zp({formats:s9,defaultWidth:"full"}),dateTime:Zp({formats:r9,defaultWidth:"full"})},o9={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},l9=(n,t,e,i)=>o9[n];function Gc(n){return(t,e)=>{const i=e?.context?String(e.context):"standalone";let r;if(i==="formatting"&&n.formattingValues){const c=n.defaultFormattingWidth||n.defaultWidth,h=e?.width?String(e.width):c;r=n.formattingValues[h]||n.formattingValues[c]}else{const c=n.defaultWidth,h=e?.width?String(e.width):n.defaultWidth;r=n.values[h]||n.values[c]}const o=n.argumentCallback?n.argumentCallback(t):t;return r[o]}}const c9={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},u9={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},h9={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},d9={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},f9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},g9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},m9=(n,t)=>{const e=Number(n),i=e%100;if(i>20||i<10)switch(i%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},p9={ordinalNumber:m9,era:Gc({values:c9,defaultWidth:"wide"}),quarter:Gc({values:u9,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Gc({values:h9,defaultWidth:"wide"}),day:Gc({values:d9,defaultWidth:"wide"}),dayPeriod:Gc({values:f9,defaultWidth:"wide",formattingValues:g9,defaultFormattingWidth:"wide"})};function $c(n){return(t,e={})=>{const i=e.width,r=i&&n.matchPatterns[i]||n.matchPatterns[n.defaultMatchWidth],o=t.match(r);if(!o)return null;const c=o[0],h=i&&n.parsePatterns[i]||n.parsePatterns[n.defaultParseWidth],d=Array.isArray(h)?_9(h,b=>b.test(c)):y9(h,b=>b.test(c));let g;g=n.valueCallback?n.valueCallback(d):d,g=e.valueCallback?e.valueCallback(g):g;const _=t.slice(c.length);return{value:g,rest:_}}}function y9(n,t){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&t(n[e]))return e}function _9(n,t){for(let e=0;e<n.length;e++)if(t(n[e]))return e}function v9(n){return(t,e={})=>{const i=t.match(n.matchPattern);if(!i)return null;const r=i[0],o=t.match(n.parsePattern);if(!o)return null;let c=n.valueCallback?n.valueCallback(o[0]):o[0];c=e.valueCallback?e.valueCallback(c):c;const h=t.slice(r.length);return{value:c,rest:h}}}const b9=/^(\d+)(th|st|nd|rd)?/i,x9=/\d+/i,w9={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},S9={any:[/^b/i,/^(a|c)/i]},E9={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},T9={any:[/1/i,/2/i,/3/i,/4/i]},C9={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},A9={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},N9={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},k9={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},R9={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},M9={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},O9={ordinalNumber:v9({matchPattern:b9,parsePattern:x9,valueCallback:n=>parseInt(n,10)}),era:$c({matchPatterns:w9,defaultMatchWidth:"wide",parsePatterns:S9,defaultParseWidth:"any"}),quarter:$c({matchPatterns:E9,defaultMatchWidth:"wide",parsePatterns:T9,defaultParseWidth:"any",valueCallback:n=>n+1}),month:$c({matchPatterns:C9,defaultMatchWidth:"wide",parsePatterns:A9,defaultParseWidth:"any"}),day:$c({matchPatterns:N9,defaultMatchWidth:"wide",parsePatterns:k9,defaultParseWidth:"any"}),dayPeriod:$c({matchPatterns:R9,defaultMatchWidth:"any",parsePatterns:M9,defaultParseWidth:"any"})},D9={code:"en-US",formatDistance:n9,formatLong:a9,formatRelative:l9,localize:p9,match:O9,options:{weekStartsOn:0,firstWeekContainsDate:1}};function I9(n,t){const e=Si(n,t?.in);return Q5(e,t9(e))+1}function j9(n,t){const e=Si(n,t?.in),i=+Ff(e)-+K5(e);return Math.round(i/hC)+1}function fC(n,t){const e=Si(n,t?.in),i=e.getFullYear(),r=pg(),o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,c=Br(t?.in||n,0);c.setFullYear(i+1,0,o),c.setHours(0,0,0,0);const h=Iu(c,t),d=Br(t?.in||n,0);d.setFullYear(i,0,o),d.setHours(0,0,0,0);const g=Iu(d,t);return+e>=+h?i+1:+e>=+g?i:i-1}function L9(n,t){const e=pg(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??e.firstWeekContainsDate??e.locale?.options?.firstWeekContainsDate??1,r=fC(n,t),o=Br(t?.in||n,0);return o.setFullYear(r,0,i),o.setHours(0,0,0,0),Iu(o,t)}function P9(n,t){const e=Si(n,t?.in),i=+Iu(e,t)-+L9(e,t);return Math.round(i/hC)+1}function te(n,t){const e=n<0?"-":"",i=Math.abs(n).toString().padStart(t,"0");return e+i}const br={y(n,t){const e=n.getFullYear(),i=e>0?e:1-e;return te(t==="yy"?i%100:i,t.length)},M(n,t){const e=n.getMonth();return t==="M"?String(e+1):te(e+1,2)},d(n,t){return te(n.getDate(),t.length)},a(n,t){const e=n.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];case"aaaa":default:return e==="am"?"a.m.":"p.m."}},h(n,t){return te(n.getHours()%12||12,t.length)},H(n,t){return te(n.getHours(),t.length)},m(n,t){return te(n.getMinutes(),t.length)},s(n,t){return te(n.getSeconds(),t.length)},S(n,t){const e=t.length,i=n.getMilliseconds(),r=Math.trunc(i*Math.pow(10,e-3));return te(r,t.length)}},Zo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},OS={G:function(n,t,e){const i=n.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return e.era(i,{width:"abbreviated"});case"GGGGG":return e.era(i,{width:"narrow"});case"GGGG":default:return e.era(i,{width:"wide"})}},y:function(n,t,e){if(t==="yo"){const i=n.getFullYear(),r=i>0?i:1-i;return e.ordinalNumber(r,{unit:"year"})}return br.y(n,t)},Y:function(n,t,e,i){const r=fC(n,i),o=r>0?r:1-r;if(t==="YY"){const c=o%100;return te(c,2)}return t==="Yo"?e.ordinalNumber(o,{unit:"year"}):te(o,t.length)},R:function(n,t){const e=dC(n);return te(e,t.length)},u:function(n,t){const e=n.getFullYear();return te(e,t.length)},Q:function(n,t,e){const i=Math.ceil((n.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return te(i,2);case"Qo":return e.ordinalNumber(i,{unit:"quarter"});case"QQQ":return e.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return e.quarter(i,{width:"wide",context:"formatting"})}},q:function(n,t,e){const i=Math.ceil((n.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return te(i,2);case"qo":return e.ordinalNumber(i,{unit:"quarter"});case"qqq":return e.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return e.quarter(i,{width:"wide",context:"standalone"})}},M:function(n,t,e){const i=n.getMonth();switch(t){case"M":case"MM":return br.M(n,t);case"Mo":return e.ordinalNumber(i+1,{unit:"month"});case"MMM":return e.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return e.month(i,{width:"wide",context:"formatting"})}},L:function(n,t,e){const i=n.getMonth();switch(t){case"L":return String(i+1);case"LL":return te(i+1,2);case"Lo":return e.ordinalNumber(i+1,{unit:"month"});case"LLL":return e.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return e.month(i,{width:"wide",context:"standalone"})}},w:function(n,t,e,i){const r=P9(n,i);return t==="wo"?e.ordinalNumber(r,{unit:"week"}):te(r,t.length)},I:function(n,t,e){const i=j9(n);return t==="Io"?e.ordinalNumber(i,{unit:"week"}):te(i,t.length)},d:function(n,t,e){return t==="do"?e.ordinalNumber(n.getDate(),{unit:"date"}):br.d(n,t)},D:function(n,t,e){const i=I9(n);return t==="Do"?e.ordinalNumber(i,{unit:"dayOfYear"}):te(i,t.length)},E:function(n,t,e){const i=n.getDay();switch(t){case"E":case"EE":case"EEE":return e.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(i,{width:"short",context:"formatting"});case"EEEE":default:return e.day(i,{width:"wide",context:"formatting"})}},e:function(n,t,e,i){const r=n.getDay(),o=(r-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return te(o,2);case"eo":return e.ordinalNumber(o,{unit:"day"});case"eee":return e.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(r,{width:"short",context:"formatting"});case"eeee":default:return e.day(r,{width:"wide",context:"formatting"})}},c:function(n,t,e,i){const r=n.getDay(),o=(r-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return te(o,t.length);case"co":return e.ordinalNumber(o,{unit:"day"});case"ccc":return e.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(r,{width:"narrow",context:"standalone"});case"cccccc":return e.day(r,{width:"short",context:"standalone"});case"cccc":default:return e.day(r,{width:"wide",context:"standalone"})}},i:function(n,t,e){const i=n.getDay(),r=i===0?7:i;switch(t){case"i":return String(r);case"ii":return te(r,t.length);case"io":return e.ordinalNumber(r,{unit:"day"});case"iii":return e.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(i,{width:"short",context:"formatting"});case"iiii":default:return e.day(i,{width:"wide",context:"formatting"})}},a:function(n,t,e){const r=n.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return e.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(n,t,e){const i=n.getHours();let r;switch(i===12?r=Zo.noon:i===0?r=Zo.midnight:r=i/12>=1?"pm":"am",t){case"b":case"bb":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return e.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(n,t,e){const i=n.getHours();let r;switch(i>=17?r=Zo.evening:i>=12?r=Zo.afternoon:i>=4?r=Zo.morning:r=Zo.night,t){case"B":case"BB":case"BBB":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return e.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(n,t,e){if(t==="ho"){let i=n.getHours()%12;return i===0&&(i=12),e.ordinalNumber(i,{unit:"hour"})}return br.h(n,t)},H:function(n,t,e){return t==="Ho"?e.ordinalNumber(n.getHours(),{unit:"hour"}):br.H(n,t)},K:function(n,t,e){const i=n.getHours()%12;return t==="Ko"?e.ordinalNumber(i,{unit:"hour"}):te(i,t.length)},k:function(n,t,e){let i=n.getHours();return i===0&&(i=24),t==="ko"?e.ordinalNumber(i,{unit:"hour"}):te(i,t.length)},m:function(n,t,e){return t==="mo"?e.ordinalNumber(n.getMinutes(),{unit:"minute"}):br.m(n,t)},s:function(n,t,e){return t==="so"?e.ordinalNumber(n.getSeconds(),{unit:"second"}):br.s(n,t)},S:function(n,t){return br.S(n,t)},X:function(n,t,e){const i=n.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return IS(i);case"XXXX":case"XX":return Oa(i);case"XXXXX":case"XXX":default:return Oa(i,":")}},x:function(n,t,e){const i=n.getTimezoneOffset();switch(t){case"x":return IS(i);case"xxxx":case"xx":return Oa(i);case"xxxxx":case"xxx":default:return Oa(i,":")}},O:function(n,t,e){const i=n.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+DS(i,":");case"OOOO":default:return"GMT"+Oa(i,":")}},z:function(n,t,e){const i=n.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+DS(i,":");case"zzzz":default:return"GMT"+Oa(i,":")}},t:function(n,t,e){const i=Math.trunc(+n/1e3);return te(i,t.length)},T:function(n,t,e){return te(+n,t.length)}};function DS(n,t=""){const e=n>0?"-":"+",i=Math.abs(n),r=Math.trunc(i/60),o=i%60;return o===0?e+String(r):e+String(r)+t+te(o,2)}function IS(n,t){return n%60===0?(n>0?"-":"+")+te(Math.abs(n)/60,2):Oa(n,t)}function Oa(n,t=""){const e=n>0?"-":"+",i=Math.abs(n),r=te(Math.trunc(i/60),2),o=te(i%60,2);return e+r+t+o}const jS=(n,t)=>{switch(n){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},gC=(n,t)=>{switch(n){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},U9=(n,t)=>{const e=n.match(/(P+)(p+)?/)||[],i=e[1],r=e[2];if(!r)return jS(n,t);let o;switch(i){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",jS(i,t)).replace("{{time}}",gC(r,t))},z9={p:gC,P:U9},B9=/^D+$/,H9=/^Y+$/,F9=["D","DD","YY","YYYY"];function V9(n){return B9.test(n)}function q9(n){return H9.test(n)}function W9(n,t,e){const i=Y9(n,t,e);if(console.warn(i),F9.includes(n))throw new RangeError(i)}function Y9(n,t,e){const i=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${t}\`) for formatting ${i} to the input \`${e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const G9=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$9=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,X9=/^'([^]*?)'?$/,Q9=/''/g,K9=/[a-zA-Z]/;function Fd(n,t,e){const i=pg(),r=i.locale??D9,o=i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=i.weekStartsOn??i.locale?.options?.weekStartsOn??0,h=Si(n,e?.in);if(!J5(h))throw new RangeError("Invalid time value");let d=t.match($9).map(_=>{const b=_[0];if(b==="p"||b==="P"){const x=z9[b];return x(_,r.formatLong)}return _}).join("").match(G9).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const b=_[0];if(b==="'")return{isToken:!1,value:Z9(_)};if(OS[b])return{isToken:!0,value:_};if(b.match(K9))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:_}});r.localize.preprocessor&&(d=r.localize.preprocessor(h,d));const g={firstWeekContainsDate:o,weekStartsOn:c,locale:r};return d.map(_=>{if(!_.isToken)return _.value;const b=_.value;(q9(b)||V9(b))&&W9(b,t,String(n));const x=OS[b[0]];return x(h,b,r.localize,g)}).join("")}function Z9(n){const t=n.match(X9);return t?t[1].replace(Q9,"'"):n}function J9({size:n="md",fullPage:t=!1}){const{darkMode:e}=Wf(),i={sm:"w-5 h-5 border-2",md:"w-8 h-8 border-3",lg:"w-12 h-12 border-4",xl:"w-16 h-16 border-4"},r=y.jsx("div",{className:"flex items-center justify-center",children:y.jsx("div",{className:`animate-spin rounded-full ${i[n]} ${e?"border-gray-300 border-t-teal-400":"border-gray-200 border-t-teal-600"}`})});return t?y.jsx("div",{className:`fixed inset-0 flex items-center justify-center z-50 ${e?"bg-gray-900/80":"bg-white/80"}`,children:r}):r}function tU(){const[n]=hg(xe),{userId:t}=CN(),e=Fs(),{darkMode:i}=Wf(),[r,o]=B.useState(null),[c,h]=B.useState([]),[d,g]=B.useState([]),[_,b]=B.useState("questions"),[x,E]=B.useState(!0),[N,R]=B.useState(!1),[M,U]=B.useState(""),[$,Q]=B.useState(null),[tt,Z]=B.useState(null),[ot,O]=B.useState(""),T=n&&t===n.uid;B.useEffect(()=>{if(!t){e(n?`/profile/${n.uid}`:"/login");return}E(!0),O("");try{const V=ee(be,`users/${t}`),lt=gi(V,rt=>{const dt=rt.val();if(dt)o(dt),U(dt.bio||"");else{const yt={displayName:n?.displayName||"",email:n?.email||"",bio:"",photoURL:"",points:0,bestAnswers:0,activeDays:1,createdAt:Date.now(),bookmarks:{}};xi(ee(be,`users/${t}`),yt),o(yt),U(yt.bio)}E(!1)},rt=>{console.error("Error loading user data:",rt),O("Failed to load profile data"),E(!1)}),gt=ee(be,"questions"),P=gi(gt,rt=>{const dt=rt.val(),yt=Object.entries(dt||{}).filter(([et,St])=>St.userId===t).map(([et,St])=>({id:et,...St}));h(yt)}),it=ee(be,"answers"),ct=gi(it,rt=>{const dt=rt.val(),yt=Object.entries(dt||{}).filter(([et,St])=>St.userId===t).map(([et,St])=>({id:et,...St}));g(yt)});return()=>{lt(),P(),ct()}}catch(V){console.error("Error setting up listeners:",V),O("Failed to initialize data loading"),E(!1)}},[t,n,e]);const k=async()=>{try{await xe.signOut(),e("/login")}catch(V){console.error("Logout error:",V),O("Failed to logout")}},I=async()=>{if(t)try{await xi(ee(be,`users/${t}`),{bio:M,...n?.displayName&&{displayName:n.displayName}}),R(!1)}catch(V){console.error("Error updating profile:",V),O("Failed to update profile")}},L=async V=>{const lt=V.target.files[0];if(!lt)return;if(!lt.type.match("image.*")){O("Please select an image file (JPEG/PNG)");return}if(lt.size>500*1024){O("Image size must be less than 500KB");return}const gt=new FileReader;gt.onload=P=>{Q(P.target.result),Z(P.target.result)},gt.onerror=()=>{O("Failed to read image file")},gt.readAsDataURL(lt)},z=async()=>{if(!(!$||!t))try{const V=$.split(",")[1];await xi(ee(be,`users/${t}`),{photoURL:V}),Z($),Q(null)}catch(V){console.error("Error uploading image:",V),O("Failed to upload profile image")}},D=()=>{Q(null),Z(null),O("")};if(x)return y.jsx("div",{className:`min-h-screen flex items-center justify-center ${i?"dark bg-gray-900":"bg-gray-50"}`,children:y.jsx(J9,{size:"xl"})});if(!r)return y.jsx("div",{className:`min-h-screen flex flex-col items-center justify-center p-4 ${i?"dark bg-gray-900":"bg-gray-50"}`,children:y.jsxs("div",{className:`max-w-md w-full p-8 rounded-xl shadow-lg text-center ${i?"bg-gray-800":"bg-white"}`,children:[y.jsx("div",{className:`w-24 h-24 mx-auto rounded-full flex items-center justify-center text-4xl mb-4 ${i?"bg-gray-700 text-gray-400":"bg-gray-200 text-gray-500"}`,children:y.jsx(zr,{})}),y.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Profile Not Found"}),y.jsx("p",{className:`mb-6 ${i?"text-gray-400":"text-gray-600"}`,children:ot||"The requested profile doesn't exist"}),y.jsxs("div",{className:"flex flex-col space-y-3",children:[y.jsx("button",{onClick:()=>window.location.reload(),className:`px-4 py-2 rounded-lg font-medium ${i?"bg-teal-600 hover:bg-teal-500":"bg-teal-500 hover:bg-teal-400"} text-white`,children:"Try Again"}),y.jsx(Vt,{to:"/",className:`px-4 py-2 rounded-lg font-medium ${i?"bg-gray-700 hover:bg-gray-600":"bg-gray-200 hover:bg-gray-300"}`,children:"Return Home"})]})]})});const Tt=r?.displayName||n?.displayName||"User",mt=T?n?.email:null,G=r?.createdAt?Fd(new Date(r.createdAt),"MMM yyyy"):"Recently";return y.jsxs("div",{className:`min-h-screen transition-colors duration-300 ${i?"dark bg-gray-900":"bg-gray-50"}`,children:[y.jsx("header",{className:`sticky top-0 z-10 backdrop-blur-md ${i?"bg-black/80":"bg-white/80"} shadow-sm`,children:y.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[y.jsx(Vt,{to:"/",className:"text-2xl font-bold bg-gradient-to-r from-teal-400 to-teal-600 bg-clip-text text-transparent",children:"StudiQ"}),T&&y.jsxs("nav",{className:"flex items-center space-x-4",children:[y.jsxs(Vt,{to:"/settings",className:`flex items-center ${i?"text-gray-300 hover:text-teal-400":"text-gray-700 hover:text-teal-600"}`,children:[y.jsx(cC,{className:"mr-1"})," Settings"]}),y.jsxs("button",{onClick:k,className:`flex items-center ${i?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-800"}`,children:[y.jsx(c_,{className:"mr-1"})," Sign Out"]})]})]})}),y.jsx("main",{className:"container mx-auto px-4 py-8",children:y.jsxs("div",{className:"max-w-6xl mx-auto",children:[ot&&y.jsx("div",{className:`mb-6 p-4 rounded-lg ${i?"bg-red-900/30 border border-red-700":"bg-red-100 border border-red-300"} text-red-600 dark:text-red-300`,children:ot}),y.jsx("div",{className:`p-6 rounded-xl shadow-lg mb-6 ${i?"bg-gray-800/70":"bg-white/80"} backdrop-blur-sm`,children:y.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6",children:[y.jsxs("div",{className:"relative group",children:[y.jsx("div",{className:`w-32 h-32 rounded-full overflow-hidden flex items-center justify-center ${i?"bg-teal-900":"bg-teal-100"}`,children:tt?y.jsx("img",{src:tt,alt:"Preview",className:"w-full h-full object-cover"}):r?.photoURL?y.jsx("img",{src:`data:image/jpeg;base64,${r.photoURL}`,alt:Tt,className:"w-full h-full object-cover"}):y.jsx("span",{className:`text-5xl ${i?"text-teal-300":"text-teal-800"}`,children:Tt.charAt(0)})}),T&&y.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:y.jsxs("label",{htmlFor:"profileImage",className:`cursor-pointer p-2 rounded-full ${i?"bg-gray-700/90 hover:bg-gray-600":"bg-gray-200/90 hover:bg-gray-300"}`,children:[y.jsx(B5,{className:"w-5 h-5"}),y.jsx("input",{id:"profileImage",type:"file",accept:"image/*",onChange:L,className:"hidden"})]})})]}),$&&y.jsxs("div",{className:`p-3 rounded-lg ${i?"bg-gray-700":"bg-gray-200"} flex items-center space-x-3`,children:[y.jsx("button",{onClick:z,className:`px-3 py-1 rounded ${i?"bg-teal-600 hover:bg-teal-500":"bg-teal-500 hover:bg-teal-400"} text-white flex items-center`,children:"Save Image"}),y.jsx("button",{onClick:D,className:`p-1 rounded-full ${i?"hover:bg-gray-600":"hover:bg-gray-300"}`,children:y.jsx(eu,{})})]}),y.jsxs("div",{className:"flex-1 text-center md:text-left",children:[y.jsxs("div",{className:"flex items-center justify-center md:justify-start",children:[y.jsxs("h1",{className:`text-3xl font-bold mb-2 ${i?"text-gray-100":"text-gray-800"}`,children:[Tt,T&&y.jsx("span",{className:"ml-2 text-sm font-normal px-2 py-1 rounded-full bg-teal-500/10 text-teal-500",children:"You"})]}),T&&!N&&y.jsx("button",{onClick:()=>R(!0),className:`ml-3 p-1 rounded-full ${i?"hover:bg-gray-700":"hover:bg-gray-200"}`,children:y.jsx(R5,{className:"w-5 h-5"})})]}),mt&&y.jsx("p",{className:`mb-4 ${i?"text-gray-400":"text-gray-600"}`,children:mt}),N?y.jsxs("div",{className:"mb-4",children:[y.jsx("textarea",{value:M,onChange:V=>U(V.target.value),className:`w-full p-2 rounded-lg ${i?"bg-gray-700 text-white":"bg-gray-100"} border ${i?"border-gray-600":"border-gray-300"}`,rows:"3",placeholder:"Tell us about yourself..."}),y.jsxs("div",{className:"flex space-x-2 mt-2",children:[y.jsx("button",{onClick:I,className:`px-3 py-1 rounded ${i?"bg-teal-600 hover:bg-teal-500":"bg-teal-500 hover:bg-teal-400"} text-white`,children:"Save"}),y.jsx("button",{onClick:()=>R(!1),className:`px-3 py-1 rounded ${i?"bg-gray-600 hover:bg-gray-500":"bg-gray-300 hover:bg-gray-400"}`,children:"Cancel"})]})]}):y.jsx("p",{className:`mb-4 ${i?"text-gray-300":"text-gray-700"}`,children:r?.bio||(T?"Add a bio to tell others about yourself":"")}),y.jsxs("div",{className:`flex flex-wrap justify-center md:justify-start gap-4 ${i?"text-gray-300":"text-gray-700"}`,children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx(Oy,{className:"mr-2 text-teal-500"}),y.jsxs("span",{children:[r?.points||0," Points"]})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx(CS,{className:"mr-2 text-teal-500"}),y.jsxs("span",{children:[c.length," Questions"]})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx(pu,{className:"mr-2 text-teal-500"}),y.jsxs("span",{children:[d.length," Answers"]})]}),T&&r?.bookmarks&&y.jsxs("div",{className:"flex items-center",children:[y.jsx(Bf,{className:"mr-2 text-teal-500"}),y.jsxs("span",{children:[Object.keys(r.bookmarks).length," Bookmarks"]})]})]})]})]})}),y.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-${T?"4":"3"} gap-4 mb-6 ${i?"text-gray-200":"text-gray-800"}`,children:[y.jsxs("div",{className:`p-4 rounded-lg ${i?"bg-gray-800":"bg-gray-100"}`,children:[y.jsxs("h3",{className:"font-semibold flex items-center",children:[y.jsx(Oy,{className:"mr-2 text-yellow-500"})," Best Answers"]}),y.jsx("p",{className:"text-2xl font-bold",children:r?.stats?.bestAnswers||0})]}),y.jsxs("div",{className:`p-4 rounded-lg ${i?"bg-gray-800":"bg-gray-100"}`,children:[y.jsxs("h3",{className:"font-semibold flex items-center",children:[y.jsx(o_,{className:"mr-2 text-blue-500"})," Active Days"]}),y.jsx("p",{className:"text-2xl font-bold",children:r?.activeDays||1})]}),T&&y.jsxs("div",{className:`p-4 rounded-lg ${i?"bg-gray-800":"bg-gray-100"}`,children:[y.jsxs("h3",{className:"font-semibold flex items-center",children:[y.jsx(zr,{className:"mr-2 text-green-500"})," Member Since"]}),y.jsx("p",{className:"text-xl",children:G})]}),T&&y.jsxs("div",{className:`p-4 rounded-lg ${i?"bg-gray-800":"bg-gray-100"}`,children:[y.jsxs("h3",{className:"font-semibold flex items-center",children:[y.jsx(pu,{className:"mr-2 text-purple-500"})," Answer Rate"]}),y.jsx("p",{className:"text-2xl font-bold",children:c.length>0?`${Math.round(c.filter(V=>V.answered).length/c.length*100)}%`:"0%"})]})]}),y.jsx("div",{className:`mb-4 border-b ${i?"border-gray-700":"border-gray-200"}`,children:y.jsxs("nav",{className:"flex space-x-4",children:[y.jsxs("button",{onClick:()=>b("questions"),className:`py-2 px-4 font-medium ${_==="questions"?i?"text-teal-400 border-b-2 border-teal-400":"text-teal-600 border-b-2 border-teal-600":i?"text-gray-400 hover:text-gray-300":"text-gray-600 hover:text-gray-800"}`,children:["Questions (",c.length,")"]}),y.jsxs("button",{onClick:()=>b("answers"),className:`py-2 px-4 font-medium ${_==="answers"?i?"text-teal-400 border-b-2 border-teal-400":"text-teal-600 border-b-2 border-teal-600":i?"text-gray-400 hover:text-gray-300":"text-gray-600 hover:text-gray-800"}`,children:["Answers (",d.length,")"]}),T&&y.jsxs("button",{onClick:()=>b("bookmarks"),className:`py-2 px-4 font-medium ${_==="bookmarks"?i?"text-teal-400 border-b-2 border-teal-400":"text-teal-600 border-b-2 border-teal-600":i?"text-gray-400 hover:text-gray-300":"text-gray-600 hover:text-gray-800"}`,children:["Bookmarks (",r?.bookmarks?Object.keys(r.bookmarks).length:0,")"]})]})}),y.jsxs("div",{className:`p-6 rounded-xl shadow-lg ${i?"bg-gray-800/70":"bg-white/80"} backdrop-blur-sm`,children:[_==="questions"&&y.jsxs("div",{className:"space-y-4",children:[y.jsxs("h2",{className:`text-xl font-semibold mb-4 ${i?"text-gray-200":"text-gray-800"}`,children:[y.jsx(CS,{className:"inline mr-2"})," ",T?"My":`${Tt}'s`," Questions"]}),c.length>0?c.map(V=>y.jsxs("div",{className:`p-4 rounded-lg ${i?"bg-gray-700/50 hover:bg-gray-700":"bg-gray-100 hover:bg-gray-200"}`,children:[y.jsx(Vt,{to:`/question/${V.id}`,className:`font-medium block mb-1 ${i?"text-teal-400 hover:text-teal-300":"text-teal-600 hover:text-teal-800"}`,children:V.title}),y.jsxs("div",{className:`text-sm ${i?"text-gray-400":"text-gray-600"}`,children:[y.jsx("span",{className:"capitalize",children:V.subject})," ",V.createdAt?.toDate?Fd(V.createdAt.toDate(),"MMM d, yyyy"):"Recent"," ",V.answered?y.jsx("span",{className:"text-green-500 ml-1",children:"Answered"}):y.jsx("span",{className:"text-yellow-500 ml-1",children:"Pending"})]})]},V.id)):y.jsx("p",{className:i?"text-gray-400":"text-gray-600",children:T?"You haven't asked any questions yet":"This user hasn't asked any questions yet"})]}),_==="answers"&&y.jsxs("div",{className:"space-y-4",children:[y.jsxs("h2",{className:`text-xl font-semibold mb-4 ${i?"text-gray-200":"text-gray-800"}`,children:[y.jsx(pu,{className:"inline mr-2"})," ",T?"My":`${Tt}'s`," Answers"]}),d.length>0?d.map(V=>y.jsxs("div",{className:`p-4 rounded-lg ${i?"bg-gray-700/50 hover:bg-gray-700":"bg-gray-100 hover:bg-gray-200"}`,children:[y.jsxs(Vt,{to:`/question/${V.questionId}`,className:`font-medium block mb-1 ${i?"text-teal-400 hover:text-teal-300":"text-teal-600 hover:text-teal-800"}`,children:[V.content.substring(0,100),"..."]}),y.jsxs("div",{className:`text-sm ${i?"text-gray-400":"text-gray-600"}`,children:[V.createdAt?.toDate?Fd(V.createdAt.toDate(),"MMM d, yyyy"):"Recent"," ",V.isBestAnswer?y.jsx("span",{className:"text-green-500 ml-1",children:"Marked as Best"}):y.jsx("span",{className:"text-gray-500 ml-1",children:"Regular answer"})]})]},V.id)):y.jsx("p",{className:i?"text-gray-400":"text-gray-600",children:T?"You haven't answered any questions yet":"This user hasn't answered any questions yet"})]}),_==="bookmarks"&&T&&y.jsxs("div",{className:"space-y-4",children:[y.jsxs("h2",{className:`text-xl font-semibold mb-4 ${i?"text-gray-200":"text-gray-800"}`,children:[y.jsx(Bf,{className:"inline mr-2"})," My Bookmarks"]}),r?.bookmarks&&Object.keys(r.bookmarks).length>0?y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.keys(r.bookmarks).map(V=>y.jsxs("div",{className:`p-4 rounded-lg ${i?"bg-gray-700/50 hover:bg-gray-700":"bg-gray-100 hover:bg-gray-200"}`,children:[y.jsx(Vt,{to:`/question/${V}`,className:`font-medium block ${i?"text-teal-400 hover:text-teal-300":"text-teal-600 hover:text-teal-800"}`,children:r.bookmarks[V].title||"Bookmarked Question"}),y.jsxs("div",{className:`text-sm mt-1 ${i?"text-gray-400":"text-gray-600"}`,children:["Bookmarked on ",Fd(new Date(r.bookmarks[V].timestamp),"MMM d, yyyy")]})]},V))}):y.jsx("p",{className:i?"text-gray-400":"text-gray-600",children:"No bookmarks yet"})]})]})]})})]})}function eU(){const[n]=hg(xe);Fs();const[t,e]=B.useState(!1),[i,r]=B.useState("faq"),[o,c]=B.useState({name:"",email:"",subject:"",message:""}),[h,d]=B.useState(!1);B.useEffect(()=>{const E=localStorage.getItem("darkMode")==="true";e(E),document.documentElement.classList.toggle("dark",E)},[]);const g=E=>{const{name:N,value:R}=E.target;c(M=>({...M,[N]:R}))},_=E=>{E.preventDefault(),console.log("Contact form submitted:",o),d(!0),c({name:"",email:"",subject:"",message:""}),setTimeout(()=>d(!1),5e3)},b=[{question:"How do I post a question?",answer:"Navigate to the home page and click on the 'Ask your question' box. Type your question, select a subject, and click 'Post Question'."},{question:"How do I earn points?",answer:"You earn points by asking questions, providing helpful answers, and receiving upvotes on your contributions."},{question:"Can I change my display name?",answer:"Yes, you can change your display name in the Account Settings page under Profile Information."},{question:"How do I report inappropriate content?",answer:"Click on the three dots next to any question or answer and select 'Report'. Our moderation team will review it."},{question:"Is there a mobile app available?",answer:"Currently we're web-only, but our site is fully responsive and works great on mobile browsers."}],x=[{title:"Getting Started",content:"Learn how to create an account, set up your profile, and make your first post."},{title:"Community Guidelines",content:"Understand our rules and expectations for participation in the StudiQ community."},{title:"Answering Questions",content:"Tips for providing helpful, high-quality answers that earn you points and reputation."},{title:"Privacy & Security",content:"How we protect your data and what you can do to keep your account secure."}];return y.jsxs("div",{className:`min-h-screen transition-colors duration-300 ${t?"dark bg-gray-900":"bg-gray-50"}`,children:[y.jsx("header",{className:`sticky top-0 z-10 backdrop-blur-md ${t?"bg-black/80":"bg-white/80"} shadow-sm`,children:y.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[y.jsxs(Vt,{to:n?"/":"/login",className:"flex items-center text-teal-600 hover:text-teal-700",children:[y.jsx(Nl,{className:"mr-1"})," ",n?"Back to Home":"Back to Login"]}),y.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-teal-400 to-teal-600 bg-clip-text text-transparent",children:"Help Center"}),y.jsx("div",{})," "]})}),y.jsx("main",{className:"container mx-auto px-4 py-8",children:y.jsx("div",{className:"max-w-4xl mx-auto",children:y.jsx("div",{className:`p-6 rounded-xl shadow-lg mb-8 backdrop-blur-sm ${t?"bg-gray-800/70 border border-gray-700":"bg-white/80 border border-gray-200"}`,children:y.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[y.jsx("div",{className:"md:w-1/3",children:y.jsxs("div",{className:`p-4 rounded-lg sticky top-4 ${t?"bg-gray-700/50":"bg-gray-100"}`,children:[y.jsxs("h2",{className:`text-lg font-semibold mb-4 flex items-center ${t?"text-gray-200":"text-gray-800"}`,children:[y.jsx(Hf,{className:"mr-2 text-teal-500"}),"Help Topics"]}),y.jsxs("nav",{className:"space-y-2",children:[y.jsx("button",{onClick:()=>r("faq"),className:`w-full text-left px-3 py-2 rounded transition-all ${i==="faq"?"bg-teal-500/10 text-teal-500 border border-teal-500/30":t?"hover:bg-gray-600 text-gray-300":"hover:bg-gray-200 text-gray-700"}`,children:"FAQs"}),y.jsx("button",{onClick:()=>r("guides"),className:`w-full text-left px-3 py-2 rounded transition-all ${i==="guides"?"bg-teal-500/10 text-teal-500 border border-teal-500/30":t?"hover:bg-gray-600 text-gray-300":"hover:bg-gray-200 text-gray-700"}`,children:"Guides"}),y.jsx("button",{onClick:()=>r("contact"),className:`w-full text-left px-3 py-2 rounded transition-all ${i==="contact"?"bg-teal-500/10 text-teal-500 border border-teal-500/30":t?"hover:bg-gray-600 text-gray-300":"hover:bg-gray-200 text-gray-700"}`,children:"Contact Us"}),y.jsx("button",{onClick:()=>r("community"),className:`w-full text-left px-3 py-2 rounded transition-all ${i==="community"?"bg-teal-500/10 text-teal-500 border border-teal-500/30":t?"hover:bg-gray-600 text-gray-300":"hover:bg-gray-200 text-gray-700"}`,children:"Community"})]})]})}),y.jsxs("div",{className:"md:w-2/3",children:[i==="faq"&&y.jsxs("div",{children:[y.jsxs("h2",{className:`text-xl font-semibold mb-6 flex items-center ${t?"text-gray-200":"text-gray-800"}`,children:[y.jsx(Hf,{className:"mr-2 text-teal-500"}),"Frequently Asked Questions"]}),y.jsx("div",{className:"space-y-4",children:b.map((E,N)=>y.jsxs("div",{className:`p-4 rounded-lg ${t?"bg-gray-700/50 border border-gray-600":"bg-white border border-gray-200"}`,children:[y.jsx("h3",{className:`font-medium mb-2 ${t?"text-teal-400":"text-teal-600"}`,children:E.question}),y.jsx("p",{className:t?"text-gray-300":"text-gray-700",children:E.answer})]},N))})]}),i==="guides"&&y.jsxs("div",{children:[y.jsxs("h2",{className:`text-xl font-semibold mb-6 flex items-center ${t?"text-gray-200":"text-gray-800"}`,children:[y.jsx(D5,{className:"mr-2 text-teal-500"}),"Helpful Guides"]}),y.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:x.map((E,N)=>y.jsxs("div",{className:`p-4 rounded-lg ${t?"bg-gray-700/50 border border-gray-600":"bg-white border border-gray-200"}`,children:[y.jsx("h3",{className:`font-medium mb-2 ${t?"text-teal-400":"text-teal-600"}`,children:E.title}),y.jsx("p",{className:t?"text-gray-300":"text-gray-700",children:E.content}),y.jsx("button",{className:`mt-3 text-sm ${t?"text-teal-400 hover:text-teal-300":"text-teal-600 hover:text-teal-800"}`,children:"Read more "})]},N))})]}),i==="contact"&&y.jsxs("div",{children:[y.jsxs("h2",{className:`text-xl font-semibold mb-6 flex items-center ${t?"text-gray-200":"text-gray-800"}`,children:[y.jsx(u_,{className:"mr-2 text-teal-500"}),"Contact Support"]}),h?y.jsx("div",{className:`p-4 rounded-lg ${t?"bg-teal-900/30 text-teal-200":"bg-teal-100 text-teal-800"}`,children:"Thank you for contacting us! We'll get back to you within 24 hours."}):y.jsxs("form",{onSubmit:_,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"name",className:`block text-sm font-medium mb-1 ${t?"text-gray-300":"text-gray-700"}`,children:"Your Name"}),y.jsx("input",{type:"text",id:"name",name:"name",value:o.name,onChange:g,required:!0,className:`w-full p-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"email",className:`block text-sm font-medium mb-1 ${t?"text-gray-300":"text-gray-700"}`,children:"Email Address"}),y.jsx("input",{type:"email",id:"email",name:"email",value:o.email,onChange:g,required:!0,className:`w-full p-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"subject",className:`block text-sm font-medium mb-1 ${t?"text-gray-300":"text-gray-700"}`,children:"Subject"}),y.jsxs("select",{id:"subject",name:"subject",value:o.subject,onChange:g,required:!0,className:`w-full p-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,children:[y.jsx("option",{value:"",children:"Select a topic"}),y.jsx("option",{value:"account",children:"Account Issues"}),y.jsx("option",{value:"technical",children:"Technical Problems"}),y.jsx("option",{value:"billing",children:"Billing Questions"}),y.jsx("option",{value:"feedback",children:"Feedback"}),y.jsx("option",{value:"other",children:"Other"})]})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"message",className:`block text-sm font-medium mb-1 ${t?"text-gray-300":"text-gray-700"}`,children:"Message"}),y.jsx("textarea",{id:"message",name:"message",rows:"5",value:o.message,onChange:g,required:!0,className:`w-full p-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`})]}),y.jsx("button",{type:"submit",className:`w-full py-3 px-4 rounded-lg font-medium text-white bg-gradient-to-r from-teal-500 to-teal-600 hover:from-teal-600 hover:to-teal-700 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 ${t?"focus:ring-offset-gray-800":"focus:ring-offset-white"}`,children:"Send Message"})]})]}),i==="community"&&y.jsxs("div",{children:[y.jsxs("h2",{className:`text-xl font-semibold mb-6 flex items-center ${t?"text-gray-200":"text-gray-800"}`,children:[y.jsx(uC,{className:"mr-2 text-teal-500"}),"Community Resources"]}),y.jsxs("div",{className:`p-6 rounded-lg mb-6 ${t?"bg-gray-700/50 border border-gray-600":"bg-white border border-gray-200"}`,children:[y.jsx("h3",{className:`text-lg font-medium mb-3 ${t?"text-teal-400":"text-teal-600"}`,children:"Join Our Community"}),y.jsx("p",{className:`mb-4 ${t?"text-gray-300":"text-gray-700"}`,children:"Connect with other learners, ask questions, and share knowledge in our active community forums."}),y.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[y.jsxs("div",{className:`p-4 rounded-lg ${t?"bg-gray-600/30":"bg-gray-100"}`,children:[y.jsxs("h4",{className:`font-medium mb-2 ${t?"text-gray-200":"text-gray-800"}`,children:[y.jsx(pu,{className:"inline mr-2 text-teal-500"}),"Discussion Forums"]}),y.jsx("p",{className:t?"text-gray-400":"text-gray-600",children:"Participate in topic-specific discussions with students and educators."}),y.jsx("button",{className:`mt-3 text-sm ${t?"text-teal-400 hover:text-teal-300":"text-teal-600 hover:text-teal-800"}`,children:"Visit Forums "})]}),y.jsxs("div",{className:`p-4 rounded-lg ${t?"bg-gray-600/30":"bg-gray-100"}`,children:[y.jsxs("h4",{className:`font-medium mb-2 ${t?"text-gray-200":"text-gray-800"}`,children:[y.jsx(oC,{className:"inline mr-2 text-teal-500"}),"Local Study Groups"]}),y.jsx("p",{className:t?"text-gray-400":"text-gray-600",children:"Find or create study groups in your area or language."}),y.jsx("button",{className:`mt-3 text-sm ${t?"text-teal-400 hover:text-teal-300":"text-teal-600 hover:text-teal-800"}`,children:"Find Groups "})]})]})]})]})]})]})})})})]})}function nU(){const n=Fs(),[t,e]=useState(!1),[i,r]=useState(!0),[o,c]=useState("");B.useEffect(()=>{xe.currentUser?(c(xe.currentUser.email||""),r(!1),xe.currentUser.emailVerified&&n("/")):n("/signup")},[n]);const h=async()=>{try{await sendEmailVerification(xe.currentUser),e(!0),setTimeout(()=>e(!1),5e3)}catch(d){console.error("Error resending verification email:",d)}};return i?y.jsx("div",{className:"text-center py-8",children:"Loading..."}):y.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:y.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:y.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[y.jsxs("div",{className:"text-center",children:[y.jsx(A5,{className:"mx-auto h-12 w-12 text-teal-500"}),y.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Verify Your Email"})]}),y.jsxs("div",{className:"mt-8 text-center",children:[y.jsx("p",{className:"text-sm text-gray-600",children:"We've sent a verification email to:"}),y.jsx("p",{className:"mt-2 text-lg font-medium text-gray-900",children:o}),y.jsxs("div",{className:"mt-6",children:[y.jsx("p",{className:"text-sm text-gray-600",children:"Check your inbox and click the link in the email to verify your account."}),y.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Didn't receive the email?"}),y.jsx("button",{onClick:h,className:"mt-2 text-teal-600 hover:text-teal-500 font-medium",children:"Resend verification email"}),t&&y.jsx("p",{className:"mt-2 text-sm text-teal-600",children:"Verification email resent!"})]}),y.jsx("div",{className:"mt-8 border-t border-gray-200 pt-6",children:y.jsxs(Vt,{to:"/",className:"flex items-center justify-center text-sm font-medium text-gray-600 hover:text-teal-500",children:[y.jsx(Nl,{className:"mr-1"}),"Back to home"]})})]})]})})})}function iU(){const[n,t]=B.useState(""),[e,i]=B.useState(""),[r,o]=B.useState(!1),[c,h]=B.useState(""),d=Fs(),g=async _=>{if(_.preventDefault(),o(!0),h(""),!xe.currentUser){h("No user logged in"),o(!1);return}try{const b={[`users/${xe.currentUser.uid}/username`]:n,[`users/${xe.currentUser.uid}/bio`]:e,[`users/${xe.currentUser.uid}/profileComplete`]:!0,[`users/${xe.currentUser.uid}/createdAt`]:Date.now()};await xi(ee(be),b),await Rr(ee(be,`userProfiles/${xe.currentUser.uid}`),{username:n,bio:e,profileComplete:!0,createdAt:Date.now(),points:0,bestAnswers:0}),d("/")}catch(b){console.error("Profile setup error:",b),h(b.message||"Failed to save profile")}finally{o(!1)}};return y.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:y.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:y.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[y.jsxs("div",{className:"text-center",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Complete Your Profile"}),y.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Add some details to personalize your experience"})]}),c&&y.jsx("div",{className:"mt-4 bg-red-50 border-l-4 border-red-400 p-4",children:y.jsx("div",{className:"flex",children:y.jsx("div",{className:"text-red-400",children:y.jsx("p",{className:"text-sm",children:c})})})}),y.jsxs("form",{className:"mt-8 space-y-6",onSubmit:g,children:[y.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Username"}),y.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[y.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:y.jsx(zr,{className:"h-5 w-5 text-gray-400"})}),y.jsx("input",{id:"username",name:"username",type:"text",required:!0,minLength:3,maxLength:20,value:n,onChange:_=>t(_.target.value),className:"focus:ring-teal-500 focus:border-teal-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md py-2 border",placeholder:"cooluser123"})]}),y.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"3-20 characters, letters and numbers only"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700",children:"Bio (Optional)"}),y.jsx("div",{className:"mt-1",children:y.jsx("textarea",{id:"bio",name:"bio",rows:3,maxLength:150,value:e,onChange:_=>i(_.target.value),className:"shadow-sm focus:ring-teal-500 focus:border-teal-500 block w-full sm:text-sm border border-gray-300 rounded-md p-2",placeholder:"Tell us about yourself..."})}),y.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Max 150 characters"})]})]}),y.jsx("div",{children:y.jsx("button",{type:"submit",disabled:r||!n,className:`group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-teal-600 hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 ${r||!n?"opacity-70 cursor-not-allowed":""}`,children:r?y.jsxs("span",{className:"flex items-center",children:[y.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):y.jsxs(y.Fragment,{children:[y.jsx(lC,{className:"mr-2 h-4 w-4"}),"Complete Profile"]})})})]})]})})})}function sU(){return y.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:y.jsxs("div",{className:"max-w-3xl mx-auto bg-white p-6 shadow rounded-lg",children:[y.jsxs(Vt,{to:"/signup",className:"flex items-center text-sm font-medium text-gray-600 hover:text-teal-500 mb-6",children:[y.jsx(Nl,{className:"mr-1"}),"Back to Sign Up"]}),y.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Terms and Conditions"}),y.jsxs("div",{className:"prose prose-sm sm:prose lg:prose-lg xl:prose-xl mx-auto",children:[y.jsx("h2",{children:"1. Acceptance of Terms"}),y.jsx("p",{children:"By accessing or using our service, you agree to be bound by these terms..."}),y.jsx("h2",{children:"2. User Responsibilities"}),y.jsx("p",{children:"You are responsible for maintaining the confidentiality of your account..."}),y.jsx("h2",{children:"3. Privacy Policy"}),y.jsx("p",{children:"Your privacy is important to us. Please review our Privacy Policy..."}),y.jsx("h2",{children:"4. Content Ownership"}),y.jsx("p",{children:"You retain ownership of any content you submit, post or display..."}),y.jsx("h2",{children:"5. Termination"}),y.jsx("p",{children:"We may terminate or suspend access to our service immediately..."}),y.jsx("h2",{children:"6. Changes to Terms"}),y.jsx("p",{children:"We reserve the right to modify these terms at any time..."}),y.jsx("h2",{children:"7. Contact Information"}),y.jsx("p",{children:"If you have any questions about these Terms, please contact us at..."})]})]})})}function rU(){return y.jsx(JS,{children:y.jsxs(HN,{children:[y.jsx(di,{path:"/",element:y.jsx(F5,{})}),y.jsx(di,{path:"/login",element:y.jsx(V5,{})}),y.jsx(di,{path:"/signup",element:y.jsx(q5,{})}),y.jsx(di,{path:"/profile/:userId",element:y.jsx(tU,{})}),y.jsx(di,{path:"/help",element:y.jsx(eU,{})}),y.jsx(di,{path:"/settings",element:y.jsx(W5,{})}),y.jsx(di,{path:"/verify-email",element:y.jsx(nU,{})}),y.jsx(di,{path:"/profile-setup",element:y.jsx(iU,{})}),y.jsx(di,{path:"/terms",element:y.jsx(sU,{})}),y.jsx(di,{path:"*",element:y.jsx(Y5,{})})]})})}function aU(){return y.jsx(JS,{children:y.jsx(w6,{children:y.jsx(uk,{basename:"/StudiQ",children:y.jsx(rU,{})})})})}QA.createRoot(document.getElementById("root")).render(y.jsx(B.StrictMode,{children:y.jsx(aU,{})}));
